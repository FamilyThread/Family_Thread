{"ast":null,"code":"var FamilyTree = function (e, t) {\n  var i = this;\n  if ((\"string\" == typeof e || e instanceof String) && (e = document.querySelector(e)), this.element = e, this.config = FamilyTree.mergeDeep(FamilyTree._defaultConfig(t), t), this._layoutConfigs = {\n    base: {\n      orientation: this.config.orientation,\n      levelSeparation: this.config.levelSeparation,\n      mixedHierarchyNodesSeparation: this.config.mixedHierarchyNodesSeparation,\n      assistantSeparation: this.config.assistantSeparation,\n      subtreeSeparation: this.config.subtreeSeparation,\n      siblingSeparation: this.config.siblingSeparation,\n      layout: this.config.layout,\n      columns: this.config.columns,\n      collapse: this.config.collapse,\n      partnerNodeSeparation: this.config.partnerNodeSeparation\n    }\n  }, this.config.tags) for (var r in this.config.tags) {\n    var a = this.config.tags[r];\n    null != a.subTreeConfig && (this._layoutConfigs[r] = {\n      orientation: null != a.subTreeConfig.orientation ? a.subTreeConfig.orientation : this.config.orientation,\n      levelSeparation: null != a.subTreeConfig.levelSeparation ? a.subTreeConfig.levelSeparation : this.config.levelSeparation,\n      mixedHierarchyNodesSeparation: null != a.subTreeConfig.mixedHierarchyNodesSeparation ? a.subTreeConfig.mixedHierarchyNodesSeparation : this.config.mixedHierarchyNodesSeparation,\n      assistantSeparation: null != a.subTreeConfig.assistantSeparation ? a.subTreeConfig.assistantSeparation : this.config.assistantSeparation,\n      subtreeSeparation: null != a.subTreeConfig.subtreeSeparation ? a.subTreeConfig.subtreeSeparation : this.config.subtreeSeparation,\n      siblingSeparation: null != a.subTreeConfig.siblingSeparation ? a.subTreeConfig.siblingSeparation : this.config.siblingSeparation,\n      layout: null != a.subTreeConfig.layout ? a.subTreeConfig.layout : this.config.layout,\n      columns: null != a.subTreeConfig.columns ? a.subTreeConfig.columns : this.config.columns,\n      collapse: null != a.subTreeConfig.collapse ? a.subTreeConfig.collapse : this.config.collapse,\n      partnerNodeSeparation: null != a.subTreeConfig.partnerNodeSeparation ? a.subTreeConfig.partnerNodeSeparation : this.config.partnerNodeSeparation\n    });\n  }\n  this._event_id = FamilyTree._guid(), FamilyTree._validateConfig(this.config) && (this._vScroll = {}, this.config.ui || (this.ui = FamilyTree.ui), this.config.editUI ? this.editUI = this.config.editUI : this.editUI = new FamilyTree.editUI(), this.editUI.init(this), this.config.filterUI ? this.filterUI = this.config.filterUI : this.filterUI = new FamilyTree.filterUI(), this.filterUI.init(this), this.manager = new FamilyTree.manager(this), this.config.searchUI ? this.searchUI = this.config.searchUI : this.searchUI = new FamilyTree.searchUI(), this.config.nodeMenuUI ? this.nodeMenuUI = this.config.nodeMenuUI : this.nodeMenuUI = new FamilyTree.menuUI(), this.nodeMenuUI.init(this, this.config.nodeMenu), this.config.nodeCircleMenuUI ? this.nodeCircleMenuUI = this.config.nodeCircleMenuUI : this.nodeCircleMenuUI = new FamilyTree.circleMenuUI(), this.nodeCircleMenuUI.init(this, this.config.nodeCircleMenu), this.config.nodeContextMenuUI ? this.nodeContextMenuUI = this.config.nodeContextMenuUI : this.nodeContextMenuUI = new FamilyTree.menuUI(), this.nodeContextMenuUI.init(this, this.config.nodeContextMenu), this.config.toolbarUI ? this.toolbarUI = this.config.toolbarUI : this.toolbarUI = new FamilyTree.toolbarUI(), this.config.notifierUI ? this.notifierUI = this.config.notifierUI : this.notifierUI = new FamilyTree.notifierUI(), this.notifierUI.init(this), this.config.menuUI ? this.menuUI = this.config.menuUI : this.menuUI = new FamilyTree.menuUI(), this.menuUI.init(this, this.config.menu), this.config.xScrollUI || (this.xScrollUI = new FamilyTree.xScrollUI(this.element, this.config, function () {\n    return {\n      boundary: i.response.boundary,\n      scale: i.getScale(),\n      viewBox: i.getViewBox(),\n      padding: i.config.padding\n    };\n  }, function (e) {\n    i.setViewBox(e);\n  }, function () {\n    i._draw(!0, FamilyTree.action.xScroll);\n  })), this.config.yScrollUI || (this.yScrollUI = new FamilyTree.yScrollUI(this.element, this.config, function () {\n    return {\n      boundary: i.response.boundary,\n      scale: i.getScale(),\n      viewBox: i.getViewBox(),\n      padding: i.config.padding\n    };\n  }, function (e) {\n    i.setViewBox(e);\n  }, function () {\n    i._draw(!0, FamilyTree.action.xScroll);\n  })), this.config.undoRedoUI ? this.undoRedoUI = this.config.undoRedoUI : this.undoRedoUI = new FamilyTree.undoRedoUI(), this.element.classList.add(\"bft-\" + this.config.mode), this._gragStartedId = null, this._timeout = null, this._touch = null, this._initialized = !1, this._loaded = !1, this._moveInterval = null, this._movePosition = null, this.response = null, this.nodes = null, this.isVisible = null, FamilyTree._intersectionObserver(this.element, function (e) {\n    i.isVisible = e, !1 !== FamilyTree.events.publish(\"visibility-change\", [i]) && FamilyTree.LAZY_LOADING && i.isVisible && (i._loaded ? i._draw(!1, FamilyTree.action.update) : (i._setInitialSizeIfNotSet(), i._draw(!1, FamilyTree.action.init)));\n  }));\n};\n_c = FamilyTree;\nFamilyTree._defaultConfig = function (e) {\n  return {\n    interactive: !0,\n    mode: \"light\",\n    lazyLoading: !0,\n    enableDragDrop: !1,\n    enableSearch: !0,\n    enableTouch: !1,\n    enablePan: !0,\n    keyNavigation: !1,\n    miniMap: !1,\n    nodeMenu: null,\n    nodeCircleMenu: null,\n    nodeContextMenu: null,\n    menu: null,\n    toolbar: !1,\n    sticky: !0,\n    nodeMouseClick: FamilyTree.action.details,\n    nodeMouseDbClick: FamilyTree.none,\n    mouseScrool: FamilyTree.action.zoom,\n    showXScroll: FamilyTree.none,\n    showYScroll: FamilyTree.none,\n    template: \"ana\",\n    tags: {},\n    min: !1,\n    nodeBinding: {},\n    linkBinding: {},\n    searchFields: null,\n    searchDisplayField: null,\n    searchFieldsWeight: null,\n    searchFieldsAbbreviation: null,\n    nodes: [],\n    clinks: [],\n    slinks: [],\n    groupDottedLines: [],\n    dottedLines: [],\n    undoRedoStorageName: null,\n    levelSeparation: 60,\n    siblingSeparation: 20,\n    subtreeSeparation: 40,\n    mixedHierarchyNodesSeparation: 15,\n    assistantSeparation: 100,\n    minPartnerSeparation: 50,\n    partnerChildrenSplitSeparation: 20,\n    partnerNodeSeparation: 15,\n    columns: 10,\n    padding: 30,\n    orientation: FamilyTree.orientation.top,\n    layout: FamilyTree.layout.normal,\n    scaleInitial: 1,\n    draggable: null,\n    scaleMin: .1,\n    scaleMax: 5,\n    orderBy: null,\n    editUI: null,\n    filterUI: null,\n    searchUI: null,\n    xScrollUI: null,\n    yScrollUI: null,\n    nodeMenuUI: null,\n    nodeCircleMenuUI: null,\n    nodeContextMenuUI: null,\n    toolbarUI: null,\n    notifierUI: null,\n    menuUI: null,\n    undoRedoUI: null,\n    exportUrl: \"https://balkan.app/export\",\n    collapse: {},\n    expand: {},\n    align: FamilyTree.CENTER,\n    UI: null,\n    anim: {\n      func: FamilyTree.anim.outPow,\n      duration: 200\n    },\n    zoom: {\n      speed: 120,\n      smooth: 12\n    },\n    roots: null,\n    state: null,\n    editForm: {\n      readOnly: !1,\n      titleBinding: \"name\",\n      photoBinding: \"img\",\n      addMore: \"Add more fields\",\n      addMoreBtn: \"Add\",\n      addMoreFieldName: \"Field name\",\n      saveAndCloseBtn: \"Save and close\",\n      cancelBtn: \"Cancel\",\n      generateElementsFromFields: !0,\n      focusBinding: null,\n      buttons: {\n        edit: {\n          icon: FamilyTree.icon.edit(24, 24, \"#fff\"),\n          text: \"Edit\",\n          hideIfEditMode: !0,\n          hideIfDetailsMode: !1\n        },\n        share: {\n          icon: FamilyTree.icon.share(24, 24, \"#fff\"),\n          text: \"Share\"\n        },\n        pdf: {\n          icon: FamilyTree.icon.pdf(24, 24, \"#fff\"),\n          text: \"Save as PDF\"\n        },\n        remove: {\n          icon: FamilyTree.icon.remove(24, 24, \"#fff\"),\n          text: \"Remove\",\n          hideIfDetailsMode: !0\n        }\n      },\n      elements: []\n    }\n  };\n}, FamilyTree.prototype.load = function (e, t) {\n  var i = this;\n  return this.config.nodes = e, this._draw(!1, FamilyTree.action.init, void 0, function () {\n    i.filterUI.update(), t && t();\n  }), this;\n}, FamilyTree.prototype.loadXML = function (e, t) {\n  var i = FamilyTree._xml2json(e);\n  return this.load(i, t);\n}, FamilyTree.prototype.getXML = function () {\n  return FamilyTree._json2xml(this.config.nodes);\n}, FamilyTree.prototype.on = function (e, t) {\n  return FamilyTree.events.on(e, t, this._event_id), this;\n}, FamilyTree.prototype.removeListener = function (e, t) {\n  return FamilyTree.events.remove(e, t, this._event_id);\n}, FamilyTree.prototype.draw = function (e, t, i) {\n  null == e && (e = FamilyTree.action.update), this._draw(!1, e, t, i);\n}, FamilyTree.prototype._draw = function (e, t, i, r) {\n  var a = this;\n  if (!FamilyTree.LAZY_LOADING || this.isVisible) if (FamilyTree.LAZY_LOADING || this._initialized || (this._setInitialSizeIfNotSet(), 0 != this.width() && 0 != this.height())) {\n    this._hideBeforeAnimationCompleted = !1;\n    var n = t == FamilyTree.action.init ? null : this.getViewBox();\n    this.manager.read(e, this.width(), this.height(), n, t, i, function (e) {\n      if (!a.notifierUI.show(e.notif)) {\n        t != FamilyTree.action.exporting && (a.nodes = e.nodes, a.visibleNodeIds = e.visibleNodeIds, a.roots = e.roots), a.editUI.fields = e.allFields;\n        var n = {\n          defs: \"\"\n        };\n        FamilyTree.events.publish(\"renderdefs\", [a, n]);\n        var o = a.ui.defs(n.defs),\n          l = a.getScale(e.viewBox);\n        o += a.ui.pointer(a.config, t, l);\n        var s = a.getViewBox(),\n          d = e.viewBox;\n        n = {\n          content: o,\n          res: e\n        };\n        FamilyTree.events.publish(\"prerender\", [a, n]), o = n.content;\n        for (var c = 0; c < e.visibleNodeIds.length; c++) {\n          var m = e.nodes[e.visibleNodeIds[c]],\n            p = a._get(m.id);\n          FamilyTree.RENDER_LINKS_BEFORE_NODES && (o += a.ui.link(m, a, l, e.bordersByRootIdAndLevel, e.nodes, t)), o += a.ui.node(m, p, e.animations, a.config, void 0, void 0, void 0, t, l, a);\n        }\n        for (c = 0; c < e.visibleNodeIds.length; c++) {\n          m = e.nodes[e.visibleNodeIds[c]];\n          FamilyTree.RENDER_LINKS_BEFORE_NODES || (o += a.ui.link(m, a, l, e.bordersByRootIdAndLevel, e.nodes, t)), o += a.ui.expandCollapseBtn(a, m, a._layoutConfigs, t, l);\n        }\n        n = {\n          content: o,\n          res: e\n        };\n        if (FamilyTree.events.publish(\"render\", [a, n]), o = n.content, e = n.res, o += a.ui.lonely(a.config), t !== FamilyTree.action.exporting) {\n          t !== FamilyTree.action.centerNode && t !== FamilyTree.action.insert && t !== FamilyTree.action.expand && t !== FamilyTree.action.collapse && t !== FamilyTree.action.update || (d = s), t === FamilyTree.action.init && null != s && (d = s), a.response = e;\n          b = a.ui.svg(a.width(), a.height(), d, a.config, o);\n          if (a._initialized) {\n            var h = a.getSvg(),\n              f = h.parentNode;\n            f.removeChild(h), f.insertAdjacentHTML(\"afterbegin\", b), a._attachEventHandlers(), a.xScrollUI.addListener(a.getSvg()), a.yScrollUI.addListener(a.getSvg()), a.xScrollUI.setPosition(), a.yScrollUI.setPosition();\n          } else a.element.innerHTML = a.ui.css() + b + a.ui.menuButton(a.config), a._attachInitEventHandlers(), a._attachEventHandlers(), a.xScrollUI.create(a.width(), a.config.padding), a.xScrollUI.setPosition(), a.xScrollUI.addListener(a.getSvg()), a.yScrollUI.create(a.height(), a.config.padding), a.yScrollUI.setPosition(), a.yScrollUI.addListener(a.getSvg()), a.config.enableSearch && a.searchUI.init(a), a.toolbarUI.init(a, a.config.toolbar), a.undoRedoUI.init(a);\n          var u = !1,\n            y = a.response.animations;\n          if (y[0].length > 0) {\n            a._hideBeforeAnimation(y[0].length);\n            for (c = 0; c < y[0].length; c++) y[0][c] = a.getNodeElement(y[0][c]);\n            FamilyTree.animate(y[0], y[1], y[2], a.config.anim.duration, a.config.anim.func, function () {\n              u || (r && r(), FamilyTree.events.publish(\"redraw\", [a]), a._showAfterAnimation(), u = !0);\n            });\n          }\n          t === FamilyTree.action.centerNode ? FamilyTree.animate(a.getSvg(), {\n            viewbox: s\n          }, {\n            viewbox: a.response.viewBox\n          }, a.config.anim.duration, a.config.anim.func, function () {\n            a.ripple(i.options.rippleId), u || (r && r(), FamilyTree.events.publish(\"redraw\", [a]), a._showAfterAnimation(), u = !0);\n          }, function () {\n            a.xScrollUI.setPosition(), a.yScrollUI.setPosition();\n          }) : !s || !a.response || s[0] == a.response.viewBox[0] && s[1] == a.response.viewBox[1] && s[2] == a.response.viewBox[2] && s[3] == a.response.viewBox[3] || t !== FamilyTree.action.insert && t !== FamilyTree.action.expand && t !== FamilyTree.action.collapse && t !== FamilyTree.action.update && t !== FamilyTree.action.init ? 0 == y[0].length && (u || (r && r(), FamilyTree.events.publish(\"redraw\", [a]), u = !0)) : FamilyTree.animate(a.getSvg(), {\n            viewbox: s\n          }, {\n            viewbox: a.response.viewBox\n          }, 2 * a.config.anim.duration, a.config.anim.func, function () {\n            a.xScrollUI.setPosition(), a.yScrollUI.setPosition(), u || (r && r(), FamilyTree.events.publish(\"redraw\", [a]), u = !0);\n          }), a._initialized || (a._initialized = !0, a.filterUI.update(), FamilyTree.events.publish(\"init\", [a])), !a._loaded && e && e.nodes && Object.keys(e.nodes).length && (a._loaded = !0);\n        } else {\n          var g = e.boundary,\n            v = g.maxX - g.minX,\n            T = g.maxY - g.minY,\n            b = a.ui.svg(v, T, [g.minX, g.minY, v, T], a.config, o, l);\n          r(b);\n        }\n      }\n    }, function (e) {\n      FamilyTree.events.publish(\"ready\", [a, e]);\n    });\n  } else console.error(\"Cannot load the family with size 0! If you are using the FamilyTree within tabs set FamilyTree.LAZY_LOADING to true! \");\n}, FamilyTree.prototype._setInitialSizeIfNotSet = function () {\n  this.element.style.overflow = \"hidden\", this.element.style.position = \"relative\", 0 == this.element.offsetHeight && (this.element.style.height = \"100%\", 0 == this.element.offsetHeight && (this.element.style.height = \"700px\")), 0 == this.element.offsetWidth && (this.element.style.width = \"100%\", 0 == this.element.offsetWidth && (this.element.style.width = \"700px\"));\n}, FamilyTree.prototype.width = function () {\n  return this.element.offsetWidth;\n}, FamilyTree.prototype.height = function () {\n  return this.element.offsetHeight;\n}, FamilyTree.prototype.getViewBox = function () {\n  var e = this.getSvg();\n  return FamilyTree._getViewBox(e);\n}, FamilyTree.prototype.setViewBox = function (e) {\n  this.getSvg().setAttribute(\"viewBox\", e.toString());\n}, FamilyTree.prototype.getScale = function (e) {\n  return e || (e = this.getViewBox()), FamilyTree.getScale(e, this.width(), this.height(), this.config.scaleInitial, this.config.scaleMax, this.config.scaleMin);\n}, FamilyTree.prototype.setScale = function (e) {\n  e > this.config.scaleMax && (e = this.config.scaleMax), e < this.config.scaleMin && (e = this.config.scaleMin);\n  var t = this.getViewBox().slice(0),\n    i = this.width(),\n    r = this.height(),\n    a = i / t[2],\n    n = r / t[3],\n    o = a > n ? n : a,\n    l = t,\n    s = t[2],\n    d = t[3];\n  return t[2] = t[2] / (e / o), t[3] = t[3] / (e / o), t[0] = l[0] - (t[2] - s) / 2, t[1] = l[1] - (t[3] - d) / 2, this.setViewBox(t), FamilyTree.events.publish(\"redraw\", [this]), e;\n}, FamilyTree.prototype.ripple = function (e, t, i) {\n  var r = this.getNode(e);\n  if (null != r) {\n    var a = this.getNodeElement(e);\n    if (null != a) {\n      var n = this.getScale(),\n        o = r.w / 2,\n        l = r.h / 2;\n      if (void 0 !== t && void 0 !== i) {\n        var s = a.getBoundingClientRect();\n        o = t / n - s.left / n, l = i / n - s.top / n;\n      }\n      var d = r.w,\n        c = r.h,\n        m = d - o > o ? d - o : o,\n        p = c - l > l ? c - l : l,\n        h = m > p ? m : p,\n        f = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\"),\n        u = document.createElementNS(\"http://www.w3.org/2000/svg\", \"clipPath\"),\n        y = document.createElementNS(\"http://www.w3.org/2000/svg\", \"rect\"),\n        g = document.createElementNS(\"http://www.w3.org/2000/svg\", \"circle\"),\n        v = FamilyTree.randomId();\n      u.setAttribute(\"id\", v);\n      var T = {\n        ripple: FamilyTree.t(r.templateName, r.min, this.getScale()).ripple,\n        node: r\n      };\n      FamilyTree.events.publish(\"ripple\", [this, T]), y.setAttribute(\"x\", T.ripple.rect ? T.ripple.rect.x : 0), y.setAttribute(\"y\", T.ripple.rect ? T.ripple.rect.y : 0), y.setAttribute(\"width\", T.ripple.rect ? T.ripple.rect.width : r.w), y.setAttribute(\"height\", T.ripple.rect ? T.ripple.rect.height : r.h), y.setAttribute(\"rx\", T.ripple.radius), y.setAttribute(\"ry\", T.ripple.radius), g.setAttribute(\"clip-path\", \"url(#\" + v + \")\"), g.setAttribute(\"cx\", o), g.setAttribute(\"cy\", l), g.setAttribute(\"r\", 0), g.setAttribute(\"fill\", T.ripple.color), g.setAttribute(\"class\", \"bft-ripple\"), u.appendChild(y), f.appendChild(u), f.appendChild(g), a.appendChild(f), FamilyTree.animate(g, {\n        r: 0,\n        opacity: 1\n      }, {\n        r: h,\n        opacity: 0\n      }, 500, FamilyTree.anim.outPow, function () {\n        a.removeChild(f);\n      });\n    }\n  }\n}, FamilyTree.prototype.center = function (e, t, i) {\n  var r,\n    a,\n    n = e,\n    o = !0,\n    l = !0;\n  t && null != t.parentState && (r = t.parentState), t && null != t.childrenState && (a = t.childrenState), t && null != t.rippleId && (n = t.rippleId), t && null != t.vertical && (o = t.vertical), t && null != t.horizontal && (l = t.horizontal);\n  var s = {\n    parentState: r,\n    childrenState: a,\n    rippleId: n,\n    vertical: o,\n    horizontal: l\n  };\n  this._draw(!1, FamilyTree.action.centerNode, {\n    id: e,\n    options: s\n  }, i);\n}, FamilyTree.prototype.fit = function (e) {\n  this.config.scaleInitial = FamilyTree.match.boundary, this._draw(!0, FamilyTree.action.init, {\n    method: \"fit\"\n  }, e);\n}, FamilyTree.prototype.toggleFullScreen = function () {\n  var e = document.querySelector(\"[\" + FamilyTree.attr.tlbr + \"r='fullScreen']\");\n  document.fullscreenElement == this.element || document.webkitFullscreenElement == this.element || document.mozFullScreenElement == this.element || document.msFullscreenElement == this.element ? (document.exitFullscreen ? document.exitFullscreen() : document.mozCancelFullScreen ? document.mozCancelFullScreen() : document.webkitExitFullscreen ? document.webkitExitFullscreen() : document.msExitFullscreen && document.msExitFullscreen(), e && (e.innerHTML = FamilyTree.toolbarUI.openFullScreenIcon)) : (this.element.requestFullscreen ? this.element.requestFullscreen() : this.element.mozRequestFullScreen ? this.element.mozRequestFullScreen() : this.element.webkitRequestFullscreen ? this.element.webkitRequestFullscreen() : this.element.msRequestFullscreen && this.element.msRequestFullscreen(), e && (e.innerHTML = FamilyTree.toolbarUI.closeFullScreenIcon));\n}, FamilyTree.prototype.getNode = function (e) {\n  return this.nodes[e];\n}, FamilyTree.prototype.setLayout = function (e, t) {\n  t || (t = \"base\"), this._layoutConfigs[t].layout = e, \"base\" == t && (this.config.layout = e), this._draw(!1, FamilyTree.action.update);\n}, FamilyTree.prototype.setOrientation = function (e, t, i) {\n  var r = this;\n  t || (t = \"base\"), this._layoutConfigs[t].orientation = e, \"base\" == t && (this.config.orientation = e), this._draw(!1, FamilyTree.action.update, void 0, function () {\n    FamilyTree._moveToBoundaryArea(r.getSvg(), r.getViewBox(), r.response.boundary, function () {\n      r._draw(!0, FamilyTree.action.pan), i && i();\n    });\n  });\n}, FamilyTree.prototype.search = function (e, t, i) {\n  return FamilyTree.isNEU(t) && (t = this.searchUI._searchFields), FamilyTree.isNEU(i) && (i = t), FamilyTree._search.search(this.config.nodes, e, t, i, this.config.searchDisplayField, this.config.searchFieldsWeight, this.searchUI._searchFieldsAbbreviation);\n}, FamilyTree.prototype._hideBeforeAnimation = function (e) {\n  if (1 != this._hideBeforeAnimationCompleted && !(e && e < FamilyTree.ANIM_THRESHOLD)) {\n    var t = this.element.getElementsByTagName(\"text\");\n    if (t.length > FamilyTree.TEXT_THRESHOLD) for (var i = 0; i < t.length; i++) t[i].style.display = \"none\";\n    var r = this.element.getElementsByTagName(\"image\");\n    if (r.length > FamilyTree.IMAGES_THRESHOLD) for (i = 0; i < r.length; i++) r[i].style.display = \"none\";\n    var a = this.element.querySelectorAll(\"[\" + FamilyTree.attr.link_id + \"]\");\n    if (a.length > FamilyTree.LINKS_THRESHOLD) for (i = 0; i < a.length; i++) a[i].style.display = \"none\";\n    var n = this.element.querySelectorAll(\"[\" + FamilyTree.attr.control_expcoll_id + \"]\");\n    if (n.length > FamilyTree.BUTTONS_THRESHOLD) for (i = 0; i < n.length; i++) n[i].style.display = \"none\";\n    var o = this.element.querySelectorAll(\"[\" + FamilyTree.attr.control_up_id + \"]\");\n    if (o.length > FamilyTree.BUTTONS_THRESHOLD) for (i = 0; i < o.length; i++) o[i].style.display = \"none\";\n    this._hideBeforeAnimationCompleted = !0;\n  }\n}, FamilyTree.prototype._showAfterAnimation = function () {\n  for (var e = this.element.getElementsByTagName(\"text\"), t = 0; t < e.length; t++) e[t].style.display = \"\";\n  var i = this.element.getElementsByTagName(\"image\");\n  for (t = 0; t < i.length; t++) i[t].style.display = \"\";\n  var r = this.element.querySelectorAll(\"[\" + FamilyTree.attr.link_id + \"]\");\n  for (t = 0; t < r.length; t++) r[t].style.display = \"\";\n  var a = this.element.querySelectorAll(\"[\" + FamilyTree.attr.control_expcoll_id + \"]\");\n  for (t = 0; t < a.length; t++) a[t].style.display = \"\";\n  var n = this.element.querySelectorAll(\"[\" + FamilyTree.attr.control_up_id + \"]\");\n  for (t = 0; t < n.length; t++) n[t].style.display = \"\";\n  this._hideBeforeAnimationCompleted = !1;\n}, FamilyTree.prototype.isChild = function (e, t) {\n  for (var i = this.getNode(t); i;) {\n    if (i.id == e) return !0;\n    i = i.parent ? i.parent : i.stParent;\n  }\n  return !1;\n}, FamilyTree.prototype.getCollapsedIds = function (e) {\n  for (var t = [], i = 0; i < e.childrenIds.length; i++) {\n    var r = this.getNode(e.childrenIds[i]);\n    1 == r.collapsed && t.push(r.id);\n  }\n  return t;\n}, FamilyTree.prototype.stateToUrl = function () {\n  if (this.manager.state) {\n    var e = {};\n    return e.exp = this.manager.state.exp.join(\"*\"), e.min = this.manager.state.min.join(\"*\"), e.adjustify = this.manager.state.adjustify.x + \"*\" + this.manager.state.adjustify.y, e.scale = this.manager.state.scale, e.y = this.manager.state.x, e.x = this.manager.state.y, new URLSearchParams(e).toString();\n  }\n  return \"\";\n}, FamilyTree.prototype.generateId = function () {\n  for (;;) {\n    var e = \"_\" + (\"0000\" + (Math.random() * Math.pow(36, 4) | 0).toString(36)).slice(-4);\n    if (null == this.nodes || !this.nodes.hasOwnProperty(e)) return e;\n  }\n}, FamilyTree.prototype.moveNodesToVisibleArea = function (e, t) {\n  for (var i = this, r = this.getSvg(), a = this.getViewBox(), n = null, o = null, l = null, s = null, d = 0; d < e.length; d++) {\n    var c = this.nodes[e[d]];\n    (null === n || n < c.x + c.w) && (n = c.x + c.w), (null === o || o < c.y + c.h) && (o = c.y + c.h), (null === l || l > c.x) && (l = c.x), (null === s || s > c.y) && (s = c.y);\n  }\n  var m = this.width(),\n    p = this.height(),\n    h = m / (v = n - l + 2 * this.config.padding),\n    f = p / (T = o - s + 2 * this.config.padding),\n    u = h > f ? f : h,\n    y = Math.ceil(m / u),\n    g = Math.ceil(p / u),\n    v = 0,\n    T = 0;\n  if (y - 2 * this.config.padding >= n - l) v = (n + l) / 2 - y / 2;else switch (v = firstRoot.x - y / 2 + FamilyTree.manager._getNodeWidth(firstRoot, this.config) / 2, this.config.orientation) {\n    case FamilyTree.orientation.right:\n    case FamilyTree.orientation.right_top:\n      (v = -(y / 2 - (l - n) / 2)) < this.config.padding - y && (v = this.config.padding - y);\n      break;\n    case FamilyTree.orientation.left:\n    case FamilyTree.orientation.bottom_left:\n    case FamilyTree.orientation.top_left:\n    case FamilyTree.orientation.left_top:\n      (v = -(y / 2 - (n - l) / 2)) > -this.config.padding && (v = -this.config.padding);\n  }\n  if (g - 2 * this.config.padding >= o - s) T = (o + s) / 2 - g / 2;else switch ((T = -(g / 2 - (o - s) / 2)) > -this.config.padding && (T = -this.config.padding), this.config.orientation) {\n    case FamilyTree.orientation.bottom:\n    case FamilyTree.orientation.bottom_left:\n      (T = -(g / 2 - (s - o) / 2)) < this.config.padding - g && (T = this.config.padding - g);\n      break;\n    case FamilyTree.orientation.left:\n    case FamilyTree.orientation.right:\n      T = firstRoot.y - g / 2 + FamilyTree.manager._getNodeWidth(firstRoot, this.config) / 2;\n  }\n  var b = [v, T, y, g];\n  a[0] !== b[0] || a[1] !== b[1] ? FamilyTree.animate(r, {\n    viewBox: a\n  }, {\n    viewBox: b\n  }, this.config.anim.duration, this.config.anim.func, function () {\n    i.draw(FamilyTree.action.update, void 0, t);\n  }) : t && t();\n}, FamilyTree.prototype._nodeHasHiddenParent = function (e) {\n  return !e.parent && !FamilyTree.isNEU(e.pid) && this.getNode(e.pid);\n}, FamilyTree.prototype.destroy = function () {\n  this._removeEvent(window, \"resize\"), FamilyTree.events.removeForEventId(this._event_id), this.element.innerHTML = null;\n}, FamilyTree.__defaultConfig = FamilyTree._defaultConfig, FamilyTree._defaultConfig = function (e) {\n  var t = FamilyTree.__defaultConfig();\n  return t.nodeTreeMenu = null, t.template = \"tommy\", t.mode = \"light\", t.minPartnerSeparation = 30, t.partnerChildrenSplitSeparation = 10, t.siblingSeparation = 35, t.tags[\"children-group\"] = {\n    template: \"cgroup\",\n    subTreeConfig: {\n      siblingSeparation: 7,\n      columns: 1\n    }\n  }, e && e.template ? (t.tags.male = {\n    template: e.template + \"_male\"\n  }, t.tags.female = {\n    template: e.template + \"_female\"\n  }) : (t.tags.male = {\n    template: t.template + \"_male\"\n  }, t.tags.female = {\n    template: t.template + \"_female\"\n  }), t;\n}, FamilyTree.prototype.getRecentRootsByNodeId = function (e) {\n  this.recentRoots || (this.recentRoots = []);\n  var t = this.recentRoots,\n    i = this.getNode(e);\n  return i ? (i.rids.sort(function (e, i) {\n    var r = t.indexOf(e),\n      a = t.indexOf(i);\n    return -1 == r ? 1e3 : -1 == a ? -1e3 : r - a;\n  }), i.rids) : [];\n}, FamilyTree.prototype._nodeHasHiddenParent = function (e) {\n  return !(e.parent || FamilyTree.isNEU(e.pid) || !this.getNode(e.pid)) || !(!e.isPartner || FamilyTree.isNEU(e.mid) || !this.getNode(e.mid)) || !(!e.isPartner || FamilyTree.isNEU(e.fid) || !this.getNode(e.fid)) || !!(e.isPartner && e.pids.length > 1);\n}, FamilyTree.prototype._center = FamilyTree.prototype.center, FamilyTree.prototype.center = function (e, t, i) {\n  var r = this.getRecentRootsByNodeId(e);\n  Array.isArray(this.config.roots) || (roots = []), FamilyTree._changeRootOption(this.config.roots, r, this.manager.rootList), this._center(e, t, i);\n}, FamilyTree.localStorage = {}, FamilyTree.localStorage.getItem = function (e) {\n  var t = localStorage.getItem(\"to_date\");\n  if (t) {\n    if ((t = new Date(t)) < new Date()) {\n      for (var i = 0, r = localStorage.length; i < r; ++i) {\n        var a = localStorage.key(i);\n        a && a.startsWith && a.startsWith('{\"n\"') && localStorage.removeItem(a);\n      }\n      localStorage.removeItem(\"to_date\");\n    }\n  } else (t = new Date()).setDate(t.getDate() + 5), t = t.toISOString(), localStorage.setItem(\"to_date\", t);\n  return localStorage.getItem(e);\n}, FamilyTree.localStorage.setItem = function (e, t) {\n  try {\n    localStorage.setItem(e, t);\n  } catch (e) {\n    e.code == e.QUOTA_EXCEEDED_ERR ? (console.warn(\"Local storage quota exceeded\"), localStorage.clear()) : (console.error(\"Local storage error code:\" + e.code), console.error(e));\n  }\n}, FamilyTree.prototype.canUpdateLink = function (e, t) {\n  if (null == t || null == t) return !1;\n  if (null == e || null == e) return !1;\n  if (e == t) return !1;\n  var i = this.getNode(t),\n    r = this.getNode(e);\n  return !(i && r && (i.isPartner || i.hasPartners && r.isAssistant || i.hasAssistants && r.isPartner)) && !this.isChild(e, t);\n}, FamilyTree.prototype._canUpdateLink = FamilyTree.prototype.canUpdateLink, FamilyTree.prototype.updateNode = function (e, t, i) {\n  var r = this,\n    a = this.get(e.id);\n  if (!0 === i && !1 === FamilyTree.events.publish(\"update\", [this, a, e])) return !1;\n  this.update(e), FamilyTree.events.publish(\"updated\", [this]), this.filterUI.update();\n  var n = this.getNode(e.id),\n    o = n.pid;\n  null == o && (o = n.stpid), this._draw(!1, FamilyTree.action.update, {\n    id: o\n  }, function () {\n    r.ripple(e.id), t && t();\n  });\n}, FamilyTree.prototype.update = function (e) {\n  for (var t = 0; t < this.config.nodes.length; t++) if (this.config.nodes[t].id == e.id) {\n    this._putInUndoStack(), this.clearRedo(), this.config.nodes[t] = e;\n    break;\n  }\n  return this;\n}, FamilyTree.prototype.removeNode = function (e, t, i) {\n  var r = this;\n  if (!this.canRemove(e)) return !1;\n  var a = this._getNewPidsAndStpidsForIds(e);\n  if (!0 === i && !1 === FamilyTree.events.publish(\"remove\", [this, e, a])) return !1;\n  return this.remove(e), FamilyTree.events.publish(\"updated\", [this]), this.filterUI.update(), this._draw(!1, FamilyTree.action.update, null, function () {\n    r.config.sticky && FamilyTree._moveToBoundaryArea(r.getSvg(), r.getViewBox(), r.response.boundary), t && t();\n  }), !0;\n}, FamilyTree.prototype.remove = function (e) {\n  var t = this.get(e);\n  if (t) {\n    this._putInUndoStack(), this.clearRedo();\n    for (var i = this.config.nodes.length - 1; i >= 0; i--) this.config.nodes[i].pid != e && this.config.nodes[i].stpid != e || (this.config.nodes[i].pid = t.pid, this.config.nodes[i].stpid = t.stpid), this.config.nodes[i].id == e && this.config.nodes.splice(i, 1);\n  }\n  return this;\n}, FamilyTree.prototype._getNewPidsAndStpidsForIds = function (e) {\n  var t = this.get(e),\n    i = {},\n    r = {};\n  if (t) for (var a = this.config.nodes.length - 1; a >= 0; a--) this.config.nodes[a].pid == e ? i[this.config.nodes[a].id] = t.pid : this.config.nodes[a].stpid == e && (r[this.config.nodes[a].id] = t.stpid);\n  return {\n    newPidsForIds: i,\n    newStpidsForIds: r\n  };\n}, FamilyTree.prototype.addNode = function (e, t, i) {\n  var r = this;\n  if (!0 === i && !1 === FamilyTree.events.publish(\"add\", [this, e])) return !1;\n  this.add(e), FamilyTree.events.publish(\"updated\", [this]), this.filterUI.update(), r._draw(!1, FamilyTree.action.insert, {\n    id: e.pid,\n    insertedNodeId: e.id\n  }, function () {\n    r.ripple(e.id), t && t();\n  });\n}, FamilyTree.prototype.add = function (e) {\n  if (null == e.id && console.error(\"Call addNode without id\"), this._putInUndoStack(), this.clearRedo(), this.config.draggable && !FamilyTree.isNEU(e.pid)) {\n    var t = this._get(e.pid);\n    t && (null != t.movex && (e.movex = t.movex), null != t.movey && (e.movey = t.movey));\n  }\n  return this.config.nodes.push(e), this;\n}, FamilyTree.prototype.replaceIds = function (e, t) {\n  this._replaceIds(e), this._draw(!1, FamilyTree.action.update, void 0, t);\n}, FamilyTree.prototype._replaceIds = function (e) {\n  for (var t = function (t) {\n      for (var i = 0; i < t.length; i++) {\n        var r = t[i];\n        for (var a in e) {\n          var n = e[a];\n          r.from == a && (r.from = n), r.to == a && (r.to = n);\n        }\n      }\n    }, i = 0; i < this.config.nodes.length; i++) {\n    var r = this.config.nodes[i];\n    for (var a in e) {\n      var n = e[a];\n      r.id == a && (r.id = n), r.pid == a && (r.pid = n), r.stpid == a && (r.stpid = n), r.ppid == a && (r.ppid = n);\n    }\n  }\n  if (Array.isArray(this.config.roots)) for (i = 0; i < this.config.roots.length; i++) FamilyTree.isNEU(e[this.config.roots[i]]) || (this.config.roots[i] = e[this.config.roots[i]]);\n  if (this.nodes) for (var o in this.nodes) if (!FamilyTree.isNEU(e[o])) {\n    n = e[o];\n    (l = this.nodes[o]).id = n, this.nodes[n] = l;\n  }\n  if (this.manager.oldNodes) for (var o in this.manager.oldNodes) if (!FamilyTree.isNEU(e[o])) {\n    n = e[o];\n    (l = this.manager.oldNodes[o]).id = n, this.manager.oldNodes[n] = l;\n  }\n  if (this.roots) for (var o in this.roots) if (!FamilyTree.isNEU(e[o])) {\n    var l;\n    n = e[o];\n    (l = this.roots[o]).id = n, this.roots[n] = l;\n  }\n  t(this.config.clinks), t(this.config.slinks), t(this.config.groupDottedLines), t(this.config.dottedLines);\n}, FamilyTree.prototype._get = function (e) {\n  var t = this.__get(e);\n  if (t) return t;\n  if ((this.config.groupDottedLines.length || this.config.dottedLines.length) && !FamilyTree.isNEU(e) && \"string\" == typeof e && (-1 != e.indexOf(\"balkan_group_dotted_\") || -1 != e.indexOf(\"balkan_dotted_\"))) {\n    var i = (e = (e = e.replace(\"balkan_group_dotted_\", \"\")).replace(\"balkan_dotted_\", \"\")).indexOf(\"_balkan_id_\");\n    if (e = e.substring(i + \"_balkan_id_\".length), t = this.__get(e)) return t;\n  }\n  return null;\n}, FamilyTree.prototype.__get = function (e) {\n  for (var t = 0; t < this.config.nodes.length; t++) if (this.config.nodes[t].id == e) return this.config.nodes[t];\n  return null;\n}, FamilyTree.prototype.get = function (e) {\n  var t = this._get(e);\n  return null == t ? null : JSON.parse(JSON.stringify(t));\n}, FamilyTree.prototype.canRemove = function (e) {\n  var t = this.getNode(e);\n  return !!t && !t.hasPartners && !t.hasAssistants;\n}, FamilyTree.prototype.addChildNode = function (e, t, i) {\n  this.hideTreeMenu(!1);\n  var r = this;\n  if (!e || FamilyTree.isNEU(e.mid) && FamilyTree.isNEU(e.fid)) console.error(\"addSonNode invalid data\");else {\n    FamilyTree.isNEU(e.id) && (e.id = this.generateId());\n    var a = {\n      addNodesData: [e],\n      updateNodesData: [],\n      removeNodeId: null\n    };\n    if (!0 === i) if (!1 === FamilyTree.events.publish(\"update\", [this, a])) return !1;\n    r._fireUpdate_addUpdateRemove(a, i);\n    var n = \"\";\n    FamilyTree.isNEU(a.addNodesData[0].pid) ? FamilyTree.isNEU(a.addNodesData[0].mid) ? FamilyTree.isNEU(a.addNodesData[0].fid) || (n = a.addNodesData[0].fid) : n = a.addNodesData[0].mid : n = a.addNodesData[0].pid, r._draw(!1, FamilyTree.action.insert, {\n      id: n,\n      insertedNodeId: a.addNodesData[0].id\n    }, function () {\n      r.ripple(a.addNodesData[0].id), t && t(), !0 === i && FamilyTree.events.publish(\"updated\", [r, a]), r.filterUI.update();\n    });\n  }\n}, FamilyTree.prototype.addChildAndPartnerNodes = function (e, t, i, r, a) {\n  this.hideTreeMenu(!1);\n  var n = this;\n  if (!t || FamilyTree.isNEU(t.mid) && FamilyTree.isNEU(t.fid)) console.error(\"addChildAndPartnerNodes invalid childData\");else if (i) {\n    FamilyTree.isNEU(t.id) && (t.id = this.generateId()), FamilyTree.isNEU(i.id) && (i.id = this.generateId()), \"_ft_partner\" == t.mid ? t.mid = i.id : \"_ft_partner\" == t.fid && (t.fid = i.id);\n    var o = [],\n      l = null;\n    Array.isArray(i.pids) && (1 != i.pids.length && console.error(\"addChildAndPartnerNodes partnerData.pids has to have one partner\"), l = this.get(i.pids[0]), Array.isArray(l.pids) || (l.pids = []), l.pids.push(i.id), o.push(l));\n    var s = {\n      addNodesData: [t, i],\n      updateNodesData: o,\n      removeNodeId: null\n    };\n    if (!0 === a) if (!1 === FamilyTree.events.publish(\"update\", [this, s])) return !1;\n    n._fireUpdate_addUpdateRemove(s, a);\n    var d = n.getRecentRootsByNodeId(e);\n    FamilyTree._changeRootOption(n.config.roots, d, n.manager.rootList);\n    var c = \"\";\n    l ? c = l.id : FamilyTree.isNEU(t.pid) ? FamilyTree.isNEU(t.mid) ? FamilyTree.isNEU(t.fid) || (c = t.fid) : c = t.mid : c = t.pid, n._draw(!1, FamilyTree.action.update, {\n      id: c\n    }, function () {\n      n.ripple(t.id), n.ripple(i.id), r && r(), !0 === a && FamilyTree.events.publish(\"updated\", [n, s]), n.filterUI.update();\n    }), !0 === a && FamilyTree.events.publish(\"updating\", [n, s]);\n  } else console.error(\"addChildAndPartnerNodes invalid data\");\n}, FamilyTree.prototype.addPartnerAndParentNodes = function (e, t, i, r, a) {\n  this.hideTreeMenu(!1);\n  var n = this;\n  if (!FamilyTree.isNEU(t) && t.length) {\n    if (i) {\n      FamilyTree.isNEU(i.id) && (i.id = this.generateId());\n      for (var o = [], l = 0; l < t.length; l++) {\n        var s = this.get(t[l]);\n        if (!FamilyTree.isNEU(s.mid) && !FamilyTree.isNEU(s.fid)) return void console.error(\"father id (fid) or mather id (mid) has to be null or undefined\");\n        FamilyTree.isNEU(s.mid) ? s.mid = i.id : FamilyTree.isNEU(s.mid) || (s.fid = i.id), o.push(s);\n      }\n      var d = null;\n      Array.isArray(i.pids) && (1 != i.pids.length && console.error(\"addChildAndPartnerNodes partnerData.pids has to have one partner\"), d = this.get(i.pids[0]), Array.isArray(d.pids) || (d.pids = []), d.pids.push(i.id), o.push(d));\n      var c = {\n        addNodesData: [i],\n        updateNodesData: o,\n        removeNodeId: null\n      };\n      if (!0 === a) if (!1 === FamilyTree.events.publish(\"update\", [this, c])) return !1;\n      n._fireUpdate_addUpdateRemove(c, a);\n      var m = n.getRecentRootsByNodeId(e);\n      FamilyTree._changeRootOption(n.config.roots, m, n.manager.rootList);\n      var p = \"\";\n      d && (p = d.id), n._draw(!1, FamilyTree.action.update, {\n        id: p\n      }, function () {\n        n.ripple(i.id), r && r(), !0 === a && FamilyTree.events.publish(\"updated\", [n, c]), n.filterUI.update();\n      }), !0 === a && FamilyTree.events.publish(\"updating\", [n, c]);\n    } else console.error(\"addPartnerAndParentNodes invalid data\");\n  } else console.error(\"addPartnerAndParentNodes invalid data\");\n}, FamilyTree.prototype.addPartnerNode = function (e, t, i) {\n  this.hideTreeMenu(!1);\n  var r = this;\n  if (e && Array.isArray(e.pids) && 1 == e.pids.length) {\n    FamilyTree.isNEU(e.id) && (e.id = this.generateId());\n    var a = this.get(e.pids[0]);\n    Array.isArray(a.pids) || (a.pids = []), a.pids.push(e.id);\n    var n = {\n      removeNodeId: null,\n      updateNodesData: [a],\n      addNodesData: [e]\n    };\n    if (!0 === i) if (!1 === FamilyTree.events.publish(\"update\", [this, n])) return !1;\n    r._fireUpdate_addUpdateRemove(n, i);\n    var o = r.getRecentRootsByNodeId(n.updateNodesData[0].id);\n    FamilyTree._changeRootOption(r.config.roots, o, r.manager.rootList);\n    var l = n.updateNodesData[0].id;\n    r._draw(!1, FamilyTree.action.insert, {\n      id: l,\n      insertedNodeId: n.addNodesData[0].id\n    }, function () {\n      r.ripple(n.addNodesData[0].id), t && t(), !0 === i && FamilyTree.events.publish(\"updated\", [r, n]), r.filterUI.update();\n    }), !0 === i && FamilyTree.events.publish(\"updating\", [r, n]);\n  } else console.error(\"addPartnerNode invalid data\");\n}, FamilyTree.prototype.addParentNode = function (e, t, i, r, a) {\n  this.hideTreeMenu(!1);\n  var n = this;\n  if (i) {\n    if ([\"mid\", \"fid\"].has(t)) {\n      if (FamilyTree.isNEU(e)) console.error(\"addParentNode invalid childId\");else {\n        FamilyTree.isNEU(i.id) && (i.id = this.generateId());\n        var o = [],\n          l = this.get(e);\n        l[t] = i.id, o.push(l);\n        var s = null;\n        Array.isArray(i.pids) && (1 != i.pids.length && console.error(\"addParentNode: data has to have one partner\"), s = this.get(i.pids[0]), Array.isArray(s.pids) || (s.pids = []), s.pids.push(i.id), o.push(s));\n        var d = {\n          removeNodeId: null,\n          updateNodesData: o,\n          addNodesData: [i]\n        };\n        if (!0 === a) if (!1 === FamilyTree.events.publish(\"update\", [this, d])) return !1;\n        n._fireUpdate_addUpdateRemove(d, a);\n        var c = e;\n        n.config.roots = [d.addNodesData[0].id], n._draw(!1, FamilyTree.action.insert, {\n          id: c,\n          insertedNodeId: d.addNodesData[0].id\n        }, function () {\n          n.ripple(d.addNodesData[0].id), r && r(), !0 === a && FamilyTree.events.publish(\"updated\", [n, d]), n.filterUI.update();\n        }), !0 === a && FamilyTree.events.publish(\"updating\", [n, d]);\n      }\n    } else console.error(\"addParentNode invalid type\");\n  } else console.error(\"addParentNode invalid data\");\n}, FamilyTree.prototype.canRemove = function (e) {\n  var t = this.getNode(e);\n  if (!t) return !1;\n  var i = this.getNode(t.mid),\n    r = this.getNode(t.fid),\n    a = t.ftChildrenIds.length > 0,\n    n = !1,\n    o = t.pids.length > 0,\n    l = t.pids.length > 1;\n  if (1 == t.pids.length) {\n    var s = this.getNode(t.pids[0]);\n    n = t.ftChildrenIds.compare(s.ftChildrenIds);\n  }\n  return !(!i && !r || a || o) || !(i || r || a || l || !o || n) || !(i || r || !a || !n) || !(i || r || !a || n) || !(i || r || a || !n);\n}, FamilyTree.prototype.removeNode = function (e, t, i) {\n  var r = this;\n  if (this.canRemove(e)) {\n    var a = this.getNode(e),\n      n = [];\n    if (Array.isArray(a.pids)) for (var o = 0; o < a.pids.length; o++) {\n      var l = this.get(a.pids[o]);\n      if (l) -1 != (d = l.pids.indexOf(a.id)) && (l.pids.splice(d, 1), n.push(l));\n    }\n    if (Array.isArray(a.ftChildrenIds)) for (o = 0; o < a.ftChildrenIds.length; o++) {\n      var s = this.get(a.ftChildrenIds[o]);\n      s && (s.mid == a.id ? (s.mid = void 0, n.push(s)) : s.fid == a.id && (s.fid = void 0, n.push(s)));\n    }\n    var d,\n      c = {\n        removeNodeId: e,\n        updateNodesData: n,\n        addNodesData: []\n      };\n    if (!0 === i) if (!1 === FamilyTree.events.publish(\"update\", [this, c])) return !1;\n    r._fireUpdate_addUpdateRemove(c, i), -1 != (d = r.config.roots.indexOf(e)) && r.config.roots.splice(d, 1), r._draw(!1, FamilyTree.action.update, null, function () {\n      r.config.sticky && FamilyTree._moveToBoundaryArea(r.getSvg(), r.getViewBox(), r.response.boundary), t && t(), !0 === i && FamilyTree.events.publish(\"updated\", [r, c]), r.filterUI.update();\n    }), !0 === i && FamilyTree.events.publish(\"updating\", [r, c]);\n  }\n}, FamilyTree.prototype.updateNode = function (e, t, i) {\n  var r = this,\n    a = this.getNode(e.id);\n  e.pids || (e.pids = []);\n  var n = [];\n  n.push(e);\n  for (var o = 0; o < a.pids.length; o++) {\n    if (!e.pids.has(a.pids[o])) if ((s = this._get(a.pids[o])) && s.pids) {\n      var l = s.pids.indexOf(e.id);\n      -1 != l && (s.pids.splice(l, 1), n.push(e)), a.pids.splice(o, 1), n.push(s);\n    }\n  }\n  for (o = 0; o < e.pids.length; o++) {\n    var s;\n    if (!a.pids || !a.pids.has(e.pids[o])) (s = this._get(e.pids[o])).pids || (s.pids = []), s.pids.push(e.pids[o]), n.push(s);\n  }\n  var d = {\n    removeNodeId: null,\n    updateNodesData: n,\n    addNodesData: []\n  };\n  if (!0 === i && !1 === FamilyTree.events.publish(\"update\", [this, d])) return !1;\n  r._fireUpdate_addUpdateRemove(d, i), r._draw(!1, FamilyTree.action.update, null, function () {\n    r.config.sticky && FamilyTree._moveToBoundaryArea(r.getSvg(), r.getViewBox(), r.response.boundary), t && t(), !0 === i && FamilyTree.events.publish(\"updated\", [r, d]), r.filterUI.update();\n  });\n}, FamilyTree.prototype._fireUpdate_addUpdateRemove = function (e, t) {\n  for (var i = 0; i < e.addNodesData.length; i++) this.add(e.addNodesData[i]);\n  for (i = 0; i < e.updateNodesData.length; i++) this.update(e.updateNodesData[i]);\n  FamilyTree.isNEU(e.removeNodeId) || this.remove(e.removeNodeId), !0 === t && FamilyTree.events.publish(\"updating\", [this, e]);\n}, FamilyTree.prototype.__replaceIds = FamilyTree.prototype._replaceIds, FamilyTree.prototype._replaceIds = function (e) {\n  this.__replaceIds(e);\n  for (var t = 0; t < this.config.nodes.length; t++) {\n    var i = this.config.nodes[t];\n    for (var r in e) {\n      var a = e[r];\n      if (i.fid == r && (i.fid = a), i.mid == r && (i.mid = a), Array.isArray(i.pids)) for (var n = 0; n < i.pids.length; n++) i.pids[n] == r && (i.pids[n] = a);\n    }\n  }\n}, void 0 === FamilyTree && (FamilyTree = {}), FamilyTree._ajax = function (e, t, i, r, a) {\n  null == r && (r = \"arraybuffer\");\n  var n = new XMLHttpRequest();\n  n.onload = function (e) {\n    4 == n.readyState && 200 === this.status && (null == e.target ? a(this.response) : a(e.target.response));\n  }, n.onerror = function (e) {\n    a({\n      error: e\n    });\n  }, n.open(t, e), n.responseType = r, n.setRequestHeader(\"Content-Type\", \"application/json\"), null == i ? n.send() : n.send(i);\n}, void 0 === FamilyTree && (FamilyTree = {}), FamilyTree.animate = function (e, t, i, r, a, n, o) {\n  var l,\n    s = 10,\n    d = 1,\n    c = r / s + 1;\n  document.getElementsByTagName(\"g\");\n  return Array.isArray(e) || (e = [e]), Array.isArray(t) || (t = [t]), Array.isArray(i) || (i = [i]), l = setInterval(function () {\n    for (var m = 0; m < e.length; m++) for (var p in i[m]) {\n      var h = FamilyTree._arrayContains([\"top\", \"left\", \"right\", \"bottom\", \"width\", \"height\"], p.toLowerCase()) ? \"px\" : \"\";\n      switch (p.toLowerCase()) {\n        case \"d\":\n          var f = a((d * s - s) / r) * (i[m][p][0] - t[m][p][0]) + t[m][p][0],\n            u = a((d * s - s) / r) * (i[m][p][1] - t[m][p][1]) + t[m][p][1];\n          e[m].setAttribute(\"d\", e[m].getAttribute(\"d\") + \" L\" + f + \" \" + u);\n          break;\n        case \"r\":\n          var y = a((d * s - s) / r) * (i[m][p] - t[m][p]) + t[m][p];\n          e[m].setAttribute(\"r\", y);\n          break;\n        case \"x1\":\n          y = a((d * s - s) / r) * (i[m][p] - t[m][p]) + t[m][p];\n          e[m].setAttribute(\"x1\", y);\n          break;\n        case \"x2\":\n          y = a((d * s - s) / r) * (i[m][p] - t[m][p]) + t[m][p];\n          e[m].setAttribute(\"x2\", y);\n          break;\n        case \"y1\":\n          y = a((d * s - s) / r) * (i[m][p] - t[m][p]) + t[m][p];\n          e[m].setAttribute(\"y1\", y);\n          break;\n        case \"y2\":\n          y = a((d * s - s) / r) * (i[m][p] - t[m][p]) + t[m][p];\n          e[m].setAttribute(\"y2\", y);\n          break;\n        case \"rotate3d\":\n          if (i[m][p]) {\n            var g = t[m][p],\n              v = i[m][p],\n              T = [0, 0, 0, 0];\n            for (var b in g) T[b] = a((d * s - s) / r) * (v[b] - g[b]) + g[b];\n            e[m].style.transform = \"rotate3d(\" + T.toString() + \"deg)\";\n          }\n          break;\n        case \"transform\":\n          if (i[m][p]) {\n            g = t[m][p], v = i[m][p], T = [0, 0, 0, 0, 0, 0];\n            for (var b in g) T[b] = a((d * s - s) / r) * (v[b] - g[b]) + g[b];\n            e[m].hasAttribute(\"transform\") ? e[m].setAttribute(\"transform\", \"matrix(\" + T.toString() + \")\") : e[m].style.transform = \"matrix(\" + T.toString() + \")\";\n          }\n          break;\n        case \"viewbox\":\n          if (i[m][p]) {\n            g = t[m][p], v = i[m][p], T = [0, 0, 0, 0];\n            for (var b in g) T[b] = a((d * s - s) / r) * (v[b] - g[b]) + g[b];\n            e[m].setAttribute(\"viewBox\", T.toString());\n          }\n          break;\n        case \"margin\":\n          if (i[m][p]) {\n            g = t[m][p], v = i[m][p], T = [0, 0, 0, 0];\n            for (var b in g) T[b] = a((d * s - s) / r) * (v[b] - g[b]) + g[b];\n            var F = \"\";\n            for (b = 0; b < T.length; b++) F += parseInt(T[b]) + \"px \";\n            e[m] && e[m].style && (e[m].style[p] = F);\n          }\n          break;\n        case \"scrolly\":\n          y = a((d * s - s) / r) * (i[m][p] - t[m][p]) + t[m][p];\n          e[m].scrollTo(0, y);\n          break;\n        default:\n          y = a((d * s - s) / r) * (i[m][p] - t[m][p]) + t[m][p];\n          e[m] && e[m].style && (e[m].style[p] = y + h);\n      }\n    }\n    o && o(), (d += 1) > c + 1 && (clearInterval(l), n && n(e));\n  }, s);\n}, FamilyTree.anim = {}, FamilyTree.anim.inPow = function (e) {\n  return e < 0 ? 0 : e > 1 ? 1 : Math.pow(e, 2);\n}, FamilyTree.anim.outPow = function (e) {\n  if (e < 0) return 0;\n  if (e > 1) return 1;\n  return -1 * (Math.pow(e - 1, 2) + -1);\n}, FamilyTree.anim.inOutPow = function (e) {\n  if (e < 0) return 0;\n  if (e > 1) return 1;\n  if ((e *= 2) < 1) return FamilyTree.anim.inPow(e, 2) / 2;\n  return -.5 * (Math.pow(e - 2, 2) + -2);\n}, FamilyTree.anim.inSin = function (e) {\n  return e < 0 ? 0 : e > 1 ? 1 : 1 - Math.cos(e * (Math.PI / 2));\n}, FamilyTree.anim.outSin = function (e) {\n  return e < 0 ? 0 : e > 1 ? 1 : Math.sin(e * (Math.PI / 2));\n}, FamilyTree.anim.inOutSin = function (e) {\n  return e < 0 ? 0 : e > 1 ? 1 : -.5 * (Math.cos(Math.PI * e) - 1);\n}, FamilyTree.anim.inExp = function (e) {\n  return e < 0 ? 0 : e > 1 ? 1 : Math.pow(2, 10 * (e - 1));\n}, FamilyTree.anim.outExp = function (e) {\n  return e < 0 ? 0 : e > 1 ? 1 : 1 - Math.pow(2, -10 * e);\n}, FamilyTree.anim.inOutExp = function (e) {\n  return e < 0 ? 0 : e > 1 ? 1 : e < .5 ? .5 * Math.pow(2, 10 * (2 * e - 1)) : .5 * (2 - Math.pow(2, 10 * (-2 * e + 1)));\n}, FamilyTree.anim.inCirc = function (e) {\n  return e < 0 ? 0 : e > 1 ? 1 : -(Math.sqrt(1 - e * e) - 1);\n}, FamilyTree.anim.outCirc = function (e) {\n  return e < 0 ? 0 : e > 1 ? 1 : Math.sqrt(1 - (e - 1) * (e - 1));\n}, FamilyTree.anim.inOutCirc = function (e) {\n  return e < 0 ? 0 : e > 1 ? 1 : e < 1 ? -.5 * (Math.sqrt(1 - e * e) - 1) : .5 * (Math.sqrt(1 - (2 * e - 2) * (2 * e - 2)) + 1);\n}, FamilyTree.anim.rebound = function (e) {\n  return e < 0 ? 0 : e > 1 ? 1 : e < 1 / 2.75 ? 1 - 7.5625 * e * e : e < 2 / 2.75 ? 1 - (7.5625 * (e - 1.5 / 2.75) * (e - 1.5 / 2.75) + .75) : e < 2.5 / 2.75 ? 1 - (7.5625 * (e - 2.25 / 2.75) * (e - 2.25 / 2.75) + .9375) : 1 - (7.5625 * (e - 2.625 / 2.75) * (e - 2.625 / 2.75) + .984375);\n}, FamilyTree.anim.inBack = function (e) {\n  return e < 0 ? 0 : e > 1 ? 1 : e * e * (2.70158 * e - 1.70158);\n}, FamilyTree.anim.outBack = function (e) {\n  return e < 0 ? 0 : e > 1 ? 1 : (e - 1) * (e - 1) * (2.70158 * (e - 1) + 1.70158) + 1;\n}, FamilyTree.anim.inOutBack = function (e) {\n  return e < 0 ? 0 : e > 1 ? 1 : e < .5 ? 4 * e * e * (7.1898 * e - 2.5949) * .5 : .5 * ((2 * e - 2) * (2 * e - 2) * (3.5949 * (2 * e - 2) + 2.5949) + 2);\n}, FamilyTree.anim.impulse = function (e) {\n  var t = 2 * e;\n  return t * Math.exp(1 - t);\n}, FamilyTree.anim.expPulse = function (e) {\n  return Math.exp(-2 * Math.pow(e, 2));\n}, void 0 === FamilyTree && (FamilyTree = {}), FamilyTree.prototype._attachInitEventHandlers = function (e) {\n  this._addEvent(window, \"resize\", this._resizeHandler);\n}, FamilyTree.prototype._attachEventHandlers = function (e) {\n  if (this.config.interactive) {\n    e = this.getSvg();\n    this.config.enableTouch || FamilyTree.isMobile() ? (this._addEvent(e, \"touchstart\", this._globalMouseDownHandler), this._addEvent(e, \"touchend\", this._globalClickHandler)) : (this._addEvent(e, \"mousedown\", this._globalMouseDownHandler), this._addEvent(e, \"click\", this._globalClickHandler), this._addEvent(e, \"contextmenu\", this._globalContextHandler), this._addEvent(e, \"dblclick\", this._globalDbClickHandler), this.config.mouseScrool != FamilyTree.action.none && this._addEvent(e, \"wheel\", this._mouseScrollHandler));\n    var t = this.getMenuButton();\n    t && this._addEvent(t, \"click\", this._menuClickHandler);\n  }\n}, FamilyTree.prototype._addEvent = function (e, t, i, r) {\n  var a, n;\n  (r || (r = \"\"), e.getListenerList || (e.getListenerList = {}), e.getListenerList[t + r]) || (a = this, n = i, i = function () {\n    if (n) return n.apply(a, [this, arguments[0]]);\n  }, e.addEventListener ? \"mousewheel\" == t ? e.addEventListener(t, o, {\n    passive: !1\n  }) : e.addEventListener(t, o, !1) : e.attachEvent(\"on\" + t, function () {\n    var t = i.call(e, window.event);\n    return !1 === t && (window.event.returnValue = !1, window.event.cancelBubble = !0), t;\n  }), e.getListenerList[t + r] = o);\n  function o(e) {\n    var t = i.apply(this, arguments);\n    return !1 === t && (e.stopPropagation(), e.preventDefault()), t;\n  }\n}, FamilyTree.prototype._removeEvent = function (e, t) {\n  if (e.getListenerList[t]) {\n    var i = e.getListenerList[t];\n    e.removeEventListener(t, i, !1), delete e.getListenerList[t];\n  }\n}, void 0 === FamilyTree && (FamilyTree = {}), FamilyTree.VERSION = \"8.13.33\", FamilyTree.orientation = {}, FamilyTree.orientation.top = 0, FamilyTree.orientation.bottom = 1, FamilyTree.orientation.right = 2, FamilyTree.orientation.left = 3, FamilyTree.orientation.top_left = 4, FamilyTree.orientation.bottom_left = 5, FamilyTree.orientation.right_top = 6, FamilyTree.orientation.left_top = 7, FamilyTree.align = {}, FamilyTree.align.center = FamilyTree.CENTER = 8, FamilyTree.align.orientation = FamilyTree.ORIENTATION = 9, FamilyTree.attr = {}, FamilyTree.attr.l = \"data-l\", FamilyTree.attr.id = \"data-id\", FamilyTree.attr.sl = \"data-sl\", FamilyTree.attr.lbl = \"data-lbl\", FamilyTree.attr.val = \"data-val\", FamilyTree.attr.tlbr = \"data-tlbr\", FamilyTree.attr.item = \"data-item\", FamilyTree.attr.layout = \"data-layout\", FamilyTree.attr.node_id = \"data-n-id\", FamilyTree.attr.link_id = \"data-l-id\", FamilyTree.attr.field_name = \"data-f-name\", FamilyTree.attr.c_link_to = \"data-c-l-to\", FamilyTree.attr.c_link_from = \"data-c-l-from\", FamilyTree.attr.s_link_to = \"data-s-l-to\", FamilyTree.attr.s_link_from = \"data-s-l-from\", FamilyTree.attr.control_add = \"data-ctrl-add\", FamilyTree.attr.control_expcoll_id = \"data-ctrl-ec-id\", FamilyTree.attr.control_up_id = \"data-ctrl-up-id\", FamilyTree.attr.control_export_menu = \"data-ctrl-menu\", FamilyTree.attr.control_node_menu_id = \"data-ctrl-n-menu-id\", FamilyTree.attr.control_node_circle_menu_id = \"data-ctrl-n-c-menu-id\", FamilyTree.attr.control_node_circle_menu_name = \"data-ctrl-n-c-menu-name\", FamilyTree.attr.control_node_circle_menu_wrraper_id = \"data-ctrl-n-c-menu-wrapper-id\", FamilyTree.attr.width = \"data-width\", FamilyTree.attr.text_overflow = \"data-text-overflow\", FamilyTree.ID = \"id\", FamilyTree.PID = \"pid\", FamilyTree.STPID = \"stpid\", FamilyTree.TAGS = \"tags\", FamilyTree.NODES = \"nodes\", FamilyTree.ELASTIC = \"elastic\", FamilyTree.ASSISTANT = \"Assistant\", FamilyTree.action = {}, FamilyTree.action.expand = 0, FamilyTree.action.collapse = 1, FamilyTree.action.maximize = 101, FamilyTree.action.minimize = 102, FamilyTree.action.expandCollapse = 501, FamilyTree.action.edit = 1, FamilyTree.action.zoom = 2, FamilyTree.action.ctrlZoom = 22, FamilyTree.action.scroll = 41, FamilyTree.action.xScroll = 3, FamilyTree.action.yScroll = 4, FamilyTree.action.none = 5, FamilyTree.action.init = 6, FamilyTree.action.update = 7, FamilyTree.action.move = 70, FamilyTree.action.pan = 8, FamilyTree.action.centerNode = 9, FamilyTree.action.resize = 10, FamilyTree.action.insert = 11, FamilyTree.action.insertfirst = 12, FamilyTree.action.details = 13, FamilyTree.action.exporting = 14, FamilyTree.none = 400001, FamilyTree.scroll = {}, FamilyTree.scroll.visible = !0, FamilyTree.scroll.smooth = 12, FamilyTree.scroll.speed = 120, FamilyTree.scroll.safari = {\n  smooth: 12,\n  speed: 250\n}, FamilyTree.match = {}, FamilyTree.match.height = 100001, FamilyTree.match.width = 100002, FamilyTree.match.boundary = 100003, FamilyTree.draggable = {}, FamilyTree.draggable.node = \"node\", FamilyTree.draggable.tree = \"tree\", FamilyTree.layout = {}, FamilyTree.layout.normal = FamilyTree.normal = 0, FamilyTree.layout.mixed = FamilyTree.mixed = 1, FamilyTree.layout.tree = FamilyTree.tree = 2, FamilyTree.layout.treeLeftOffset = FamilyTree.treeLeftOffset = 3, FamilyTree.layout.treeRightOffset = FamilyTree.treeRightOffset = 4, FamilyTree.layout.treeLeft = 5, FamilyTree.layout.treeRight = 6, FamilyTree.nodeOpenTag = \"<g \" + FamilyTree.attr.node_id + '=\"{id}\" style=\"opacity: {opacity}\" transform=\"matrix(1,0,0,1,{x},{y})\" class=\"{class}\" ' + FamilyTree.attr.sl + '=\"{sl}\" ' + FamilyTree.attr.l + \"={level} {lcn}>\", FamilyTree.linkOpenTag = \"<g \" + FamilyTree.attr.link_id + '=\"[{id}][{child-id}]\" class=\"{class}\">', FamilyTree.expcollOpenTag = \"<g \" + FamilyTree.attr.control_expcoll_id + '=\"{id}\" transform=\"matrix(1,0,0,1,{x},{y})\"  style=\"cursor:pointer;\">', FamilyTree.upOpenTag = \"<g \" + FamilyTree.attr.control_up_id + '=\"{id}\" transform=\"matrix(1,0,0,1,{x},{y})\" style=\"cursor:pointer;\">', FamilyTree.linkFieldsOpenTag = '<g transform=\"matrix(1,0,0,1,{x},{y}) rotate({rotate})\">', FamilyTree.grCloseTag = \"</g>\", FamilyTree.A5w = 420, FamilyTree.A5h = 595, FamilyTree.A4w = 595, FamilyTree.A4h = 842, FamilyTree.A3w = 842, FamilyTree.A3h = 1191, FamilyTree.A2w = 1191, FamilyTree.A2h = 1684, FamilyTree.A1w = 1684, FamilyTree.A1h = 2384, FamilyTree.Letterw = 612, FamilyTree.Letterh = 791, FamilyTree.Legalw = 612, FamilyTree.Legalh = 1009, FamilyTree.COLLAPSE_PARENT_NEIGHBORS = 1, FamilyTree.COLLAPSE_SUB_CHILDRENS = 2, FamilyTree.COLLAPSE_PARENT_SUB_CHILDREN_EXCEPT_CLICKED = 3, FamilyTree.TEXT_THRESHOLD = 400, FamilyTree.IMAGES_THRESHOLD = 100, FamilyTree.LINKS_THRESHOLD = 200, FamilyTree.BUTTONS_THRESHOLD = 70, FamilyTree.ANIM_THRESHOLD = 50, FamilyTree.IT_IS_LONELY_HERE = '<g transform=\"translate(-100, 0)\" style=\"cursor:pointer;\"  ' + FamilyTree.attr.control_add + '=\"control-add\"><text fill=\"#039be5\">{link}</text></g>', FamilyTree.RES = {}, FamilyTree.RES.IT_IS_LONELY_HERE_LINK = \"It's lonely here, add your first node\", FamilyTree.FIRE_DRAG_NOT_CLICK_IF_MOVE = 3, FamilyTree.STRING_TAGS = !1, FamilyTree.MAX_NODES_MESS = \"The trial has expired or 200 nodes limit was reached! <br /><a style='color: #039BE5;' target='_blank' href='https://balkan.app/FamilyTreeJS/Docs/Evaluation'>See more</a>\", FamilyTree.OFFLINE_MESS = \"The evaluation version requires internet connection! <br /><a style='color: #039BE5;' target='_blank' href='https://balkan.app/FamilyTreeJS/Docs/Evaluation'>See more</a>\", FamilyTree.SEARCH_PLACEHOLDER = \"Search... type ? to get help.\", FamilyTree.SEARCH_HELP_SYMBOL = \"?\", FamilyTree.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE = !1, FamilyTree.SEARCH_RESULT_LIMIT = 10, FamilyTree.IMPORT_MESSAGE = \"Choose the columns (fields) in your data file that contain the required information.\", FamilyTree.FIXED_POSITION_ON_CLICK = !1, FamilyTree.RENDER_LINKS_BEFORE_NODES = !1, FamilyTree.RENDER_CLINKS_BEFORE_NODES = !1, FamilyTree.MIXED_LAYOUT_ALL_NODES = !0, FamilyTree.MIXED_LAYOUT_FOR_NODES_WITH_COLLAPSED_CHILDREN = !1, FamilyTree.MIXED_LAYOUT_IF_NUMBER_OF_CHILDREN_IS_MORE_THEN = 1, FamilyTree.LINK_ROUNDED_CORNERS = 5, FamilyTree.MOVE_STEP = 5, FamilyTree.CLINK_CURVE = 1, FamilyTree.MAX_DEPTH = 200, FamilyTree.SCALE_FACTOR = 1.44, FamilyTree.LAZY_LOADING_FACTOR = 500, FamilyTree.HIDE_EDIT_FORM_ON_PAN = !0, FamilyTree.LAZY_LOADING = !0, FamilyTree.ARRAY_FIELDS = [\"tags\"], FamilyTree.CSV_DELIMITER = \",\", FamilyTree.EDITFORM_CLOSE_BTN = '<svg data-edit-from-close class=\"bft-edit-form-close\"><path style=\"fill:#ffffff;\" d=\"M21.205,5.007c-0.429-0.444-1.143-0.444-1.587,0c-0.429,0.429-0.429,1.143,0,1.571l8.047,8.047H1.111 C0.492,14.626,0,15.118,0,15.737c0,0.619,0.492,1.127,1.111,1.127h26.554l-8.047,8.032c-0.429,0.444-0.429,1.159,0,1.587 c0.444,0.444,1.159,0.444,1.587,0l9.952-9.952c0.444-0.429,0.444-1.143,0-1.571L21.205,5.007z\"></path></svg>', FamilyTree.ESCAPE_HTML = !1, FamilyTree.VERTICAL_CHILDREN_ASSISTANT = !1, \"undefined\" != typeof module && (module.exports = FamilyTree), FamilyTree.OC_VERSION = FamilyTree.VERSION, FamilyTree.VERSION = \"1.09.16\", FamilyTree.RENDER_LINKS_BEFORE_NODES = !0, FamilyTree.ARRAY_FIELDS = [\"tags\", \"pids\"], FamilyTree._intersects = function (e, t, i) {\n  var r = e.x - i.siblingSeparation / 4,\n    a = e.y,\n    n = e.x + e.w + i.siblingSeparation / 4,\n    o = e.y;\n  switch (i.orientation) {\n    case FamilyTree.orientation.right:\n    case FamilyTree.orientation.right_top:\n    case FamilyTree.orientation.left:\n    case FamilyTree.orientation.left_top:\n      r = e.x, a = e.y - i.siblingSeparation / 4, n = e.x, o = e.y + e.h + i.siblingSeparation / 4;\n  }\n  var l,\n    s,\n    d,\n    c = t.p,\n    m = t.q,\n    p = t.r,\n    h = t.s;\n  return 0 !== (l = (n - r) * (h - m) - (p - c) * (o - a)) && (s = ((a - o) * (p - r) + (n - r) * (h - a)) / l, 0 < (d = ((h - m) * (p - r) + (c - p) * (h - a)) / l) && d < 1 && 0 < s && s < 1);\n}, FamilyTree._addPoint = function (e, t, i, r, a) {\n  switch (i.orientation) {\n    case FamilyTree.orientation.top:\n    case FamilyTree.orientation.top_left:\n      return FamilyTree._addPointTop(e, t, i, r, a);\n    case FamilyTree.orientation.bottom:\n    case FamilyTree.orientation.bottom_left:\n      return FamilyTree._addPointBottom(e, t, i, r, a);\n    case FamilyTree.orientation.left:\n    case FamilyTree.orientation.left_top:\n      return FamilyTree._addPointLeft(e, t, i, r, a);\n    case FamilyTree.orientation.right:\n    case FamilyTree.orientation.right_top:\n      return FamilyTree._addPointRight(e, t, i, r, a);\n  }\n}, FamilyTree._addPointTop = function (e, t, i, r, a) {\n  var n, o, l;\n  return \"left\" == a ? n = e.leftNeighbor ? e.x + (e.leftNeighbor.x + e.leftNeighbor.w - e.x) / 2 : e.x - i.siblingSeparation / 2 : \"right\" == a && (n = e.rightNeighbor ? e.x + e.w + (e.rightNeighbor.x - (e.x + e.w)) / 2 : e.x + e.w + i.siblingSeparation / 2), t.push([n, t[t.length - 1][1]]), t.push([n, e.y - i.levelSeparation / 3]), o = t[t.length - 1][1], l = n, r.p = n, r.q = o, r.r = l, r;\n}, FamilyTree._addPointBottom = function (e, t, i, r, a) {\n  var n, o, l;\n  return \"left\" == a ? n = e.leftNeighbor ? e.x + (e.leftNeighbor.x + e.leftNeighbor.w - e.x) / 2 : e.x - i.siblingSeparation / 2 : \"right\" == a && (n = e.rightNeighbor ? e.x + e.w + (e.rightNeighbor.x - (e.x + e.w)) / 2 : e.x + e.w + i.siblingSeparation / 2), t.push([n, t[t.length - 1][1]]), t.push([n, e.y + e.h + i.levelSeparation / 3]), o = t[t.length - 1][1], l = n, r.p = n, r.q = o, r.r = l, r;\n}, FamilyTree._addPointLeft = function (e, t, i, r, a) {\n  var n,\n    o = t[t.length - 1][0];\n  \"bottom\" == a ? n = e.rightNeighbor ? e.y + e.h + (e.rightNeighbor.y - (e.y + e.h)) / 2 : e.y + e.h + i.siblingSeparation / 2 : \"top\" == a && (n = e.leftNeighbor ? e.y + (e.leftNeighbor.y + e.leftNeighbor.h - e.y) / 2 : e.y - i.siblingSeparation / 2), t.push([t[t.length - 1][0], n]), t.push([e.x - i.levelSeparation / 3, n]), o = t[t.length - 1][0];\n  var l = n;\n  return r.p = o, r.q = n, r.s = l, r;\n}, FamilyTree._addPointRight = function (e, t, i, r, a) {\n  var n,\n    o = t[t.length - 1][0];\n  \"bottom\" == a ? n = e.rightNeighbor ? e.y + e.h + (e.rightNeighbor.y - (e.y + e.h)) / 2 : e.y + e.h + i.siblingSeparation / 2 : \"top\" == a && (n = e.leftNeighbor ? e.y + (e.leftNeighbor.y + e.leftNeighbor.h - e.y) / 2 : e.y - i.siblingSeparation / 2), t.push([t[t.length - 1][0], n]), t.push([e.x + e.w + i.levelSeparation / 3, n]), o = t[t.length - 1][0];\n  var l = n;\n  return r.p = o, r.q = n, r.s = l, r;\n}, FamilyTree.editUI = function () {}, FamilyTree.editUI.prototype.init = function (e) {\n  this.obj = e, this.fields = null, this._event_id = FamilyTree._guid();\n}, FamilyTree.editUI.prototype.on = function (e, t) {\n  return FamilyTree.events.on(e, t, this._event_id), this;\n}, FamilyTree.editUI.prototype.show = function (e, t, i) {\n  if (this.hide(), !1 === FamilyTree.events.publish(\"show\", [this, e])) return !1;\n  var r = this,\n    a = this.content(e, t, i);\n  this.obj.element.appendChild(a.element), FamilyTree.input.init(this.obj.element), i ? t || this._focusElement(a.focusId) : this.interval = FamilyTree.animate(a.element, {\n    right: -20,\n    opacity: 0\n  }, {\n    right: 0,\n    opacity: 1\n  }, 300, FamilyTree.anim.outSin, function () {\n    t || r._focusElement(a.focusId);\n  }), this.obj.element.querySelector(\"[data-edit-from-close]\").addEventListener(\"click\", function (t) {\n    t.preventDefault(), !1 !== FamilyTree.events.publish(\"cancel\", [r, {\n      id: e\n    }]) && r.hide();\n  }), this.obj.element.querySelector(\"[data-edit-from-cancel]\").addEventListener(\"click\", function (t) {\n    t.preventDefault(), !1 !== FamilyTree.events.publish(\"cancel\", [r, {\n      id: e\n    }]) && r.hide();\n  }), this.obj.element.querySelector(\"[data-edit-from-save]\").addEventListener(\"click\", function (t) {\n    t.preventDefault();\n    var i = FamilyTree.input.validateAndGetData(a.element);\n    if (!1 !== i) {\n      var n = r.obj.get(e),\n        o = {\n          data: FamilyTree.mergeDeep(n, i)\n        };\n      if (!1 === FamilyTree.events.publish(\"save\", [r, o])) return;\n      r.obj.updateNode(o.data, null, !0), r.hide();\n    }\n  });\n  for (var n = this.obj.element.querySelectorAll(\"[data-input-btn]\"), o = 0; o < n.length; o++) {\n    n[o].addEventListener(\"click\", function (t) {\n      t.preventDefault(), FamilyTree.events.publish(\"element-btn-click\", [r, {\n        input: this.parentNode.querySelector(\"input\"),\n        nodeId: e,\n        event: t\n      }]);\n    });\n  }\n  this.obj.element.querySelector(\"[data-add-more-fields-btn]\").addEventListener(\"click\", function (e) {\n    e.stopPropagation(), e.preventDefault();\n    var t = this,\n      i = FamilyTree.elements.textbox({}, {\n        type: \"textbox\",\n        label: r.obj.config.editForm.addMoreFieldName,\n        btn: r.obj.config.editForm.addMoreBtn\n      }, \"280px\");\n    t.parentNode.insertAdjacentHTML(\"beforebegin\", i.html), t.style.display = \"none\", FamilyTree.input.init(t.parentNode.previousSibling);\n    var a = document.getElementById(i.id);\n    a.focus(), a.nextElementSibling.addEventListener(\"click\", function (e) {\n      e.stopPropagation(), e.preventDefault();\n      var i = a.value,\n        n = r.obj.element.querySelector('[data-binding=\"' + FamilyTree._escapeDoubleQuotes(a.value) + '\"]');\n      if (FamilyTree.isNEU(i) || n) a.focus();else {\n        var o = FamilyTree.elements.textbox({}, {\n          type: \"textbox\",\n          label: i,\n          binding: i\n        }, \"280px\");\n        a.parentNode.parentNode.parentNode.removeChild(a.parentNode.parentNode), t.parentNode.insertAdjacentHTML(\"beforebegin\", o.html), t.style.display = \"\", FamilyTree.input.init(t.parentNode.previousSibling), document.getElementById(o.id).focus();\n      }\n    });\n  }), this.obj.element.querySelector(\"[data-bft-edit-from-btns]\").addEventListener(\"click\", function (t) {\n    for (var i = t.target; i && i.hasAttribute && !i.hasAttribute(\"data-edit-from-btn\");) i = i.parentNode;\n    if (i && i.hasAttribute) {\n      var n = i.getAttribute(\"data-edit-from-btn\"),\n        o = {\n          button: r.obj.config.editForm.buttons[n],\n          name: n,\n          nodeId: e,\n          event: t\n        };\n      if (!1 === FamilyTree.events.publish(\"button-click\", [r, o])) return !1;\n      switch (n) {\n        case \"edit\":\n          r.obj.editUI.show(e, !1, !0);\n          break;\n        case \"pdf\":\n          r.obj.exportPDFProfile({\n            id: e,\n            filename: a.title\n          }), r.hide();\n          break;\n        case \"png\":\n          r.obj.exportPNGProfile({\n            id: e,\n            filename: a.title\n          }), r.hide();\n          break;\n        case \"share\":\n          r.obj.shareProfile(e);\n          break;\n        case \"remove\":\n          r.obj.removeNode(e, null, !0), r.hide();\n      }\n    }\n  });\n}, FamilyTree.editUI.prototype._focusElement = function (e) {\n  var t = null;\n  FamilyTree.isNEU(this.obj.config.editForm.focusBinding) ? FamilyTree.isNEU(e) || (t = document.getElementById(e)) : t = this.obj.element.querySelector('[data-binding=\"' + this.obj.config.editForm.focusBinding + '\"]'), t && (t.value && t.value.length && t.setSelectionRange(t.value.length, t.value.length), t.focus());\n}, FamilyTree.editUI.prototype.setAvatar = function (e) {\n  var t = this.obj.element.querySelector(\"#bft-avatar\");\n  FamilyTree.isNEU(e) ? t.innerHTML = FamilyTree.icon.user(150, 150, \"#8C8C8C\", 0, 0) : t.innerHTML = `<img style=\"width: 100%;height:100%;border-radius: 50%;\" src=\"${e}\"></img>`;\n}, FamilyTree.editUI.prototype.content = function (e, t, i, r, a) {\n  var n,\n    o = this.obj.config.editForm.readOnly,\n    l = JSON.parse(JSON.stringify(this.obj.config.editForm.elements)),\n    s = this.obj.config.editForm.addMore,\n    d = this.obj.config.editForm.saveAndCloseBtn,\n    c = this.obj.config.editForm.cancelBtn,\n    m = this.obj.config.editForm.buttons,\n    p = this.obj.config.editForm.titleBinding,\n    h = this.obj.config.editForm.photoBinding,\n    f = this.obj.getNode(e),\n    u = this.obj._get(e),\n    y = FamilyTree.t(f.templateName, f.min, this.obj.getScale()),\n    g = u[p],\n    v = u[h];\n  if (this.obj.config.editForm.generateElementsFromFields) for (var T = 0; T < this.fields.length; T++) {\n    var b = this.fields[T];\n    if (\"tags\" != b) {\n      for (var F = !1, x = 0; x < l.length; x++) {\n        if (Array.isArray(l[x])) {\n          for (var _ = 0; _ < l[x].length; _++) if (b == l[x][_].binding) {\n            F = !0;\n            break;\n          }\n        } else if (b == l[x].binding) {\n          F = !0;\n          break;\n        }\n        if (F) break;\n      }\n      F || l.push({\n        type: \"textbox\",\n        label: b,\n        binding: b\n      });\n    }\n  }\n  FamilyTree.isNEU(g) && (g = \"\"), v = FamilyTree.isNEU(v) ? FamilyTree.icon.user(150, 150, \"#8C8C8C\", 0, 0) : `<img style=\"width: 100%;height:100%;border-radius: 50%;\" src=\"${v}\"></img>`;\n  var w = !t,\n    k = t ? \"display:none;\" : \"\",\n    S = t || !s ? \"display:none;\" : \"\",\n    C = y.editFormHeaderColor ? `style=\"background-color:${y.editFormHeaderColor};\"` : \"\",\n    I = document.createElement(\"form\");\n  if (I.setAttribute(\"data-bft-edit-form\", \"\"), I.classList.add(\"bft-edit-form\"), I.classList.add(this.obj.config.mode), I.classList.add(f.templateName), I.classList.add(FamilyTree.ui._defsIds[f.templateName]), Array.isArray(f.tags) && f.tags.length) for (T = 0; T < f.tags.length; T++) I.classList.add(f.tags[T]);\n  I.style.display = \"flex\", I.style.opacity = i ? 1 : 0, I.style.right = i ? 0 : \"-20px\", r && (I.style.width = r);\n  var N = [],\n    A = a ? \"\" : FamilyTree.EDITFORM_CLOSE_BTN;\n  return I.innerHTML = `<div>\\n                        <div class=\"bft-edit-form-header\" ${C}>\\n                            ${A}\\n                            ${FamilyTree.editUI.renderHeaderContent(g, v, f, u)}\\n                        </div>\\n                        <div data-bft-edit-from-btns class=\"bft-edit-form-instruments\">\\n                        ${function () {\n    if (a) return \"\";\n    var e = \"\";\n    for (var i in m) {\n      var r = m[i];\n      FamilyTree.isNEU(r) || w && r.hideIfEditMode || t && r.hideIfDetailsMode || o && \"Edit\" == r.text || (e += `<div data-edit-from-btn='${i}' class=\"bft-img-button\" ${C} title=\"${r.text}\">${r.icon}</div>`);\n    }\n    return e;\n  }()}    \\n                        </div>\\n                    </div>\\n                    <div class=\"bft-edit-form-fields\">\\n                        <div class=\"bft-edit-form-fields-inner\">\\n                            <div class=\"bft-form-fieldset\">\\n                                ${function () {\n    for (var e = \"\", i = 0; i < l.length; i++) {\n      var r = l[i];\n      if (Array.isArray(r)) {\n        e += '<div class=\"bft-form-field-100 bft-form-fieldset\">';\n        for (var a = 0; a < r.length; a++) {\n          var o = r[a],\n            s = FamilyTree.elements[o.type](u, o, \"unset\", t);\n          !FamilyTree.isNEU(s.id) && FamilyTree.isNEU(n) && FamilyTree.isNEU(s.value) && (n = s.id), FamilyTree.isNEU(s.value) || N.push(`${o.label}: ${s.value}`), e += s.html;\n        }\n        e += \"</div>\";\n      } else {\n        s = FamilyTree.elements[r.type](u, r, \"280px\", t);\n        !FamilyTree.isNEU(s.id) && FamilyTree.isNEU(n) && FamilyTree.isNEU(s.value) && (n = s.id), FamilyTree.isNEU(s.value) || N.push(`${r.label}: ${s.value}`), e += s.html;\n      }\n    }\n    return e;\n  }()}\\n\\n                                <div class=\"bft-form-field\" style=\"min-width: 280px; text-align:center; ${S}\">\\n                                    <a data-add-more-fields-btn href=\"#\" class=\"bft-link\">${s}</a>\\n                                </div>\\n                            </div>        \\n                        </div>\\n                    </div>\\n                    <div class=\"bft-form-fieldset\" style=\"padding: 14px 10px; ${k}\">\\n                        <div class=\"bft-form-field\" style=\"min-width: initial;\">\\n                            <button data-edit-from-cancel type=\"button\" class=\"bft-button transparent\">${c}</button>\\n                        </div>\\n                        <div class=\"bft-form-field\" style=\"min-width: initial;\">\\n                            <button type=\"submit\" data-edit-from-save type=\"button\" class=\"bft-button\">${d}</button>\\n                        </div>\\n                    </div>`, {\n    element: I,\n    focusId: n,\n    title: g,\n    shareText: N.join(\"\\n\")\n  };\n}, FamilyTree.editUI.prototype.hide = function () {\n  if (!1 === FamilyTree.events.publish(\"hide\", [this])) return !1;\n  FamilyTree.isNEU(this.interval) && (clearInterval(this.interval), this.interval = null);\n  var e = this.obj.element.querySelector(\"[data-bft-edit-form]\");\n  e && e.parentNode && e.parentNode.removeChild(e);\n}, FamilyTree.editUI.renderHeaderContent = function (e, t, i, r) {\n  return `<h1 class=\"bft-edit-form-title\">${FamilyTree._escapeGreaterLessSign(e)}</h1>\\n                <div id=\"bft-avatar\" class=\"bft-edit-form-avatar\">${t}</div>`;\n}, FamilyTree.prototype.getSvg = function () {\n  var e = this.element.getElementsByTagName(\"svg\");\n  return e && e.length ? e[0] : null;\n}, FamilyTree.prototype.getPointerElement = function () {\n  return this.element.querySelector(\"g[data-pointer]\");\n}, FamilyTree.prototype.getNodeElement = function (e) {\n  return this.element.querySelector(\"[\" + FamilyTree.attr.node_id + \"='\" + e + \"']\");\n}, FamilyTree.prototype.getMenuButton = function () {\n  return this.element.querySelector(\"[\" + FamilyTree.attr.control_export_menu + \"]\");\n}, FamilyTree.menuUI = function () {}, FamilyTree.menuUI.prototype.init = function (e, t) {\n  this.obj = e, this.wrapper = null, this.menu = t, this._event_id = FamilyTree._guid();\n}, FamilyTree.menuUI.prototype.showStickIn = function (e, t, i, r) {\n  this._show(e, null, t, i, r);\n}, FamilyTree.menuUI.prototype.show = function (e, t, i, r, a) {\n  this._show(e, t, i, r, a);\n}, FamilyTree.menuUI.prototype._show = function (e, t, i, r, a) {\n  var n = this;\n  this.hide();\n  var o = \"\";\n  a || (a = this.menu);\n  var l = {\n    firstNodeId: i,\n    secondNodeId: r,\n    menu: a\n  };\n  if (!1 === FamilyTree.events.publish(\"show\", [this, l])) return !1;\n  for (var s in a = l.menu) {\n    var d = a[s].icon,\n      c = a[s].text;\n    void 0 === d && (d = FamilyTree.icon[s] ? FamilyTree.icon[s](24, 24, \"#7A7A7A\") : \"\"), \"function\" == typeof c && (c = c()), \"function\" == typeof d && (d = d()), o += \"<div \" + FamilyTree.attr.item + '=\"' + s + '\">' + d + \"<span>&nbsp;&nbsp;\" + c + \"</span></div>\";\n  }\n  if (\"\" != o) {\n    if (this.wrapper = document.createElement(\"div\"), this.wrapper.className = \"bft-family-menu\", this.wrapper.style.left = \"-99999px\", this.wrapper.style.top = \"-99999px\", this.wrapper.innerHTML = o, this.obj.element.appendChild(this.wrapper), null == t) {\n      var m = FamilyTree._menuPosition(e, this.wrapper, this.obj.getSvg());\n      e = m.x, t = m.y;\n    }\n    var p = e + 45;\n    this.wrapper.style.left = p + \"px\", this.wrapper.style.top = t + \"px\", this.wrapper.style.left = p - this.wrapper.offsetWidth + \"px\";\n    var h = e - this.wrapper.offsetWidth;\n    FamilyTree.animate(this.wrapper, {\n      opacity: 0,\n      left: p - this.wrapper.offsetWidth\n    }, {\n      opacity: 1,\n      left: h\n    }, 300, FamilyTree.anim.inOutPow);\n    for (var f = this.wrapper.getElementsByTagName(\"div\"), u = 0; u < f.length; u++) {\n      (s = f[u]).addEventListener(\"click\", function (e) {\n        var t,\n          o = this.getAttribute(FamilyTree.attr.item);\n        if (void 0 === a[o].onClick) {\n          if (\"add\" === o) {\n            var l = {\n              id: n.obj.generateId(),\n              pid: i\n            };\n            n.obj.addNode(l, null, !0);\n          } else if (\"edit\" === o) {\n            var s = n.obj.getNode(i);\n            n.obj.editUI.show(s.id);\n          } else if (\"details\" === o) {\n            s = n.obj.getNode(i);\n            n.obj.editUI.show(s.id, !0);\n          } else \"remove\" === o ? n.obj.removeNode(i, null, !0) : \"svg\" === o ? n.obj.exportSVG({\n            filename: \"FamilyTree.svg\",\n            expandChildren: !1,\n            nodeId: i\n          }) : \"pdf\" === o ? n.obj.exportPDF({\n            filename: \"FamilyTree.pdf\",\n            expandChildren: !1,\n            nodeId: i\n          }) : \"png\" === o ? n.obj.exportPNG({\n            filename: \"FamilyTree.png\",\n            expandChildren: !1,\n            nodeId: i\n          }) : \"csv\" === o ? n.obj.exportCSV({\n            nodeId: i\n          }) : \"xml\" === o ? n.obj.exportXML({\n            nodeId: i\n          }) : \"json\" === o && n.obj.exportJSON({\n            nodeId: i\n          });\n        } else t = a[o].onClick.call(n.obj, i, r);\n        0 != t && n.hide();\n      });\n    }\n  }\n}, FamilyTree.menuUI.prototype.isVisible = function () {\n  return null != this.wrapper;\n}, FamilyTree.menuUI.prototype.hide = function () {\n  null != this.wrapper && (this.obj.element.removeChild(this.wrapper), this.wrapper = null);\n}, FamilyTree.menuUI.prototype.on = function (e, t) {\n  return FamilyTree.events.on(e, t, this._event_id), this;\n}, FamilyTree.circleMenuUI = function () {}, FamilyTree.circleMenuUI.prototype.init = function (e, t) {\n  this.obj = e, this.menu = t, this._menu = null, this._buttonsInterval = [], this._linesInterval = [], this._event_id = FamilyTree._guid();\n}, FamilyTree.circleMenuUI.prototype.show = function (e, t) {\n  this._show(e, t);\n}, FamilyTree.circleMenuUI.prototype._show = function (e, t) {\n  var i = this,\n    r = this.obj.getNode(e),\n    a = FamilyTree.t(r.templateName, r.min, this.obj.getScale());\n  if (!FamilyTree.isNEU(a.nodeCircleMenuButton)) {\n    var n = this.obj.getSvg(),\n      o = this.obj.element.querySelector(\"[\" + FamilyTree.attr.control_node_circle_menu_id + '=\"' + e + '\"]'),\n      l = this.obj.getNodeElement(e),\n      s = FamilyTree._getTransform(o),\n      d = FamilyTree._getTransform(l),\n      c = s[4] + d[4],\n      m = s[5] + d[5],\n      p = o.querySelectorAll(\"line\"),\n      h = this.obj.element.querySelector(\"[\" + FamilyTree.attr.control_node_circle_menu_wrraper_id + \"]\");\n    if (FamilyTree.isNEU(h) || h.getAttribute(FamilyTree.attr.control_node_circle_menu_wrraper_id) != e) {\n      this.hide(), t || (t = this.menu);\n      var f = {\n          nodeId: e,\n          menu: t\n        },\n        u = FamilyTree.events.publish(\"show\", [this, f]);\n      if (this._menu = t, !1 === u) return !1;\n      for (var y = 0, g = Object.keys(f.menu).length, v = 2 * a.nodeCircleMenuButton.radius + 4, T = 2 * Math.PI * v, b = T / g - (2 * a.nodeCircleMenuButton.radius + 2); b < 0;) v += 8, b = (T = 2 * Math.PI * v) / g - (2 * a.nodeCircleMenuButton.radius + 2);\n      for (var F in (h = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\")).setAttribute(FamilyTree.attr.control_node_circle_menu_wrraper_id, e), h.setAttribute(\"transform\", \"matrix(1,0,0,1,\" + c + \",\" + m + \")\"), n.appendChild(h), f.menu) {\n        var x = f.menu[F].icon,\n          _ = f.menu[F].color,\n          w = f.menu[F].text;\n        \"function\" == typeof x && (x = x()), \"function\" == typeof _ && (_ = _()), \"function\" == typeof w && (w = w());\n        var k = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n        k.setAttribute(\"transform\", \"matrix(1,0,0,1,0,0)\"), k.setAttribute(FamilyTree.attr.control_node_circle_menu_name, F), k.style.cursor = \"pointer\";\n        var S = document.createElementNS(\"http://www.w3.org/2000/svg\", \"title\");\n        FamilyTree.isNEU(w) || (S.innerHTML = w);\n        var C = document.createElementNS(\"http://www.w3.org/2000/svg\", \"circle\");\n        C.setAttribute(\"cx\", 0), C.setAttribute(\"cy\", 0), C.setAttribute(\"r\", a.nodeCircleMenuButton.radius), C.setAttribute(\"fill\", _), C.setAttribute(\"stroke-width\", \"1\"), C.setAttribute(\"stroke\", a.nodeCircleMenuButton.stroke), k.appendChild(C), k.appendChild(S), k.innerHTML += x, h.appendChild(k);\n        var I = k.getElementsByTagName(\"svg\")[0];\n        if (I.setAttribute(\"pointer-events\", \"none\"), I) {\n          var N = parseInt(I.getAttribute(\"width\")),\n            A = parseInt(I.getAttribute(\"height\"));\n          I.setAttribute(\"x\", -N / 2), I.setAttribute(\"y\", -A / 2);\n        }\n        var L = y * Math.PI / (g / 2);\n        y++;\n        var E = Math.cos(L) * v,\n          M = Math.sin(L) * v;\n        this._buttonsInterval.push(FamilyTree.animate(k, {\n          transform: [1, 0, 0, 1, 0, 0]\n        }, {\n          transform: [1, 0, 0, 1, E, M]\n        }, 250, FamilyTree.anim.outBack, function (e) {\n          var t = e[0].getAttribute(FamilyTree.attr.control_node_circle_menu_name),\n            r = e[0].parentNode.getAttribute(FamilyTree.attr.control_node_circle_menu_wrraper_id);\n          e[0].addEventListener(\"mouseenter\", function (e) {\n            FamilyTree.events.publish(\"mouseenter\", [i, {\n              from: r,\n              menuItem: f.menu[t],\n              menuItemName: t,\n              event: e\n            }]);\n          }), e[0].addEventListener(\"mouseout\", function (e) {\n            FamilyTree.events.publish(\"mouseout\", [i, {\n              from: r,\n              menuItem: f.menu[t],\n              menuItemName: t,\n              event: e\n            }]);\n          });\n        }));\n      }\n      this._linesInterval.push(FamilyTree.animate(p[0], {\n        x1: -a.nodeCircleMenuButton.radius / 2,\n        y1: -6,\n        x2: a.nodeCircleMenuButton.radius / 2,\n        y2: -6\n      }, {\n        x1: -7,\n        y1: -7,\n        x2: 7,\n        y2: 7\n      }, 500, FamilyTree.anim.inOutSin)), this._linesInterval.push(FamilyTree.animate(p[1], {\n        x1: -a.nodeCircleMenuButton.radius / 2,\n        y1: 0,\n        x2: a.nodeCircleMenuButton.radius / 2,\n        y2: 0\n      }, {\n        x1: 0,\n        y1: 0,\n        x2: 0,\n        y2: 0\n      }, 500, FamilyTree.anim.inOutSin)), this._linesInterval.push(FamilyTree.animate(p[2], {\n        x1: -a.nodeCircleMenuButton.radius / 2,\n        y1: 6,\n        x2: a.nodeCircleMenuButton.radius / 2,\n        y2: 6\n      }, {\n        x1: -7,\n        y1: 7,\n        x2: 7,\n        y2: -7\n      }, 500, FamilyTree.anim.inOutSin));\n    } else this.hide();\n  }\n}, FamilyTree.circleMenuUI.prototype.hide = function () {\n  for (var e = this._buttonsInterval.length - 1; e >= 0; e--) clearInterval(this._buttonsInterval[e]), this._buttonsInterval.splice(e, 1);\n  this._buttonsInterval = [];\n  for (e = this._linesInterval.length - 1; e >= 0; e--) clearInterval(this._linesInterval[e]), this._linesInterval.splice(e, 1);\n  this._linesInterval = [];\n  var t = this.obj.element.querySelector(\"[\" + FamilyTree.attr.control_node_circle_menu_wrraper_id + \"]\");\n  if (null != t) {\n    var i = t.getAttribute(FamilyTree.attr.control_node_circle_menu_wrraper_id),\n      r = this.obj.getNode(i),\n      a = FamilyTree.t(r.templateName, r.min, this.obj.getScale()),\n      n = this.obj.element.querySelector(\"[\" + FamilyTree.attr.control_node_circle_menu_id + '=\"' + i + '\"]').querySelectorAll(\"line\");\n    n[0].setAttribute(\"x1\", -a.nodeCircleMenuButton.radius / 2), n[0].setAttribute(\"x2\", a.nodeCircleMenuButton.radius / 2), n[0].setAttribute(\"y1\", -6), n[0].setAttribute(\"y2\", -6), n[1].setAttribute(\"x1\", -a.nodeCircleMenuButton.radius / 2), n[1].setAttribute(\"x2\", a.nodeCircleMenuButton.radius / 2), n[1].setAttribute(\"y1\", 0), n[1].setAttribute(\"y2\", 0), n[2].setAttribute(\"x1\", -a.nodeCircleMenuButton.radius / 2), n[2].setAttribute(\"x2\", a.nodeCircleMenuButton.radius / 2), n[2].setAttribute(\"y1\", 6), n[2].setAttribute(\"y2\", 6), t.parentElement.removeChild(t), t = null;\n  }\n}, FamilyTree.circleMenuUI.prototype.on = function (e, t) {\n  return FamilyTree.events.on(e, t, this._event_id), this;\n}, void 0 === FamilyTree && (FamilyTree = {}), FamilyTree.idb = {\n  version: 1,\n  dbName: \"BALKAN\",\n  tableName: \"familytree-js\",\n  keyPath: \"id\"\n}, FamilyTree.idb.db = null, FamilyTree.idb._open = function (e) {\n  if (FamilyTree._browser().msie) e && e(!1);else if ((navigator.userAgent.toLowerCase().indexOf(\"safari\") > 0 || navigator.userAgent.toLowerCase().indexOf(\"firefox\") > 0) && window.location !== window.parent.location) e && e(!1);else {\n    if (!window.indexedDB) return console.error(\"Your browser doesn't support a stable version of IndexedDB.\"), void (e && e(!1));\n    if (null == FamilyTree.idb.db) {\n      var t = indexedDB.open(FamilyTree.idb.dbName, FamilyTree.idb.version);\n      t.onerror = function (t) {\n        console.error(\"Cannot open database!\"), e && e(!1);\n      }, t.onsuccess = function (t) {\n        FamilyTree.idb.db = t.target.result, e && e(!0);\n      }, t.onupgradeneeded = function (e) {\n        var t = e.target.result;\n        t.objectStoreNames.contains(FamilyTree.idb.tableName) && t.deleteObjectStore(FamilyTree.idb.tableName);\n        t.createObjectStore(FamilyTree.idb.tableName, {\n          keyPath: FamilyTree.idb.keyPath\n        });\n      };\n    } else e && e(!0);\n  }\n}, FamilyTree.idb.read = function (e, t) {\n  FamilyTree.idb._open(function (i) {\n    if (i) {\n      var r = FamilyTree.idb.db.transaction([FamilyTree.idb.tableName]).objectStore(FamilyTree.idb.tableName).get(e);\n      r.onerror = function (e) {\n        console.error(\"Unable to retrieve data from database!\"), t && t(!1);\n      }, r.onsuccess = function (e) {\n        r.result ? t && t(!0, r.result) : t && t(null);\n      };\n    } else t && t(!1);\n  });\n}, FamilyTree.idb.write = function (e, t) {\n  FamilyTree.idb.read(e.id, function (i) {\n    if (null == i) {\n      var r = FamilyTree.idb.db.transaction([FamilyTree.idb.tableName], \"readwrite\").objectStore(FamilyTree.idb.tableName).add(e);\n      r.onerror = function (e) {\n        console.error(\"Unable to add data to database!\"), t && t(!1);\n      }, r.onsuccess = function (e) {\n        t && t(!0);\n      };\n    } else t && t(i);\n  });\n}, FamilyTree.idb.put = function (e, t) {\n  FamilyTree.idb._open(function (i) {\n    if (i) {\n      var r = FamilyTree.idb.db.transaction([FamilyTree.idb.tableName], \"readwrite\").objectStore(FamilyTree.idb.tableName).put(e);\n      r.onerror = function (e) {\n        console.error(\"Unable to put data to database!\"), t && t(!1);\n      }, r.onsuccess = function (e) {\n        t && t(!0);\n      };\n    } else t && t(!1);\n  });\n}, FamilyTree.idb.delete = function (e, t) {\n  FamilyTree.idb._open(function (i) {\n    if (i) {\n      var r = FamilyTree.idb.db.transaction([FamilyTree.idb.tableName], \"readwrite\").objectStore(FamilyTree.idb.tableName).delete(e);\n      r.onerror = function (e) {\n        console.error(\"Unable to retrieve data from database!\"), t && t(!1);\n      }, r.onsuccess = function (e) {\n        r.error ? t && t(!1) : t && t(!0);\n      };\n    } else t && t(!1);\n  });\n}, FamilyTree.toolbarUI = function () {}, FamilyTree.toolbarUI.expandAllIcon = '<svg style=\"margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;\" width=\"32px\" height=\"32px\"><marker id=\"arrow\" viewBox=\"0 0 10 10\" refX=\"5\" refY=\"5\" markerWidth=\"4\" markerHeight=\"4\" orient=\"auto-start-reverse\"><path d=\"M 0 0 L 10 5 L 0 10 z\" fill=\"#757575\" /></marker><line x1=\"11\" y1=\"11\" x2=\"6\" y2=\"6\" stroke=\"#757575\" stroke-width=\"2\" marker-end=\"url(#arrow)\" /><line x1=\"21\" y1=\"11\" x2=\"26\" y2=\"6\" stroke=\"#757575\" stroke-width=\"2\" marker-end=\"url(#arrow)\" /><line x1=\"21\" y1=\"21\" x2=\"26\" y2=\"26\" stroke=\"#757575\" stroke-width=\"2\" marker-end=\"url(#arrow)\" /><line x1=\"11\" y1=\"21\" x2=\"6\" y2=\"26\" stroke=\"#757575\" stroke-width=\"2\" marker-end=\"url(#arrow)\" /><rect x=\"12\" y=\"12\" width=\"8\" height=\"8\" fill=\"#757575\"></rect></svg>', FamilyTree.toolbarUI.fitIcon = '<svg  style=\"margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;\" width=\"32px\" height=\"32px\"><path stroke-width=\"3\" fill=\"none\" stroke=\"#757575\" d=\"M4,11 L4,4 L11,4\"></path><path stroke-width=\"3\" fill=\"none\" stroke=\"#757575\" d=\"M28,11 L28,4 L21,4\"></path><path stroke-width=\"3\" fill=\"none\" stroke=\"#757575\" d=\"M28,21 L28,28 L21,28\"></path><path stroke-width=\"3\" fill=\"none\" stroke=\"#757575\" d=\"M4,21 L4,28 L11,28\"></path><circle cx=\"16\" cy=\"16\" r=\"5\" fill=\"#757575\"></circle></svg>', FamilyTree.toolbarUI.openFullScreenIcon = '<svg  style=\"margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;\" width=\"32px\" height=\"32px\"><path stroke-width=\"3\" fill=\"none\" stroke=\"#757575\" d=\"M4,11 L4,4 L11,4\"></path><path stroke-width=\"3\" fill=\"none\" stroke=\"#757575\" d=\"M28,11 L28,4 L21,4\"></path><path stroke-width=\"3\" fill=\"none\" stroke=\"#757575\" d=\"M28,21 L28,28 L21,28\"></path><path stroke-width=\"3\" fill=\"none\" stroke=\"#757575\" d=\"M4,21 L4,28 L11,28\"></path><line x1=\"5\" y1=\"5\" x2=\"27\" y2=\"27\" stroke-width=\"3\" stroke=\"#757575\"></line><line x1=\"5\" y1=\"27\" x2=\"27\" y2=\"5\" stroke-width=\"3\" stroke=\"#757575\"></line></svg>', FamilyTree.toolbarUI.closeFullScreenIcon = '<svg  style=\"margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;\" width=\"32px\" height=\"32px\"><path stroke-width=\"3\" fill=\"none\" stroke=\"#757575\" d=\"M4,11 L4,4 L11,4\"></path><path stroke-width=\"3\" fill=\"none\" stroke=\"#757575\" d=\"M28,11 L28,4 L21,4\"></path><path stroke-width=\"3\" fill=\"none\" stroke=\"#757575\" d=\"M28,21 L28,28 L21,28\"></path><path stroke-width=\"3\" fill=\"none\" stroke=\"#757575\" d=\"M4,21 L4,28 L11,28\"></path><rect x=\"11\" y=\"11\" width=\"10\" height=\"10\" stroke-width=\"3\" fill=\"none\" stroke=\"#757575\" ></rect></svg>', FamilyTree.toolbarUI.zoomInIcon = '<svg style=\"box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border-left: 1px solid #cacaca; border-right: 1px solid #cacaca; border-top: 1px solid #cacaca; background-color: #f9f9f9;display: block; cursor: pointer;\" width=\"32px\" height=\"32px\" ><g><rect fill=\"#f9f9f9\" x=\"0\" y=\"0\" width=\"32\" height=\"32\" ></rect><line x1=\"8\" y1=\"16\" x2=\"24\" y2=\"16\" stroke-width=\"3\" stroke=\"#757575\"></line><line x1=\"16\" y1=\"8\" x2=\"16\" y2=\"24\" stroke-width=\"3\" stroke=\"#757575\"></line></g><line x1=\"4\" y1=\"32\" x2=\"28\" y2=\"32\" stroke-width=\"1\" stroke=\"#cacaca\"></line></svg>', FamilyTree.toolbarUI.zoomOutIcon = '<svg style=\"box-shadow: 0px 1px 4px rgba(0,0,0,0.3); margin-bottom:7px; border-left: 1px solid #cacaca; border-right: 1px solid #cacaca; border-bottom: 1px solid #cacaca; background-color: #f9f9f9;display: block; cursor: pointer;\" width=\"32px\" height=\"32px\" ><g><rect fill=\"#f9f9f9\" x=\"0\" y=\"0\" width=\"32\" height=\"32\" ></rect><line x1=\"8\" y1=\"16\" x2=\"24\" y2=\"16\" stroke-width=\"3\" stroke=\"#757575\"></line></g></svg>', FamilyTree.toolbarUI.layoutIcon = \"<svg \" + FamilyTree.attr.tlbr + '=\"layout\" style=\"box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;\" width=\"32px\" height=\"32px\"><path stroke-width=\"3\" fill=\"none\" stroke=\"#757575\" d=\"M8,24 L16,14 L24,24\"></path><path stroke-width=\"3\" fill=\"none\" stroke=\"#757575\" d=\"M8,16 L16,8 L24,16\"></path></svg>', FamilyTree.toolbarUI.prototype.init = function (e, t) {\n  if (t) {\n    this.obj = e, this.toolbar = t, this._visible = !1, this.div = document.createElement(\"div\"), this.div.classList.add(\"bft-toolbar-container\"), Object.assign(this.div.style, {\n      position: \"absolute\",\n      padding: \"3px\",\n      right: this.obj.config.padding - 10 + \"px\",\n      bottom: this.obj.config.padding - 10 + \"px\"\n    }), t.expandAll && (this.div.innerHTML += \"<div \" + FamilyTree.attr.tlbr + '=\"expand\">' + FamilyTree.toolbarUI.expandAllIcon + \"</div>\"), t.fit && (this.div.innerHTML += \"<div \" + FamilyTree.attr.tlbr + '=\"fit\">' + FamilyTree.toolbarUI.fitIcon + \"</div>\"), t.zoom && (this.div.innerHTML += \"<div \" + FamilyTree.attr.tlbr + '=\"plus\">' + FamilyTree.toolbarUI.zoomInIcon + \"</div>\", this.div.innerHTML += \"<div \" + FamilyTree.attr.tlbr + '=\"minus\">' + FamilyTree.toolbarUI.zoomOutIcon + \"</div>\"), t.layout && (this.div.innerHTML += \"<div \" + FamilyTree.attr.tlbr + '=\"layout\">' + FamilyTree.toolbarUI.layoutIcon + \"</div>\", this.layouts = document.createElement(\"div\"), this.layouts.classList.add(\"bft-toolbar-layout\"), this.layouts.innerHTML = \"<svg \" + FamilyTree.attr.layout + '=\"normal\" style=\"cursor: pointer;\" width=\"110\" height=\"100\"><rect fill=\"#039BE5\" x=\"35\" y=\"0\" width=\"50\" height=\"27\"></rect><rect fill=\"#F57C00\" x=\"7\" y=\"41\" width=\"50\" height=\"27\"></rect><rect fill=\"#F57C00\" x=\"63\" y=\"41\" width=\"50\" height=\"27\"></rect><line stroke=\"#000000\" x1=\"60\" x2=\"60\" y1=\"27\" y2=\"35\" stroke-width=\"1\"></line><line stroke=\"#000000\" x1=\"32\" x2=\"88\" y1=\"35\" y2=\"35\" stroke-width=\"1\"></line><line stroke=\"#000000\" x1=\"32\" x2=\"32\" y1=\"35\" y2=\"41\" stroke-width=\"1\"></line><line stroke=\"#000000\" x1=\"88\" x2=\"88\" y1=\"35\" y2=\"41\" stroke-width=\"1\"></line></svg><svg ' + FamilyTree.attr.layout + '=\"treeRightOffset\" style=\"cursor: pointer;\" width=\"110\" height=\"100\"><rect fill=\"#039BE5\" x=\"35\" y=\"0\" width=\"50\" height=\"27\"></rect><rect fill=\"#F57C00\" x=\"40\" y=\"41\" width=\"50\" height=\"27\"></rect><rect fill=\"#F57C00\" x=\"40\" y=\"73\" width=\"50\" height=\"27\"></rect><line stroke=\"#000000\" x1=\"60\" x2=\"60\" y1=\"27\" y2=\"35\" stroke-width=\"1\"></line><line stroke=\"#000000\" x1=\"60\" x2=\"35\" y1=\"35\" y2=\"35\" stroke-width=\"1\"></line><line stroke=\"#000000\" x1=\"35\" x2=\"35\" y1=\"35\" y2=\"86\" stroke-width=\"1\"></line><line stroke=\"#000000\" x1=\"35\" x2=\"40\" y1=\"86\" y2=\"86\" stroke-width=\"1\"></line><line stroke=\"#000000\" x1=\"35\" x2=\"40\" y1=\"54\" y2=\"54\" stroke-width=\"1\"></line></svg><svg ' + FamilyTree.attr.layout + '=\"treeLeftOffset\" style=\"cursor: pointer;\" width=\"110\" height=\"100\"><rect fill=\"#039BE5\" x=\"35\" y=\"0\" width=\"50\" height=\"27\"></rect><rect fill=\"#F57C00\" x=\"30\" y=\"41\" width=\"50\" height=\"27\"></rect><rect fill=\"#F57C00\" x=\"30\" y=\"73\" width=\"50\" height=\"27\"></rect><line stroke=\"#000000\" x1=\"60\" x2=\"60\" y1=\"27\" y2=\"35\" stroke-width=\"1\"></line><line stroke=\"#000000\" x1=\"60\" x2=\"85\" y1=\"35\" y2=\"35\" stroke-width=\"1\"></line><line stroke=\"#000000\" x1=\"85\" x2=\"85\" y1=\"35\" y2=\"86\" stroke-width=\"1\"></line><line stroke=\"#000000\" x1=\"80\" x2=\"85\" y1=\"86\" y2=\"86\" stroke-width=\"1\"></line><line stroke=\"#000000\" x1=\"80\" x2=\"85\" y1=\"54\" y2=\"54\" stroke-width=\"1\"></line></svg><svg ' + FamilyTree.attr.layout + '=\"mixed\" style=\"cursor: pointer;\" width=\"110\" height=\"100\"><rect fill=\"#039BE5\" x=\"35\" y=\"0\" width=\"50\" height=\"27\"></rect><rect fill=\"#F57C00\" x=\"35\" y=\"41\" width=\"50\" height=\"27\"></rect><rect fill=\"#F57C00\" x=\"35\" y=\"73\" width=\"50\" height=\"27\"></rect><line stroke=\"#000000\" x1=\"60\" x2=\"60\" y1=\"27\" y2=\"41\" stroke-width=\"1\"></line><line stroke=\"#000000\" x1=\"60\" x2=\"60\" y1=\"68\" y2=\"73\" stroke-width=\"1\"></line></svg><svg ' + FamilyTree.attr.layout + '=\"tree\" style=\"cursor: pointer;\" width=\"110\" height=\"100\"><rect fill=\"#039BE5\" x=\"35\" y=\"0\" width=\"50\" height=\"27\"></rect><rect fill=\"#F57C00\" x=\"7\" y=\"41\" width=\"50\" height=\"27\"></rect><rect fill=\"#F57C00\" x=\"7\" y=\"73\" width=\"50\" height=\"27\"></rect><rect fill=\"#F57C00\" x=\"63\" y=\"41\" width=\"50\" height=\"27\"></rect><rect fill=\"#F57C00\" x=\"63\" y=\"73\" width=\"50\" height=\"27\"></rect><line stroke=\"#000000\" x1=\"60\" x2=\"60\" y1=\"27\" y2=\"86\" stroke-width=\"1\"></line><line stroke=\"#000000\" x1=\"57\" x2=\"63\" y1=\"54\" y2=\"54\" stroke-width=\"1\"></line><line stroke=\"#000000\" x1=\"57\" x2=\"63\" y1=\"86\" y2=\"86\" stroke-width=\"1\"></line></svg>', this.obj.element.appendChild(this.layouts)), t.fullScreen && (this.div.innerHTML += \"<div \" + FamilyTree.attr.tlbr + '=\"fullScreen\">' + FamilyTree.toolbarUI.openFullScreenIcon + \"</div>\"), this.obj.element.appendChild(this.div), this.layoutBtn = this.div.querySelector(\"[\" + FamilyTree.attr.tlbr + '=\"layout\"]');\n    var i = this.div.querySelector(\"[\" + FamilyTree.attr.tlbr + '=\"plus\"]'),\n      r = this.div.querySelector(\"[\" + FamilyTree.attr.tlbr + '=\"minus\"]'),\n      a = this.div.querySelector(\"[\" + FamilyTree.attr.tlbr + '=\"fit\"]'),\n      n = this.div.querySelector(\"[\" + FamilyTree.attr.tlbr + '=\"fullScreen\"]'),\n      o = this.div.querySelector(\"[\" + FamilyTree.attr.tlbr + '=\"expand\"]'),\n      l = this;\n    i && i.addEventListener(\"click\", function () {\n      l.obj.zoom(!0, null, !0);\n    }), r && r.addEventListener(\"click\", function () {\n      l.obj.zoom(!1, null, !0);\n    }), a && a.addEventListener(\"click\", function () {\n      l.obj.fit();\n    }), n && n.addEventListener(\"click\", function () {\n      l.obj.toggleFullScreen();\n    }), o && o.addEventListener(\"click\", function () {\n      l.obj.expand(null, \"all\");\n    }), this.layoutBtn && this.layoutBtn.addEventListener(\"click\", function () {\n      l._visible ? l.hideLayout() : l.showLayout();\n    }), this.layouts && this.layouts.addEventListener(\"click\", function (e) {\n      for (var t = e.target; t;) {\n        if (t.hasAttribute && t.hasAttribute(FamilyTree.attr.layout)) {\n          t = t.getAttribute(FamilyTree.attr.layout), l.obj.setLayout(FamilyTree[t]);\n          break;\n        }\n        t = t.parentNode;\n      }\n    });\n  }\n}, FamilyTree.toolbarUI.prototype.showLayout = function () {\n  this._visible = !0, this.layoutBtn.style.transform = \"rotate(180deg) translateX(0px) translateY(0px)\", FamilyTree.animate(this.div, {\n    bottom: this.obj.config.padding - 10\n  }, {\n    bottom: this.obj.config.padding + 135\n  }, this.obj.config.anim.duration, this.obj.config.anim.func), FamilyTree.animate(this.layouts, {\n    bottom: -145\n  }, {\n    bottom: 0\n  }, this.obj.config.anim.duration, this.obj.config.anim.func);\n}, FamilyTree.toolbarUI.prototype.hideLayout = function () {\n  this._visible = !1, this.layoutBtn.style.transform = \"rotate(0deg) translateX(0px) translateY(0px)\", FamilyTree.animate(this.div, {\n    bottom: this.obj.config.padding + 135\n  }, {\n    bottom: this.obj.config.padding - 10\n  }, this.obj.config.anim.duration, this.obj.config.anim.func), FamilyTree.animate(this.layouts, {\n    bottom: 0\n  }, {\n    bottom: -145\n  }, this.obj.config.anim.duration, this.obj.config.anim.func);\n}, FamilyTree.notifierUI = function () {}, FamilyTree.notifierUI.prototype.init = function (e) {\n  this.obj = e;\n}, FamilyTree.notifierUI.prototype.show = function (e, t) {\n  if (null == e) return !1;\n  1 == e && (e = FamilyTree.MAX_NODES_MESS, t = \"#FFCA28\"), 2 == e && (e = FamilyTree.OFFLINE_MESS, t = \"#FFCA28\");\n  var i = document.createElement(\"div\");\n  i.innerHTML = e, Object.assign(i.style, {\n    position: \"absolute\",\n    \"background-color\": t,\n    color: \"#ffffff\",\n    padding: \"15px\",\n    \"border-radius\": \"40px\",\n    opacity: 0,\n    overflow: \"hidden\",\n    \"white-space\": \"nowrap\",\n    \"text-align\": \"center\"\n  }), this.obj.element.appendChild(i);\n  var r = this.obj.width() / 2 - i.offsetWidth / 2,\n    a = this.obj.height() / 2 - i.offsetHeight / 2;\n  i.style.left = r + \"px\", i.style.top = a + \"px\";\n  var n = i.offsetWidth;\n  return i.style.width = \"20px\", FamilyTree.animate(i, {\n    opacity: 0,\n    width: 10\n  }, {\n    opacity: 1,\n    width: n\n  }, this.obj.config.anim.duration, this.obj.config.anim.func), !0;\n}, void 0 === FamilyTree && (FamilyTree = {}), FamilyTree._validateConfig = function (e) {\n  return !!e || (console.error(\"config is not defined\"), !1);\n}, FamilyTree._arrayContains = function (e, t) {\n  if (e && Array.isArray(e)) for (var i = e.length; i--;) if (e[i] === t) return !0;\n  return !1;\n}, FamilyTree._interceptions = function (e, t) {\n  if (!e) return [];\n  if (!t) return [];\n  var i = [];\n  if (Array.isArray(e) && Array.isArray(t)) for (var r in e) for (var a in t) e[r] == t[a] && i.push(e[r]);else if (Array.isArray(e) && !Array.isArray(t)) for (var r in e) for (var a in t) e[r] == a && i.push(e[r]);else if (!Array.isArray(e) && Array.isArray(t)) for (var r in e) for (var a in t) r == t[a] && i.push(t[a]);\n  return i;\n}, FamilyTree._getTags = function (e) {\n  return e.tags && !Array.isArray(e.tags) ? e.tags.split(\",\") : e.tags && Array.isArray(e.tags) ? e.tags : [];\n}, FamilyTree._centerPointInPercent = function (e, t, i) {\n  var r = e.getBoundingClientRect(),\n    a = t - r.left,\n    n = i - r.top;\n  return [a / (r.width / 100), n / (r.height / 100)];\n}, FamilyTree._trim = function (e) {\n  return e.replace(/^\\s+|\\s+$/g, \"\");\n}, FamilyTree._getTransform = function (e) {\n  var t = e.getAttribute(\"transform\");\n  return t = t.replace(\"matrix\", \"\").replace(\"(\", \"\").replace(\")\", \"\"), FamilyTree._browser().msie && (t = t.replace(/ /g, \",\")), t = \"[\" + (t = FamilyTree._trim(t)) + \"]\", t = JSON.parse(t);\n}, FamilyTree.getScale = function (e, t, i, r, a, n, o, l) {\n  var s = 1;\n  if (e || r !== FamilyTree.match.boundary) {\n    if (e || r !== FamilyTree.match.width) {\n      if (e || r !== FamilyTree.match.height) {\n        if (e) {\n          var d, c;\n          s = (d = t / e[2]) > (c = i / e[3]) ? c : d;\n        } else s = r;\n      } else s = i / l;\n    } else s = t / o;\n  } else s = (d = t / o) > (c = i / l) ? c : d;\n  return s && s > a && (s = a), s && s < n && (s = n), s;\n}, FamilyTree.isObject = function (e) {\n  return e && \"object\" == typeof e && !Array.isArray(e) && null !== e;\n}, FamilyTree.fileUploadDialog = function (e) {\n  var t = document.createElement(\"INPUT\");\n  t.setAttribute(\"type\", \"file\"), t.style.display = \"none\", t.onchange = function () {\n    var t = this.files[0];\n    e(t);\n  }, document.body.appendChild(t), t.click();\n}, FamilyTree.mergeDeep = function (e, t) {\n  if (FamilyTree.isObject(e) && FamilyTree.isObject(t)) for (var i in t) FamilyTree.isObject(t[i]) ? (e[i] || Object.assign(e, {\n    [i]: {}\n  }), FamilyTree.mergeDeep(e[i], t[i])) : Object.assign(e, {\n    [i]: t[i]\n  });\n  return e;\n}, FamilyTree._lblIsImg = function (e, t) {\n  return !(!e.nodeBinding || \"string\" != typeof t || -1 == t.indexOf(\"img\") || !e.nodeBinding[t]);\n}, FamilyTree._getFistImgField = function (e) {\n  if (e.nodeBinding) for (var t in e.nodeBinding) if (-1 != t.indexOf(\"img\")) return e.nodeBinding[t];\n  return !1;\n}, FamilyTree._fieldIsImg = function (e, t) {\n  if (e.nodeBinding) for (var i in e.nodeBinding) if (e.nodeBinding[i] == t) return FamilyTree._lblIsImg(e, i);\n  return !1;\n}, FamilyTree._guid = function () {\n  function e() {\n    return Math.floor(65536 * (1 + Math.random())).toString(16).substring(1);\n  }\n  return e() + e() + \"-\" + e() + \"-\" + e() + \"-\" + e() + \"-\" + e() + e() + e();\n}, FamilyTree.htmlRipple = function (e) {\n  var t = document.createElement(\"style\");\n  t.type = \"text/css\", t.innerHTML = \" .bft-ripple-container {position: absolute; top: 0; right: 0; bottom: 0; left: 0; } .bft-ripple-container span {transform: scale(0);border-radius:100%;position:absolute;opacity:0.75;background-color:#fff;animation: bft-ripple 1000ms; }@-moz-keyframes bft-ripple {to {opacity: 0;transform: scale(2);}}@-webkit-keyframes bft-ripple {to {opacity: 0;transform: scale(2);}}@-o-keyframes bft-ripple {to {opacity: 0;transform: scale(2);}}@keyframes bft-ripple {to {opacity: 0;transform: scale(2);}}\", document.head.appendChild(t);\n  var i,\n    r,\n    a,\n    n = document.createElement(\"div\");\n  n.className = \"bft-ripple-container\", e.addEventListener(\"mousedown\", function (t) {\n    var i, r, a, n, o;\n    return this, r = document.createElement(\"span\"), a = this.offsetWidth, i = this.getBoundingClientRect(), o = t.pageX - i.left - a / 2, n = \"top:\" + (t.pageY - i.top - a / 2) + \"px; left: \" + o + \"px; height: \" + a + \"px; width: \" + a + \"px;\", e.rippleContainer.appendChild(r), r.setAttribute(\"style\", n);\n  }), e.addEventListener(\"mouseup\", (i = function () {\n    for (; this.rippleContainer.firstChild;) this.rippleContainer.removeChild(this.rippleContainer.firstChild);\n  }, r = 2e3, a = void 0, function () {\n    var e, t;\n    return t = this, e = arguments, clearTimeout(a), a = setTimeout(function () {\n      return i.apply(t, e);\n    }, r);\n  })), e.rippleContainer = n, e.appendChild(n);\n}, FamilyTree._moveToBoundaryArea = function (e, t, i, r) {\n  var a = t.slice(0);\n  t[0] < i.left && t[0] < i.right && (a[0] = i.left > i.right ? i.right : i.left), t[0] > i.right && t[0] > i.left && (a[0] = i.left > i.right ? i.left : i.right), t[1] < i.top && t[1] < i.bottom && (a[1] = i.top > i.bottom ? i.bottom : i.top), t[1] > i.bottom && t[1] > i.top && (a[1] = i.top > i.bottom ? i.top : i.bottom), t[0] !== a[0] || t[1] !== a[1] ? FamilyTree.animate(e, {\n    viewBox: t\n  }, {\n    viewBox: a\n  }, 300, FamilyTree.anim.outPow, function () {\n    r && r();\n  }) : r && r();\n}, FamilyTree.randomId = function () {\n  return \"_\" + (\"0000\" + (Math.random() * Math.pow(36, 4) | 0).toString(36)).slice(-4);\n}, FamilyTree._getClientXY = function (e) {\n  return -1 == e.type.indexOf(\"touch\") ? {\n    x: e.clientX,\n    y: e.clientY\n  } : e.changedTouches.length ? {\n    x: e.changedTouches[0].clientX,\n    y: e.changedTouches[0].clientY\n  } : void 0;\n}, FamilyTree._getClientTouchesXY = function (e, t) {\n  return -1 != e.type.indexOf(\"touch\") ? e.touches.length < t + 1 ? {\n    x: null,\n    y: null\n  } : {\n    x: e.touches[t].clientX,\n    y: e.touches[t].clientY\n  } : {\n    x: e.clientX,\n    y: e.clientY\n  };\n}, FamilyTree._getOffset = function (e, t) {\n  e && (t.x += e.offsetLeft, t.y += e.offsetTop, FamilyTree._getOffset(e.offsetParent, t));\n}, FamilyTree._getTopLeft = function (e) {\n  var t = {\n    x: 0,\n    y: 0\n  };\n  return FamilyTree._getOffset(e, t), t;\n}, FamilyTree._getOffsetXY = function (e, t) {\n  if (-1 == t.type.indexOf(\"touch\")) return {\n    x: t.offsetX,\n    y: t.offsetY\n  };\n  if (t.touches.length) {\n    var i = FamilyTree._getTopLeft(e);\n    return {\n      x: t.touches[0].pageX - i.x,\n      y: t.touches[0].pageY - i.y\n    };\n  }\n  if (t.changedTouches.length) {\n    i = FamilyTree._getTopLeft(e);\n    return {\n      x: t.changedTouches[0].pageX - i.x,\n      y: t.changedTouches[0].pageY - i.y\n    };\n  }\n}, FamilyTree._pinchMiddlePointInPercent = function (e, t, i, r) {\n  var a = FamilyTree._getTopLeft(e),\n    n = r.touches[0].pageX - a.x,\n    o = r.touches[0].pageY - a.y,\n    l = r.touches[1].pageX - a.x,\n    s = r.touches[1].pageY - a.y;\n  return [((n - l) / 2 + l) / (t / 100), ((o - s) / 2 + s) / (i / 100)];\n}, FamilyTree._browser = function () {\n  var e = !!window.opr && !!window.opr.addons || !!window.opera || navigator.userAgent.indexOf(\" OPR/\") >= 0,\n    t = \"undefined\" != typeof InstallTrigger,\n    i = /constructor/i.test(window.HTMLElement) || \"[object SafariRemoteNotification]\" === (!window.safari || void 0 !== window.safari && safari.pushNotification).toString(),\n    r = !!document.documentMode,\n    a = !r && !!window.StyleMedia,\n    n = !(!window.chrome || !window.chrome.webstore && !window.chrome.runtime);\n  return {\n    opera: e,\n    firefox: t,\n    safari: i,\n    msie: r,\n    edge: a,\n    chrome: n,\n    blink: (n || e) && !!window.CSS\n  };\n}, FamilyTree._menuPosition = function (e, t, i) {\n  var r = e.getBoundingClientRect(),\n    a = i.getBoundingClientRect(),\n    n = t.getBoundingClientRect(),\n    o = r.left - a.left,\n    l = r.top - a.top;\n  return r.top + n.height > a.top + a.height && (l -= n.height), r.left - n.width < a.left && (o += n.width), {\n    x: o,\n    y: l\n  };\n}, FamilyTree._getTemplate = function (e, t, i) {\n  if (Array.isArray(e)) for (var r = 0; r < e.length; r++) {\n    var a = t[e[r]];\n    if (a && a.template) return a.template;\n  }\n  return i;\n}, FamilyTree._getMin = function (e, t) {\n  if (e.tags && e.tags.length && t.tags) for (var i = 0; i < e.tags.length; i++) {\n    var r = t.tags[e.tags[i]];\n    if (r && !0 === r.min) return !0;\n  }\n  return t.min;\n}, FamilyTree._getSubLevels = function (e, t) {\n  if (e && e.length) for (var i = 0; i < e.length; i++) {\n    var r = t[e[i]];\n    if (r && r.subLevels) return r.subLevels;\n  }\n  return 0;\n}, FamilyTree._isHTML = function (e) {\n  var t = new DOMParser().parseFromString(e, \"text/html\");\n  return Array.from(t.body.childNodes).some(e => 1 === e.nodeType);\n}, FamilyTree._getTestDiv = function () {\n  var e = document.getElementById(\"orgfamily_js_test_div\");\n  return e || ((e = document.createElement(\"div\")).id = \"orgfamily_js_test_div\", e.style.position = \"fixed\", e.style.top = \"-10000px\", e.style.left = \"-10000px\", document.body.appendChild(e)), e;\n}, FamilyTree._getLabelSize = function (e) {\n  var t = FamilyTree._getTestDiv();\n  return t.innerHTML = \"<svg>\" + e + \"</svg>\", t.querySelector(\"text\").getBoundingClientRect();\n}, FamilyTree.wrapText = function (e, t) {\n  var i = t.toLowerCase();\n  if (-1 == i.indexOf(\"<text\")) return FamilyTree._escapeHtml(e);\n  if (-1 == i.indexOf(FamilyTree.attr.width)) return FamilyTree._escapeHtml(e);\n  if (-1 != i.indexOf(\"foreignobject\")) return FamilyTree._escapeHtml(e);\n  if (-1 == t.indexOf(FamilyTree.attr.width)) return FamilyTree._escapeHtml(e);\n  if (FamilyTree.ESCAPE_HTML && \"string\" == typeof str && FamilyTree._isHTML(e)) return FamilyTree._escapeHtml(e);\n  if (!FamilyTree.ESCAPE_HTML && FamilyTree._isHTML(e)) return e;\n  var r = FamilyTree._getTestDiv();\n  t = t.replaceAll(\"{cw}\", 0), r.innerHTML = \"<svg>\" + t + \"</svg>\";\n  var a,\n    n,\n    o = new DOMParser().parseFromString(t, \"text/xml\").getElementsByTagName(\"text\")[0],\n    l = parseFloat(o.getAttribute(\"x\")),\n    s = parseFloat(o.getAttribute(\"y\")),\n    d = o.getAttribute(\"text-anchor\"),\n    c = o.getAttribute(FamilyTree.attr.width),\n    m = o.getAttribute(FamilyTree.attr.text_overflow),\n    p = \"http://www.w3.org/2000/svg\",\n    h = r.getElementsByTagName(\"svg\")[0].getElementsByTagName(\"text\")[0];\n  m || (m = \"ellipsis\");\n  var f = m.split(\"-\");\n  if (f.length > 1 && (a = parseInt(m.split(\"-\")[1]), f.length > 2 && \"ellipsis\" == f[2] && (n = !0)), !c) return FamilyTree._escapeHtml(e);\n  if (c = parseFloat(c), l || (l = 0), s || (s = 0), l || (d = \"start\"), \"ellipsis\" == m) {\n    h.removeChild(h.firstChild), h.textContent = e;\n    for (var u = h.getComputedTextLength(), y = 2; u > c;) h.textContent = e.substring(0, e.length - y), h.textContent += \"...\", u = h.getComputedTextLength(), y++;\n    return y > 2 ? `<title>${FamilyTree._escapeHtml(e)}</title>${h.textContent}` : FamilyTree._escapeHtml(e);\n  }\n  if (-1 != m.indexOf(\"multiline\")) {\n    var g = e.split(\" \"),\n      v = h.getBBox().height;\n    h.textContent = \"\";\n    var T = document.createElementNS(p, \"tspan\"),\n      b = document.createTextNode(g[0]);\n    T.setAttributeNS(null, \"x\", l), T.setAttributeNS(null, \"y\", s), T.setAttributeNS(null, \"text-anchor\", d), T.appendChild(b), h.appendChild(T);\n    y = 1;\n    for (var F = 1, x = 1; x < g.length; x++) {\n      var _ = T.firstChild.data.length;\n      if (T.firstChild.data += \" \" + g[x], T.getComputedTextLength() > c) {\n        if (T.firstChild.data = T.firstChild.data.slice(0, _), F++, a && F > a) {\n          if (n && h.children.length == a) {\n            var w = h.children[a - 1].textContent;\n            h.children[a - 1].textContent = w.substring(0, w.length - 3) + \"...\";\n          }\n          break;\n        }\n        (T = document.createElementNS(p, \"tspan\")).setAttributeNS(null, \"x\", l), T.setAttributeNS(null, \"y\", s + v * y), T.setAttributeNS(null, \"text-anchor\", d), b = document.createTextNode(g[x]), T.appendChild(b), h.appendChild(T), y++;\n      }\n    }\n    var k = \"\";\n    if (null != h.innerHTML) k = h.innerHTML, h.innerHTML = \"\";else {\n      var S = \"\";\n      for (x = h.childNodes.length - 1; x >= 0; x--) S = XMLSerializer().serializeToString(h.childNodes[x]) + S, h.removeChild(h.childNodes[x]);\n      k = S;\n    }\n    return k;\n  }\n}, FamilyTree._downloadFile = function (e, t, i, r, a) {\n  var n = new Blob([t], {\n    type: e\n  });\n  if (1 == r) {\n    var o = URL.createObjectURL(n);\n    window.open(o, \"_blank\").focus();\n  } else if (navigator.msSaveBlob) navigator.msSaveBlob(n, i);else {\n    var l = document.createElement(\"a\");\n    if (void 0 !== l.download) {\n      o = URL.createObjectURL(n);\n      l.setAttribute(\"href\", o);\n      var s = i;\n      s.toLowerCase().endsWith(a.toLowerCase()) || (s = s + \".\" + a), l.setAttribute(\"download\", s), l.style.visibility = \"hidden\", document.body.appendChild(l), l.click(), document.body.removeChild(l);\n    }\n  }\n}, FamilyTree._getPosition = function (e, t, i, r) {\n  var a = {\n    x: t.x,\n    y: t.y\n  };\n  if (null != i && (a.x = i), null != r && (a.y = i), e && 3 == e.length) {\n    var n = e[0].indexOf(t.id);\n    -1 != n && null != e[1][n].transform && (null == i && (a.x = e[1][n].transform[4]), null == r && (a.y = e[1][n].transform[5]));\n  }\n  return a;\n}, FamilyTree._getOpacity = function (e, t) {\n  var i = 1;\n  if (e && 3 == e.length) {\n    var r = e[0].indexOf(t.id);\n    -1 != r && null != e[1][r].opacity && (i = e[1][r].opacity);\n  }\n  return i;\n}, FamilyTree.t = function (e, t, i) {\n  var r = FamilyTree.templates[e];\n  null == r && console.error(`Template \"${e}\" does not exist!`);\n  var a = null;\n  if (null != i && r.scaleLessThen) {\n    var n = [];\n    for (var o in r.scaleLessThen) {\n      var l = parseFloat(o);\n      i < l && n.push(l);\n    }\n    if (n.length > 0) {\n      n.sort(function (e, t) {\n        return e - t;\n      });\n      var s = r.scaleLessThen[n[0]];\n      for (var d in s) null == a && (a = Object.assign({}, r)), a[d] = s[d];\n    }\n  }\n  return t ? null == a ? r.min ? r.min : r : a.min ? a.min : a : null == a ? r : a;\n}, FamilyTree.setNodeSize = function (e) {\n  var t = FamilyTree.t(e.templateName, e.min);\n  e.w = t && t.size ? t.size[0] : 0, e.h = t && t.size ? t.size[1] : 0;\n}, FamilyTree._imgs2base64 = function (e, t, i, r) {\n  var a = e.getElementsByTagName(t),\n    n = a.length;\n  0 == n && r();\n  for (var o = 0; o < n; o++) !function () {\n    var e = o,\n      t = a[e];\n    FamilyTree._getDataUri(t.getAttribute(i), function (a) {\n      a.success && t.setAttribute(i, a.result), e == n - 1 && r();\n    });\n  }();\n}, FamilyTree._getDataUri = function (e, t) {\n  if (-1 != e.indexOf(\"base64\")) t({\n    success: !1\n  });else {\n    var i = new XMLHttpRequest();\n    i.open(\"GET\", e), i.responseType = \"blob\", i.onload = function () {\n      200 === i.status ? r.readAsDataURL(i.response) : 404 === i.status && t({\n        success: !1,\n        result: i.status\n      });\n    };\n    var r = new FileReader();\n    r.onloadend = function () {\n      t({\n        success: !0,\n        result: r.result\n      });\n    }, i.send();\n  }\n}, FamilyTree._convertStringToArray = function (e, t) {\n  return -1 != FamilyTree.ARRAY_FIELDS.indexOf(e) ? FamilyTree.isNEU(t) ? [] : t.split(\",\") : t;\n}, FamilyTree._convertArrayToString = function (e) {\n  return !FamilyTree.isNEU(e) && Array.isArray(e) ? e.join() : e;\n}, FamilyTree._csvToArray = function (e, t) {\n  t = t || FamilyTree.CSV_DELIMITER;\n  for (var i = new RegExp(\"(\\\\\" + t + '|\\\\r?\\\\n|\\\\r|^)(?:\"([^\"]*(?:\"\"[^\"]*)*)\"|([^\"\\\\' + t + \"\\\\r\\\\n]*))\", \"gi\"), r = [[]], a = null; a = i.exec(e);) {\n    var n,\n      o = a[1];\n    o.length && o !== t && r.push([]), n = a[2] ? a[2].replace(new RegExp('\"\"', \"g\"), '\"') : a[3], r[r.length - 1].push(n);\n  }\n  return r;\n}, FamilyTree._json2xml = function (e) {\n  for (var t = document.implementation.createDocument(\"\", \"\", null), i = t.createElement(\"nodes\"), r = 0; r < e.length; r++) {\n    var a = t.createElement(\"node\"),\n      n = e[r];\n    for (var o in n) {\n      var l = n[o];\n      a.setAttribute(o, FamilyTree._convertArrayToString(l));\n    }\n    i.appendChild(a);\n  }\n  return t.appendChild(i), '<?xml version=\"1.0\" encoding=\"utf-8\" ?>' + new XMLSerializer().serializeToString(t.documentElement);\n}, FamilyTree._xml2json = function (e) {\n  for (var t = new DOMParser().parseFromString(e, \"text/xml\").getElementsByTagName(\"node\"), i = [], r = 0; r < t.length; r++) {\n    for (var a = t[r], n = {}, o = 0; o < a.attributes.length; o++) {\n      var l = a.attributes[o];\n      n[l.name] = FamilyTree._convertStringToArray(l.name, l.value);\n    }\n    i.push(n);\n  }\n  return i;\n}, FamilyTree.convertNodesToCsv = function (e) {\n  return FamilyTree._json2csv(e);\n}, FamilyTree._json2csv = function (e) {\n  for (var t = [], i = function (e) {\n      for (var i = \"\", r = 0; r < t.length; r++) {\n        var a;\n        (a = \"reportsTo\" == t[r] ? null : null == e[t[r]] ? \"\" : e[t[r]]) instanceof Date && (a = a.toLocaleString());\n        var n = (a = null === a ? \"\" : a.toString()).replace(/\"/g, '\"\"'),\n          o = new RegExp('(\"|;|\\n)', \"g\");\n        n.search(o) >= 0 && (n = '\"' + n + '\"'), r > 0 && (i += FamilyTree.CSV_DELIMITER), i += n;\n      }\n      return i + \"\\n\";\n    }, r = \"\", a = 0; a < e.length; a++) for (var n in e[a]) FamilyTree._arrayContains(t, n) || (t.push(n), r += n + FamilyTree.CSV_DELIMITER);\n  r = r.substring(0, r.length - 1), r += \"\\n\";\n  for (a = 0; a < e.length; a++) r += i(e[a]);\n  return r = r.substring(0, r.length - 1);\n}, FamilyTree.accentFold = function (e) {\n  return (e = e.toString().toLowerCase()).replace(/([àáâãäå])|([ç])|([èéêë])|([ìíîï])|([ñ])|([òóôõöø])|([ß])|([ùúûü])|([ÿ])|([æ])/g, function (e, t, i, r, a, n, o, l, s, d, c) {\n    return t ? \"a\" : i ? \"c\" : r ? \"e\" : a ? \"i\" : n ? \"n\" : o ? \"o\" : l ? \"s\" : s ? \"u\" : d ? \"y\" : c ? \"ae\" : void 0;\n  });\n}, FamilyTree.copy = function (e) {\n  if (null === e || \"object\" != typeof e || \"isActiveClone\" in e) return e;\n  if (e instanceof Date) var t = new e.constructor();else t = e.constructor();\n  for (var i in e) Object.prototype.hasOwnProperty.call(e, i) && (e.isActiveClone = null, t[i] = FamilyTree.copy(e[i]), delete e.isActiveClone);\n  return t;\n}, FamilyTree._getScrollSensitivity = function () {\n  var e = FamilyTree._browser();\n  return e.msie && FamilyTree.scroll.ie ? FamilyTree.scroll.ie : e.edge && FamilyTree.scroll.edge ? FamilyTree.scroll.edge : e.safari && FamilyTree.scroll.safari ? FamilyTree.scroll.safari : e.chrome && FamilyTree.scroll.chrome ? FamilyTree.scroll.chrome : e.firefox && FamilyTree.scroll.firefox ? FamilyTree.scroll.firefox : e.opera && FamilyTree.scroll.opera ? FamilyTree.scroll.opera : {\n    smooth: FamilyTree.scroll.smooth,\n    speed: FamilyTree.scroll.speed\n  };\n}, FamilyTree.isMobile = function () {\n  return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n}, FamilyTree.isTrial = function () {\n  return void 0 !== FamilyTree.remote;\n}, FamilyTree.childrenCount = function (e, t) {\n  for (var i = 0, r = 0; r < t.childrenIds.length; r++) {\n    e.nodes[t.childrenIds[r]] && i++;\n  }\n  return i;\n}, FamilyTree.childrenTotalCount = function (e, t) {\n  for (var i = 0, r = 0; r < t.childrenIds.length; r++) {\n    var a = e.nodes[t.childrenIds[r]];\n    a && (i++, i += FamilyTree.childrenTotalCount(e, a));\n  }\n  return i;\n}, FamilyTree.collapsedChildrenCount = function (e, t) {\n  for (var i = 0, r = 0; r < t.childrenIds.length; r++) {\n    var a = e.nodes[t.childrenIds[r]];\n    a && !0 === a.collapsed && i++;\n  }\n  return i;\n}, FamilyTree.collapsedChildrenTotalCount = function (e, t, i) {\n  for (var r = 0, a = 0; a < t.childrenIds.length; a++) {\n    var n = e.nodes[t.childrenIds[a]];\n    n && ((i || !0 === n.collapsed) && r++, r += FamilyTree.collapsedChildrenTotalCount(e, n, !0));\n  }\n  return r;\n}, FamilyTree._setMinMaxXY = function (e, t) {\n  (null == t.minX || null != e.x && e.x < t.minX) && (t.minX = e.x), (null == t.minY || null != e.y && e.y < t.minY) && (t.minY = e.y), (null == t.maxX || null != e.x && e.x + e.w > t.maxX) && (t.maxX = e.x + e.w), (null == t.maxY || null != e.y && e.y + e.h > t.maxY) && (t.maxY = e.y + e.h);\n}, FamilyTree.getStParentNodes = function (e, t) {\n  for (t || (t = []); e.parent;) e = e.parent;\n  return e.stParent && (t.push(e.stParent), FamilyTree.getStParentNodes(e.stParent, t)), t;\n}, FamilyTree.getRootOf = function (e) {\n  for (; e && e.parent;) e = e.parent;\n  return e;\n}, FamilyTree._getViewBox = function (e) {\n  var t = null;\n  return e ? (t = (t = \"[\" + (t = e.getAttribute(\"viewBox\")) + \"]\").replace(/\\ /g, \",\"), t = JSON.parse(t)) : null;\n}, FamilyTree.isNEU = function (e) {\n  return null == e || \"\" === e;\n}, FamilyTree.gradientCircleForDefs = function (e, t, i, r) {\n  function a(e, t, i, r) {\n    var a = (r - 90) * Math.PI / 180;\n    return {\n      x: e + i * Math.cos(a),\n      y: t + i * Math.sin(a)\n    };\n  }\n  function n(e, t, i, r, n) {\n    var o = a(e, t, i, n),\n      l = a(e, t, i, r),\n      s = n - r <= 180 ? \"0\" : \"1\";\n    return [\"M\", o.x, o.y, \"A\", i, i, 0, s, 0, l.x, l.y].join(\" \");\n  }\n  return Array.isArray(t) || (t = [t, t, t, t, t, t]), `<linearGradient id=\"${e}_linearColors1\" x1=\"0\" y1=\"0\" x2=\"1\" y2=\"1\">\\n            <stop offset=\"0%\" stop-color=\"${t[0]}\"></stop>\\n            <stop offset=\"100%\" stop-color=\"${t[1]}\"></stop>\\n        </linearGradient>\\n        <linearGradient id=\"${e}_linearColors2\" x1=\"0.5\" y1=\"0\" x2=\"0.5\" y2=\"1\">\\n            <stop offset=\"0%\" stop-color=\"${t[1]}\"></stop>\\n            <stop offset=\"100%\" stop-color=\"${t[2]}\"></stop>\\n        </linearGradient>\\n        <linearGradient id=\"${e}_linearColors3\" x1=\"1\" y1=\"0\" x2=\"0\" y2=\"1\">\\n            <stop offset=\"0%\" stop-color=\"${t[2]}\"></stop>\\n            <stop offset=\"100%\" stop-color=\"${t[3]}\"></stop>\\n        </linearGradient>\\n        <linearGradient id=\"${e}_linearColors4\" x1=\"1\" y1=\"1\" x2=\"0\" y2=\"0\">\\n            <stop offset=\"0%\" stop-color=\"${t[3]}\"></stop>\\n            <stop offset=\"100%\" stop-color=\"${t[4]}\"></stop>\\n        </linearGradient>\\n        <linearGradient id=\"${e}_linearColors5\" x1=\"0.5\" y1=\"1\" x2=\"0.5\" y2=\"0\">\\n            <stop offset=\"0%\" stop-color=\"${t[4]}\"></stop>\\n            <stop offset=\"100%\" stop-color=\"${t[5]}\"></stop>\\n        </linearGradient>\\n        <linearGradient id=\"${e}_linearColors6\" x1=\"0\" y1=\"1\" x2=\"1\" y2=\"0\">\\n            <stop offset=\"0%\" stop-color=\"${t[5]}\"></stop>\\n            <stop offset=\"100%\" stop-color=\"${t[0]}\"></stop>\\n        </linearGradient>        \\n        <g id=\"${e}\">\\n            <path stroke-width=\"${r}\" fill=\"none\" stroke=\"url(#${e}_linearColors1)\" d=\"${n(i, i, i, 1, 60)}\"  />\\n            <path stroke-width=\"${r}\" fill=\"none\" stroke=\"url(#${e}_linearColors2)\" d=\"${n(i, i, i, 60, 120)}\"/>\\n            <path stroke-width=\"${r}\" fill=\"none\" stroke=\"url(#${e}_linearColors3)\" d=\"${n(i, i, i, 120, 180)}\" />\\n            <path stroke-width=\"${r}\" fill=\"none\" stroke=\"url(#${e}_linearColors4)\" d=\"${n(i, i, i, 180, 240)}\" />\\n            <path stroke-width=\"${r}\" fill=\"none\" stroke=\"url(#${e}_linearColors5)\" d=\"${n(i, i, i, 240, 300)}\" />\\n            <path stroke-width=\"${r}\" fill=\"none\" stroke=\"url(#${e}_linearColors6)\" d=\"${n(i, i, i, 300, 1)}\"/>\\n        </g>`;\n}, FamilyTree._intersectionObserver = function (e, t) {\n  \"function\" == typeof IntersectionObserver ? new IntersectionObserver(function (e, i) {\n    e.forEach(function (e) {\n      var i = e.intersectionRatio > 0;\n      0 == e.intersectionRatio && (i = e.isIntersecting), t(i);\n    });\n  }).observe(e) : t(!0);\n}, FamilyTree.convertCsvToNodes = function (e) {\n  for (var t = FamilyTree._csvToArray(e), i = t[0], r = [], a = 1; a < t.length; a++) {\n    for (var n = {}, o = 0; o < t[a].length; o++) {\n      var l = i[o],\n        s = t[a][o];\n      n[i[o]] = FamilyTree._convertStringToArray(l, s);\n    }\n    \"\" != n.id.trim() && r.push(n);\n  }\n  return r;\n}, FamilyTree._escapeHtml = function (e) {\n  return FamilyTree.ESCAPE_HTML && \"string\" == typeof e ? e.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#039;\") : e;\n}, FamilyTree._escapeDoubleQuotes = function (e) {\n  return \"string\" == typeof e ? e.replace(/\"/g, \"&quot;\") : e;\n}, FamilyTree._escapeGreaterLessSign = function (e) {\n  return \"string\" == typeof e ? e.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\") : e;\n}, FamilyTree.roundPathCorners = function (e, t, i) {\n  function r(e, t, i) {\n    var r = t.x - e.x,\n      n = t.y - e.y,\n      o = Math.sqrt(r * r + n * n);\n    return a(e, t, Math.min(1, i / o));\n  }\n  function a(e, t, i) {\n    return {\n      x: e.x + (t.x - e.x) * i,\n      y: e.y + (t.y - e.y) * i\n    };\n  }\n  function n(e, t) {\n    e.length > 2 && (e[e.length - 2] = t.x, e[e.length - 1] = t.y);\n  }\n  function o(e) {\n    return {\n      x: parseFloat(e[e.length - 2]),\n      y: parseFloat(e[e.length - 1])\n    };\n  }\n  Array.isArray(e) || (e = (e = e.split(/[,\\s]/).reduce(function (e, t) {\n    var i = t.match(\"([a-zA-Z])(.+)\");\n    return i ? (e.push(i[1]), e.push(i[2])) : e.push(t), e;\n  }, [])).reduce(function (e, t) {\n    return parseFloat(t) == t && e.length ? e[e.length - 1].push(t) : e.push([t]), e;\n  }, []));\n  var l = [];\n  if (e.length > 1) {\n    var s = o(e[0]),\n      d = null;\n    \"Z\" == e[e.length - 1][0] && e[0].length > 2 && (d = [\"L\", s.x, s.y], e[e.length - 1] = d), l.push(e[0]);\n    for (var c = 1; c < e.length; c++) {\n      var m = l[l.length - 1],\n        p = e[c],\n        h = p == d ? e[1] : e[c + 1];\n      if (h && m && m.length > 2 && \"L\" == p[0] && h.length > 2 && \"L\" == h[0]) {\n        var f,\n          u,\n          y = o(m),\n          g = o(p),\n          v = o(h);\n        i ? (f = a(g, m.origPoint || y, t), u = a(g, h.origPoint || v, t)) : (f = r(g, y, t), u = r(g, v, t)), n(p, f), p.origPoint = g, l.push(p);\n        var T = a(f, g, .5),\n          b = a(g, u, .5),\n          F = [\"C\", T.x, T.y, b.x, b.y, u.x, u.y];\n        F.origPoint = g, l.push(F);\n      } else l.push(p);\n    }\n    if (d) {\n      var x = o(l[l.length - 1]);\n      l.push([\"Z\"]), n(l[0], x);\n    }\n  } else l = e;\n  return l.reduce(function (e, t) {\n    return e + t.join(\" \") + \" \";\n  }, \"\");\n}, FamilyTree._isMoved = function (e) {\n  return null != e.movex || null != e.movey;\n}, FamilyTree._changeRootOption = function (e, t, i) {\n  for (var r = [], a = 0; a < t.length; a++) for (var n = 0; n < i.length; n++) if (i[n].has(t[a])) {\n    r = i[n];\n    break;\n  }\n  for (a = 0; a < r.length; a++) {\n    var o = e.indexOf(r[a]);\n    -1 != o && e.splice(o, 1);\n  }\n  t.length && e.push(t[0]);\n}, FamilyTree._convertStringToArrayOnImport = function (e, t) {\n  return \"tags\" == e || \"pids\" == e ? FamilyTree.isNEU(t) ? [] : t.split(\",\") : t;\n}, void 0 === FamilyTree && (FamilyTree = {}), FamilyTree.icon = {}, FamilyTree.icon.png = function (e, t, i) {\n  return '<svg width=\"' + e + '\" height=\"' + t + '\" viewBox=\"0 0 550.801 550.801\"><path fill=\"' + i + '\" d=\"M146.747,276.708c0-13.998-9.711-22.352-26.887-22.352c-6.99,0-11.726,0.675-14.204,1.355v44.927 c2.932,0.676,6.539,0.896,11.52,0.896C135.449,301.546,146.747,292.28,146.747,276.708z\"/><path fill=\"' + i + '\" d=\"M488.426,197.019H475.2v-63.816c0-0.398-0.063-0.799-0.116-1.202c-0.021-2.534-0.827-5.023-2.562-6.995L366.325,3.694 c-0.032-0.031-0.063-0.042-0.085-0.076c-0.633-0.707-1.371-1.295-2.151-1.804c-0.231-0.155-0.464-0.285-0.706-0.419 c-0.676-0.369-1.393-0.675-2.131-0.896c-0.2-0.056-0.38-0.138-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.873v160.545 c0,17.043,13.824,30.87,30.873,30.87h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87v-160.54C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.513c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M234.344,335.86v45.831h-31.601V229.524h40.184 l31.611,55.759c9.025,16.031,18.064,34.983,24.825,52.154h0.675c-2.257-20.103-2.933-40.643-2.933-63.44v-44.473h31.614v152.167 h-36.117l-32.516-58.703c-9.049-16.253-18.971-35.892-26.438-53.727l-0.665,0.222C233.906,289.58,234.344,311.027,234.344,335.86z M71.556,381.691V231.56c10.613-1.804,25.516-3.159,46.506-3.159c21.215,0,36.353,4.061,46.509,12.192 c9.698,7.673,16.255,20.313,16.255,35.219c0,14.897-4.959,27.549-13.999,36.123c-11.738,11.063-29.123,16.031-49.441,16.031 c-4.522,0-8.593-0.231-11.736-0.675v54.411H71.556V381.691z M453.601,523.353H97.2V419.302h356.4V523.353z M485.652,374.688 c-10.61,3.607-30.713,8.585-50.805,8.585c-27.759,0-47.872-7.003-61.857-20.545c-13.995-13.1-21.684-32.97-21.452-55.318 c0.222-50.569,37.03-79.463,86.917-79.463c19.644,0,34.783,3.829,42.219,7.446l-7.214,27.543c-8.369-3.617-18.752-6.55-35.458-6.55 c-28.656,0-50.341,16.256-50.341,49.22c0,31.382,19.649,49.892,47.872,49.892c7.895,0,14.218-0.901,16.934-2.257v-31.835h-23.493 v-26.869h56.679V374.688z\"/></svg>';\n}, FamilyTree.icon.pdf = function (e, t, i) {\n  return '<svg width=\"' + e + '\" height=\"' + t + '\" viewBox=\"0 0 550.801 550.801\"><path fill=\"' + i + '\" d=\"M160.381,282.225c0-14.832-10.299-23.684-28.474-23.684c-7.414,0-12.437,0.715-15.071,1.432V307.6 c3.114,0.707,6.942,0.949,12.192,0.949C148.419,308.549,160.381,298.74,160.381,282.225z\"/><path fill=\"' + i + '\" d=\"M272.875,259.019c-8.145,0-13.397,0.717-16.519,1.435v105.523c3.116,0.729,8.142,0.729,12.69,0.729 c33.017,0.231,54.554-17.946,54.554-56.474C323.842,276.719,304.215,259.019,272.875,259.019z\"/><path fill=\"' + i + '\" d=\"M488.426,197.019H475.2v-63.816c0-0.398-0.063-0.799-0.116-1.202c-0.021-2.534-0.827-5.023-2.562-6.995L366.325,3.694 c-0.032-0.031-0.063-0.042-0.085-0.076c-0.633-0.707-1.371-1.295-2.151-1.804c-0.231-0.155-0.464-0.285-0.706-0.419 c-0.676-0.369-1.393-0.675-2.131-0.896c-0.2-0.056-0.38-0.138-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.873v160.545 c0,17.043,13.824,30.87,30.873,30.87h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87v-160.54C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.513c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M362.359,309.023c0,30.876-11.243,52.165-26.82,65.333 c-16.971,14.117-42.82,20.814-74.396,20.814c-18.9,0-32.297-1.197-41.401-2.389V234.365c13.399-2.149,30.878-3.346,49.304-3.346 c30.612,0,50.478,5.508,66.039,17.226C351.828,260.69,362.359,280.547,362.359,309.023z M80.7,393.499V234.365 c11.241-1.904,27.042-3.346,49.296-3.346c22.491,0,38.527,4.308,49.291,12.928c10.292,8.131,17.215,21.534,17.215,37.328 c0,15.799-5.25,29.198-14.829,38.285c-12.442,11.728-30.865,16.996-52.407,16.996c-4.778,0-9.1-0.243-12.435-0.723v57.67H80.7 V393.499z M453.601,523.353H97.2V419.302h356.4V523.353z M484.898,262.127h-61.989v36.851h57.913v29.674h-57.913v64.848h-36.593 V232.216h98.582V262.127z\"/></svg>';\n}, FamilyTree.icon.svg = function (e, t, i) {\n  return '<svg width=\"' + e + '\" height=\"' + t + '\" viewBox=\"0 0 550.801 550.801\"><path fill=\"' + i + '\" d=\"M488.426,197.019H475.2v-63.816c0-0.398-0.063-0.799-0.116-1.202c-0.021-2.534-0.827-5.023-2.562-6.995L366.325,3.694 c-0.032-0.031-0.063-0.042-0.085-0.076c-0.633-0.707-1.371-1.295-2.151-1.804c-0.231-0.155-0.464-0.285-0.706-0.419 c-0.676-0.369-1.393-0.675-2.131-0.896c-0.2-0.056-0.38-0.138-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.873v160.545 c0,17.043,13.824,30.87,30.873,30.87h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87v-160.54C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.513c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M338.871,225.672L284.545,386.96h-42.591 l-51.69-161.288h39.967l19.617,68.196c5.508,19.143,10.531,37.567,14.36,57.67h0.717c4.061-19.385,9.089-38.527,14.592-56.953 l20.585-68.918h38.77V225.672z M68.458,379.54l7.415-30.153c9.811,5.021,24.888,10.051,40.439,10.051 c16.751,0,25.607-6.935,25.607-17.465c0-10.052-7.662-15.795-27.05-22.734c-26.8-9.328-44.263-24.168-44.263-47.611 c0-27.524,22.971-48.579,61.014-48.579c18.188,0,31.591,3.823,41.159,8.131l-8.126,29.437c-6.465-3.116-17.945-7.657-33.745-7.657 c-15.791,0-23.454,7.183-23.454,15.552c0,10.296,9.089,14.842,29.917,22.731c28.468,10.536,41.871,25.365,41.871,48.094 c0,27.042-20.812,50.013-65.09,50.013C95.731,389.349,77.538,384.571,68.458,379.54z M453.601,523.353H97.2V419.302h356.4V523.353z M488.911,379.54c-11.243,3.823-32.537,9.103-53.831,9.103c-29.437,0-50.73-7.426-65.57-21.779 c-14.839-13.875-22.971-34.942-22.738-58.625c0.253-53.604,39.255-84.235,92.137-84.235c20.81,0,36.852,4.073,44.74,7.896 l-7.657,29.202c-8.859-3.829-19.849-6.95-37.567-6.95c-30.396,0-53.357,17.233-53.357,52.173c0,33.265,20.81,52.882,50.73,52.882 c8.375,0,15.072-0.96,17.94-2.395v-33.745h-24.875v-28.471h60.049V379.54L488.911,379.54z\" /></svg>';\n}, FamilyTree.icon.csv = function (e, t, i) {\n  return '<svg width=\"' + e + '\" height=\"' + t + '\" viewBox=\"0 0 548.29 548.291\" ><path fill=\"' + i + '\" d=\"M486.2,196.121h-13.164V132.59c0-0.399-0.064-0.795-0.116-1.2c-0.021-2.52-0.824-5-2.551-6.96L364.656,3.677 c-0.031-0.034-0.064-0.044-0.085-0.075c-0.629-0.707-1.364-1.292-2.141-1.796c-0.231-0.157-0.462-0.286-0.704-0.419 c-0.672-0.365-1.386-0.672-2.121-0.893c-0.199-0.052-0.377-0.134-0.576-0.188C358.229,0.118,357.4,0,356.562,0H96.757 C84.893,0,75.256,9.649,75.256,21.502v174.613H62.093c-16.972,0-30.733,13.756-30.733,30.73v159.81 c0,16.966,13.761,30.736,30.733,30.736h13.163V526.79c0,11.854,9.637,21.501,21.501,21.501h354.777 c11.853,0,21.502-9.647,21.502-21.501V417.392H486.2c16.966,0,30.729-13.764,30.729-30.731v-159.81 C516.93,209.872,503.166,196.121,486.2,196.121z M96.757,21.502h249.053v110.006c0,5.94,4.818,10.751,10.751,10.751h94.973v53.861 H96.757V21.502z M258.618,313.18c-26.68-9.291-44.063-24.053-44.063-47.389c0-27.404,22.861-48.368,60.733-48.368 c18.107,0,31.447,3.811,40.968,8.107l-8.09,29.3c-6.43-3.107-17.862-7.632-33.59-7.632c-15.717,0-23.339,7.149-23.339,15.485 c0,10.247,9.047,14.769,29.78,22.632c28.341,10.479,41.681,25.239,41.681,47.874c0,26.909-20.721,49.786-64.792,49.786 c-18.338,0-36.449-4.776-45.497-9.77l7.38-30.016c9.772,5.014,24.775,10.006,40.264,10.006c16.671,0,25.488-6.908,25.488-17.396 C285.536,325.789,277.909,320.078,258.618,313.18z M69.474,302.692c0-54.781,39.074-85.269,87.654-85.269 c18.822,0,33.113,3.811,39.549,7.149l-7.392,28.816c-7.38-3.084-17.632-5.939-30.491-5.939c-28.822,0-51.206,17.375-51.206,53.099 c0,32.158,19.051,52.4,51.456,52.4c10.947,0,23.097-2.378,30.241-5.238l5.483,28.346c-6.672,3.34-21.674,6.919-41.208,6.919 C98.06,382.976,69.474,348.424,69.474,302.692z M451.534,520.962H96.757v-103.57h354.777V520.962z M427.518,380.583h-42.399 l-51.45-160.536h39.787l19.526,67.894c5.479,19.046,10.479,37.386,14.299,57.397h0.709c4.048-19.298,9.045-38.352,14.526-56.693 l20.487-68.598h38.599L427.518,380.583z\" /></svg>';\n}, FamilyTree.icon.json = function (e, t, i) {\n  return '<svg width=\"' + e + '\" height=\"' + t + '\" viewBox=\"0 0 32 32\" ><polygon fill=\"' + i + '\"  points=\"31 11 31 21 29 21 27 15 27 21 25 21 25 11 27 11 29 17 29 11 31 11\"/><path fill=\"' + i + '\"  d=\"M21.3335,21h-2.667A1.6684,1.6684,0,0,1,17,19.3335v-6.667A1.6684,1.6684,0,0,1,18.6665,11h2.667A1.6684,1.6684,0,0,1,23,12.6665v6.667A1.6684,1.6684,0,0,1,21.3335,21ZM19,19h2V13H19Z\"/><path fill=\"' + i + '\"  d=\"M13.3335,21H9V19h4V17H11a2.002,2.002,0,0,1-2-2V12.6665A1.6684,1.6684,0,0,1,10.6665,11H15v2H11v2h2a2.002,2.002,0,0,1,2,2v2.3335A1.6684,1.6684,0,0,1,13.3335,21Z\"/><path fill=\"' + i + '\"  d=\"M5.3335,21H2.6665A1.6684,1.6684,0,0,1,1,19.3335V17H3v2H5V11H7v8.3335A1.6684,1.6684,0,0,1,5.3335,21Z\"/><rect fill=\"' + i + '\"  id=\"_Transparent_Rectangle_\" data-name=\"&lt;Transparent Rectangle&gt;\" style=\"fill: none;\" width=\"32\" height=\"32\"/></svg>';\n}, FamilyTree.icon.excel = function (e, t, i) {\n  return '<svg width=\"' + e + '\" height=\"' + t + '\" viewBox=\"0 0 512 512\"><path fill=\"#ECEFF1\" d=\"M496,432.011H272c-8.832,0-16-7.168-16-16s0-311.168,0-320s7.168-16,16-16h224 c8.832,0,16,7.168,16,16v320C512,424.843,504.832,432.011,496,432.011z\" /><path fill=\"' + i + '\" d=\"M336,176.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,176.011,336,176.011z\" /><path fill=\"' + i + '\" d=\"M336,240.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,240.011,336,240.011z\" /><path fill=\"' + i + '\" d=\"M336,304.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,304.011,336,304.011z\" /><path fill=\"' + i + '\" d=\"M336,368.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,368.011,336,368.011z\" /><path fill=\"' + i + '\" d=\"M432,176.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,176.011,432,176.011z\" /><path fill=\"' + i + '\" d=\"M432,240.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,240.011,432,240.011z\" /><path fill=\"' + i + '\" d=\"M432,304.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,304.011,432,304.011z\" /><path fill=\"' + i + '\" d=\"M432,368.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,368.011,432,368.011z\" /><path fill=\"' + i + '\"  d=\"M282.208,19.691c-3.648-3.04-8.544-4.352-13.152-3.392l-256,48C5.472,65.707,0,72.299,0,80.011v352 c0,7.68,5.472,14.304,13.056,15.712l256,48c0.96,0.192,1.952,0.288,2.944,0.288c3.712,0,7.328-1.28,10.208-3.68 c3.68-3.04,5.792-7.584,5.792-12.32v-448C288,27.243,285.888,22.731,282.208,19.691z\" /><path fill=\"#FAFAFA\" d=\"M220.032,309.483l-50.592-57.824l51.168-65.792c5.44-6.976,4.16-17.024-2.784-22.464 c-6.944-5.44-16.992-4.16-22.464,2.784l-47.392,60.928l-39.936-45.632c-5.856-6.72-15.968-7.328-22.56-1.504 c-6.656,5.824-7.328,15.936-1.504,22.56l44,50.304L83.36,310.187c-5.44,6.976-4.16,17.024,2.784,22.464 c2.944,2.272,6.432,3.36,9.856,3.36c4.768,0,9.472-2.112,12.64-6.176l40.8-52.48l46.528,53.152 c3.168,3.648,7.584,5.504,12.032,5.504c3.744,0,7.488-1.312,10.528-3.968C225.184,326.219,225.856,316.107,220.032,309.483z\" /></svg>';\n}, FamilyTree.icon.edit = function (e, t, i) {\n  return '<svg width=\"' + e + '\" height=\"' + t + '\" viewBox=\"0 0 528.899 528.899\"><path fill=\"' + i + '\" d=\"M328.883,89.125l107.59,107.589l-272.34,272.34L56.604,361.465L328.883,89.125z M518.113,63.177l-47.981-47.981 c-18.543-18.543-48.653-18.543-67.259,0l-45.961,45.961l107.59,107.59l53.611-53.611 C532.495,100.753,532.495,77.559,518.113,63.177z M0.3,512.69c-1.958,8.812,5.998,16.708,14.811,14.565l119.891-29.069 L27.473,390.597L0.3,512.69z\" /></svg>';\n}, FamilyTree.icon.details = function (e, t, i) {\n  return '<svg width=\"' + e + '\" height=\"' + t + '\" viewBox=\"0 0 512 512\"><path fill=\"' + i + '\" d=\"M447.933,103.629c-0.034-3.076-1.224-6.09-3.485-8.352L352.683,3.511c-0.004-0.004-0.007-0.005-0.011-0.008 C350.505,1.338,347.511,0,344.206,0H89.278C75.361,0,64.04,11.32,64.04,25.237v461.525c0,13.916,11.32,25.237,25.237,25.237 h333.444c13.916,0,25.237-11.32,25.237-25.237V103.753C447.96,103.709,447.937,103.672,447.933,103.629z M356.194,40.931 l50.834,50.834h-49.572c-0.695,0-1.262-0.567-1.262-1.262V40.931z M423.983,486.763c0,0.695-0.566,1.261-1.261,1.261H89.278 c-0.695,0-1.261-0.566-1.261-1.261V25.237c0-0.695,0.566-1.261,1.261-1.261h242.94v66.527c0,13.916,11.322,25.239,25.239,25.239 h66.527V486.763z\"/><path fill=\"' + i + '\" d=\"M362.088,164.014H149.912c-6.62,0-11.988,5.367-11.988,11.988c0,6.62,5.368,11.988,11.988,11.988h212.175 c6.62,0,11.988-5.368,11.988-11.988C374.076,169.381,368.707,164.014,362.088,164.014z\"/><path fill=\"' + i + '\" d=\"M362.088,236.353H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.62,5.368,11.988,11.988,11.988h212.175 c6.62,0,11.988-5.368,11.988-11.988C374.076,241.721,368.707,236.353,362.088,236.353z\"/><path fill=\"' + i + '\" d=\"M362.088,308.691H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.621,5.368,11.988,11.988,11.988h212.175 c6.62,0,11.988-5.367,11.988-11.988C374.076,314.06,368.707,308.691,362.088,308.691z\"/><path fill=\"' + i + '\" d=\"M256,381.031H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.621,5.368,11.988,11.988,11.988H256 c6.62,0,11.988-5.367,11.988-11.988C267.988,386.398,262.62,381.031,256,381.031z\"/></svg>';\n}, FamilyTree.icon.remove = function (e, t, i) {\n  return '<svg width=\"' + e + '\" height=\"' + t + '\"  viewBox=\"0 0 900.5 900.5\"><path fill=\"' + i + '\" d=\"M176.415,880.5c0,11.046,8.954,20,20,20h507.67c11.046,0,20-8.954,20-20V232.487h-547.67V880.5L176.415,880.5z M562.75,342.766h75v436.029h-75V342.766z M412.75,342.766h75v436.029h-75V342.766z M262.75,342.766h75v436.029h-75V342.766z\"/><path fill=\"' + i + '\" d=\"M618.825,91.911V20c0-11.046-8.954-20-20-20h-297.15c-11.046,0-20,8.954-20,20v71.911v12.5v12.5H141.874 c-11.046,0-20,8.954-20,20v50.576c0,11.045,8.954,20,20,20h34.541h547.67h34.541c11.046,0,20-8.955,20-20v-50.576 c0-11.046-8.954-20-20-20H618.825v-12.5V91.911z M543.825,112.799h-187.15v-8.389v-12.5V75h187.15v16.911v12.5V112.799z\"/></svg>';\n}, FamilyTree.icon.add = function (e, t, i) {\n  return '<svg width=\"' + e + '\" height=\"' + t + '\"   viewBox=\"0 0 922 922\"><path fill=\"' + i + '\" d=\"M922,453V81c0-11.046-8.954-20-20-20H410c-11.045,0-20,8.954-20,20v149h318c24.812,0,45,20.187,45,45v198h149 C913.046,473.001,922,464.046,922,453z\" /><path fill=\"' + i + '\" d=\"M557,667.001h151c11.046,0,20-8.954,20-20v-174v-198c0-11.046-8.954-20-20-20H390H216c-11.045,0-20,8.954-20,20v149h194 h122c24.812,0,45,20.187,45,45v4V667.001z\" /><path fill=\"' + i + '\" d=\"M0,469v372c0,11.046,8.955,20,20,20h492c11.046,0,20-8.954,20-20V692v-12.501V667V473v-4c0-11.046-8.954-20-20-20H390H196 h-12.5H171H20C8.955,449,0,457.955,0,469z\" /></svg>';\n}, FamilyTree.icon.search = function (e, t, i) {\n  return '<svg width=\"' + e + '\" height=\"' + t + '\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 485.213 485.213\"><path fill=\"' + i + '\" d=\"M471.882,407.567L360.567,296.243c-16.586,25.795-38.536,47.734-64.331,64.321l111.324,111.324 c17.772,17.768,46.587,17.768,64.321,0C489.654,454.149,489.654,425.334,471.882,407.567z\" /><path fill=\"' + i + '\" d=\"M363.909,181.955C363.909,81.473,282.44,0,181.956,0C81.474,0,0.001,81.473,0.001,181.955s81.473,181.951,181.955,181.951 C282.44,363.906,363.909,282.437,363.909,181.955z M181.956,318.416c-75.252,0-136.465-61.208-136.465-136.46 c0-75.252,61.213-136.465,136.465-136.465c75.25,0,136.468,61.213,136.468,136.465 C318.424,257.208,257.206,318.416,181.956,318.416z\" /><path fill=\"' + i + '\" d=\"M75.817,181.955h30.322c0-41.803,34.014-75.814,75.816-75.814V75.816C123.438,75.816,75.817,123.437,75.817,181.955z\" /></svg>';\n}, FamilyTree.icon.xml = function (e, t, i) {\n  return '<svg width=\"' + e + '\" height=\"' + t + '\" viewBox=\"0 0 550.801 550.801\"><path fill=\"' + i + '\"  d=\"M488.426,197.019H475.2v-63.816c0-0.401-0.063-0.799-0.116-1.205c-0.021-2.534-0.827-5.023-2.562-6.992L366.325,3.691 c-0.032-0.031-0.063-0.042-0.085-0.073c-0.633-0.707-1.371-1.298-2.151-1.804c-0.231-0.158-0.464-0.287-0.706-0.422 c-0.676-0.366-1.393-0.675-2.131-0.896c-0.2-0.053-0.38-0.135-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.87v160.542 c0,17.044,13.824,30.876,30.873,30.876h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87V227.89C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.51c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M369.531,374.53h-32.058l-2.156-55.519 c-0.644-17.434-1.298-38.518-1.298-59.611h-0.633c-4.514,18.516-10.547,39.166-16.137,56.162l-17.645,56.601h-25.618 l-15.494-56.157c-4.725-16.996-9.671-37.658-13.123-56.6h-0.43c-0.854,19.585-1.508,41.961-2.586,60.038l-2.576,55.086h-30.343 l9.26-145.035h43.677l14.207,48.421c4.517,16.774,9.041,34.847,12.258,51.843h0.654c4.081-16.77,9.038-35.923,13.774-52.064 l15.493-48.199h42.82L369.531,374.53z M69.992,374.53l41.955-73.385l-40.444-71.65h37.655l12.688,26.465 c4.316,8.828,7.533,15.928,10.99,24.092h0.422c3.438-9.242,6.23-15.694,9.893-24.092l12.274-26.465h37.434l-40.89,70.796 l43.044,74.239h-37.866l-13.134-26.257c-5.376-10.108-8.817-17.639-12.909-26.04h-0.433c-3.009,8.401-6.674,15.932-11.19,26.04 l-12.042,26.257H69.992z M453.601,523.353H97.2V419.302h356.4V523.353z M485.325,374.53h-90.608V229.495h32.933v117.497h57.682 v27.538H485.325z\"/></svg>';\n}, FamilyTree.icon.link = function (e, t, i) {\n  return '<svg width=\"' + e + '\" height=\"' + t + '\" viewBox=\"0 0 512.092 512.092\"  ><path fill=\"' + i + '\" d=\"M312.453,199.601c-6.066-6.102-12.792-11.511-20.053-16.128c-19.232-12.315-41.59-18.859-64.427-18.859 c-31.697-0.059-62.106,12.535-84.48,34.987L34.949,308.23c-22.336,22.379-34.89,52.7-34.91,84.318 c-0.042,65.98,53.41,119.501,119.39,119.543c31.648,0.11,62.029-12.424,84.395-34.816l89.6-89.6 c1.628-1.614,2.537-3.816,2.524-6.108c-0.027-4.713-3.87-8.511-8.583-8.484h-3.413c-18.72,0.066-37.273-3.529-54.613-10.581 c-3.195-1.315-6.867-0.573-9.301,1.877l-64.427,64.512c-20.006,20.006-52.442,20.006-72.448,0 c-20.006-20.006-20.006-52.442,0-72.448l108.971-108.885c19.99-19.965,52.373-19.965,72.363,0 c13.472,12.679,34.486,12.679,47.957,0c5.796-5.801,9.31-13.495,9.899-21.675C322.976,216.108,319.371,206.535,312.453,199.601z\" /><path fill=\"' + i + '\" d=\"M477.061,34.993c-46.657-46.657-122.303-46.657-168.96,0l-89.515,89.429c-2.458,2.47-3.167,6.185-1.792,9.387 c1.359,3.211,4.535,5.272,8.021,5.205h3.157c18.698-0.034,37.221,3.589,54.528,10.667c3.195,1.315,6.867,0.573,9.301-1.877 l64.256-64.171c20.006-20.006,52.442-20.006,72.448,0c20.006,20.006,20.006,52.442,0,72.448l-80.043,79.957l-0.683,0.768 l-27.989,27.819c-19.99,19.965-52.373,19.965-72.363,0c-13.472-12.679-34.486-12.679-47.957,0 c-5.833,5.845-9.35,13.606-9.899,21.845c-0.624,9.775,2.981,19.348,9.899,26.283c9.877,9.919,21.433,18.008,34.133,23.893 c1.792,0.853,3.584,1.536,5.376,2.304c1.792,0.768,3.669,1.365,5.461,2.048c1.792,0.683,3.669,1.28,5.461,1.792l5.035,1.365 c3.413,0.853,6.827,1.536,10.325,2.133c4.214,0.626,8.458,1.025,12.715,1.195h5.973h0.512l5.12-0.597 c1.877-0.085,3.84-0.512,6.059-0.512h2.901l5.888-0.853l2.731-0.512l4.949-1.024h0.939c20.961-5.265,40.101-16.118,55.381-31.403 l108.629-108.629C523.718,157.296,523.718,81.65,477.061,34.993z\" /></svg>';\n}, FamilyTree.icon.happy = function (e, t, i) {\n  return '<svg width=\"' + e + '\" height=\"' + t + '\" viewBox=\"0 0 512 512\"><path fill=\"' + i + '\" d=\"M256,0C114.615,0,0,114.615,0,256s114.615,256,256,256s256-114.615,256-256S397.385,0,256,0z M256,480 C132.288,480,32,379.712,32,256S132.288,32,256,32s224,100.288,224,224S379.712,480,256,480z\"/><path fill=\"' + i + '\" d=\"M176,176c17.673,0,32,14.327,32,32h32c0-35.346-28.654-64-64-64c-35.346,0-64,28.654-64,64h32 C144,190.327,158.327,176,176,176z\"/><path fill=\"' + i + '\" d=\"M336,144c-35.346,0-64,28.654-64,64h32c0-17.673,14.327-32,32-32c17.673,0,32,14.327,32,32h32 C400,172.654,371.346,144,336,144z\"/><path fill=\"' + i + '\" d=\"M256,368c-53.019,0-96-42.981-96-96h-32c0,70.692,57.308,128,128,128s128-57.308,128-128h-32 C352,325.019,309.019,368,256,368z\"/></svg>';\n}, FamilyTree.icon.sad = function (e, t, i) {\n  return '<svg width=\"' + e + '\" height=\"' + t + '\" viewBox=\"0 0 512 512\"><path fill=\"' + i + '\" d=\"M256,0C114.615,0,0,114.615,0,256s114.615,256,256,256s256-114.615,256-256S397.385,0,256,0z M256,480 C132.288,480,32,379.712,32,256S132.288,32,256,32s224,100.288,224,224S379.712,480,256,480z\"/><path fill=\"' + i + '\" d=\"M336,192c-17.673,0-32-14.327-32-32h-32c0,35.346,28.654,64,64,64c35.346,0,64-28.654,64-64h-32 C368,177.673,353.673,192,336,192z\"/><path fill=\"' + i + '\" d=\"M176,224c35.346,0,64-28.654,64-64h-32c0,17.673-14.327,32-32,32s-32-14.327-32-32h-32C112,195.346,140.654,224,176,224z \"/><path fill=\"' + i + '\" d=\"M256,256c-70.692,0-128,57.308-128,128h32c0-53.019,42.981-96,96-96s96,42.981,96,96h32C384,313.308,326.692,256,256,256 z\"/></svg>';\n}, FamilyTree.icon.share = function (e, t, i, r, a) {\n  return null == r && (r = 0), null == a && (a = 0), `<svg width=\"${e}\" height=\"${t}\" x=\"${r}\" y=\"${a}\" viewBox=\"0 0 512 512\">\\n                <path fill=\"${i}\" d=\"M406,332c-29.641,0-55.761,14.581-72.167,36.755L191.99,296.124c2.355-8.027,4.01-16.346,4.01-25.124\\n                    c0-11.906-2.441-23.225-6.658-33.636l148.445-89.328C354.307,167.424,378.589,180,406,180c49.629,0,90-40.371,90-90\\n                    c0-49.629-40.371-90-90-90c-49.629,0-90,40.371-90,90c0,11.437,2.355,22.286,6.262,32.358l-148.887,89.59\\n                    C156.869,193.136,132.937,181,106,181c-49.629,0-90,40.371-90,90c0,49.629,40.371,90,90,90c30.13,0,56.691-15.009,73.035-37.806\\n                    l141.376,72.395C317.807,403.995,316,412.75,316,422c0,49.629,40.371,90,90,90c49.629,0,90-40.371,90-90\\n                    C496,372.371,455.629,332,406,332z\"/>\\n                </svg>`;\n}, FamilyTree.icon.user = function (e, t, i, r, a) {\n  return FamilyTree.isNEU(r) && (r = 0), FamilyTree.isNEU(a) && (a = 0), `<svg width=\"${e}\" height=\"${t}\" x=\"${r}\" y=\"${a}\" viewBox=\"0 0 24 24\">\\n                <path fill=\"${i}\" d=\"M12 11.796C14.7189 11.796 16.9231 9.60308 16.9231 6.89801C16.9231 4.19294 14.7189 2.00005 12 2.00005C9.28106 2.00005 7.07692 4.19294 7.07692 6.89801C7.07692 9.60308 9.28106 11.796 12 11.796Z\" fill=\"#030D45\"/>\\n                <path fill=\"${i}\" d=\"M14.5641 13.8369H9.4359C6.46154 13.8369 4 16.2859 4 19.245C4 19.9593 4.30769 20.5716 4.92308 20.8777C5.84615 21.3879 7.89744 22.0001 12 22.0001C16.1026 22.0001 18.1538 21.3879 19.0769 20.8777C19.5897 20.5716 20 19.9593 20 19.245C20 16.1838 17.5385 13.8369 14.5641 13.8369Z\" fill=\"#030D45\"/>\\n            </svg>`;\n}, FamilyTree.icon.close = function (e, t, i, r, a) {\n  return null == r && (r = 0), null == a && (a = 0), `<svg width=\"${e}\" height=\"${t}\" x=\"${r}\" y=\"${a}\" viewBox=\"0 0 512 512\">\\n    <path fill=\"${i}\" d=\"m256 0c-141.49 0-256 114.5-256 256 0 141.49 114.5 256 256 256 141.49 0 256-114.5 256-256 0-141.49-114.5-256-256-256zm-12.284 317.397-58.121 58.132c-6.565 6.553-15.283 10.166-24.557 10.166-19.196 0-34.734-15.526-34.734-34.734 0-9.274 3.612-17.992 10.166-24.557l58.132-58.121c6.785-6.784 6.785-17.783 0-24.568l-58.132-58.121c-6.553-6.565-10.166-15.283-10.166-24.557 0-19.196 15.526-34.734 34.734-34.734 9.274 0 17.992 3.613 24.557 10.166l58.121 58.132c6.785 6.773 17.784 6.773 24.568 0l58.121-58.132c6.565-6.553 15.283-10.166 24.557-10.166 19.196 0 34.734 15.526 34.734 34.734 0 9.274-3.612 17.992-10.166 24.557l-58.132 58.121c-6.785 6.784-6.785 17.783 0 24.568l58.132 58.121c6.553 6.565 10.166 15.283 10.166 24.557 0 19.196-15.526 34.734-34.734 34.734-9.274 0-17.992-3.613-24.557-10.166l-58.121-58.132c-6.784-6.784-17.784-6.773-24.568 0z\"/>\\n    </svg>`;\n}, FamilyTree.icon.undo = function (e, t, i, r, a) {\n  return null == r && (r = 0), null == a && (a = 0), `<svg width=\"${e}\" height=\"${t}\" x=\"${r}\" y=\"${a}\" viewBox=\"0 0 24 24\">\\n    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" fill=\"${i}\" d=\"M3.46447 3.46447C2 4.92893 2 7.28595 2 12C2 16.714 2 19.0711 3.46447 20.5355C4.92893 22 7.28595 22 12 22C16.714 22 19.0711 22 20.5355 20.5355C22 19.0711 22 16.7141 22 12C22 7.28598 22 4.92893 20.5355 3.46447C19.0711 2 16.714 2 12 2C7.28595 2 4.92893 2 3.46447 3.46447ZM9.25871 7.97395C9.56308 7.693 9.58205 7.21851 9.3011 6.91414C9.02015 6.60978 8.54565 6.5908 8.24129 6.87175L5.99129 8.94867C5.83748 9.09065 5.75 9.29045 5.75 9.49977C5.75 9.7091 5.83748 9.9089 5.99129 10.0509L8.24129 12.1278C8.54565 12.4088 9.02015 12.3898 9.3011 12.0854C9.58205 11.781 9.56308 11.3065 9.25871 11.0256L8.41824 10.2498H14.0385C14.7376 10.2498 15.2069 10.2506 15.5652 10.2862C15.9116 10.3205 16.0724 10.3813 16.1787 10.4501C16.3272 10.5461 16.4537 10.6726 16.5497 10.8211C16.6184 10.9274 16.6793 11.0882 16.7136 11.4345C16.7491 11.7929 16.75 12.2622 16.75 12.9613C16.75 13.6604 16.7491 14.1298 16.7136 14.4881C16.6793 14.8344 16.6185 14.9952 16.5497 15.1015C16.4537 15.2501 16.3272 15.3765 16.1787 15.4726C16.0724 15.5413 15.9116 15.6021 15.5652 15.6365C15.2069 15.672 14.7376 15.6729 14.0385 15.6729H9.5C9.08579 15.6729 8.75 16.0086 8.75 16.4229C8.75 16.8371 9.08579 17.1729 9.5 17.1729H14.0758C14.7279 17.1729 15.2721 17.1729 15.7133 17.1291C16.1748 17.0834 16.6038 16.9839 16.9931 16.7322C17.3199 16.5209 17.5981 16.2427 17.8094 15.916C18.0611 15.5266 18.1605 15.0976 18.2063 14.6361C18.25 14.195 18.25 13.6508 18.25 12.9987V12.924C18.25 12.2718 18.25 11.7276 18.2063 11.2865C18.1605 10.825 18.0611 10.396 17.8093 10.0067C17.5981 9.6799 17.3199 9.40169 16.9931 9.19042C16.6038 8.9387 16.1748 8.83927 15.7133 8.7935C15.2721 8.74975 14.7279 8.74976 14.0758 8.74977L8.41824 8.74977L9.25871 7.97395Z\" />\\n    <rect style=\"opacity: 0\" x=\"2\" y=\"2\" width=\"20\" height=\"20\"></rect>\\n    </svg>`;\n}, FamilyTree.icon.redo = function (e, t, i, r, a) {\n  return null == r && (r = 0), null == a && (a = 0), `<svg width=\"${e}\" height=\"${t}\" x=\"${r}\" y=\"${a}\" viewBox=\"0 0 24 24\" >\\n    <path fill=\"#f9f9f9\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" fill=\"${i}\" d=\"M3.46447 3.46447C2 4.92893 2 7.28595 2 12C2 16.714 2 19.0711 3.46447 20.5355C4.92893 22 7.28595 22 12 22C16.714 22 19.0711 22 20.5355 20.5355C22 19.0711 22 16.7141 22 12C22 7.28598 22 4.92893 20.5355 3.46447C19.0711 2 16.714 2 12 2C7.28595 2 4.92893 2 3.46447 3.46447ZM15.7587 6.87273C15.4543 6.59177 14.9799 6.61075 14.6989 6.91512C14.4179 7.21948 14.4369 7.69398 14.7413 7.97493L15.5818 8.75075H9.96155C7.63558 8.75075 5.75 10.6363 5.75 12.9623C5.75 15.2883 7.63557 17.1738 9.96154 17.1738H14.5C14.9142 17.1738 15.25 16.838 15.25 16.4238C15.25 16.0096 14.9142 15.6738 14.5 15.6738H9.96154C8.464 15.6738 7.25 14.4598 7.25 12.9623C7.25 11.4647 8.464 10.2508 9.96155 10.2508H15.5818L14.7413 11.0266C14.4369 11.3075 14.4179 11.782 14.6989 12.0864C14.9799 12.3908 15.4543 12.4097 15.7587 12.1288L18.0087 10.0519C18.1625 9.90987 18.25 9.71007 18.25 9.50075C18.25 9.29143 18.1625 9.09163 18.0087 8.94965L15.7587 6.87273Z\"/>\\n    <rect style=\"opacity: 0\" x=\"2\" y=\"2\" width=\"20\" height=\"20\"></rect>    \\n    </svg>`;\n}, FamilyTree.icon.ft = function (e, t, i, r, a) {\n  return `<svg width=\"${e}\" height=\"${t}\" x=\"${r}\" y=\"${a}\" viewBox=\"0 0 512 512\"  >\\n                <path fill=\"${i}\" d=\"m336.061 377.731c-5.086-6.54-14.511-7.717-21.049-2.631l-44.012 34.231v-200.331c0-8.284-6.716-15-15-15s-15 6.716-15 15v200.331l-44.011-34.231c-6.538-5.086-15.962-3.908-21.049 2.631-5.086 6.539-3.908 15.963 2.631 21.049l62.429 48.556v49.664c0 8.284 6.716 15 15 15s15-6.716 15-15v-49.664l62.429-48.556c6.54-5.086 7.717-14.51 2.632-21.049z\" />\\n                <path fill=\"${i}\" d=\"m271 497v-49.664l62.429-48.556c6.54-5.086 7.717-14.51 2.631-21.049-5.086-6.54-14.511-7.717-21.049-2.631l-44.011 34.231v-200.331c0-8.284-6.716-15-15-15v318c8.284 0 15-6.716 15-15z\" />\\n                <path fill=\"${i}\" d=\"m320 512h-128c-8.284 0-15-6.716-15-15s6.716-15 15-15h128c8.284 0 15 6.716 15 15s-6.716 15-15 15z\" />\\n                <path fill=\"${i}\" d=\"m320 482h-64v30h64c8.284 0 15-6.716 15-15s-6.716-15-15-15z\" />\\n                <path fill=\"${i}\" d=\"m400 439c-61.206 0-111-49.794-111-111s49.794-111 111-111 111 49.794 111 111-49.794 111-111 111z\" />\\n                <path fill=\"${i}\" d=\"m112 439c-61.206 0-111-49.794-111-111s49.794-111 111-111 111 49.794 111 111-49.794 111-111 111z\" />\\n                <path fill=\"${i}\" d=\"m256 222c-61.206 0-111-49.794-111-111s49.794-111 111-111 111 49.794 111 111-49.794 111-111 111z\" />\\n                <path fill=\"${i}\" d=\"m367 111c0-61.206-49.794-111-111-111v222c61.206 0 111-49.794 111-111z\" />\\n            </svg>`;\n}, FamilyTree.icon.addUser = function (e, t, i, r, a) {\n  return FamilyTree.isNEU(r) && (r = 0), FamilyTree.isNEU(a) && (a = 0), `<svg width=\"${e}\" height=\"${t}\" x=\"${r}\" y=\"${a}\" viewBox=\"0 0 512 512\" >\\n                <path fill=\"${i}\" d=\"M300.434,257.599c-25.945,27.304-60.622,43.875-98.602,43.875c-37.979,0-72.656-16.571-98.602-43.875 c-45.617,28.738-77.826,76.818-85.092,132.736c-1.659,12.77,8.291,24.107,21.201,24.107h225.846 c0-53.371,32.011-99.402,77.838-119.914C330.812,280.165,316.452,267.69,300.434,257.599z\"/>\\n                <ellipse fill=\"${i}\" cx=\"201.828\" cy=\"133.868\" rx=\"112.229\" ry=\"133.868\"/>\\n                <path fill=\"${i}\" d=\"M396.486,316.885c-53.794,0-97.558,43.764-97.558,97.558S342.693,512,396.486,512c53.792,0,97.557-43.764,97.557-97.558 S450.279,316.885,396.486,316.885z M435.199,431.315h-21.841v21.841c0,9.318-7.554,16.872-16.872,16.872 c-9.318,0-16.872-7.554-16.872-16.872v-21.841h-21.842c-9.318,0-16.872-7.554-16.872-16.872c0-9.319,7.554-16.872,16.872-16.872 h21.842v-21.841c0-9.318,7.554-16.872,16.872-16.872c9.318,0,16.872,7.554,16.872,16.872v21.841h21.841 c9.318,0,16.872,7.554,16.872,16.872C452.072,423.761,444.518,431.315,435.199,431.315z\"/>\\n            </svg>`;\n}, FamilyTree.icon.daughter = function (e, t, i, r, a) {\n  return FamilyTree.isNEU(r) && (r = 0), FamilyTree.isNEU(a) && (a = 0), `<svg width=\"${e}\" height=\"${t}\" x=\"${r}\" y=\"${a}\" viewBox=\"0 0 512.879 512.879\">\\n                <path fill=\"${i}\" d=\"M213.773,238.933c4.71,0,8.533-3.823,8.533-8.533v-5.615c0.546,0.529,0.922,0.964,0.964,1.024 c1.519,2.918,4.497,4.591,7.578,4.591c1.323,0,2.671-0.307,3.934-0.964c4.181-2.176,5.803-7.33,3.627-11.511 c-2.534-4.872-10.581-13.124-24.636-13.124c-14.054,0-22.101,8.252-24.636,13.124c-2.125,4.087-0.555,8.969,3.456,11.23 c4.011,2.287,9.156,0.811,11.563-3.123c0.077-0.128,0.495-0.623,1.084-1.195v5.564 C205.239,235.11,209.062,238.933,213.773,238.933z\"/>\\n                <path fill=\"${i}\" d=\"M256.439,332.8c20.028,0,30.507-9.907,31.633-11.034c3.294-3.294,3.285-8.568,0.043-11.913 c-3.234-3.354-8.61-3.439-12.015-0.247c-0.265,0.247-6.699,6.127-19.661,6.127c-12.774,0-19.209-5.709-19.652-6.118 c-3.336-3.251-8.678-3.217-11.981,0.085c-3.337,3.337-3.337,8.73,0,12.066C225.933,322.893,236.412,332.8,256.439,332.8z\"/>\\n                <path fill=\"${i}\" d=\"M365.666,293.547c-49.826-66.441-75.093-133.623-75.093-199.68c0-4.71-3.823-8.533-8.533-8.533s-8.533,3.823-8.533,8.533 c0,68.369,25.31,137.489,75.255,205.542c-12.228,21.623-50.483,76.058-92.322,76.058c-45.218,0-86.255-63.59-94.763-80.614 c-8.388-16.768-24.704-66.765-24.704-98.586v-25.754c20.378-0.572,73.404-3.405,121.813-17.246 c4.531-1.289,7.151-6.016,5.854-10.547c-1.289-4.531-6.008-7.159-10.547-5.854C196.254,153.387,129.114,153.6,128.439,153.6 c-4.71,0-8.533,3.823-8.533,8.533v34.133c0,34.935,17.254,87.723,26.496,106.214c0.452,0.905,46.797,90.052,110.037,90.052 s109.585-89.148,110.037-90.052C367.919,299.588,367.603,296.132,365.666,293.547z\"/>\\n                <path fill=\"${i}\" d=\"M316.173,392.533c-4.71,0-8.533,3.823-8.533,8.533v17.067c0,0.06,0.034,0.111,0.034,0.171 c0,0.051-0.034,0.094-0.034,0.154c-0.034,5.205-1.749,50.876-51.2,50.876s-51.166-45.986-51.2-51.2v-17.067 c0-4.71-3.823-8.533-8.533-8.533s-8.533,3.823-8.533,8.533v8.687c-116.028,1.638-168.917,35.9-178.765,65.417l-8.533,25.6 c-1.493,4.471,0.93,9.301,5.402,10.795C7.172,511.863,8.085,512,8.973,512c3.575,0,6.903-2.261,8.098-5.837l8.533-25.6 c6.076-18.227,48.034-52.335,163.132-53.845c3.106,24.422,19.721,59.682,67.704,59.682c53.999,0,68.267-44.425,68.267-67.917 c0-0.06-0.034-0.111-0.034-0.171c0-0.068,0.034-0.119,0.034-0.179v-17.067C324.706,396.356,320.883,392.533,316.173,392.533z\"/>\\n                <path fill=\"${i}\" d=\"M256.695,273.067h-0.085c-4.71,0-8.491,3.823-8.491,8.533c0,4.71,3.866,8.533,8.576,8.533 c4.719,0,8.533-3.823,8.533-8.533C265.229,276.89,261.414,273.067,256.695,273.067z\"/>\\n                <path fill=\"${i}\" d=\"M512.004,501.641l-8.533-25.591c-4.659-13.978-22.34-28.228-49.792-40.141c-4.318-1.877-9.352,0.102-11.23,4.429 c-1.869,4.318,0.111,9.353,4.437,11.221c26.266,11.401,38.178,23.219,40.388,29.884l8.533,25.6 c1.195,3.575,4.523,5.837,8.098,5.837c0.887,0,1.801-0.145,2.697-0.444C511.074,510.942,513.498,506.112,512.004,501.641z\"/>\\n                <path fill=\"${i}\" d=\"M256.439,0c-115.558,0-179.2,63.642-179.2,179.2V256c0,66.039-24.909,141.611-25.165,142.37 c-1.485,4.471,0.93,9.301,5.402,10.795c4.48,1.476,9.301-0.93,10.795-5.402c1.058-3.191,26.035-78.908,26.035-147.763v-76.8 c0-134.008,88.175-162.133,162.133-162.133c100.454,0,162.133,94.43,162.133,162.133v17.067 c0,34.458-21.111,74.163-41.532,112.572c-18.133,34.116-35.268,66.338-35.268,92.228c0,54.11,35.14,89.873,36.634,91.366 c1.596,1.604,3.772,2.5,6.033,2.5c2.261,0,4.437-0.896,6.033-2.5c1.493-1.493,36.634-37.257,36.634-91.366 c0-53.197-17.562-72.303-19.567-74.3c-3.285-3.285-8.559-3.285-11.904-0.051c-3.354,3.234-3.439,8.61-0.265,12.015 c0.145,0.154,14.669,16.256,14.669,62.336c0,33.937-16.444,60.16-25.617,72.149c-9.19-11.947-25.583-38.05-25.583-72.149 c0-21.632,16.162-52.036,33.271-84.215c21.402-40.252,43.529-81.869,43.529-120.585V179.2C435.639,94.438,362.04,0,256.439,0z\"/>\\n            </svg>`;\n}, FamilyTree.icon.son = function (e, t, i, r, a) {\n  return FamilyTree.isNEU(r) && (r = 0), FamilyTree.isNEU(a) && (a = 0), `<svg width=\"${e}\" height=\"${t}\" x=\"${r}\" y=\"${a}\"  viewBox=\"0 0 512.002 512.002\">\\n                <path fill=\"${i}\" d=\"M238.934,213.334c0-4.71-3.823-8.533-8.533-8.533h-34.133c-4.71,0-8.533,3.823-8.533,8.533 c0,4.71,3.823,8.533,8.533,8.533h8.533c0,4.71,3.823,8.533,8.533,8.533c4.71,0,8.533-3.823,8.533-8.533h8.533 C235.111,221.867,238.934,218.044,238.934,213.334z\"/>\\n                <path fill=\"${i}\" d=\"M121.601,255.19c4.565,13.466,17.178,49.98,24.371,64.358c13.551,27.11,51.977,72.986,110.029,72.986 s96.478-45.875,110.037-72.986c7.185-14.379,19.797-50.893,24.371-64.358c11.025-2.85,19.191-12.885,19.191-24.789v-34.133 c0-11.127-7.134-20.617-17.067-24.141v-44.126c0-33.69-17.741-95.923-83.354-101.931c-0.137-4.028-1.476-7.27-2.953-9.668 c-8.38-13.559-31.94-16.401-50.227-16.401c-151.842,0-153.6,143.616-153.6,145.067c0,4.71,3.814,8.525,8.525,8.525h0.009 c4.702,0,8.525-3.806,8.533-8.516c0.017-5.222,1.937-128.009,136.533-128.009c24.132,0,33.801,5.222,35.703,8.311 c0.282,0.435,0.998,1.604-0.666,4.941c-1.323,2.645-1.178,5.786,0.375,8.303c1.553,2.509,4.301,4.045,7.253,4.045 c75.656,0,76.791,81.86,76.8,85.333v51.2c0,4.71,3.823,8.533,8.533,8.533c4.702,0,8.533,3.831,8.533,8.533v34.133 c0,4.702-3.831,8.533-8.533,8.533c-3.669,0-6.929,2.347-8.098,5.837c-0.162,0.503-16.964,50.816-25.131,67.149 c-1.297,2.594-32.495,63.548-94.771,63.548s-93.466-60.954-94.763-63.548c-8.166-16.333-24.977-66.645-25.139-67.149 c-1.161-3.49-4.42-5.837-8.098-5.837c-4.702,0-8.533-3.831-8.533-8.533v-34.133c0-2.313,0.93-4.412,2.423-5.948 c3.396,7.62,10.607,14.481,23.177,14.481c3.234,0,6.187-1.826,7.637-4.719c7.535-15.061,15.283-30.575,17.399-46.652 c43.665-1.758,108.979-17.323,139.742-41.105c8.201,29.764,32.742,54.596,33.988,55.842c3.337,3.337,8.738,3.337,12.066,0 c3.337-3.336,3.337-8.73,0-12.066c-0.316-0.316-31.633-31.983-31.633-62.234c0-3.831-2.56-7.202-6.255-8.226 c-3.703-1.024-7.62,0.546-9.591,3.831c-14.549,24.243-94.746,47.061-146.287,47.061c-4.71,0-8.533,3.823-8.533,8.533 c0,13.295-6.127,27.102-13.286,41.6c-2.901-1.604-3.703-4.753-3.78-7.467c0-4.71-3.823-8.533-8.533-8.533 c-14.114,0-25.6,11.486-25.6,25.6v34.133C102.401,242.305,110.576,252.34,121.601,255.19z\"/>\\n                <path fill=\"${i}\" d=\"M256.001,332.801c20.028,0,30.507-9.907,31.633-11.034c3.294-3.294,3.285-8.567,0.051-11.913 c-3.243-3.354-8.619-3.439-12.023-0.247c-0.265,0.247-6.699,6.127-19.661,6.127c-12.774,0-19.209-5.709-19.652-6.118 c-3.336-3.251-8.678-3.217-11.981,0.085c-3.328,3.337-3.328,8.73,0,12.066C225.503,322.893,235.982,332.801,256.001,332.801z\"/>\\n                <path fill=\"${i}\" d=\"M264.79,281.601c0-4.71-3.814-8.533-8.533-8.533h-0.085c-4.71,0-8.491,3.823-8.491,8.533c0,4.71,3.866,8.533,8.576,8.533 C260.976,290.134,264.79,286.311,264.79,281.601z\"/>\\n                <path fill=\"${i}\" d=\"M511.745,501.394l-8.713-34.756c-4.386-13.158-30.285-55.484-178.765-56.636v-8.934c0-4.71-3.823-8.533-8.533-8.533 s-8.533,3.823-8.533,8.533v17.067c0,0.06,0.034,0.111,0.034,0.171c0,0.051-0.034,0.094-0.034,0.154 c-0.034,5.205-1.749,50.876-51.2,50.876s-51.166-45.986-51.2-51.2v-17.067c0-4.71-3.823-8.533-8.533-8.533 s-8.533,3.823-8.533,8.533v8.619C77.168,410.556,21.786,428.203,8.79,467.26l-8.533,34.133 c-1.143,4.574,1.638,9.207,6.212,10.351c4.557,1.143,9.199-1.638,10.342-6.204l8.354-33.51 c9.916-29.739,63.309-44.595,163.132-45.338c3.098,24.431,19.712,59.708,67.704,59.708c47.983,0,64.597-35.063,67.703-59.366 c116.958,0.862,157.628,28.467,162.953,44.373l8.533,34.133c0.973,3.874,4.446,6.46,8.269,6.46c0.691,0,1.382-0.077,2.082-0.256 C510.115,510.601,512.888,505.968,511.745,501.394z\"/>\\n                <path fill=\"${i}\" d=\"M298.668,230.401c4.71,0,8.533-3.823,8.533-8.533h8.533c4.71,0,8.533-3.823,8.533-8.533c0-4.71-3.823-8.533-8.533-8.533 h-34.133c-4.71,0-8.533,3.823-8.533,8.533c0,4.71,3.823,8.533,8.533,8.533h8.533 C290.134,226.578,293.957,230.401,298.668,230.401z\"/>\\n            </svg>`;\n}, FamilyTree.icon.wife = function (e, t, i, r, a) {\n  return FamilyTree.isNEU(r) && (r = 0), FamilyTree.isNEU(a) && (a = 0), `<svg width=\"${e}\" height=\"${t}\" x=\"${r}\" y=\"${a}\" viewBox=\"0 0 512 512\" >\\n                <path fill=\"${i}\" d=\"M128,307.2c4.719,0,8.533-3.823,8.533-8.533V281.6c0-4.71-3.814-8.533-8.533-8.533c-4.719,0-8.533,3.823-8.533,8.533 v17.067C119.467,303.377,123.281,307.2,128,307.2z\"/>\\n                <path fill=\"${i}\" d=\"M384,273.067c-4.719,0-8.533,3.823-8.533,8.533v17.067c0,4.71,3.814,8.533,8.533,8.533c4.719,0,8.533-3.823,8.533-8.533 V281.6C392.533,276.89,388.719,273.067,384,273.067z\"/>\\n                <path fill=\"${i}\" d=\"M392.183,433.109c-0.162-0.606-0.418-1.152-0.7-1.715c-0.162-0.299-0.196-0.64-0.384-0.93 c-0.094-0.128-0.23-0.196-0.324-0.324c-0.358-0.469-0.802-0.845-1.254-1.246c-0.418-0.375-0.819-0.742-1.306-1.016 c-0.145-0.094-0.23-0.23-0.392-0.316l-34.133-17.067c-2.748-1.357-6.008-1.161-8.55,0.538l-51.209,34.133 c-2.372,1.587-3.797,4.25-3.797,7.1v30.259c-5.077,4.062-17.545,12.407-34.133,12.407c-16.427,0-29.013-8.388-34.133-12.433 v-30.234c0-2.85-1.425-5.513-3.797-7.1l-51.2-34.133c-2.543-1.698-5.803-1.894-8.55-0.538l-34.133,17.067 c-0.154,0.077-0.239,0.213-0.375,0.299c-0.512,0.29-0.939,0.674-1.374,1.075c-0.435,0.384-0.853,0.734-1.186,1.178 c-0.102,0.137-0.256,0.213-0.35,0.35c-0.205,0.307-0.239,0.657-0.401,0.99c-0.265,0.529-0.521,1.05-0.674,1.63 c-0.137,0.529-0.179,1.05-0.205,1.596c-0.034,0.538-0.06,1.058,0.008,1.604c0.068,0.597,0.265,1.143,0.461,1.707 c0.119,0.341,0.111,0.7,0.273,1.024c0.077,0.154,0.222,0.247,0.307,0.393c0.282,0.495,0.666,0.913,1.058,1.348 c0.384,0.427,0.742,0.853,1.186,1.195c0.137,0.102,0.213,0.256,0.35,0.35l51.2,34.133c1.459,0.973,3.106,1.434,4.727,1.434 c2.756,0,5.47-1.331,7.108-3.797c2.62-3.925,1.562-9.225-2.364-11.836l-38.972-25.975l16.555-8.277l43.281,28.851V486.4 c0,2.261,0.896,4.437,2.5,6.033C208.102,493.235,227.2,512,256,512s47.898-18.765,48.7-19.567c1.604-1.596,2.5-3.772,2.5-6.033 v-29.568l43.29-28.851l16.546,8.277l-38.972,25.975c-3.925,2.611-4.983,7.91-2.364,11.836c1.638,2.466,4.352,3.797,7.108,3.797 c1.621,0,3.268-0.461,4.727-1.434l51.2-34.133c0.137-0.094,0.205-0.239,0.333-0.341c0.478-0.35,0.853-0.794,1.254-1.246 c0.358-0.427,0.725-0.811,0.998-1.289c0.085-0.154,0.239-0.247,0.324-0.41c0.171-0.35,0.171-0.725,0.29-1.084 c0.179-0.538,0.367-1.05,0.435-1.613c0.077-0.58,0.051-1.126,0.009-1.698C392.354,434.108,392.32,433.613,392.183,433.109z\"/>\\n                <path fill=\"${i}\" d=\"M57.037,409.165c0.896,0.29,1.809,0.435,2.697,0.435c3.575,0,6.903-2.261,8.09-5.837 C68.89,400.572,93.867,324.855,93.867,256v-76.8C93.867,45.193,182.033,17.067,256,17.067c25.199,0,77.636,0,85.649,11.128 c0.333,0.452,0.828,1.135,0.128,3.243c-0.956,2.842-0.341,5.965,1.604,8.235c1.946,2.278,4.932,3.362,7.885,2.876 c10.863-1.792,20.412,0.93,29.184,8.354c22.895,19.396,37.683,69.76,37.683,128.299V256c0,77.457,25.071,145.22,26.138,148.062 c1.656,4.412,6.571,6.639,10.991,5.001c4.412-1.655,6.647-6.571,5.001-10.991C460.006,397.406,435.2,330.257,435.2,256v-76.8 c0-50.415-11.486-114.014-43.716-141.321c-9.745-8.243-20.932-12.621-32.836-12.902c-0.683-2.773-1.903-5.035-3.149-6.767 C343.356,1.374,303.258,0,256,0C140.442,0,76.8,63.642,76.8,179.2V256c0,66.039-24.909,141.611-25.156,142.37 C50.15,402.842,52.565,407.672,57.037,409.165z\"/>\\n                <path fill=\"${i}\" d=\"M91.802,426.923C19.814,444.919,1.195,498.492,0.444,500.77c-1.493,4.471,0.922,9.301,5.393,10.795 C6.733,511.864,7.646,512,8.533,512c3.576,0,6.904-2.261,8.09-5.837c0.162-0.469,16.316-46.942,79.309-62.686 c4.574-1.143,7.356-5.777,6.212-10.351C101.001,428.561,96.367,425.771,91.802,426.923z\"/>\\n                <path fill=\"${i}\" d=\"M213.333,238.933c4.719,0,8.533-3.823,8.533-8.533v-5.615c0.546,0.529,0.922,0.964,0.964,1.024 c1.519,2.918,4.497,4.591,7.578,4.591c1.323,0,2.671-0.307,3.934-0.964c4.173-2.176,5.803-7.33,3.627-11.511 c-2.534-4.873-10.59-13.124-24.636-13.124c-14.046,0-22.101,8.252-24.636,13.124c-2.125,4.087-0.546,8.969,3.456,11.23 c3.985,2.261,9.148,0.819,11.554-3.123c0.085-0.128,0.503-0.623,1.092-1.195v5.564C204.8,235.11,208.614,238.933,213.333,238.933 z\"/>\\n                <path fill=\"${i}\" d=\"M511.556,500.77c-0.751-2.278-19.371-55.851-91.358-73.847c-4.574-1.161-9.199,1.638-10.342,6.204 c-1.143,4.574,1.638,9.207,6.212,10.351c62.524,15.633,78.66,60.809,79.309,62.686c1.186,3.576,4.514,5.837,8.09,5.837 c0.888,0,1.801-0.137,2.697-0.435C510.635,510.071,513.05,505.242,511.556,500.77z\"/>\\n                <path fill=\"${i}\" d=\"M256,332.8c20.028,0,30.507-9.907,31.633-11.034c3.294-3.294,3.285-8.567,0.051-11.913 c-3.251-3.345-8.61-3.439-12.015-0.247c-0.273,0.247-6.707,6.127-19.669,6.127c-12.774,0-19.208-5.709-19.652-6.118 c-3.32-3.251-8.67-3.226-11.981,0.085c-3.337,3.337-3.337,8.73,0,12.066C225.493,322.893,235.972,332.8,256,332.8z\"/>\\n                <path fill=\"${i}\" d=\"M298.667,238.933c4.719,0,8.533-3.823,8.533-8.533v-5.615c0.546,0.529,0.922,0.964,0.964,1.024 c1.519,2.918,4.497,4.591,7.578,4.591c1.323,0,2.671-0.307,3.934-0.964c4.173-2.176,5.803-7.33,3.627-11.511 c-2.534-4.873-10.59-13.124-24.636-13.124c-14.046,0-22.101,8.252-24.636,13.124c-2.125,4.087-0.546,8.969,3.456,11.23 c3.994,2.261,9.156,0.819,11.554-3.123c0.085-0.128,0.503-0.623,1.092-1.195v5.564 C290.133,235.11,293.948,238.933,298.667,238.933z\"/>\\n                <path fill=\"${i}\" d=\"M389.129,189.449c-8.542-6.443-30.729-26.957-30.729-44.382c0-4.71-3.814-8.533-8.533-8.533s-8.533,3.823-8.533,8.533 c0,24.678,24.354,47.249,34.014,55.228c-1.835,33.476-24.917,95.223-33.118,111.625c-7.654,15.317-48.154,63.548-86.229,63.548 s-78.575-48.23-86.229-63.548c-8.542-17.084-33.237-83.379-33.237-115.652v-25.728c33.835-0.802,157.321-6.929,218.453-52.779 c3.772-2.825,4.54-8.175,1.707-11.947c-2.825-3.772-8.175-4.54-11.947-1.707C279.561,152.994,129.51,153.6,128,153.6 c-4.719,0-8.533,3.823-8.533,8.533v34.133c0,36.625,26.871,106.965,35.029,123.281c10.385,20.77,55.834,72.986,101.504,72.986 s91.119-52.216,101.504-72.986c8.158-16.316,35.029-86.656,35.029-123.281C392.533,193.587,391.27,191.061,389.129,189.449z\"/>\\n            </svg>`;\n}, FamilyTree.icon.husband = function (e, t, i, r, a) {\n  return FamilyTree.isNEU(r) && (r = 0), FamilyTree.isNEU(a) && (a = 0), `<svg width=\"${e}\" height=\"${t}\" x=\"${r}\" y=\"${a}\" viewBox=\"0 0 512.007 512.007\" >\\n                <path fill=\"${i}\" d=\"M121.835,255.249c6.229,16.196,26.803,68.42,41.737,90.82l1.348,2.039c10.957,16.614,29.295,44.425,91.085,44.425 c61.79,0,80.128-27.81,91.085-44.425l1.348-2.039c14.933-22.4,35.507-74.624,41.737-90.82c11.145-2.773,19.43-12.86,19.43-24.849 v-34.133c0-11.127-7.134-20.617-17.067-24.141V128c0-33.69-17.741-95.923-83.362-101.931c-0.128-4.028-1.459-7.27-2.944-9.668 C297.844,2.85,274.292,0,256.005,0c-151.842,0-153.6,143.616-153.6,145.067c0,4.71,3.814,8.525,8.516,8.525h0.017 c4.702,0,8.516-3.806,8.533-8.508c0.017-5.231,1.937-128.017,136.533-128.017c24.132,0,33.801,5.222,35.712,8.311 c0.265,0.435,0.99,1.604-0.683,4.941c-1.323,2.645-1.178,5.786,0.375,8.303c1.562,2.509,4.301,4.045,7.262,4.045 c75.657,0,76.791,81.86,76.8,85.333v51.2c0,4.71,3.814,8.533,8.533,8.533c4.71,0,8.533,3.831,8.533,8.533V230.4 c0,4.702-3.823,8.533-8.533,8.533c-3.558,0-6.741,2.21-7.996,5.538c-0.247,0.674-25.446,67.644-41.771,92.126l-1.399,2.116 c-10.223,15.514-24.235,36.753-76.834,36.753c-52.599,0-66.611-21.239-76.834-36.753l-1.399-2.116 c-16.324-24.482-41.523-91.452-41.771-92.126c-1.254-3.328-4.437-5.538-7.996-5.538c-4.71,0-8.533-3.831-8.533-8.533v-34.133 c0-2.313,0.922-4.412,2.423-5.948c3.089,6.955,9.421,13.21,20.053,14.268l29.193,21.897c2.27,16.623,16.418,29.517,33.664,29.517 h17.067c18.825,0,34.133-15.309,34.133-34.133c0,18.825,15.309,34.133,34.133,34.133h17.067 c17.237,0,31.394-12.894,33.664-29.517l31.189-23.39c3.772-2.825,4.54-8.175,1.707-11.947c-2.825-3.772-8.175-4.548-11.947-1.707 l-21.751,16.316c-3.251-10.402-12.86-18.022-24.329-18.022h-34.133c-14.114,0-25.6,11.486-25.6,25.6 c0-14.114-11.486-25.6-25.6-25.6h-34.133c-11.469,0-21.077,7.62-24.328,18.022l-16.282-12.211 c6.716-16.23,12.8-40.235,14.524-57.088c26.897-0.478,104.713-3.763,139.332-25.37c7.851,30.31,33.058,55.817,34.321,57.08 c3.336,3.336,8.73,3.336,12.066,0c3.336-3.337,3.336-8.73,0-12.066c-0.316-0.316-31.633-31.983-31.633-62.234 c0-3.831-2.56-7.202-6.255-8.226c-3.661-1.016-7.629,0.546-9.591,3.831c-12.425,20.693-93.022,29.995-146.287,29.995 c-4.719,0-8.533,3.823-8.533,8.533c0,13.858-6.554,41.515-13.508,58.539c-2.722-1.638-3.49-4.693-3.558-7.339 c0-4.71-3.814-8.533-8.533-8.533c-14.114,0-25.6,11.486-25.6,25.6V230.4C102.405,242.389,110.691,252.476,121.835,255.249z M273.071,213.333c0-4.702,3.823-8.533,8.533-8.533h34.133c4.71,0,8.533,3.831,8.533,8.533v8.533 c0,9.412-7.654,17.067-17.067,17.067h-17.067c-9.412,0-17.067-7.654-17.067-17.067V213.333z M187.738,213.333 c0-4.702,3.823-8.533,8.533-8.533h34.133c4.71,0,8.533,3.831,8.533,8.533v8.533c0,9.412-7.654,17.067-17.067,17.067h-17.067 c-9.412,0-17.067-7.654-17.067-17.067V213.333z\"/>\\n                <path fill=\"${i}\" d=\"M298.663,307.226c0.009-4.702-3.797-8.533-8.499-8.559c-0.162,0-15.42-0.171-30.345-7.629 c-2.398-1.203-5.231-1.203-7.629,0c-14.925,7.458-30.182,7.629-30.319,7.629c-4.719,0-8.533,3.823-8.533,8.533 s3.814,8.533,8.533,8.533c0.725,0,16.853-0.094,34.133-7.646c17.28,7.552,33.408,7.646,34.133,7.646 C294.84,315.733,298.646,311.927,298.663,307.226z\"/>\\n                <path fill=\"${i}\" d=\"M247.471,324.267c-4.719,0-8.533,3.823-8.533,8.533c0,4.71,3.814,8.533,8.533,8.533h17.067 c4.719,0,8.533-3.823,8.533-8.533c0-4.71-3.814-8.533-8.533-8.533H247.471z\"/>\\n                <path fill=\"${i}\" d=\"M511.749,501.393l-8.721-34.756c-12.706-38.135-73.114-56.687-184.67-56.687c-0.879,0-1.758,0-2.645,0.009 c-4.053,0.009-7.544,2.867-8.337,6.852l-17.067,84.975c-0.93,4.625,2.065,9.122,6.682,10.052 c4.608,0.896,9.114-2.074,10.044-6.69l15.693-78.114c97.724,0.452,154.436,15.957,163.934,44.373l8.533,34.133 c0.973,3.874,4.446,6.468,8.269,6.46c0.683,0,1.382-0.077,2.074-0.256C510.11,510.601,512.892,505.976,511.749,501.393z\"/>\\n                <path fill=\"${i}\" d=\"M204.634,416.461c-0.794-3.994-4.292-6.861-8.363-6.861c-116.386,0-174.148,17.596-187.477,57.66l-8.533,34.133 c-1.152,4.582,1.638,9.207,6.212,10.351C7.164,511.923,7.864,512,8.547,512c3.823,0,7.296-2.586,8.269-6.46l8.346-33.51 c9.95-29.841,63.667-44.689,164.122-45.338l15.693,78.447c0.913,4.617,5.367,7.629,10.035,6.699 c4.617-0.93,7.62-5.427,6.69-10.044L204.634,416.461z\"/>\\n                <path fill=\"${i}\" d=\"M256.005,409.6c-14.114,0-25.6,11.486-25.6,25.6c0,11.11,7.159,20.489,17.067,24.021v44.245 c0,4.71,3.814,8.533,8.533,8.533c4.719,0,8.533-3.823,8.533-8.533V459.23c9.907-3.541,17.067-12.919,17.067-24.03 C281.605,421.086,270.119,409.6,256.005,409.6z M256.005,443.733c-4.71,0-8.533-3.831-8.533-8.533 c0-4.702,3.823-8.533,8.533-8.533c4.71,0,8.533,3.831,8.533,8.533C264.538,439.902,260.715,443.733,256.005,443.733z\"/>\\n            </svg>`;\n}, FamilyTree.icon.father = function (e, t, i, r, a) {\n  return FamilyTree.isNEU(r) && (r = 0), FamilyTree.isNEU(a) && (a = 0), `<svg width=\"${e}\" height=\"${t}\" x=\"${r}\" y=\"${a}\" viewBox=\"0 0 512.002 512.002\" >\\n                <path fill=\"${i}\" d=\"M366.934,128.001c0-4.71-3.814-8.533-8.533-8.533c-2.091,0-51.2-0.683-51.2-59.733c0-4.71-3.814-8.533-8.533-8.533 s-8.533,3.823-8.533,8.533c0,75.921,67.584,76.8,68.267,76.8C363.12,136.534,366.934,132.711,366.934,128.001z\"/>\\n                <path fill=\"${i}\" d=\"M256.001,196.268c0-14.114-11.486-25.6-25.6-25.6h-34.133c-11.46,0-21.069,7.62-24.329,18.022l-21.751-16.316 c-3.772-2.825-9.114-2.048-11.947,1.707c-2.825,3.772-2.065,9.122,1.707,11.947l31.189,23.39 c2.278,16.623,16.418,29.517,33.664,29.517h17.067c18.825,0,34.133-15.309,34.133-34.133c0,18.825,15.309,34.133,34.133,34.133 h17.067c17.237,0,31.394-12.894,33.664-29.517l31.189-23.39c3.772-2.825,4.54-8.175,1.707-11.947 c-2.825-3.772-8.175-4.548-11.947-1.707l-21.751,16.316c-3.251-10.402-12.86-18.022-24.329-18.022h-34.133 C267.487,170.668,256.001,182.153,256.001,196.268z M238.934,204.801c0,9.412-7.654,17.067-17.067,17.067h-17.067 c-9.412,0-17.067-7.654-17.067-17.067v-8.533c0-4.702,3.831-8.533,8.533-8.533h34.133c4.702,0,8.533,3.831,8.533,8.533V204.801z M324.268,196.268v8.533c0,9.412-7.654,17.067-17.067,17.067h-17.067c-9.412,0-17.067-7.654-17.067-17.067v-8.533 c0-4.702,3.823-8.533,8.533-8.533h34.133C320.445,187.734,324.268,191.566,324.268,196.268z\"/>\\n                <path fill=\"${i}\" d=\"M298.659,307.226c0.009-4.702-3.797-8.533-8.499-8.559c-0.162,0-15.42-0.171-30.345-7.629 c-2.398-1.203-5.231-1.203-7.629,0c-14.925,7.458-30.191,7.629-30.319,7.629c-4.71,0-8.533,3.823-8.533,8.533 s3.823,8.533,8.533,8.533c0.725,0,16.845-0.094,34.133-7.646c17.28,7.552,33.408,7.646,34.133,7.646 C294.836,315.734,298.642,311.928,298.659,307.226z\"/>\\n                <path fill=\"${i}\" d=\"M120.986,237.953c4.378,18.611,18.91,76.877,34.048,99.584c10.974,16.452,36.668,54.997,100.966,54.997 s89.993-38.545,100.966-54.997c15.138-22.707,29.67-80.973,34.048-99.584c10.718-3.055,18.586-12.937,18.586-24.619v-34.133 c0-11.127-7.134-20.617-17.067-24.141v-44.126c0-1.109-1.562-110.933-136.533-110.933c-151.842,0-153.6,126.72-153.6,128 c0,4.702,3.806,8.516,8.516,8.525h0.017c4.693,0,8.516-3.806,8.533-8.499c0.017-4.54,2.048-110.959,136.533-110.959 c117.581,0,119.441,90.061,119.467,93.867v51.2c0,4.71,3.814,8.533,8.533,8.533c4.71,0,8.533,3.831,8.533,8.533v34.133 c0,4.702-3.823,8.533-8.533,8.533c-4.002,0-7.458,2.782-8.337,6.682c-0.162,0.751-16.896,75.52-32.896,99.516 c-10.257,15.386-31.599,47.403-86.767,47.403s-76.51-32.017-86.767-47.403c-15.992-23.979-32.734-98.765-32.905-99.516 c-0.87-3.9-4.326-6.682-8.329-6.682c-4.702,0-8.533-3.831-8.533-8.533v-34.133c0-4.702,3.831-8.533,8.533-8.533 c1.323,0,2.637-0.307,3.814-0.896c2.978-1.493,72.986-37.333,72.986-110.037c0-4.71-3.823-8.533-8.533-8.533 s-8.533,3.823-8.533,8.533c0,56.678-52.523,88.636-62.08,93.978c-13.022,1.186-23.253,12.169-23.253,25.489v34.133 C102.401,225.016,110.269,234.898,120.986,237.953z\"/>\\n                <path fill=\"${i}\" d=\"M196.097,416.462c-0.794-3.994-4.292-6.861-8.363-6.861c-140.399,0-168.892,27.409-178.944,57.66l-8.533,34.133 c-1.143,4.582,1.638,9.207,6.204,10.351c0.7,0.179,1.391,0.256,2.082,0.256c3.823,0,7.296-2.586,8.269-6.46l8.354-33.51 c7.339-22.025,31.718-44.527,155.58-45.338l15.693,78.447c0.913,4.617,5.393,7.603,10.035,6.699 c4.625-0.93,7.62-5.427,6.69-10.044L196.097,416.462z\"/>\\n                <path fill=\"${i}\" d=\"M511.745,501.394l-8.721-34.756c-7.117-21.342-39.689-57.216-178.782-56.678c-4.062,0.009-7.544,2.867-8.337,6.852 l-17.067,84.975c-0.93,4.625,2.065,9.122,6.682,10.052c4.591,0.896,9.114-2.074,10.044-6.69l15.693-78.114 c103.714,0.674,148.412,23.484,155.401,44.373l8.533,34.133c0.973,3.874,4.446,6.468,8.269,6.46c0.683,0,1.382-0.077,2.074-0.256 C510.106,510.601,512.888,505.976,511.745,501.394z\"/>\\n                <path fill=\"${i}\" d=\"M256.257,426.668h-0.085c-4.71,0-8.491,3.823-8.491,8.533s3.866,8.533,8.576,8.533c4.71,0,8.533-3.823,8.533-8.533 S260.967,426.668,256.257,426.668z\"/>\\n                <path fill=\"${i}\" d=\"M256.257,494.934h-0.085c-4.71,0-8.491,3.823-8.491,8.533s3.866,8.533,8.576,8.533c4.71,0,8.533-3.823,8.533-8.533 S260.967,494.934,256.257,494.934z\"/>\\n                <path fill=\"${i}\" d=\"M247.468,324.268c-4.71,0-8.533,3.823-8.533,8.533c0,4.71,3.823,8.533,8.533,8.533h17.067 c4.719,0,8.533-3.823,8.533-8.533c0-4.71-3.814-8.533-8.533-8.533H247.468z\"/>\\n                <path fill=\"${i}\" d=\"M256.257,460.801h-0.085c-4.71,0-8.491,3.823-8.491,8.533c0,4.71,3.866,8.533,8.576,8.533 c4.71,0,8.533-3.823,8.533-8.533C264.79,464.624,260.967,460.801,256.257,460.801z\"/>\\n            </svg>`;\n}, FamilyTree.icon.mother = function (e, t, i, r, a) {\n  return FamilyTree.isNEU(r) && (r = 0), FamilyTree.isNEU(a) && (a = 0), `<svg width=\"${e}\" height=\"${t}\" x=\"${r}\" y=\"${a}\" viewBox=\"0 0 512.011 512.011\" >\\n                <path fill=\"${i}\" d=\"M299.355,445.356c-1.621,1.536-2.56,3.755-2.56,5.973c0,2.304,0.939,4.437,2.56,6.059 c1.536,1.621,3.755,2.475,5.973,2.475c2.304,0,4.523-0.853,6.059-2.475c1.621-1.536,2.475-3.755,2.475-6.059 c0-2.219-0.853-4.437-2.475-5.973C308.23,442.113,302.512,442.199,299.355,445.356z\"/>\\n                <path fill=\"${i}\" d=\"M276.23,458.668c-1.621,1.621-2.475,3.755-2.475,6.059c0,2.219,0.939,4.437,2.475,5.973 c1.621,1.621,3.84,2.56,6.059,2.56c2.219,0,4.437-0.939,5.973-2.56c1.621-1.536,2.56-3.755,2.56-5.973 c0-2.304-0.939-4.437-2.56-6.059C285.104,455.511,279.387,455.511,276.23,458.668z\"/>\\n                <path fill=\"${i}\" d=\"M392.539,196.268c0-2.68-1.263-5.205-3.405-6.818c-8.55-6.443-30.729-26.957-30.729-44.382 c0-4.71-3.823-8.533-8.533-8.533s-8.533,3.823-8.533,8.533c0,24.678,24.354,47.249,34.014,55.228 c-1.835,33.476-24.917,95.223-33.118,111.625c-7.654,15.317-48.154,63.548-86.229,63.548s-78.575-48.23-86.229-63.548 c-8.542-17.084-33.237-83.379-33.237-115.652V170.54c33.835-0.802,157.321-6.929,218.453-52.779 c3.772-2.825,4.531-8.175,1.707-11.947c-2.825-3.763-8.166-4.531-11.947-1.707c-65.186,48.887-215.236,49.493-216.747,49.493 c-4.71,0-8.533,3.823-8.533,8.533v34.133c0,36.625,26.871,106.965,35.029,123.281c10.394,20.77,55.834,72.986,101.504,72.986 s91.11-52.215,101.504-72.986C365.668,303.233,392.539,232.893,392.539,196.268z\"/>\\n                <path fill=\"${i}\" d=\"M249.947,463.276c-1.536,1.621-2.475,3.84-2.475,6.059c0,2.219,0.939,4.437,2.475,6.059 c1.621,1.536,3.84,2.475,6.059,2.475s4.437-0.939,6.059-2.475c1.536-1.621,2.475-3.84,2.475-6.059 c0-2.219-0.939-4.437-2.475-6.059C258.907,460.119,253.104,460.119,249.947,463.276z\"/>\\n                <path fill=\"${i}\" d=\"M34.139,230.401c0,18.85,6.75,36.659,19.098,50.688c-1.348,5.76-2.031,11.648-2.031,17.579 c0,42.342,34.458,76.8,76.8,76.8c6.494,0,12.954-0.819,19.191-2.432c4.565-1.178,7.305-5.828,6.127-10.394 c-1.178-4.565-5.828-7.305-10.394-6.127c-4.847,1.254-9.865,1.886-14.925,1.886c-32.939,0-59.733-26.795-59.733-59.733 c0-5.922,0.879-11.793,2.603-17.459c0.922-3.021,0.102-6.298-2.133-8.525c-11.307-11.298-17.536-26.308-17.536-42.283 c0-19.251,9.421-37.453,25.199-48.674c3.78-2.688,4.719-7.893,2.116-11.742c-6.707-9.89-10.249-21.461-10.249-33.451 c0-28.843,20.591-53.53,48.947-58.701c2.432-0.452,4.557-1.929,5.811-4.053c18.987-32.137,40.892-56.713,133.888-56.713 c71.714,0,128.947,23.484,142.413,58.436c0.888,2.304,2.731,4.105,5.052,4.949c23.535,8.559,39.356,31.095,39.356,56.081 c0,11.989-3.541,23.561-10.249,33.451c-2.603,3.849-1.664,9.054,2.116,11.742c15.778,11.221,25.199,29.423,25.199,48.674 c0,15.974-6.229,30.984-17.536,42.283c-2.236,2.227-3.055,5.504-2.133,8.525c1.724,5.666,2.603,11.537,2.603,17.459 c0,32.939-26.795,59.733-59.733,59.733c-5.018,0-10.001-0.623-14.814-1.852c-4.574-1.186-9.207,1.579-10.377,6.144 c-1.169,4.574,1.587,9.216,6.153,10.385c6.195,1.587,12.595,2.389,19.038,2.389c42.342,0,76.8-34.458,76.8-76.8 c0-5.931-0.683-11.819-2.031-17.579c12.348-14.029,19.098-31.838,19.098-50.688c0-22.11-9.643-43.128-26.138-57.643 c5.956-11.102,9.071-23.475,9.071-36.224c0-30.865-18.748-58.82-47.044-70.733C395.475,25.704,334.598,0.001,256.919,0.001 c-90.172,0-121.984,21.7-146.62,61.85c-34.475,8.115-59.093,38.921-59.093,74.684c0,12.749,3.115,25.122,9.071,36.224 C43.782,187.274,34.139,208.291,34.139,230.401z\"/>\\n                <path fill=\"${i}\" d=\"M316.507,424.876c-1.621,1.621-2.475,3.84-2.475,6.059c0,2.304,0.853,4.437,2.475,6.059 c1.621,1.536,3.755,2.475,5.973,2.475c2.304,0,4.437-0.939,6.059-2.475c1.621-1.621,2.475-3.755,2.475-6.059 c0-2.219-0.853-4.437-2.475-6.059C325.382,421.719,319.664,421.719,316.507,424.876z\"/>\\n                <path fill=\"${i}\" d=\"M223.664,458.668c-1.536,1.621-2.475,3.755-2.475,6.059c0,2.219,0.939,4.437,2.475,6.059 c1.621,1.536,3.84,2.475,6.059,2.475c2.304,0,4.437-0.939,6.059-2.475c1.621-1.621,2.475-3.84,2.475-6.059 c0-2.219-0.853-4.437-2.475-6.059C232.624,455.511,226.907,455.511,223.664,458.668z\"/>\\n                <path fill=\"${i}\" d=\"M337.67,411.905c1.621-1.621,2.475-3.755,2.475-6.059c0-2.219-0.853-4.437-2.475-6.059 c-3.157-3.157-8.875-3.072-12.032,0.085c-1.621,1.536-2.56,3.755-2.56,5.973c0,2.304,0.939,4.437,2.56,6.059 c1.536,1.621,3.755,2.475,5.973,2.475C333.915,414.38,336.048,413.527,337.67,411.905z\"/>\\n                <path fill=\"${i}\" d=\"M213.339,238.935c4.71,0,8.533-3.823,8.533-8.533v-5.615c0.546,0.529,0.922,0.964,0.964,1.024 c1.519,2.918,4.497,4.591,7.578,4.591c1.323,0,2.671-0.307,3.934-0.964c4.181-2.176,5.803-7.33,3.627-11.511 c-2.534-4.873-10.581-13.124-24.636-13.124c-14.054,0-22.101,8.252-24.636,13.124c-2.125,4.087-0.555,8.969,3.456,11.23 c4.011,2.287,9.156,0.811,11.563-3.123c0.077-0.128,0.495-0.623,1.084-1.195v5.564 C204.806,235.112,208.629,238.935,213.339,238.935z\"/>\\n                <path fill=\"${i}\" d=\"M256.006,332.801c20.028,0,30.507-9.907,31.633-11.034c3.294-3.294,3.285-8.567,0.043-11.913 c-3.234-3.345-8.61-3.439-12.015-0.247c-0.265,0.247-6.699,6.127-19.661,6.127c-12.774,0-19.208-5.709-19.652-6.118 c-3.336-3.251-8.678-3.217-11.981,0.085c-3.337,3.336-3.337,8.73,0,12.066C225.499,322.894,235.978,332.801,256.006,332.801z\"/>\\n                <path fill=\"${i}\" d=\"M298.672,238.935c4.71,0,8.533-3.823,8.533-8.533v-5.615c0.546,0.529,0.922,0.964,0.964,1.024 c1.519,2.918,4.497,4.591,7.578,4.591c1.323,0,2.671-0.307,3.934-0.964c4.181-2.176,5.803-7.33,3.627-11.511 c-2.534-4.873-10.581-13.124-24.636-13.124s-22.101,8.252-24.636,13.124c-2.125,4.087-0.555,8.969,3.456,11.23 c4.011,2.287,9.165,0.811,11.563-3.123c0.077-0.128,0.495-0.623,1.084-1.195v5.564 C290.139,235.112,293.962,238.935,298.672,238.935z\"/>\\n                <path fill=\"${i}\" d=\"M511.571,500.771l-8.533-25.6c-8.883-26.658-62.464-65.212-136.098-65.212c-3.482,0-6.613,2.116-7.919,5.333 c-0.316,0.802-33.015,79.642-103.014,79.642c-69.99,0-102.69-79.181-103.014-79.983c-1.306-3.226-4.437-5.35-7.919-5.35 c-106.001,0-130.97,50.185-136.098,65.57l-8.533,25.6c-1.493,4.471,0.93,9.301,5.402,10.795c4.48,1.502,9.301-0.93,10.795-5.402 l8.533-25.6c8.465-25.412,42.974-52.514,114.381-53.845c9.293,19.703,45.577,85.282,116.454,85.282 c70.827,0,107.102-65.229,116.437-84.898c64.051,1.835,108.339,35.294,114.398,53.461l8.533,25.6 c1.195,3.576,4.523,5.837,8.098,5.837c0.887,0,1.801-0.137,2.697-0.435C510.64,510.073,513.064,505.243,511.571,500.771z\"/>\\n                <path fill=\"${i}\" d=\"M375.472,281.601v17.067c0,4.71,3.823,8.533,8.533,8.533c4.71,0,8.533-3.823,8.533-8.533v-17.067 c0-4.71-3.823-8.533-8.533-8.533C379.295,273.068,375.472,276.891,375.472,281.601z\"/>\\n                <path fill=\"${i}\" d=\"M188.934,405.847c0-2.219-0.939-4.437-2.56-5.973c-3.157-3.243-8.875-3.243-12.032,0 c-1.621,1.536-2.475,3.755-2.475,5.973c0,2.304,0.853,4.437,2.475,6.059s3.755,2.475,6.059,2.475 c2.219,0,4.437-0.853,5.973-2.475C187.995,410.284,188.934,408.151,188.934,405.847z\"/>\\n                <path fill=\"${i}\" d=\"M189.531,439.468c2.219,0,4.437-0.939,5.973-2.475c1.621-1.621,2.475-3.755,2.475-6.059c0-2.219-0.853-4.437-2.475-6.059 c-3.157-3.157-8.875-3.157-12.032,0c-1.621,1.621-2.475,3.84-2.475,6.059c0,2.304,0.853,4.437,2.475,6.059 C185.008,438.529,187.227,439.468,189.531,439.468z\"/>\\n                <path fill=\"${i}\" d=\"M200.624,445.356c-1.621,1.621-2.56,3.755-2.56,6.059c0,2.219,0.939,4.437,2.56,5.973c1.621,1.621,3.755,2.56,6.059,2.56 c2.219,0,4.437-0.939,5.973-2.56c1.621-1.536,2.475-3.755,2.475-5.973c0-2.304-0.853-4.523-2.475-6.059 C209.499,442.199,203.782,442.199,200.624,445.356z\"/>\\n                <path fill=\"${i}\" d=\"M119.472,281.601v17.067c0,4.71,3.823,8.533,8.533,8.533s8.533-3.823,8.533-8.533v-17.067 c0-4.71-3.823-8.533-8.533-8.533S119.472,276.891,119.472,281.601z\"/>\\n            </svg>`;\n}, FamilyTree.icon.teddy = function (e, t, i, r, a) {\n  return FamilyTree.isNEU(r) && (r = 0), FamilyTree.isNEU(a) && (a = 0), `<svg width=\"${e}\" height=\"${t}\" x=\"${r}\" y=\"${a}\" viewBox=\"0 0 512 512\">\\n                <path fill=\"${i}\" d=\"M234.513,246.613c9.378-1.929,16.555-9.02,21.487-15.863c4.932,6.844,12.109,13.935,21.487,15.863 c1.459,0.299,3.089,0.486,4.873,0.486c6.118,0,13.978-2.304,22.34-10.667c3.337-3.337,3.337-8.73,0-12.066s-8.73-3.337-12.066,0 c-4.361,4.369-8.337,6.212-11.699,5.53c-6.912-1.408-13.611-12.203-16.401-18.364c9.523-3.866,17.067-13.577,17.067-23.799 c0-9.353-9.566-14.933-25.6-14.933c-16.026,0-25.6,5.581-25.6,14.933c0,10.223,7.535,19.934,17.067,23.799 c-2.807,6.178-9.498,16.956-16.401,18.364c-3.405,0.666-7.339-1.178-11.699-5.53c-3.336-3.337-8.73-3.337-12.066,0 s-3.337,8.73,0,12.066C218.104,247.236,228.062,247.91,234.513,246.613z M263.748,190.669c-1.502,2.944-4.873,5.598-7.748,5.598\\ts-6.246-2.654-7.748-5.598C251.793,189.833,260.207,189.833,263.748,190.669z\"/>\\n                <path fill=\"${i}\" d=\"M390.033,53.7c1.621,1.613,2.5,3.755,2.5,6.033s-0.879,4.42-2.5,6.025c-3.337,3.337-3.337,8.738,0,12.075 c1.664,1.664,3.849,2.5,6.033,2.5s4.369-0.836,6.033-2.492c4.838-4.838,7.501-11.273,7.501-18.108s-2.662-13.269-7.501-18.099 c-9.984-9.984-26.214-9.984-36.198,0c-3.337,3.328-3.337,8.73,0,12.066s8.73,3.337,12.066,0 C381.303,50.372,386.697,50.372,390.033,53.7z\"/>\\n                <path fill=\"${i}\" d=\"M311.467,136.533c7.057,0,12.8-5.743,12.8-12.8c0-7.057-5.743-12.8-12.8-12.8s-12.8,5.743-12.8,12.8 C298.667,130.79,304.41,136.533,311.467,136.533z\"/>\\n                <path fill=\"${i}\" d=\"M200.533,136.533c7.057,0,12.8-5.743,12.8-12.8c0-7.057-5.743-12.8-12.8-12.8s-12.8,5.743-12.8,12.8 C187.733,130.79,193.476,136.533,200.533,136.533z\"/>\\n                <path fill=\"${i}\" d=\"M115.934,80.333c2.185,0,4.369-0.836,6.042-2.5c3.328-3.337,3.328-8.738-0.009-12.075c-1.613-1.604-2.5-3.746-2.5-6.025 s0.887-4.42,2.509-6.033c3.209-3.226,8.841-3.226,12.058,0c3.328,3.337,8.738,3.328,12.066,0 c3.337-3.328,3.337-8.738,0.009-12.066c-9.677-9.677-26.539-9.668-36.207-0.009c-4.838,4.838-7.501,11.273-7.501,18.108 s2.662,13.269,7.501,18.108C111.565,79.497,113.749,80.333,115.934,80.333z\"/>\\n                <path fill=\"${i}\" d=\"M498.552,286.191c-28.262-23.945-91.742-14.2-98.884-13.005c-4.651,0.768-7.791,5.171-7.014,9.813 c0.777,4.651,5.171,7.799,9.813,7.014c17.246-2.867,66.133-6.827,85.052,9.199c5.06,4.284,7.415,9.54,7.415,16.521 c0,3.977-1.476,6.946-4.779,9.626c-24.098,19.567-114.33,5.982-147.063-0.913c-3.703-0.776-7.441,0.981-9.242,4.275 c-1.801,3.311-1.212,7.424,1.434,10.095c0.12,0.119,8.499,8.755,12.493,19.951c-2.125-0.222-4.267-0.367-6.443-0.367 c-37.641,0-68.267,34.458-68.267,76.8c0,7.629,1.024,14.993,2.884,21.956c-3.823,1.715-10.197,3.644-19.951,3.644 c-10.052,0-16.367-2.082-19.908-3.814c1.826-6.912,2.842-14.217,2.842-21.786c0-42.342-30.626-76.8-68.267-76.8 c-2.176,0-4.318,0.145-6.443,0.367c3.994-11.196,12.373-19.831,12.476-19.934c2.671-2.671,3.268-6.775,1.468-10.095 c-1.792-3.319-5.521-5.069-9.259-4.292c-32.725,6.895-122.974,20.48-147.063,0.913c-3.302-2.68-4.779-5.649-4.779-9.626 c0-6.98,2.355-12.228,7.407-16.512c18.867-15.991,67.806-12.066,85.06-9.208c4.651,0.794,9.045-2.364,9.813-7.014 c0.776-4.651-2.364-9.045-7.006-9.813c-7.151-1.195-70.613-10.957-98.884,13.005C4.651,293.649,0,303.863,0,315.733 c0,9.079,3.831,16.998,11.093,22.886c27.179,22.05,102.818,12.783,140.535,6.426c-2.825,5.47-5.188,11.896-6.11,18.825 c-25.216,11.29-43.119,38.98-43.119,71.33c0,42.342,30.626,76.8,68.267,76.8c25.446,0,47.642-15.778,59.383-39.057 c5.743,2.56,14.174,4.924,25.95,4.924c11.674,0,20.164-2.287,26.035-4.77C293.794,496.29,315.938,512,341.333,512 c37.641,0,68.267-34.458,68.267-76.8c0-32.35-17.903-60.041-43.119-71.33c-0.922-6.929-3.277-13.355-6.101-18.825 c37.717,6.357,113.365,15.633,140.527-6.426c7.262-5.888,11.093-13.807,11.093-22.886 C512,303.863,507.349,293.649,498.552,286.191z M170.667,494.933c-28.237,0-51.2-26.795-51.2-59.733s22.963-59.733,51.2-59.733 s51.2,26.795,51.2,59.733S198.904,494.933,170.667,494.933z M392.533,435.2c0,32.939-22.963,59.733-51.2,59.733 c-20.983,0-39.04-14.814-46.942-35.942c-0.145-0.614-0.324-1.186-0.606-1.766c-2.338-6.818-3.652-14.242-3.652-22.025 c0-32.939,22.963-59.733,51.2-59.733C369.57,375.467,392.533,402.261,392.533,435.2z\"/>\\n                <path fill=\"${i}\" d=\"M307.2,443.733c0,18.825,15.309,34.133,34.133,34.133c18.825,0,34.133-15.309,34.133-34.133 c0-18.825-15.309-34.133-34.133-34.133C322.509,409.6,307.2,424.909,307.2,443.733z M358.4,443.733 c0,9.412-7.654,17.067-17.067,17.067c-9.404,0-17.067-7.654-17.067-17.067c0-9.412,7.663-17.067,17.067-17.067 C350.746,426.667,358.4,434.321,358.4,443.733z\"/>\\n                <path fill=\"${i}\" d=\"M115.541,118.161c-8.619,21.709-13.141,45.525-13.141,69.572c0,67.849,52.762,136.533,153.6,136.533 s153.6-68.685,153.6-136.533c0-24.491-4.412-47.846-13.107-69.581c26.957-5.76,47.24-29.764,47.24-58.419 C443.733,26.795,416.93,0,384,0c-24.67,0-46.14,14.916-55.108,36.745C307.115,23.859,282.368,17.067,256,17.067 c-26.615,0-51.2,6.716-73.259,19.925C174.08,14.754,153.088,0,128,0C95.061,0,68.267,26.795,68.267,59.733 C68.267,88.397,88.559,112.41,115.541,118.161z M128,17.067c19.226,0,35.021,12.177,40.115,30.054 c-11.085,8.61-21.163,18.816-29.901,30.592c-2.807,3.789-2.014,9.131,1.775,11.938c3.789,2.816,9.139,2.022,11.938-1.766 c8.9-12.006,19.26-22.281,30.788-30.507C204.288,41.95,228.949,34.133,256,34.133c41.429,0,78.396,19.098,104.098,53.786 c1.681,2.253,4.25,3.447,6.869,3.447c1.766,0,3.55-0.546,5.077-1.681c3.78-2.799,4.574-8.149,1.775-11.938 c-8.969-12.092-19.157-22.485-30.345-31.104c5.427-17.374,21.632-29.577,40.525-29.577c23.526,0,42.667,19.14,42.667,42.667 S407.526,102.4,384,102.4c-2.935,0-5.658,1.502-7.228,3.985c-1.553,2.483-1.732,5.589-0.461,8.243 c10.761,22.443,16.222,47.044,16.222,73.105C392.533,247.1,345.634,307.2,256,307.2s-136.533-60.1-136.533-119.467 c0-25.617,5.615-50.901,16.23-73.122c1.263-2.637,1.084-5.751-0.478-8.226c-1.562-2.483-4.292-3.985-7.219-3.985 c-23.526,0-42.667-19.14-42.667-42.667S104.474,17.067,128,17.067z\"/>\\n                <path fill=\"${i}\" d=\"M256,290.133c47.053,0,85.333-30.626,85.333-68.267c0-36.258-36.489-76.8-85.333-76.8s-85.333,40.542-85.333,76.8 C170.667,259.507,208.947,290.133,256,290.133z M256,162.133c38.451,0,68.267,32.111,68.267,59.733 c0,28.237-30.626,51.2-68.267,51.2c-37.641,0-68.267-22.963-68.267-51.2C187.733,194.244,217.557,162.133,256,162.133z\"/>\\n                <path fill=\"${i}\" d=\"M170.667,409.6c-18.825,0-34.133,15.309-34.133,34.133c0,18.825,15.309,34.133,34.133,34.133 s34.133-15.309,34.133-34.133C204.8,424.909,189.491,409.6,170.667,409.6z M170.667,460.8c-9.412,0-17.067-7.654-17.067-17.067 c0-9.412,7.654-17.067,17.067-17.067c9.412,0,17.067,7.654,17.067,17.067C187.733,453.146,180.079,460.8,170.667,460.8z\"/>\\n            </svg>`;\n}, FamilyTree.prototype.exportPDFProfile = function (e, t) {\n  e = this._defaultExportProfileOptions(e, \"pdf\"), this._exportProfile(e, t);\n}, FamilyTree.prototype.exportPDFPreview = function (e) {\n  FamilyTree.pdfPrevUI.show(this, e);\n}, FamilyTree.prototype.exportPNGProfile = function (e, t) {\n  e = this._defaultExportProfileOptions(e, \"png\"), this._exportProfile(e, t);\n}, FamilyTree.prototype.shareProfile = function (e) {\n  var t;\n  \"object\" == typeof e ? e = (t = e).focusId : t = this.editUI.content(e, !0, !0, \"100%\", !0);\n  var i = new URL(window.location.href);\n  i.searchParams.append(\"nodeId\", e);\n  var r = {\n    title: t.title,\n    text: t.shareText,\n    url: i.href\n  };\n  try {\n    navigator.share(r);\n  } catch (e) {\n    console.error(\"error: \" + e);\n  }\n}, FamilyTree.prototype.exportPDF = function (e, t) {\n  e = this._defaultExportOptions(e, \"pdf\"), this._export(e, t);\n}, FamilyTree.prototype.exportPNG = function (e, t) {\n  e = this._defaultExportOptions(e, \"png\"), this._export(e, t);\n}, FamilyTree.prototype.exportSVG = function (e, t) {\n  e = this._defaultExportOptions(e, \"svg\"), this._export(e, t);\n}, FamilyTree.prototype._defaultExportOptions = function (e, t) {\n  return null == e && (e = {}), \"svg\" == t ? (e.ext = \"svg\", e.mime = \"image/svg+xml\") : \"pdf\" == t ? (e.mime = \"application/pdf\", e.ext = \"pdf\") : \"png\" == t && (e.mime = \"image/png\", e.ext = \"png\"), null == e.margin && (e.margin = [50, 40, 50, 40]), null == e.padding && (e.padding = 0), null == e.landscape && (e.landscape = !1), null == e.filename && (e.filename = \"FamilyTree.\" + e.ext), null == e.scale && (e.scale = \"fit\"), null == e.format && (e.format = \"fit\"), null == e.header && (e.header = \"\"), \"pdf\" == t && null == e.footer ? e.footer = \"Page {current-page} of {total-pages}\" : null == e.footer && (e.footer = \"\"), null == e.openInNewTab && (e.openInNewTab = !1), null == e.mode && (e.mode = \"bft-\" + this.config.mode), e;\n}, FamilyTree.prototype._export = function (e, t) {\n  var i = this,\n    r = {\n      id: e.nodeId,\n      expandChildren: e.expandChildren,\n      min: e.min\n    };\n  e.margin && e.margin[0] < 2 && (e.margin[0] = 2), e.margin && e.margin[1] < 2 && (e.margin[1] = 2), e.margin && e.margin[2] < 2 && (e.margin[2] = 2), e.margin && e.margin[3] < 2 && (e.margin[3] = 2), this._draw(!1, FamilyTree.action.exporting, r, function (r) {\n    var a = document.createElement(\"div\");\n    if (a.innerHTML = r, e.padding > 0) {\n      var n = a.querySelector(\"svg\"),\n        o = FamilyTree._getViewBox(n);\n      o[0] -= e.padding, o[1] -= e.padding, o[2] += 2 * e.padding, o[3] += 2 * e.padding, n.setAttribute(\"viewBox\", o.join()), n.setAttribute(\"width\", o[2]), n.setAttribute(\"height\", o[3]);\n    }\n    if (\"svg\" == e.ext) {\n      if (t) t(e, a.innerHTML);else {\n        (n = a.querySelector(\"svg\")).classList.add(\"bft-\" + i.config.mode);\n        var l = {\n            content: a.innerHTML,\n            options: e,\n            styles: \"\"\n          },\n          s = FamilyTree.events.publish(\"exportstart\", [i, l]),\n          d = i.element.querySelector(\"[data-bft-styles]\");\n        if (d && (l.styles += d.outerHTML), l.styles && (a.childNodes[0].insertAdjacentHTML(\"afterbegin\", l.styles), l.content = a.innerHTML), !1 === s) return !1;\n        if (!1 === (s = FamilyTree.events.publish(\"exportend\", [i, l]))) return !1;\n        FamilyTree._downloadFile(e.mime, l.content, l.options.filename, l.options.openInNewTab, l.options.ext);\n      }\n    } else i._pages(e, a.querySelector(\"svg\"), function (r) {\n      var n = {\n          content: a.innerHTML,\n          options: e,\n          pages: r,\n          styles: \"\"\n        },\n        o = FamilyTree.events.publish(\"exportstart\", [i, n]),\n        l = i.element.querySelector(\"[data-bft-styles]\");\n      if (l && (n.styles += l.outerHTML), !1 === o) return !1;\n      t || FamilyTree.loading.show(i), t ? t(i, n, a.querySelector(\"svg\")) : (n = JSON.stringify(n), FamilyTree._ajax(i.config.exportUrl + \"/v3\", \"POST\", n, \"arraybuffer\", function (t) {\n        var r = FamilyTree.events.publish(\"exportend\", [i, t]);\n        if (FamilyTree.loading.hide(i), !1 === r) return !1;\n        FamilyTree._downloadFile(e.mime, t, e.filename, e.openInNewTab, e.ext);\n      }));\n    });\n  });\n}, FamilyTree.prototype.exportCSV = function (e) {\n  var t = FamilyTree._defaultExportProfileOptionsForCSV_SVG_JSON(e, \"csv\"),\n    i = this.getNode(t.nodeId),\n    r = null;\n  i ? (r = [], FamilyTree._exportIterateForJSON_XML_CSV(this, i, t, r)) : !1 === t.min || !1 === t.expandChildren ? FamilyTree._exportIterateForJSON_XML_CSV(this, this.roots, t, r) : r = JSON.parse(JSON.stringify(this.config.nodes));\n  var a = {\n    ext: \"csv\",\n    filename: e,\n    options: t,\n    nodes: r\n  };\n  if (!1 === FamilyTree.events.publish(\"exportstart\", [this, a])) return !1;\n  var n = FamilyTree._json2csv(a.nodes),\n    o = {\n      ext: a.ext,\n      filename: a.filename,\n      options: t,\n      nodes: a.nodes,\n      content: n\n    };\n  if (!1 === FamilyTree.events.publish(\"exportend\", [this, o])) return !1;\n  FamilyTree._downloadFile(\"text/csv;charset=utf-8;\", \"\\ufeff\" + o.content, o.options.filename, o.options.openInNewTab, o.ext);\n}, FamilyTree.prototype.exportXML = function (e) {\n  var t = FamilyTree._defaultExportProfileOptionsForCSV_SVG_JSON(e, \"xml\"),\n    i = this.getNode(t.nodeId),\n    r = null;\n  i ? (r = [], FamilyTree._exportIterateForJSON_XML_CSV(this, i, t, r)) : !1 === t.min || !1 === t.expandChildren ? FamilyTree._exportIterateForJSON_XML_CSV(this, this.roots, t, r) : r = JSON.parse(JSON.stringify(this.config.nodes));\n  var a = {\n    ext: \"xml\",\n    filename: e,\n    options: t,\n    nodes: r\n  };\n  if (!1 === FamilyTree.events.publish(\"exportstart\", [this, a])) return !1;\n  var n = FamilyTree._json2xml(a.nodes),\n    o = {\n      ext: a.ext,\n      filename: a.filename,\n      options: t,\n      nodes: a.nodes,\n      content: n\n    };\n  if (!1 === FamilyTree.events.publish(\"exportend\", [this, o])) return !1;\n  FamilyTree._downloadFile(\"application/xml\", o.content, o.options.filename, o.options.openInNewTab, o.ext);\n}, FamilyTree.prototype.exportJSON = function (e) {\n  var t = FamilyTree._defaultExportProfileOptionsForCSV_SVG_JSON(e, \"json\"),\n    i = this.getNode(t.nodeId),\n    r = null;\n  i ? (r = [], FamilyTree._exportIterateForJSON_XML_CSV(this, i, t, r)) : !1 === t.min || !1 === t.expandChildren ? FamilyTree._exportIterateForJSON_XML_CSV(this, this.roots, t, r) : r = JSON.parse(JSON.stringify(this.config.nodes));\n  var a = {\n    ext: \"json\",\n    filename: t.filename,\n    options: t,\n    nodes: r\n  };\n  if (!1 === FamilyTree.events.publish(\"exportstart\", [this, a])) return !1;\n  var n = {\n    ext: a.ext,\n    filename: a.filename,\n    options: t,\n    nodes: a.nodes,\n    content: JSON.stringify(a.nodes)\n  };\n  if (!1 === FamilyTree.events.publish(\"exportend\", [this, n])) return !1;\n  FamilyTree._downloadFile(\"application/json\", n.content, n.options.filename, n.options.openInNewTab, n.ext);\n}, FamilyTree._exportIterateForJSON_XML_CSV = function (e, t, i, r) {\n  if (Array.isArray(t)) for (var a = 0; a < t.length; a++) FamilyTree._exportIterateForJSON_XML_CSV(e, t[a], i, r);else {\n    var n = e.get(t.id);\n    if (r.push(n), i.min) for (a = 0; a < t.stChildrenIds.length; a++) FamilyTree._exportIterateForJSON_XML_CSV(e, e.getNode(t.stChildrenIds[a]), i, r);else for (a = 0; a < t.stChildren.length; a++) FamilyTree._exportIterateForJSON_XML_CSV(e, t.stChildren[a], i, r);\n    if (i.expandChildren) for (a = 0; a < t.childrenIds.length; a++) FamilyTree._exportIterateForJSON_XML_CSV(e, e.getNode(t.childrenIds[a]), i, r);else for (a = 0; a < t.children.length; a++) FamilyTree._exportIterateForJSON_XML_CSV(e, t.children[a], i, r);\n  }\n}, FamilyTree.prototype._pages = function (e, t, i) {\n  \"A5\" == e.format && \"fit\" != e.scale || \"A4\" == e.format && \"fit\" != e.scale || \"A3\" == e.format && \"fit\" != e.scale || \"A2\" == e.format && \"fit\" != e.scale || \"A1\" == e.format && \"fit\" != e.scale || \"Letter\" == e.format && \"fit\" != e.scale || \"Legal\" == e.format && \"fit\" != e.scale ? i(this._pagesA100(e, t, e.scale)) : \"A5\" == e.format && \"fit\" == e.scale || \"A4\" == e.format && \"fit\" == e.scale || \"A3\" == e.format && \"fit\" == e.scale || \"A2\" == e.format && \"fit\" == e.scale || \"A1\" == e.format && \"fit\" == e.scale || \"Letter\" == e.format && \"fit\" == e.scale || \"Legal\" == e.format && \"fit\" == e.scale ? i(this._pagesAfit(e, t)) : \"fit\" == e.format && i(this._pagesFit(e, t));\n}, FamilyTree.prototype._pagesFit = function (e, t) {\n  var i = t.getAttribute(\"width\"),\n    r = t.getAttribute(\"height\"),\n    a = FamilyTree._getViewBox(t),\n    n = {\n      w: parseFloat(i),\n      h: parseFloat(r)\n    };\n  return [{\n    vb: a,\n    size: {\n      w: n.w + (e.margin[1] + e.margin[3]),\n      h: n.h + (e.margin[0] + e.margin[2])\n    },\n    innerSize: n\n  }];\n}, FamilyTree.prototype._pagesAfit = function (e, t) {\n  var i = t.getAttribute(\"width\"),\n    r = 0,\n    a = 0;\n  switch (e.format) {\n    case \"A5\":\n      r = FamilyTree.A5w, a = FamilyTree.A5h;\n      break;\n    case \"A4\":\n      r = FamilyTree.A4w, a = FamilyTree.A4h;\n      break;\n    case \"A3\":\n      r = FamilyTree.A3w, a = FamilyTree.A3h;\n      break;\n    case \"A2\":\n      r = FamilyTree.A2w, a = FamilyTree.A2h;\n      break;\n    case \"A1\":\n      r = FamilyTree.A1w, a = FamilyTree.A1h;\n      break;\n    case \"Letter\":\n      r = FamilyTree.Letterw, a = FamilyTree.Letterh;\n      break;\n    case \"Legal\":\n      r = FamilyTree.Legalw, a = FamilyTree.Legalh;\n  }\n  var n = e.landscape ? a - (e.margin[1] + e.margin[3]) : r - (e.margin[1] + e.margin[3]),\n    o = (e.landscape ? (e.margin[0], e.margin[2]) : (e.margin[0], e.margin[2]), n / i);\n  return this._pagesA100(e, t, 100 * o);\n}, FamilyTree.prototype._pagesA100 = function (e, t, i) {\n  var r = FamilyTree._getViewBox(t),\n    a = 0,\n    n = 0;\n  switch (e.format) {\n    case \"A5\":\n      a = FamilyTree.A5w, n = FamilyTree.A5h;\n      break;\n    case \"A4\":\n      a = FamilyTree.A4w, n = FamilyTree.A4h;\n      break;\n    case \"A3\":\n      a = FamilyTree.A3w, n = FamilyTree.A3h;\n      break;\n    case \"A2\":\n      a = FamilyTree.A2w, n = FamilyTree.A2h;\n      break;\n    case \"A1\":\n      a = FamilyTree.A1w, n = FamilyTree.A1h;\n      break;\n    case \"Letter\":\n      a = FamilyTree.Letterw, n = FamilyTree.Letterh;\n      break;\n    case \"Legal\":\n      a = FamilyTree.Legalw, n = FamilyTree.Legalh;\n  }\n  var o = r[0],\n    l = r[1],\n    s = r[2],\n    d = r[3],\n    c = {\n      w: e.landscape ? n - (e.margin[1] + e.margin[3]) : a - (e.margin[1] + e.margin[3]),\n      h: e.landscape ? a - (e.margin[0] + e.margin[2]) : n - (e.margin[0] + e.margin[2])\n    },\n    m = {\n      w: e.landscape ? n : a,\n      h: e.landscape ? a : n\n    };\n  t.setAttribute(\"preserveAspectRatio\", \"xMinYMin slice\"), t.setAttribute(\"width\", c.w), t.setAttribute(\"height\", c.h);\n  for (var p = c.w * (100 / i), h = c.h * (100 / i), f = o, u = l, y = []; f < s + o;) {\n    for (; u < d + l;) {\n      var g = [f, u, p, h];\n      g = g.join(), y.push({\n        vb: g,\n        innerSize: c,\n        size: m\n      }), u += h;\n    }\n    f += p, u = l;\n  }\n  return y;\n}, FamilyTree.prototype._defaultExportProfileOptions = function (e, t) {\n  return (FamilyTree.isNEU(e) || FamilyTree.isNEU(e.id)) && console.error(\"options.id is not defilned\"), \"svg\" == t ? (e.ext = \"svg\", e.mime = \"image/svg+xml\") : \"pdf\" == t ? (e.mime = \"application/pdf\", e.ext = \"pdf\") : \"png\" == t && (e.mime = \"image/png\", e.ext = \"png\"), null == e.margin && (e.margin = [50, 40, 50, 40]), null == e.padding && (e.padding = 0), null == e.landscape && (e.landscape = !1), null == e.filename && (e.filename = \"Profile.\" + e.ext), null == e.scale && (e.scale = \"fit\"), null == e.format && (e.format = \"A4\"), null == e.header && (e.header = \"\"), null == e.footer && (e.footer = \"\"), null == e.openInNewTab && (e.openInNewTab = !1), null == e.mode && (e.mode = \"bft-\" + this.config.mode), e;\n}, FamilyTree._defaultExportProfileOptionsForCSV_SVG_JSON = function (e, t) {\n  return FamilyTree.isNEU(e) && (e = {}), \"string\" == typeof e && (e = {\n    filename: e\n  }), FamilyTree.isNEU(e.filename) && (e.filename = `FamilyTree.${t}`), FamilyTree.isNEU(e.expandChildren) && (e.expandChildren = !0), FamilyTree.isNEU(e.min) && (e.min = !0), FamilyTree.isNEU(e.openInNewTab) && (e.openInNewTab = !1), e;\n}, FamilyTree.prototype._exportProfile = function (e, t) {\n  var i = this,\n    r = 0,\n    a = 0;\n  switch (e.format) {\n    case \"A5\":\n      r = FamilyTree.A5w, a = FamilyTree.A5h;\n      break;\n    case \"A4\":\n      r = FamilyTree.A4w, a = FamilyTree.A4h;\n      break;\n    case \"A3\":\n      r = FamilyTree.A3w, a = FamilyTree.A3h;\n      break;\n    case \"A2\":\n      r = FamilyTree.A2w, a = FamilyTree.A2h;\n      break;\n    case \"A1\":\n      r = FamilyTree.A1w, a = FamilyTree.A1h;\n      break;\n    case \"Letter\":\n      r = FamilyTree.Letterw, a = FamilyTree.Letterh;\n      break;\n    case \"Legal\":\n      r = FamilyTree.Legalw, a = FamilyTree.Legalh;\n  }\n  var n = {\n      w: e.landscape ? a - (e.margin[1] + e.margin[3]) : r - (e.margin[1] + e.margin[3]),\n      h: e.landscape ? r - (e.margin[0] + e.margin[2]) : a - (e.margin[0] + e.margin[2])\n    },\n    o = {\n      w: e.landscape ? a : r,\n      h: e.landscape ? r : a\n    },\n    l = this.editUI.content(e.id, !0, !0, \"100%\", !0).element;\n  FamilyTree.input.init(l);\n  var s = {\n    content: l.outerHTML,\n    options: e,\n    pages: [{\n      vb: \"\",\n      innerSize: n,\n      size: o\n    }],\n    styles: \"\"\n  };\n  if (!t) {\n    if (!1 === FamilyTree.events.publish(\"exportstart\", [i, s])) return !1;\n    FamilyTree.loading.show(i);\n  }\n  var d = this.element.querySelector(\"[data-bft-styles]\");\n  d && (s.styles += d.outerHTML);\n  var c = this.getSvg().querySelector(\"defs\");\n  if (c) for (var m = 0; m < c.children.length; m++) \"style\" == c.children[m].nodeName.toLowerCase() && (s.styles += c.children[m].outerHTML);\n  s = JSON.stringify(s), FamilyTree._ajax(this.config.exportUrl + \"/v3\", \"POST\", s, \"arraybuffer\", function (r) {\n    if (t) t(i, r);else {\n      var a = FamilyTree.events.publish(\"exportend\", [i, r]);\n      if (FamilyTree.loading.hide(i), !1 === a) return !1;\n      FamilyTree._downloadFile(e.mime, r, e.filename, e.openInNewTab, e.ext);\n    }\n  });\n}, void 0 === FamilyTree && (FamilyTree = {}), FamilyTree.events = function () {\n  var e = {};\n  return {\n    on: function (t, i, r) {\n      Array.isArray(e[t]) || (e[t] = []), e[t].push({\n        listener: i,\n        event_id: r\n      });\n    },\n    removeAll: function (t) {\n      Array.isArray(e[t]) || (e[t] = []), e[t] = [];\n    },\n    remove: function (t, i, r) {\n      var a = !1;\n      if (e[t] && Array.isArray(e[t]) && e[t].length > 0) for (var n = e[t].length - 1; n >= 0; n--) (!FamilyTree.isNEU(r) && !FamilyTree.isNEU(i) && e[t][n].event_id == r && e[t][n].listener == i || !FamilyTree.isNEU(r) && FamilyTree.isNEU(i) && e[t][n].event_id == r || FamilyTree.isNEU(r) && !FamilyTree.isNEU(i) && e[t][n].listener == i || FamilyTree.isNEU(r) && FamilyTree.isNEU(i)) && (e[t].splice(n, 1), a = !0);\n      return a;\n    },\n    has: function (t, i) {\n      if (e[t] && Array.isArray(e[t]) && e[t].length > 0) {\n        if (FamilyTree.isNEU(i)) return !0;\n        for (var r = 0; r < e[t].length; r++) if (e[t][r].event_id == i) return !0;\n      }\n      return !1;\n    },\n    removeForEventId: function (t) {\n      for (var i in e) if (Array.isArray(e[i])) for (var r = e[i].length - 1; r >= 0; r--) e[i][r].event_id == t && e[i].splice(r, 1);\n    },\n    publish: function (t, i) {\n      if (e[t]) {\n        for (var r = [], a = 0; a < e[t].length; a++) {\n          var n = e[t][a];\n          null != n.event_id && n.event_id != i[0]._event_id || r.push(n.listener);\n        }\n        if (r.length > 0) {\n          var o = !0;\n          for (a = 0; a < r.length && (1 == i.length ? o = r[a](i[0]) && o : 2 == i.length ? o = r[a](i[0], i[1]) && o : 3 == i.length ? o = r[a](i[0], i[1], i[2]) && o : 4 == i.length ? o = r[a](i[0], i[1], i[2], i[3]) && o : 5 == i.length && (o = r[a](i[0], i[1], i[2], i[3], i[4]) && o), !1 !== o); a++);\n          return o;\n        }\n      }\n    }\n  };\n}(), FamilyTree.prototype.importCSV = function () {\n  var e = this,\n    t = document.createElement(\"INPUT\");\n  t.setAttribute(\"type\", \"file\"), t.setAttribute(\"accept\", \".csv\"), t.style.display = \"none\", t.onchange = function (t) {\n    var i = t.target,\n      r = new FileReader();\n    r.onload = function () {\n      var t = r.result,\n        i = FamilyTree._csvToArray(t),\n        a = [],\n        n = i[0];\n      FamilyTree._importSetColumnNames(n, function (t) {\n        for (var r = 1; r < i.length; r++) {\n          for (var n = {}, o = 0; o < i[r].length; o++) {\n            var l = t[o],\n              s = i[r][o];\n            n[l] = FamilyTree._convertStringToArray(l, s);\n          }\n          \"\" != n.id.trim() && a.push(n);\n        }\n        var d = {\n          nodes: a,\n          columnNames: i[0]\n        };\n        0 != FamilyTree.events.publish(\"import\", [e, d]) && (e._putInUndoStack(), e.clearRedo(), e.config.nodes = d.nodes, FamilyTree.events.publish(\"updated\", [e]), e.filterUI.update(), e.draw());\n      });\n    }, r.readAsText(i.files[0]);\n  }, t.click();\n}, FamilyTree._importSetColumnNames = function (e, t) {\n  if (-1 == e.indexOf(\"id\") || -1 == e.indexOf(\"pid\")) {\n    var i = document.createElement(\"DIV\"),\n      r = document.createElement(\"P\");\n    r.style.padding = \"5px\", r.style.color = \"rgb(122, 122, 122)\", r.innerHTML = FamilyTree.IMPORT_MESSAGE, i.appendChild(r);\n    var a = document.createElement(\"div\"),\n      n = document.createElement(\"div\"),\n      o = document.createElement(\"div\"),\n      l = document.createElement(\"span\");\n    a.setAttribute(\"id\", \"bft-sampleDialog\"), a.style.height = \"260px\", a.style.width = \"400px\", a.style.background = \"white\", a.style.border = \"0.5px solid grey\", a.style.position = \"fixed\", a.style.overflow = \"hidden\", a.style.zIndex = \"99\", n.setAttribute(\"id\", \"title\"), n.style.backgroundColor = \"#e5e5e5\", n.style.fontWeight = \"bold\", n.style.color = \"rgb(122, 122, 122)\", n.style.height = \"20px\", n.style.padding = \"3px 0 0 7px\", l.setAttribute(\"id\", \"close\"), l.style.cursor = \"pointer\", l.style.position = \"absolute\", l.style.color = \"rgb(122, 122, 122)\", l.style.fontWeight = \"bold\", l.style.top = \"2px\", l.style.zIndex = 100, o.setAttribute(\"id\", \"content\"), o.style.padding = \"2px\", n.innerHTML = \"Import Organizational Chart Data\", l.innerHTML = \"&times;\";\n    var s = document.createElement(\"HR\");\n    s.style.height = \"0.1px\", s.style.backgroundColor = \"#aeaeae\", s.style.border = \"none\", s.style.margin = \"0\", a.appendChild(n), a.appendChild(s), o.appendChild(i), a.appendChild(o), a.appendChild(l), document.body.appendChild(a), FamilyTree._importCenter(a), l.style.left = a.offsetWidth - 20 + \"px\";\n    var d = document.createElement(\"div\");\n    d.setAttribute(\"id\", \"overlay\"), d.style.width = \"100%\", d.style.height = \"100%\", d.style.left = 0, d.style.top = 0, d.style.position = \"fixed\", d.style.background = \"grey\", d.style.opacity = \"0.5\", d.style.zIndex = 98, document.body.appendChild(d), a._overlay = d;\n    var c = document.createElement(\"LABEL\"),\n      m = document.createTextNode(\"Name:\");\n    c.setAttribute(\"for\", \"bft-id-select\"), c.appendChild(m), c.style.fontSize = \"16px\", c.style.color = \"rgb(122, 122, 122)\", c.style.padding = \"5px\", c.style.margin = \"5px\", c.style.width = \"30%\", c.style.textAlign = \"right\", c.style.display = \"inline-block\", i.appendChild(c);\n    var p = document.createElement(\"SELECT\");\n    p.id = \"bft-id-select\", p.style.fontSize = \"16px\", p.style.color = \"rgb(122, 122, 122)\", p.style.padding = \"5px\", p.style.margin = \"5px\", p.style.width = \"60%\", p.style.border = \"1px solid #aeaeae\", i.appendChild(p);\n    var h = document.createElement(\"BR\");\n    i.appendChild(h);\n    for (var f = 0; f < e.length; f++) {\n      (T = document.createElement(\"option\")).setAttribute(\"value\", e[f]);\n      var u = document.createTextNode(e[f]);\n      T.appendChild(u), p.appendChild(T);\n    }\n    var y = document.createElement(\"LABEL\"),\n      g = document.createTextNode(\"Reports to:\");\n    y.setAttribute(\"for\", \"pid-select\"), y.appendChild(g), y.style.fontSize = \"16px\", y.style.color = \"rgb(122, 122, 122)\", y.style.padding = \"5px\", y.style.margin = \"5px\", y.style.width = \"30%\", y.style.textAlign = \"right\", y.style.display = \"inline-block\", i.appendChild(y);\n    var v = document.createElement(\"SELECT\");\n    v.id = \"pid-select\", v.style.fontSize = \"16px\", v.style.color = \"rgb(122, 122, 122)\", v.style.padding = \"5px\", v.style.margin = \"5px\", v.style.width = \"60%\", v.style.border = \"1px solid #aeaeae\", i.appendChild(v);\n    for (f = 0; f < e.length; f++) {\n      var T;\n      (T = document.createElement(\"option\")).setAttribute(\"value\", e[f]);\n      u = document.createTextNode(e[f]);\n      T.appendChild(u), v.appendChild(T);\n    }\n    var b = document.createElement(\"BUTTON\");\n    b.innerHTML = \"Import\", b.style.fontSize = \"16px\", b.style.color = \"rgb(122, 122, 122)\", b.style.padding = \"5px 20px\", b.style.margin = \"20px auto\", b.style.display = \"block\", b.onclick = function () {\n      a.style.display = \"none\", a._overlay && a._overlay.parentNode.removeChild(a._overlay);\n      var i = p.options[p.selectedIndex].value,\n        r = e.indexOf(i);\n      e[r] = \"id\";\n      var n = v.options[v.selectedIndex].value,\n        o = e.indexOf(n);\n      e[o] = \"pid\", t(e);\n    };\n    var F = document.createElement(\"DIV\");\n    return F.appendChild(b), i.appendChild(F), l.onclick = function (e) {\n      a._overlay && a._overlay.parentNode.removeChild(a._overlay), a.parentNode.removeChild(a), e.stopPropagation();\n    }, n.onmousedown = function (e) {\n      e = e || window.event, a._dragging = !0, a._originalLeft = a.offsetLeft, a._originalTop = a.offsetTop, a._mouseLeft = e.clientX, a._mouseTop = e.clientY;\n    }, document.onmousemove = function (e) {\n      e = e || window.event, a._dragging && (a.style.left = a._originalLeft + e.clientX - a._mouseLeft + \"px\", a.style.top = a._originalTop + e.clientY - a._mouseTop + \"px\");\n    }, document.onmouseup = function (e) {\n      e = e || window.event, a._dragging && (a.style.left = a._originalLeft + e.clientX - a._mouseLeft + \"px\", a.style.top = a._originalTop + e.clientY - a._mouseTop + \"px\", a._dragging = !1);\n    }, a;\n  }\n  t(e);\n}, FamilyTree._importCenter = function (e) {\n  e && (e.style.left = (window.innerWidth - e.offsetWidth) / 2 + \"px\", e.style.top = (window.innerHeight - e.offsetHeight) / 2 + \"px\");\n}, FamilyTree.prototype.importXML = function () {\n  var e = this,\n    t = document.createElement(\"INPUT\");\n  t.setAttribute(\"type\", \"file\"), t.setAttribute(\"accept\", \".xml\"), t.style.display = \"none\", t.onchange = function (t) {\n    var i = t.target,\n      r = new FileReader();\n    r.onload = function () {\n      var t = r.result,\n        i = FamilyTree._xml2json(t);\n      0 != FamilyTree.events.publish(\"import\", [e, i]) && (e._putInUndoStack(), e.clearRedo(), e.config.nodes = i, FamilyTree.events.publish(\"updated\", [e]), e.filterUI.update(), e.draw());\n    }, r.readAsText(i.files[0]);\n  }, t.click();\n}, FamilyTree.prototype.importJSON = function () {\n  var e = this,\n    t = document.createElement(\"INPUT\");\n  t.setAttribute(\"type\", \"file\"), t.setAttribute(\"accept\", \".json\"), t.style.display = \"none\", t.onchange = function (t) {\n    var i = t.target,\n      r = new FileReader();\n    r.onload = function () {\n      var t = r.result,\n        i = JSON.parse(t);\n      0 != FamilyTree.events.publish(\"import\", [e, i]) && (e._putInUndoStack(), e.clearRedo(), e.config.nodes = i, FamilyTree.events.publish(\"updated\", [e]), e.filterUI.update(), e.draw());\n    }, r.readAsText(i.files[0]);\n  }, t.click();\n}, FamilyTree.prototype.__importJSON = FamilyTree.prototype.importJSON, FamilyTree.prototype.importJSON = function () {\n  this.config.roots = [], this.__importJSON();\n}, FamilyTree.prototype.__importCSV = FamilyTree.prototype.importCSV, FamilyTree.prototype.importCSV = function () {\n  this.config.roots = [], this.__importCSV();\n}, FamilyTree.prototype.__importXML = FamilyTree.prototype.importXML, FamilyTree.prototype.importXML = function () {\n  this.config.roots = [], this.__importXML();\n}, FamilyTree._importSetColumnNames = function (e, t) {\n  t(e);\n}, FamilyTree.prototype.expand = function (e, t, i) {\n  var r = {\n    id: e,\n    ids: t\n  };\n  this._draw(!1, FamilyTree.action.expand, r, i);\n}, FamilyTree.prototype.collapse = function (e, t, i) {\n  var r = {\n    id: e,\n    ids: t\n  };\n  this._draw(!1, FamilyTree.action.collapse, r, i);\n}, FamilyTree.prototype.expandCollapse = function (e, t, i, r) {\n  Array.isArray(t) || (t = []), Array.isArray(i) || (i = []);\n  var a = {\n    id: e,\n    expandIds: t,\n    collapseIds: i,\n    ids: t.concat(i)\n  };\n  this._draw(!1, FamilyTree.action.collapse, a, r);\n}, FamilyTree.prototype.changeRoots = function (e, t, i) {\n  this.config.roots = t;\n  var r = {\n    id: e,\n    changeRoots: t\n  };\n  this._draw(!1, FamilyTree.action.update, r, i);\n}, FamilyTree.prototype.maximize = function (e, t, i, r) {\n  var a = this,\n    n = {\n      id: e,\n      options: {}\n    };\n  FamilyTree.isNEU(n.id) && (n.id = this.roots[0].id, n.all = !0), n.options.horizontal = !1, n.options.vertical = !1, t && (n.options.horizontal = t), i && (n.options.vertical = i), this._draw(!1, FamilyTree.action.maximize, n, function () {\n    a.ripple(e), r && r();\n  });\n}, FamilyTree.prototype.minimize = function (e, t) {\n  var i = this,\n    r = {\n      id: e\n    };\n  FamilyTree.isNEU(r.id) && (r.id = this.roots[0].id, r.all = !0), this._draw(!1, FamilyTree.action.minimize, r, function () {\n    i.ripple(e), t && t();\n  });\n}, FamilyTree.prototype._expCollHandler = function (e) {\n  this.nodeMenuUI.hide(), this.nodeContextMenuUI.hide(), this.menuUI.hide(), this.nodeCircleMenuUI.hide();\n  var t = this.getNode(e),\n    i = this.getCollapsedIds(t);\n  if (i.length) {\n    if (!1 === FamilyTree.events.publish(\"expcollclick\", [this, !1, e, i])) return !1;\n    this.expand(e, i, !1);\n  } else {\n    if (!1 === FamilyTree.events.publish(\"expcollclick\", [this, !0, e, t.childrenIds])) return !1;\n    this.collapse(e, t.childrenIds, !1);\n  }\n}, FamilyTree.prototype._upHandler = function (e) {\n  this.nodeMenuUI.hide(), this.nodeContextMenuUI.hide(), this.menuUI.hide(), this.nodeCircleMenuUI.hide();\n  var t = this._upHandlerCreateArgs(e);\n  if (!1 === FamilyTree.events.publish(\"up-click\", [this, t])) return !1;\n  this.changeRoots(t.id, t.roots, !1);\n}, FamilyTree.prototype._upHandlerCreateArgs = function (e) {\n  var t,\n    i = this.getNode(e),\n    r = Object.assign([], this.config.roots),\n    a = this.getNode(i.pid);\n  if (a && (t = a), t) {\n    if (Array.isArray(r)) {\n      var n = r.indexOf(i.id);\n      -1 != n && r.splice(n, 1);\n    } else r = [];\n    r.push(t.id);\n  }\n  return {\n    id: i.id,\n    roots: r\n  };\n}, FamilyTree.prototype._upHandlerCreateArgs = function (e) {\n  var t = this.getNode(e),\n    i = Object.assign([], this.config.roots),\n    r = this.getRecentRootsByNodeId(e);\n  return Array.isArray(i) || (i = []), FamilyTree._changeRootOption(i, r, this.manager.rootList), {\n    id: t.id,\n    roots: i\n  };\n}, String.prototype.replaceAll || (String.prototype.replaceAll = function (e, t) {\n  return this.replace(new RegExp(e, \"g\"), t);\n}), String.prototype.endsWith || (String.prototype.endsWith = function (e) {\n  return -1 !== this.indexOf(e, this.length - e.length);\n}), String.prototype.splice || (String.prototype.splice = function (e, t, i) {\n  return this.slice(0, e) + i + this.slice(e + Math.abs(t));\n}), String.prototype.insert || (String.prototype.insert = function (e, t) {\n  return e > 0 ? this.substring(0, e) + t + this.substr(e) : t + this;\n}), Array.prototype.unique || Object.defineProperty(Array.prototype, \"unique\", {\n  value: function () {\n    for (var e = this.concat(), t = 0; t < e.length; ++t) for (var i = t + 1; i < e.length; ++i) e[t] === e[i] && e.splice(i--, 1);\n    return e;\n  },\n  writable: !0,\n  configurable: !0,\n  enumerable: !1\n}), Array.prototype.has || Object.defineProperty(Array.prototype, \"has\", {\n  value: function (e) {\n    for (var t = 0; t < this.length; t++) if (this[t] == e) return !0;\n    return !1;\n  },\n  writable: !0,\n  configurable: !0,\n  enumerable: !1\n}), Array.prototype.compare || Object.defineProperty(Array.prototype, \"compare\", {\n  value: function (e) {\n    if (this.length != e.length) return !1;\n    for (var t = 0; t < this.length; t++) if (!e.has(this[t])) return !1;\n    return !0;\n  },\n  writable: !0,\n  configurable: !0,\n  enumerable: !1\n}), Object.assign || Object.defineProperty(Object, \"assign\", {\n  value: function (e, t) {\n    \"use strict\";\n\n    if (null == e) throw new TypeError(\"Cannot convert undefined or null to object\");\n    for (var i = Object(e), r = 1; r < arguments.length; r++) {\n      var a = arguments[r];\n      if (null != a) for (var n in a) Object.prototype.hasOwnProperty.call(a, n) && (i[n] = a[n]);\n    }\n    return i;\n  },\n  writable: !0,\n  configurable: !0\n}), FamilyTree.prototype._globalMouseDownHandler = function (e, t) {\n  var i = {\n    move: \"mousemove\",\n    up: \"mouseup\",\n    leave: \"mouseleave\"\n  };\n  if (-1 != t.type.indexOf(\"touch\") && (1 == t.touches.length ? this._touch = {\n    x: t.touches[0].clientX,\n    y: t.touches[0].clientY\n  } : this._touch = null, i = {\n    move: \"touchmove\",\n    up: \"touchend\",\n    touchstart: \"touchstart\"\n  }), e == t.target) return t.stopPropagation(), t.preventDefault(), void this._mouseDownHandler(e, t, i);\n  if (this.config.nodeMouseClick == FamilyTree.action.pan) {\n    for (var r = t.target; r != e && !r.hasAttribute(FamilyTree.attr.control_expcoll_id) && !r.hasAttribute(FamilyTree.attr.control_up_id);) r = r.parentNode;\n    if (!r.hasAttribute(FamilyTree.attr.control_expcoll_id) && !r.hasAttribute(FamilyTree.attr.control_up_id)) return t.stopPropagation(), t.preventDefault(), void this._mouseDownHandler(e, t, i);\n  }\n  for (var a = t.target; a != e;) {\n    if (a.hasAttribute(FamilyTree.attr.node_id)) return void this._nodeMouseDownHandler(a, t, i);\n    if (a.hasAttribute(FamilyTree.attr.control_node_circle_menu_name)) return t.stopPropagation(), t.preventDefault(), void this._nodeCircleNodeMenuItemMouseDownHandler(a, t, i);\n    a = a.parentNode;\n  }\n}, FamilyTree.prototype._globalClickHandler = function (e, t) {\n  if (-1 != t.type.indexOf(\"touch\") && this._touch && 1 == t.changedTouches.length) {\n    if (t.changedTouches.length) {\n      var i = {\n          x: t.changedTouches[0].clientX,\n          y: t.changedTouches[0].clientY\n        },\n        r = FamilyTree.t(this.config.template, !1, this.getScale()).size,\n        a = this.getScale(),\n        n = Math.abs(i.x - this._touch.x) / a,\n        o = Math.abs(i.y - this._touch.y) / a;\n      if (this._touch = null, n > r[0] / 10) return;\n      if (o > r[1] / 10) return;\n    }\n  } else if (-1 != t.type.indexOf(\"touch\") && null == this._touch) return;\n  for (var l = t.target; l != e;) {\n    if (l.hasAttribute(FamilyTree.attr.control_expcoll_id)) {\n      var s = l.getAttribute(FamilyTree.attr.control_expcoll_id),\n        d = this.getNode(s);\n      return void this._expCollHandler(d.id);\n    }\n    if (l.hasAttribute(FamilyTree.attr.node_id)) {\n      s = l.getAttribute(FamilyTree.attr.node_id), d = this.getNode(s);\n      return void this._nodeClickHandler(d.id, t);\n    }\n    if (l.hasAttribute(FamilyTree.attr.control_node_menu_id)) {\n      t.stopPropagation(), t.preventDefault();\n      s = l.getAttribute(FamilyTree.attr.control_node_menu_id), d = this.getNode(s);\n      return void this._nodeMenuClickHandler(d.id, l, t);\n    }\n    if (l.hasAttribute(FamilyTree.attr.control_node_circle_menu_id)) {\n      t.stopPropagation(), t.preventDefault();\n      s = l.getAttribute(FamilyTree.attr.control_node_circle_menu_id);\n      return void this._nodeCircleMenuClickHandler(s);\n    }\n    if (l.hasAttribute(FamilyTree.attr.control_node_circle_menu_name)) return t.stopPropagation(), t.preventDefault(), void this._nodeCircleMenuItemClickHandler(l, t);\n    if (l.hasAttribute(FamilyTree.attr.control_add)) return void this._lonelyButtonHandler();\n    if (l.hasAttribute(FamilyTree.attr.control_up_id)) {\n      s = l.getAttribute(FamilyTree.attr.control_up_id);\n      return t.stopPropagation(), t.preventDefault(), void this._upHandler(s);\n    }\n    if (l.hasAttribute(FamilyTree.attr.c_link_from)) return void FamilyTree.events.publish(\"clink-click\", [this, {\n      from: l.getAttribute(FamilyTree.attr.c_link_from),\n      to: l.getAttribute(FamilyTree.attr.c_link_to),\n      event: t\n    }]);\n    if (l.hasAttribute(FamilyTree.attr.s_link_from)) return void FamilyTree.events.publish(\"slink-click\", [this, {\n      from: l.getAttribute(FamilyTree.attr.s_link_from),\n      to: l.getAttribute(FamilyTree.attr.s_link_to),\n      event: t\n    }]);\n    l = l.parentNode;\n  }\n}, FamilyTree.prototype._globalContextHandler = function (e, t) {\n  for (var i = t.target; i != e;) {\n    if (i.hasAttribute(FamilyTree.attr.node_id)) {\n      var r = i.getAttribute(FamilyTree.attr.node_id),\n        a = this.getNode(r);\n      return void this._nodeContextHandler(a.id, t);\n    }\n    i = i.parentNode;\n  }\n}, FamilyTree.prototype._nodeContextHandler = function (e, t) {\n  t.preventDefault(), FamilyTree.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE && this.searchUI.hide(), this.nodeMenuUI.hide(), this.nodeContextMenuUI.hide(), this.menuUI.hide(), this.nodeCircleMenuUI.hide();\n  var i = this.get(e),\n    r = null;\n  if (null != i && Array.isArray(i.tags)) for (var a = 0; a < i.tags.length; a++) {\n    var n = i.tags[a];\n    this.config.tags[n] && this.config.tags[n].nodeContextMenu && (r = this.config.tags[n].nodeContextMenu);\n  }\n  var o = this.element.getBoundingClientRect(),\n    l = t.clientX - o.left,\n    s = t.clientY - o.top;\n  this.nodeContextMenuUI.show(l, s, e, null, r);\n}, FamilyTree.prototype._globalDbClickHandler = function (e, t) {\n  for (var i = t.target; i != e;) {\n    if (i.hasAttribute(FamilyTree.attr.node_id)) {\n      var r = i.getAttribute(FamilyTree.attr.node_id),\n        a = this.getNode(r);\n      return void this._nodeDbClickHandler(a.id, t);\n    }\n    i = i.parentNode;\n  }\n}, FamilyTree.prototype._mouseScrollHandler = function (e, t) {\n  this.__mouseScrollHandler(this.getSvg(), t);\n}, FamilyTree.prototype.__mouseScrollHandler = function (e, t) {\n  if (t.ctrlKey) {\n    if (this.config.mouseScrool == FamilyTree.action.zoom) return;\n  } else {\n    if (this.config.mouseScrool == FamilyTree.action.ctrlZoom) return;\n    if (this.config.mouseScrool != FamilyTree.action.zoom) return;\n  }\n  var i = this,\n    r = !1,\n    a = this.config.zoom.speed,\n    n = this.config.zoom.smooth,\n    o = 0,\n    l = this.getScale(),\n    s = FamilyTree._centerPointInPercent(e, t.pageX, t.pageY);\n  var d = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (e) {\n    setTimeout(e, 20);\n  };\n  t.preventDefault();\n  var c = t.delta || t.wheelDelta;\n  void 0 === c && (c = -t.detail), c = Math.max(-1, Math.min(1, c)), o += -c * a, r || function e() {\n    r = !0;\n    var t = (o - l) / n;\n    t > 0 ? t++ : t--, l += t, i.zoom(1 - t / 12 / 50, s), parseInt(l) == parseInt(o) ? r = !1 : d(e);\n  }();\n}, FamilyTree.prototype._nodeCircleNodeMenuItemMouseDownHandler = function (e, t, i) {\n  var r = e.parentNode.getAttribute(FamilyTree.attr.control_node_circle_menu_wrraper_id),\n    a = e.getAttribute(FamilyTree.attr.control_node_circle_menu_name),\n    n = this.nodeCircleMenuUI._menu[a];\n  if (n.draggable) {\n    var o = this,\n      l = FamilyTree._getClientXY(t),\n      s = this.getNode(r);\n    e._dragEventFired = !1;\n    var d = o.getScale(),\n      c = null,\n      m = null;\n    this._gragStartedId = r, document.body.style.mozUserSelect = document.body.style.webkitUserSelect = document.body.style.userSelect = \"none\";\n    var p = this.getSvg(),\n      h = {\n        x: l.x,\n        y: l.y\n      },\n      f = e.cloneNode(!0);\n    p.insertBefore(f, p.firstChild);\n    var u = FamilyTree._getTransform(f),\n      y = u[4],\n      g = u[5],\n      v = function (e) {\n        for (; e && !e.hasAttribute(FamilyTree.attr.control_node_circle_menu_wrraper_id);) e = e.parentNode;\n        if (e) {\n          var t = FamilyTree._getTransform(e);\n          return {\n            x: t[4],\n            y: t[5]\n          };\n        }\n        console.error(\"cannot find parent\" + FamilyTree.attr.control_node_circle_menu_wrraper_id);\n      }(e);\n    f.setAttribute(\"transform\", \"matrix(1,0,0,1,\" + (y + v.x) + \",\" + (g + v.y) + \")\"), f.style.opacity = .7;\n    var T = function (e, t) {\n        if (null != e) {\n          t.classList.remove(\"bft-drag-over\");\n          for (var i = FamilyTree.getStParentNodes(o.getNode(c)), r = 0; r < i.length; r++) {\n            var a = o.getNodeElement(i[r].id);\n            a && (a.style.opacity = 1);\n          }\n        }\n      },\n      b = function (t) {\n        if (h) {\n          var i = FamilyTree._getClientXY(t),\n            r = t.target;\n          FamilyTree.isMobile() && (r = document.elementFromPoint(i.x, i.y)), i.x += v.x * d, i.y += v.y * d;\n          var l = FamilyTree._getOffsetXY(o.element, t),\n            s = {\n              left: o.width() - (l.x + o.config.padding) < 0,\n              right: l.x - o.config.padding < 0,\n              up: o.height() - (l.y + o.config.padding) < 0,\n              down: l.y - o.config.padding < 0\n            };\n          if (s.left || s.right || s.up || s.down) {\n            p.classList && (p.classList.remove(\"bft-cursor-grab\"), p.classList.add(\"bft-cursor-move\"), p.classList.remove(\"bft-cursor-nodrop\"), p.classList.remove(\"bft-cursor-copy\"));\n            var b = u[4],\n              x = u[5],\n              _ = h.x,\n              w = h.y,\n              k = i.x,\n              S = i.y;\n            o.moveStart(s, function (e) {\n              u[4] = b + e.x, u[5] = x + e.y, h.x = _ - e.xWithoutScale, h.y = w - e.yWithoutScale, i.x = k - e.xWithoutScale, i.y = S - e.yWithoutScale, f.setAttribute(\"transform\", \"matrix(\" + u.toString() + \")\");\n            });\n          } else {\n            for (o.moveEnd(), p.classList && (p.classList.add(\"bft-cursor-grab\"), p.classList.remove(\"bft-cursor-move\"), p.classList.remove(\"bft-cursor-nodrop\"), p.classList.remove(\"bft-cursor-copy\")), T(c, m), c = null, m = null; null != r && r != p;) {\n              if (r.hasAttribute && r.hasAttribute(FamilyTree.attr.node_id)) {\n                var C = r.getAttribute(FamilyTree.attr.node_id);\n                c = C, m = r;\n                break;\n              }\n              r = r.parentNode;\n            }\n            if (null != c) {\n              m.classList.add(\"bft-drag-over\");\n              for (var I = o.getNode(c), N = FamilyTree.getStParentNodes(I), A = 0; A < N.length; A++) {\n                var L = o.getNodeElement(N[A].id);\n                L && (L.style.opacity = .1);\n              }\n              p.classList.remove(\"bft-cursor-grab\"), p.classList.remove(\"bft-cursor-move\"), p.classList.add(\"bft-cursor-copy\"), p.classList.remove(\"bft-cursor-nodrop\");\n            }\n            var E = (i.x - h.x) / d,\n              M = (i.y - h.y) / d;\n            if (u[4] = y + E, u[5] = g + M, !e._dragEventFired && (Math.abs(i.x - h.x) > FamilyTree.FIRE_DRAG_NOT_CLICK_IF_MOVE || Math.abs(i.y - h.y) > FamilyTree.FIRE_DRAG_NOT_CLICK_IF_MOVE)) !1 === FamilyTree.events.publish(\"drag\", [o.nodeCircleMenuUI, {\n              from: C,\n              menuItem: n,\n              menuItemName: a\n            }]) && F(), e._dragEventFired = !0;\n            f.setAttribute(\"transform\", \"matrix(\" + u.toString() + \")\");\n          }\n        }\n      },\n      F = function (t) {\n        if (o.moveEnd(), p.classList && (p.classList.remove(\"bft-cursor-grab\"), p.classList.remove(\"bft-cursor-move\"), p.classList.remove(\"bft-cursor-nodrop\"), p.classList.remove(\"bft-cursor-copy\")), p.removeEventListener(i.move, b), p.removeEventListener(i.up, F), i.leave && p.removeEventListener(i.leave, F), s.id == c || null == c) return p.removeChild(f), o._gragStartedId = null, void (e._dragEventFired && FamilyTree.events.publish(\"drop\", [o.nodeCircleMenuUI, {\n          from: s.id,\n          menuItemName: a,\n          menuItem: n,\n          event: t\n        }]));\n        var r = o.getNode(c);\n        FamilyTree.events.publish(\"drop\", [o.nodeCircleMenuUI, {\n          from: s.id,\n          to: r.id,\n          menuItem: n,\n          menuItemName: a,\n          event: t\n        }]), T(c, m), p.removeChild(f), o._gragStartedId = null;\n      };\n    p.addEventListener(i.move, b), p.addEventListener(i.up, F), i.leave && p.addEventListener(i.leave, F);\n  }\n}, FamilyTree.prototype._nodeMouseDownHandler = function (e, t, i) {\n  this.config.draggable ? this._draggableHandler(e, t, i) : this.config.enableDragDrop && this._dragDropHandler(e, t, i);\n}, FamilyTree.prototype._draggableHandler = function (e, t, i) {\n  var r = this,\n    a = e.getAttribute(FamilyTree.attr.node_id);\n  if (this.roots) for (var n = 0; n < this.roots.length; n++) if (this.roots[n].id == a) return;\n  var o = [],\n    l = function (e, t) {\n      if (Array.isArray(e)) for (var i = 0; i < e.length; i++) l(e[i], t);else {\n        t.push(e.id);\n        for (i = 0; i < e.stChildren.length; i++) l(e.stChildren[i], t);\n        for (i = 0; i < e.children.length; i++) l(e.children[i], t);\n      }\n    };\n  l(this.getNode(a), o);\n  for (var s = this.getSvg(), d = FamilyTree._getClientXY(t), c = [], m = [], p = [], h = [], f = [], u = [], y = [], g = [], v = 0; v < o.length; v++) {\n    var T = this.getNode(o[v]);\n    c.push(T), p.push({\n      x: T.x,\n      y: T.y\n    });\n    var b = this.getNodeElement(o[v]);\n    f.push(b);\n    var F = FamilyTree._getTransform(b);\n    h.push({\n      x: F[4],\n      y: F[5]\n    }), m.push(F);\n    var x = this.element.querySelector(`[data-ctrl-ec-id=\"${o[v]}\"]`);\n    if (x) {\n      u.push(x);\n      var _ = FamilyTree._getTransform(x);\n      y.push(_), g.push({\n        x: _[4],\n        y: _[5]\n      });\n    } else u.push(null), y.push(null), g.push(null);\n    if (this.config.draggable == FamilyTree.draggable.node) break;\n  }\n  e._dragEventFired = !1;\n  var w = null,\n    k = null;\n  this._gragStartedId = o[0], document.body.style.mozUserSelect = document.body.style.webkitUserSelect = document.body.style.userSelect = \"none\";\n  var S = {\n      x: d.x,\n      y: d.y\n    },\n    C = r.getScale(),\n    I = function (e, t) {\n      if (null != e) {\n        t.classList.remove(\"bft-drag-over\");\n        for (var i = r.getNode(w), a = FamilyTree.getStParentNodes(i), n = 0; n < a.length; n++) {\n          var o = r.getNodeElement(a[n].id);\n          o && (o.style.opacity = 1);\n        }\n      }\n    },\n    N = function (t) {\n      if (S) {\n        var i = FamilyTree._getClientXY(t),\n          n = t.target;\n        FamilyTree.isMobile() && (n = document.elementFromPoint(i.x, i.y));\n        var l = FamilyTree._getOffsetXY(r.element, t),\n          d = {\n            left: r.width() - (l.x + r.config.padding) < 0,\n            right: l.x - r.config.padding < 0,\n            up: r.height() - (l.y + r.config.padding) < 0,\n            down: l.y - r.config.padding < 0\n          };\n        if (d.left || d.right || d.up || d.down) {\n          s.classList && (s.classList.remove(\"bft-cursor-grab\"), s.classList.add(\"bft-cursor-move\"), s.classList.remove(\"bft-cursor-nodrop\"), s.classList.remove(\"bft-cursor-copy\"));\n          for (var v = [], T = [], b = [], F = [], x = 0; x < m.length; x++) v.push(m[x][4]), T.push(m[x][5]), y[x] ? (b.push(y[x][4]), F.push(y[x][5])) : (b.push(null), F.push(null));\n          var _ = S.x,\n            N = S.y,\n            L = i.x,\n            E = i.y;\n          r.moveStart(d, function (e) {\n            for (var t = 0; t < m.length; t++) {\n              var a = v[t],\n                n = T[t],\n                o = b[t],\n                l = F[t];\n              m[t][4] = a + e.x, m[t][5] = n + e.y, S.x = _ - e.xWithoutScale, S.y = N - e.yWithoutScale, i.x = L - e.xWithoutScale, i.y = E - e.yWithoutScale, c[t].x = a + e.x, c[t].y = n + e.y, c[t].movex = e.x, c[t].movey = e.y, y[t] && (y[t][4] = o + e.x, y[t][5] = l + e.y);\n              for (var s = FamilyTree.ui.link(c[t], r, C, r.response.bordersByRootIdAndLevel, r.nodes, FamilyTree.action.update, !0), d = 0; d < s.length; d++) {\n                var p = s[d];\n                (h = r.element.querySelector(`[data-l-id=\"[${p.id}][${p.childId}]\"]`)) && (h.innerHTML = p.html);\n              }\n              if (c[t].parent) for (s = FamilyTree.ui.link(c[t].parent, r, C, r.response.bordersByRootIdAndLevel, r.nodes, FamilyTree.action.update, !0), d = 0; d < s.length; d++) {\n                var h;\n                p = s[d];\n                (h = r.element.querySelector(`[data-l-id=\"[${p.id}][${p.childId}]\"]`)) && (h.innerHTML = p.html);\n              }\n              f[t].setAttribute(\"transform\", \"matrix(\" + m[t].toString() + \")\"), u[t] && u[t].setAttribute(\"transform\", \"matrix(\" + y[t].toString() + \")\");\n            }\n          });\n        } else {\n          if (r.moveEnd(), s.classList && (s.classList.add(\"bft-cursor-grab\"), s.classList.remove(\"bft-cursor-move\"), s.classList.remove(\"bft-cursor-nodrop\"), s.classList.remove(\"bft-cursor-copy\")), I(w, k), w = null, k = null, r.config.enableDragDrop) for (; null != n && n != s;) {\n            if (n.hasAttribute && n.hasAttribute(FamilyTree.attr.node_id)) {\n              var M = n.getAttribute(FamilyTree.attr.node_id);\n              if (r._gragStartedId && M != r._gragStartedId) {\n                w = M, k = n;\n                break;\n              }\n            }\n            n = n.parentNode;\n          }\n          if (null != w) {\n            k.classList.add(\"bft-drag-over\");\n            for (var U = r.getNode(w), O = FamilyTree.getStParentNodes(U), B = 0; B < O.length; B++) {\n              var R = r.getNodeElement(O[B].id);\n              R && (R.style.opacity = .1);\n            }\n            !r.canUpdateLink(c[0].id, w) && s.classList ? (s.classList.remove(\"bft-cursor-grab\"), s.classList.remove(\"bft-cursor-move\"), s.classList.remove(\"bft-cursor-copy\"), s.classList.add(\"bft-cursor-nodrop\")) : s.classList && (s.classList.remove(\"bft-cursor-grab\"), s.classList.remove(\"bft-cursor-move\"), s.classList.add(\"bft-cursor-copy\"), s.classList.remove(\"bft-cursor-nodrop\"));\n          }\n          var P = (i.x - S.x) / C,\n            D = (i.y - S.y) / C;\n          for (x = 0; x < m.length; x++) {\n            m[x][4] = h[x].x + P, m[x][5] = h[x].y + D, y[x] && (y[x][4] = g[x].x + P, y[x][5] = g[x].y + D), c[x].x = p[x].x + P, c[x].y = p[x].y + D, c[x].movex = P, c[x].movey = D;\n            var H = FamilyTree.ui.link(c[x], r, C, r.response.bordersByRootIdAndLevel, r.nodes, FamilyTree.action.update, !0);\n            for (B = 0; B < H.length; B++) {\n              var z = H[B];\n              ($ = r.element.querySelector(`[data-l-id=\"[${z.id}][${z.childId}]\"]`)) && ($.innerHTML = z.html);\n            }\n            if (c[x].parent) for (H = FamilyTree.ui.link(c[x].parent, r, C, r.response.bordersByRootIdAndLevel, r.nodes, FamilyTree.action.update, !0), B = 0; B < H.length; B++) {\n              var $;\n              z = H[B];\n              ($ = r.element.querySelector(`[data-l-id=\"[${z.id}][${z.childId}]\"]`)) && ($.innerHTML = z.html);\n            }\n          }\n          if (!e._dragEventFired && (Math.abs(i.x - S.x) > FamilyTree.FIRE_DRAG_NOT_CLICK_IF_MOVE || Math.abs(i.y - S.y) > FamilyTree.FIRE_DRAG_NOT_CLICK_IF_MOVE)) {\n            if (!1 === FamilyTree.events.publish(\"drag\", [r, a, t, o]) && A(), r.config.enableDragDrop) for (x = 0; x < f.length; x++) s.insertBefore(f[x], s.firstChild);\n            e._dragEventFired = !0;\n          }\n          for (x = 0; x < m.length; x++) f[x].setAttribute(\"transform\", \"matrix(\" + m[x].toString() + \")\"), u[x] && u[x].setAttribute(\"transform\", \"matrix(\" + y[x].toString() + \")\");\n        }\n      }\n    },\n    A = function (t) {\n      for (var a = 0; a < c.length; a++) c[a].x = p[a].x, c[a].y = p[a].y;\n      if (r.moveEnd(), s.classList && (s.classList.remove(\"bft-cursor-grab\"), s.classList.remove(\"bft-cursor-move\"), s.classList.remove(\"bft-cursor-nodrop\"), s.classList.remove(\"bft-cursor-copy\")), s.removeEventListener(i.move, N), s.removeEventListener(i.up, A), i.leave && s.removeEventListener(i.leave, A), c[0].id != w && null != w) {\n        var n = r.getNode(w);\n        if (!1 === (l = FamilyTree.events.publish(\"drop\", [r, c[0].id, n.id, f[0], t]))) return I(w, k), void (r._gragStartedId = null);\n        if (r.canUpdateLink(c[0].id, w)) (d = r.get(c[0].id)).pid = w, d.stpid = null, r.updateNode(d, null, !0);else I(w, k);\n        r._gragStartedId = null;\n      } else {\n        if (e._dragEventFired) {\n          var l = FamilyTree.events.publish(\"drop\", [r, c[0].id, void 0, f[0], t]);\n          if (r.config.draggable && !1 !== l) {\n            for (a = 0; a < c.length; a++) {\n              var d;\n              if (d = family.get(c[a].id)) {\n                var m = FamilyTree._getTransform(f[a]);\n                null != d.movex ? d.movex += m[4] - c[a].x : d.movex = m[4] - c[a].x, null != d.movey ? d.movey += m[5] - c[a].y : d.movey = m[5] - c[a].y, family.update(d);\n              }\n            }\n            family.draw(FamilyTree.action.update, {\n              dragNodeIdList: o\n            });\n          }\n        }\n        r._gragStartedId = null;\n      }\n    };\n  s.addEventListener(i.move, N), s.addEventListener(i.up, A), i.leave && s.addEventListener(i.leave, A);\n}, FamilyTree.prototype._dragDropHandler = function (e, t, i) {\n  var r = FamilyTree._getClientXY(t),\n    a = e.getAttribute(FamilyTree.attr.node_id),\n    n = this.getNode(a);\n  e._dragEventFired = !1;\n  var o = null,\n    l = null;\n  this._gragStartedId = a, this.element.style.mozUserSelect = this.element.style.webkitUserSelect = this.element.style.userSelect = \"none\";\n  var s = this,\n    d = this.getSvg(),\n    c = {\n      x: r.x,\n      y: r.y\n    },\n    m = FamilyTree._getTransform(e),\n    p = m[4],\n    h = m[5],\n    f = s.getScale(),\n    u = e.cloneNode(!0);\n  u.setAttribute(\"data-n-id\", \"draging\"), d.insertBefore(u, d.firstChild), u.style.opacity = .7;\n  var y = function (e, t) {\n      if (null != e) {\n        t.classList.remove(\"bft-drag-over\");\n        for (var i = s.getNode(o), r = FamilyTree.getStParentNodes(i), a = 0; a < r.length; a++) {\n          var n = s.getNodeElement(r[a].id);\n          n && (n.style.opacity = 1);\n        }\n      }\n    },\n    g = function (t) {\n      if (c) {\n        var i = FamilyTree._getClientXY(t),\n          r = t.target;\n        FamilyTree.isMobile() && (r = document.elementFromPoint(i.x, i.y));\n        var a = FamilyTree._getOffsetXY(s.element, t),\n          g = {\n            left: s.width() - (a.x + s.config.padding) < 0,\n            right: a.x - s.config.padding < 0,\n            up: s.height() - (a.y + s.config.padding) < 0,\n            down: a.y - s.config.padding < 0\n          };\n        if (g.left || g.right || g.up || g.down) {\n          d.classList && (d.classList.remove(\"bft-cursor-grab\"), d.classList.add(\"bft-cursor-move\"), d.classList.remove(\"bft-cursor-nodrop\"), d.classList.remove(\"bft-cursor-copy\"));\n          var T = m[4],\n            b = m[5],\n            F = c.x,\n            x = c.y,\n            _ = i.x,\n            w = i.y;\n          s.moveStart(g, function (e) {\n            m[4] = T + e.x, m[5] = b + e.y, c.x = F - e.xWithoutScale, c.y = x - e.yWithoutScale, i.x = _ - e.xWithoutScale, i.y = w - e.yWithoutScale, u.setAttribute(\"transform\", \"matrix(\" + m.toString() + \")\");\n          });\n        } else {\n          if (s.moveEnd(), d.classList && (d.classList.add(\"bft-cursor-grab\"), d.classList.remove(\"bft-cursor-move\"), d.classList.remove(\"bft-cursor-nodrop\"), d.classList.remove(\"bft-cursor-copy\")), y(o, l), o = null, l = null, s.config.enableDragDrop) for (; null != r && r != d;) {\n            if (r.hasAttribute && r.hasAttribute(FamilyTree.attr.node_id)) {\n              var k = r.getAttribute(FamilyTree.attr.node_id);\n              if (s._gragStartedId && k != s._gragStartedId) {\n                o = k, l = r;\n                break;\n              }\n            }\n            r = r.parentNode;\n          }\n          if (\"draging\" == o && (o = null, l = null), null != o) {\n            l.classList.add(\"bft-drag-over\");\n            for (var S = s.getNode(o), C = FamilyTree.getStParentNodes(S), I = 0; I < C.length; I++) {\n              var N = s.getNodeElement(C[I].id);\n              N && (N.style.opacity = .1);\n            }\n            !s.canUpdateLink(n.id, o) && d.classList ? (d.classList.remove(\"bft-cursor-grab\"), d.classList.remove(\"bft-cursor-move\"), d.classList.remove(\"bft-cursor-copy\"), d.classList.add(\"bft-cursor-nodrop\")) : d.classList && (d.classList.remove(\"bft-cursor-grab\"), d.classList.remove(\"bft-cursor-move\"), d.classList.add(\"bft-cursor-copy\"), d.classList.remove(\"bft-cursor-nodrop\"));\n          }\n          var A = (i.x - c.x) / f,\n            L = (i.y - c.y) / f;\n          if (m[4] = p + A, m[5] = h + L, !e._dragEventFired && (Math.abs(i.x - c.x) > FamilyTree.FIRE_DRAG_NOT_CLICK_IF_MOVE || Math.abs(i.y - c.y) > FamilyTree.FIRE_DRAG_NOT_CLICK_IF_MOVE)) !1 === FamilyTree.events.publish(\"drag\", [s, k, t]) && v(), e._dragEventFired = !0;\n          u.setAttribute(\"transform\", \"matrix(\" + m.toString() + \")\");\n        }\n      }\n    },\n    v = function (t) {\n      if (s.moveEnd(), d.classList && (d.classList.remove(\"bft-cursor-grab\"), d.classList.remove(\"bft-cursor-move\"), d.classList.remove(\"bft-cursor-nodrop\"), d.classList.remove(\"bft-cursor-copy\")), d.removeEventListener(i.move, g), d.removeEventListener(i.up, v), i.leave && d.removeEventListener(i.leave, v), n.id == o || null == o) return e._dragEventFired && FamilyTree.events.publish(\"drop\", [s, n.id, void 0, u, t]), d.removeChild(u), void (s._gragStartedId = null);\n      var r = s.getNode(o);\n      if (!1 === FamilyTree.events.publish(\"drop\", [s, n.id, r.id, u, t])) return y(o, l), d.removeChild(u), void (s._gragStartedId = null);\n      if (s.canUpdateLink(n.id, o)) {\n        var a = s.get(n.id);\n        a.pid = o, a.stpid = null, s.updateNode(a, null, !0);\n      } else d.removeChild(u), y(o, l);\n      s._gragStartedId = null;\n    };\n  d.addEventListener(i.move, g), d.addEventListener(i.up, v), i.leave && d.addEventListener(i.leave, v);\n}, FamilyTree.prototype._resizeHandler = function (e, t) {\n  if (this.isVisible) {\n    var i = this.getViewBox(),\n      r = this.getSvg(),\n      a = r.getAttribute(\"width\"),\n      n = r.getAttribute(\"height\"),\n      o = a / i[2],\n      l = n / i[3],\n      s = o > l ? l : o;\n    r.setAttribute(\"width\", this.width()), r.setAttribute(\"height\", this.height()), i[2] = this.width() / s, i[3] = this.height() / s, this.setViewBox(i), this.xScrollUI.create(this.width()), this.yScrollUI.create(this.height()), this._draw(!1, FamilyTree.action.resize);\n  }\n}, FamilyTree.prototype._nodeDbClickHandler = function (e, t) {\n  if (!1 === FamilyTree.events.publish(\"dbclick\", [this, this.get(e)])) return !1;\n  this._commonClickHandler(e, t, this.config.nodeMouseDbClick);\n}, FamilyTree.prototype._nodeClickHandler = function (e, t) {\n  var i = this.getNodeElement(e);\n  if (i && i._dragEventFired) i._dragEventFired = !1;else {\n    if (!1 === FamilyTree.events.publish(\"click\", [this, {\n      node: this.getNode(e),\n      event: t\n    }])) return !1;\n    this._commonClickHandler(e, t, this.config.nodeMouseClick);\n  }\n}, FamilyTree.prototype._nodeCircleMenuItemClickHandler = function (e, t) {\n  var i = e.parentNode.getAttribute(FamilyTree.attr.control_node_circle_menu_wrraper_id),\n    r = e.getAttribute(FamilyTree.attr.control_node_circle_menu_name),\n    a = this.nodeCircleMenuUI._menu[r];\n  FamilyTree.events.publish(\"click\", [this.nodeCircleMenuUI, {\n    nodeId: i,\n    menuItemName: r,\n    menuItem: a,\n    event: t\n  }]);\n}, FamilyTree.prototype._nodeCircleMenuClickHandler = function (e) {\n  FamilyTree.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE && this.searchUI.hide(), this.nodeMenuUI.hide(), this.nodeContextMenuUI.hide(), this.menuUI.hide();\n  var t = this.getNode(e),\n    i = null;\n  if (Array.isArray(t.tags)) for (var r = 0; r < t.tags.length; r++) {\n    var a = t.tags[r];\n    this.config.tags[a] && this.config.tags[a].nodeCircleMenu && (i = this.config.tags[a].nodeCircleMenu);\n  }\n  this.nodeCircleMenuUI.show(e, i);\n}, FamilyTree.prototype._commonClickHandler = function (e, t, i) {\n  var r;\n  (FamilyTree.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE && this.searchUI.hide(), this.nodeMenuUI.hide(), this.nodeContextMenuUI.hide(), this.menuUI.hide(), this.nodeCircleMenuUI.hide(), i == FamilyTree.action.expandCollapse && this.toggleExpandCollapse(e, t), i == FamilyTree.action.edit) && (r = this.getNode(e)) && (this.editUI.show(r.id), this.ripple(r.id, t.clientX, t.clientY));\n  i == FamilyTree.action.details && (r = this.getNode(e)) && (this.editUI.show(r.id, !0), this.ripple(r.id, t.clientX, t.clientY));\n}, FamilyTree.prototype._menuHandlerMouseDownHandler = function (e, t) {\n  t.stopPropagation(), t.preventDefault();\n}, FamilyTree.prototype._nodeMenuClickHandler = function (e, t, i) {\n  FamilyTree.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE && this.searchUI.hide(), this.nodeMenuUI.hide(), this.nodeContextMenuUI.hide(), this.menuUI.hide(), this.nodeCircleMenuUI.hide();\n  var r = this.getNode(e),\n    a = null;\n  if (Array.isArray(r.tags)) for (var n = 0; n < r.tags.length; n++) {\n    var o = r.tags[n];\n    this.config.tags[o] && this.config.tags[o].nodeMenu && (a = this.config.tags[o].nodeMenu);\n  }\n  this.nodeMenuUI.showStickIn(t, e, null, a);\n}, FamilyTree.prototype._menuClickHandler = function (e, t) {\n  t.stopPropagation(), t.preventDefault(), this.nodeMenuUI.hide(), this.nodeContextMenuUI.hide(), this.menuUI.show(e.offsetLeft, e.offsetTop);\n}, FamilyTree.prototype._lonelyButtonHandler = function () {\n  var e = {\n    id: this.generateId()\n  };\n  !1 !== this.addNode(e, null, !0) && this.center(e.id);\n}, FamilyTree.prototype.toggleExpandCollapse = function (e, t) {\n  var i = this.getNode(e),\n    r = this.getCollapsedIds(i);\n  if (r.length) {\n    if (!1 === FamilyTree.events.publish(\"expcollclick\", [this, !1, e, r])) return !1;\n    this.expand(e, r, !1);\n  } else {\n    if (!1 === FamilyTree.events.publish(\"expcollclick\", [this, !0, e, i.childrenIds])) return !1;\n    this.collapse(e, i.childrenIds, !1);\n  }\n  t && this.ripple(i.id, t.clientX, t.clientY);\n}, FamilyTree.prototype._move = function (e, t, i) {\n  i[0] = t, i[1] = e, this.setViewBox(i), this.xScrollUI.setPosition(), this.yScrollUI.setPosition();\n}, FamilyTree.prototype.moveStart = function (e, t, i, r) {\n  if (e) {\n    if (!this._moveInterval) {\n      var a = this,\n        n = this.getViewBox().slice(0),\n        o = this.getScale(),\n        l = 0,\n        s = 0,\n        d = 1;\n      FamilyTree.isNEU(i) && (i = FamilyTree.anim.inSin), FamilyTree.isNEU(r) && (r = 3e3), this._moveInterval = setInterval(function () {\n        var c = {\n          x: 0,\n          y: 0,\n          xWithoutScale: 0,\n          yWithoutScale: 0\n        };\n        e.left ? (l++, c.x = l * FamilyTree.MOVE_STEP / o, c.xWithoutScale = l * FamilyTree.MOVE_STEP) : e.right && (l++, c.x = -l * FamilyTree.MOVE_STEP / o, c.xWithoutScale = -l * FamilyTree.MOVE_STEP), e.up ? (s++, c.y = s * FamilyTree.MOVE_STEP / o, c.yWithoutScale = s * FamilyTree.MOVE_STEP) : e.down && (s++, c.y = -s * FamilyTree.MOVE_STEP / o, c.yWithoutScale = -s * FamilyTree.MOVE_STEP);\n        var m = i((10 * d - 10) / r);\n        c.x = c.x * m, c.xWithoutScale = c.xWithoutScale * m, c.y = c.y * m, c.yWithoutScale = c.yWithoutScale * m, a.setViewBox([n[0] + c.x, n[1] + c.y, n[2], n[3]]), t && t(c), d += 1;\n      }, 10);\n    }\n  } else console.error(\"movePosition parameter not defined\");\n}, FamilyTree.prototype.moveEnd = function () {\n  this._moveInterval && (clearInterval(this._moveInterval), this._moveInterval = null);\n}, void 0 === FamilyTree && (FamilyTree = {}), FamilyTree.node = function (e, t, i, r) {\n  this.templateName = r, this.id = e, this.pid = t, this.children = [], this.childrenIds = [], this.parent = null, this.stpid = null, this.stParent = null, this.stChildren = [], this.stChildrenIds = [], this.tags = i, this.tags || (this.tags = []);\n}, FamilyTree.prototype._mouseDownHandler = function (e, t, i) {\n  var r = this;\n  FamilyTree.HIDE_EDIT_FORM_ON_PAN && this.editUI.hide(), FamilyTree.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE && this.searchUI.hide(), this.nodeMenuUI.hide(), this.nodeContextMenuUI.hide(), this.menuUI.hide(), this.nodeCircleMenuUI.hide();\n  var a = this.getViewBox(),\n    n = this.getScale(),\n    o = FamilyTree._getClientTouchesXY(t, 0),\n    l = FamilyTree._getClientTouchesXY(t, 1),\n    s = {\n      diffX: 0,\n      diffY: 0,\n      x0: o.x,\n      y0: o.y,\n      type: \"pan\",\n      viewBoxLeft: a[0],\n      viewBoxTop: a[1]\n    };\n  t.touches && t.touches.length > 1 && (s.type = \"pinch\", s.dist = Math.sqrt((o.x - l.x) * (o.x - l.x) + (o.y - l.y) * (o.y - l.y))), \"pan\" == s.type && (this._hideBeforeAnimation(), this._changeCursorOnPanStart(a, n, t));\n  var d = function (e) {\n      var t = FamilyTree._getClientTouchesXY(e, 0);\n      if (s && \"pan\" == s.type) {\n        r._hideBeforeAnimation(), s.diffX = t.x - s.x0, s.diffY = t.y - s.y0;\n        var i = -s.diffY / n + s.viewBoxTop,\n          o = -s.diffX / n + s.viewBoxLeft;\n        r._move(i, o, a);\n      } else if (s && \"pinch\" == s.type) {\n        var l = FamilyTree._getClientTouchesXY(e, 1),\n          d = Math.sqrt((t.x - l.x) * (t.x - l.x) + (t.y - l.y) * (t.y - l.y)),\n          c = 1 + (d - s.dist) / (s.dist / 100) / 100;\n        s.dist = d;\n        var m = FamilyTree._pinchMiddlePointInPercent(r.element, r.width(), r.height(), e);\n        r.zoom(c, m);\n      }\n    },\n    c = function () {\n      \"pan\" == s.type && r.config.sticky ? setTimeout(function () {\n        FamilyTree._moveToBoundaryArea(e, r.getViewBox(), r.response.boundary, function () {\n          r._draw(!0, FamilyTree.action.pan);\n        });\n      }, 0) : \"pan\" != s.type || r.config.sticky || setTimeout(function () {\n        r._draw(!0, FamilyTree.action.pan);\n      }, 0), \"pan\" == s.type && r._changeCursorOnPanEnd(), s = null, e.removeEventListener(i.move, d), e.removeEventListener(i.up, c), i.leave && e.removeEventListener(i.leave, c), i.touchstart && e.removeEventListener(i.touchstart, c);\n    };\n  this.config.enablePan && (e.addEventListener(i.move, d), e.addEventListener(i.up, c), i.leave && e.addEventListener(i.leave, c), i.touchstart && e.addEventListener(i.touchstart, c));\n}, FamilyTree.prototype._changeCursorOnPanStart = function (e, t, i) {\n  var r = this.getPointerElement(),\n    a = FamilyTree._getOffsetXY(this.element, i),\n    n = a.x / t + e[0] - 16 / t,\n    o = a.y / t + e[1] - 16 / t;\n  r.style.display = \"inherit\", r.setAttribute(\"transform\", \"matrix(0,0,0,0,\" + n + \",\" + o + \")\"), FamilyTree.animate(r, {\n    transform: [0, 0, 0, 0, n, o],\n    opacity: 0\n  }, {\n    transform: [1 / t, 0, 0, 1 / t, n, o],\n    opacity: 1\n  }, 300, FamilyTree.anim.outBack);\n}, FamilyTree.prototype._changeCursorOnPanEnd = function () {\n  this.getPointerElement().style.display = \"none\";\n}, FamilyTree.searchUI = function () {\n  this.lastSearch = [], this._searchAfterEnterPress = !1, this._event_id = FamilyTree._guid(), this.instance = null;\n}, FamilyTree.searchUI.prototype.init = function (e) {\n  this.instance = e, this.obj = this.instance, this._initSearchFields();\n  var t = this,\n    i = this.instance.config.padding - 10,\n    r = this.instance.config.padding - 10,\n    a = this.instance.getMenuButton();\n  if (a) {\n    var n = a.getBoundingClientRect(),\n      o = this.instance.getSvg().getBoundingClientRect();\n    i = o.right - n.left + 10, r = n.top - o.top - 10;\n  }\n  var l = document.createElement(\"div\");\n  l.classList.add(\"bft-search\"), l.style.right = i + \"px\", l.style.top = r + \"px\";\n  var s = FamilyTree.elements.textbox({}, {\n    label: FamilyTree.SEARCH_PLACEHOLDER,\n    btn: \"X\"\n  }, \"320px\");\n  l.innerHTML += s.html, this.xBtn = l.querySelector(\"[data-input-btn]\"), this.xBtn.style.display = \"none\", this.searchTableWrapper = document.createElement(\"div\"), l.appendChild(this.searchTableWrapper);\n  var d = this.instance.getSvg().nextSibling;\n  this.instance.element.insertBefore(l, d), FamilyTree.input.init(l), this.input = document.getElementById(s.id), this.xBtn.addEventListener(\"click\", function (e) {\n    e.preventDefault(), t.hide();\n  }), this.input.addEventListener(\"keypress\", function (e) {\n    \"Enter\" == e.key && e.preventDefault();\n  }), this.input.addEventListener(\"focus\", function (e) {\n    t.xBtn.style.display = \"\", t._search();\n  }), this.input.addEventListener(\"blur\", function (e) {\n    FamilyTree.isNEU(t.input.value) && FamilyTree.SEARCH_HELP_SYMBOL != t.input.value && (t.xBtn.style.display = \"none\");\n  }), this.input.addEventListener(\"keydown\", function (e) {\n    (\"ArrowDown\" == e.key || \"ArrowUp\" == e.key) && e.preventDefault();\n  }), this.input.addEventListener(\"keyup\", function (e) {\n    \"ArrowDown\" == e.key ? c() : \"ArrowUp\" == e.key ? m() : \"Enter\" == e.key ? t._enterHandler() : \"Escape\" == e.key ? t.hide() : t._search();\n  });\n  var c = function () {\n      var e = t.instance.element.querySelectorAll(\"[data-search-item-id]\"),\n        i = t.instance.element.querySelector('[data-selected=\"yes\"]');\n      null == i && e.length > 0 ? e[0].setAttribute(\"data-selected\", \"yes\") : e.length > 0 && i.nextSibling && i.nextSibling.setAttribute && (i.removeAttribute(\"data-selected\"), i.nextSibling.setAttribute(\"data-selected\", \"yes\"));\n    },\n    m = function () {\n      var e = t.instance.element.querySelectorAll(\"[data-search-item-id]\"),\n        i = t.instance.element.querySelector('[data-selected=\"yes\"]');\n      null == i && e.length > 0 ? e[e.length - 1].setAttribute(\"data-selected\", \"yes\") : e.length > 0 && i.previousSibling && i.previousSibling.setAttribute && (i.removeAttribute(\"data-selected\"), i.previousSibling.setAttribute(\"data-selected\", \"yes\"));\n    };\n}, FamilyTree.searchUI.prototype._enterHandler = function () {\n  var e = this.instance.element.querySelector('[data-selected=\"yes\"]');\n  if (e) {\n    if (e.hasAttribute(\"data-search-item-id\")) {\n      var t = e.getAttribute(\"data-search-item-id\");\n      if (this.input.value != FamilyTree.SEARCH_HELP_SYMBOL) {\n        var i = FamilyTree.events.publish(\"\", [this.instance, t]),\n          r = FamilyTree.events.publish(\"searchclick\", [this, {\n            nodeId: t\n          }]);\n        !1 === i && (r = !1), 0 != r && this.instance.center(t);\n      } else this.input.value = t + \" \", this.searchTableWrapper.innerHTML = \"\";\n    }\n  } else this._searchAfterEnterPress = !0, this.__search(), this.searchTableWrapper.innerHTML = \"\", this.instance.draw();\n}, FamilyTree.searchUI.prototype._initSearchFields = function () {\n  if (null == this.instance.config.searchFields) {\n    this._searchFields = [];\n    for (var e = 0; e < this.instance.response.allFields.length; e++) {\n      var t = this.instance.response.allFields[e];\n      \"tags\" == t || FamilyTree._fieldIsImg(this.instance.config, t) || this._searchFields.push(t);\n    }\n  } else this._searchFields = this.instance.config.searchFields;\n  if (null == this.instance.config.searchFieldsAbbreviation) {\n    this.searchFieldsAbbreviation = {};\n    for (e = 0; e < this._searchFields.length; e++) {\n      for (var i = this._searchFields[e], r = 0, a = i.slice(0, r + 1).toLowerCase(); this.searchFieldsAbbreviation[a];) r++, a = i.slice(0, r + 1).toLowerCase();\n      this.searchFieldsAbbreviation[a] = i;\n    }\n  } else this.searchFieldsAbbreviation = this.instance.config.searchFieldsAbbreviation;\n  this._searchFieldsAbbreviation = this.searchFieldsAbbreviation;\n}, FamilyTree.searchUI.prototype.find = function (e) {\n  this.input && (this.input.value = e, document.activeElement == this.input ? this._search(e) : this.input.focus());\n}, FamilyTree.searchUI.prototype.addMatchTag = function (e) {\n  if (this._searchAfterEnterPress) {\n    for (var t = 0; t < this.lastSearch.length; t++) if (this.lastSearch[t].id == e) return !0;\n    return !1;\n  }\n  return null;\n}, FamilyTree.searchUI.prototype.__search = function () {\n  this.lastSearch = FamilyTree._search.search(this.instance.config.nodes, this.input.value, this._searchFields, this._searchFields, this.instance.config.searchDisplayField, this.instance.config.searchFieldsWeight, this.searchFieldsAbbreviation);\n}, FamilyTree.searchUI.prototype._search = function () {\n  var e,\n    t = this;\n  if (this._searchAfterEnterPress = !1, this.input.value == FamilyTree.SEARCH_HELP_SYMBOL) e = this.helpView();else {\n    this.__search();\n    var i = FamilyTree._getFistImgField(this.instance.config);\n    e = `<table border=\"0\" cellspacing=\"0\" cellpadding=\"0\">\\n                        <tbody>\\n                            ${function () {\n      for (var e = \"\", r = 0; r < t.lastSearch.length && !(r >= FamilyTree.SEARCH_RESULT_LIMIT); r++) {\n        var a = t.lastSearch[r],\n          n = \"\";\n        if (i) {\n          var o = t.instance._get(a.id);\n          \"function\" == typeof i ? n = i(t.instance, t.instance.getNode(a.id), o) : o[i] && (n = o[i]);\n        }\n        var l = \"\",\n          s = \"\";\n        t.instance.config.searchDisplayField == a.__searchField ? l = a.__searchMarks : t.instance.config.searchDisplayField ? (l = a[t.instance.config.searchDisplayField], FamilyTree.isNEU(l) && (l = \"\"), s = a.__searchMarks) : l = a.__searchMarks;\n        var d = {\n          img: n,\n          nodeId: a.id,\n          first: l,\n          second: s,\n          searchItem: a,\n          html: FamilyTree.searchUI.createItem(n, a.id, l, s)\n        };\n        FamilyTree.events.publish(\"add-item\", [t, d]), e += d.html;\n      }\n      return e;\n    }()}  \\n                        </tbody>\\n                    </table>`;\n  }\n  this.searchTableWrapper.innerHTML = e;\n  for (var r = this.instance.element.querySelectorAll(\"[data-search-item-id]\"), a = 0; a < r.length; a++) r[a].addEventListener(\"click\", function () {\n    if (this.hasAttribute(\"data-search-item-id\")) {\n      var e = this.getAttribute(\"data-search-item-id\");\n      if (t.input.value != FamilyTree.SEARCH_HELP_SYMBOL) {\n        var i = FamilyTree.events.publish(\"searchclick\", [t.instance, e]),\n          r = FamilyTree.events.publish(\"searchclick\", [t, {\n            nodeId: e\n          }]);\n        if (!1 === i && (r = !1), !1 !== r) {\n          t.instance.center(this.getAttribute(\"data-search-item-id\"));\n          var a = t.instance.element.querySelector('[data-selected=\"yes\"]');\n          a && a.removeAttribute(\"data-selected\"), this.setAttribute(\"data-selected\", \"yes\"), t.input.focus();\n        }\n      } else t.input.value = e + \" \", t.searchTableWrapper.innerHTML = \"\", t.input.focus();\n    }\n  });\n  FamilyTree.events.publish(\"show-items\", [this, {}]);\n}, FamilyTree.searchUI.prototype.helpView = function () {\n  var e = '<table border=\"0\" cellspacing=\"0\" cellpadding=\"0\">';\n  for (var t in this.searchFieldsAbbreviation) e += `<tr data-search-item-id=\"${t}\" style=\"height: 50px;\"><td class=\"bft-search-image-td\" style=\"text-align: center;\">${t}</td><td class=\"bft-search-text-td\">${this.searchFieldsAbbreviation[t]}</td></tr>`;\n  return e += \"</table>\";\n}, FamilyTree.searchUI.createItem = function (e, t, i, r) {\n  return i && (i = \"<b>\" + i + \"</b>\"), `<tr data-search-item-id=\"${t}\">\\n                <td class=\"bft-search-image-td\">\\n                    ${e = e ? `<div class=\"bft-search-photo\" style=\"background-image: url(${e})\"></div>` : `<div class=\"bft-search-photo\">${FamilyTree.icon.user(32, 32, \"#aeaeae\")}</div>`}\\n                </td>\\n                <td class=\"bft-search-text-td\">${i} <br/>${r}</td>\\n            </tr>`;\n}, FamilyTree.searchUI.prototype.hide = function () {\n  if (!1 === FamilyTree.events.publish(\"hide\", [this])) return !1;\n  this._searchAfterEnterPress && (this._searchAfterEnterPress = !1, this.instance.draw()), this.lastSearch = [], this.xBtn && (this.xBtn.style.display = \"none\"), this.searchTableWrapper && (this.searchTableWrapper.innerHTML = \"\"), this.input && (this.input.value = \"\", document.activeElement == this.input && this.input.blur(), document.activeElement == this.xBtn && FamilyTree.input.blurHandler(this.input));\n}, FamilyTree.searchUI.prototype.on = function (e, t) {\n  return FamilyTree.events.on(e, t, this._event_id), this;\n}, void 0 === FamilyTree && (FamilyTree = {}), FamilyTree.manager = function (e) {\n  this.config = e.config, this.layoutConfigs = e._layoutConfigs, this.visibleNodeIds = [], this.viewBox = null, this.action = null, this.actionParams = null, this.nodes = {}, this.oldNodes = {}, this.maxX = null, this.maxY = null, this.minX = null, this.minY = null, this.bordersByRootIdAndLevel = null, this.roots = null, this.state = null, this.vbIsInitializedFromState = !1, this.rootList = [], this.instance = e, this._fixAdjustForExport = {\n    x: 0,\n    y: 0\n  };\n}, FamilyTree.manager.prototype.read = function (e, t, i, r, a, n, o, l) {\n  var s = this;\n  FamilyTree.state._get(this.config.state, t, i, function (d) {\n    s.state = d, s.action = a, s.actionParams = n, a != FamilyTree.action.init || !s.state || n && n.method && \"fit\" == n.method ? (s.viewBox = r, s.vbIsInitializedFromState = !1) : (s.viewBox = s.state.vb, s.vbIsInitializedFromState = !0, Array.isArray(s.state.roots) && (s.config.roots = s.state.roots));\n    var c = s.maxX,\n      m = s.maxY,\n      p = s.minX,\n      h = s.minY,\n      f = s.bordersByRootIdAndLevel,\n      u = s.roots,\n      y = s.nodes;\n    if (e) {\n      var g = FamilyTree.manager._getResponse(t, i, s.visibleNodeIds, s.config, c, m, p, h, s.viewBox, u, s.action, s.actionParams, y, s.oldNodes, s.vbIsInitializedFromState);\n      a != FamilyTree.action.exporting && (s.maxX = c, s.maxY = m, s.minX = p, s.minY = h, s.roots = u, s.nodes = y, s.visibleNodeIds = g.visibleNodeIds), g.bordersByRootIdAndLevel = f, g.roots = u, g.adjustify = {\n        x: 0,\n        y: 0\n      }, s.state && (g.adjustify = s.state.adjustify), o(g);\n    } else s.oldNodes = y || null, s._read(function (e) {\n      c = e.maxX, m = e.maxY, p = e.minX, h = e.minY, f = e.bordersByRootIdAndLevel, u = e.roots, y = e.nodes;\n      var r = FamilyTree.manager._getResponse(t, i, s.visibleNodeIds, s.config, c, m, p, h, s.viewBox, u, s.action, s.actionParams, y, s.oldNodes, s.vbIsInitializedFromState);\n      r.notif = e.limit, r.roots = u, r.bordersByRootIdAndLevel = f, r.adjustify = e.adjustify, a != FamilyTree.action.exporting && (s.maxX = c, s.maxY = m, s.minX = p, s.minY = h, s.roots = u, s.nodes = y, s.visibleNodeIds = r.visibleNodeIds, s.bordersByRootIdAndLevel = f, s.rootList = e.rootList), o(r);\n    }, l);\n  });\n}, FamilyTree.manager.prototype._read = function (e, t) {\n  var i = this,\n    r = FamilyTree.manager._createNodes(this.instance);\n  t(r);\n  var a = r.nodes,\n    n = r.roots,\n    o = FamilyTree.remote;\n  null == o && (o = FamilyTree.local), o._setPositions(n, i.layoutConfigs, function (t) {\n    var o = FamilyTree.manager._doNotChangePositionOfClickedNodeIfAny(n, a, i.action, i.actionParams, i.oldNodes, i.config.orientation);\n    i.state && i.action == FamilyTree.action.init && (o = i.state.adjustify), i.action == FamilyTree.action.exporting ? o = i._fixAdjustForExport : i._fixAdjustForExport = o;\n    for (var l = {\n        minX: null,\n        minY: null,\n        maxX: null,\n        maxY: null\n      }, s = {}, d = 0; d < n.length; d++) FamilyTree.manager._setMinMaxXYAdjustifyIterate(n[d], n[d], l, 0, s, o, i.config.orientation);\n    e({\n      minX: l.minX,\n      minY: l.minY,\n      maxX: l.maxX,\n      maxY: l.maxY,\n      bordersByRootIdAndLevel: s,\n      nodes: a,\n      roots: n,\n      rootList: r.rootList,\n      limit: t,\n      adjustify: o\n    });\n  }, a);\n}, void 0 === FamilyTree && (FamilyTree = {}), FamilyTree.manager._initDinamicNode = function (e, t, i) {\n  t && (e.lcn = t), i && (e.isAssistant = !0);\n  var r = FamilyTree.t(e.templateName);\n  e.w = r && r.size ? r.size[0] : 0, e.h = r && r.size ? r.size[1] : 0, e.isSplit = \"split\" == e.templateName, e.isMirror = \"mirror\" == e.templateName, e.isSubLevel = \"subLevel\" == e.templateName;\n}, FamilyTree.manager._setCollpasedProperty = function (e, t, i, r, a, n, o) {\n  null == e.collapsed && t.collapse && t.collapse.allChildren ? e.collapsed = !0 : null == e.collapsed && (e.collapsed = !1), a == FamilyTree.action.expand && -1 != i.ids.indexOf(e.id) && (e.collapsed = !1), a == FamilyTree.action.collapse && (i.expandIds || i.collapseIds) ? i.expandIds && -1 != i.expandIds.indexOf(e.id) ? e.collapsed = !1 : i.collapseIds && -1 != i.collapseIds.indexOf(e.id) && (e.collapsed = !0) : a == FamilyTree.action.collapse && -1 != i.ids.indexOf(e.id) && (e.collapsed = !0), a == FamilyTree.action.expand && \"all\" == i.ids && (e.collapsed = !1), a == FamilyTree.action.exporting && i.expandChildren && (e.collapsed = !1), a == FamilyTree.action.init && null != o ? e.collapsed = !o.exp.has(e.id) : a == FamilyTree.action.init ? e.collapsed = t.collapse && n >= t.collapse.level - 1 && -1 == r.indexOf(e.id) : a == FamilyTree.action.centerNode || a == FamilyTree.action.insert || a == FamilyTree.action.expand || a == FamilyTree.action.collapse ? r.has(e.id) && (e.collapsed = !1) : a == FamilyTree.action.update && i && i.changeRoots && i.changeRoots.has(e.id) && (e.collapsed = !1);\n}, FamilyTree.manager._initNode = function (e, t, i, r, a, n, o) {\n  var l = o.manager.config,\n    s = o.manager.layoutConfigs,\n    d = o.manager.action,\n    c = o.manager.actionParams,\n    m = o.manager.state,\n    p = s[i || \"base\"];\n  null == e.parent && FamilyTree.manager._setCollpasedProperty(e, p, c, a, d, r - 1, m);\n  for (var h = 0; h < e.childrenIds.length; h++) {\n    var f = t[e.childrenIds[h]];\n    if (FamilyTree.manager._setCollpasedProperty(f, p, c, a, d, r, m), !f.collapsed) {\n      if (f.parent = e, null != f.ppid) {\n        var u = t[f.ppid];\n        u && (f.parentPartner = u);\n      }\n      (-1 != f.tags.indexOf(\"left-partner\") || -1 != f.tags.indexOf(\"right-partner\") || -1 != f.tags.indexOf(\"partner\") || f.parentPartner) && -1 == n.indexOf(e.id) && n.push(e.id), e.children.push(f);\n    }\n  }\n  if (d != FamilyTree.action.minimize || e.min ? d == FamilyTree.action.maximize && !0 === e.min ? (c.all || c.id == e.id) && (e.min = !1) : d == FamilyTree.action.exporting && !1 === c.min ? e.min = !1 : d == FamilyTree.action.init && null != m && (e.min = m.min.has(e.id)) : (c.all || c.id == e.id) && (e.min = !0), !e.min) for (h = 0; h < e.stChildrenIds.length; h++) {\n    f = t[e.stChildrenIds[h]];\n    e.tags && e.tags.has(\"filter\") || (f.stParent = e, e.stChildren.push(f));\n  }\n  null != r && (e.level = r), i && (e.lcn = i);\n  var y = FamilyTree._getSubLevels(e.tags, l.tags);\n  y > 0 && (e.subLevels = y), -1 != e.tags.indexOf(\"assistant\") && null != e.parent && (e.isAssistant = !0);\n  var g = FamilyTree.t(e.templateName, e.min);\n  e.w = g && g.size ? g.size[0] : 0, e.h = g && g.size ? g.size[1] : 0, e.padding = g && g.padding ? g.padding : [0, 0, 0, 0];\n  var v = {\n    node: e\n  };\n  FamilyTree.events.publish(\"node-initialized\", [o, v]), FamilyTree.events.publish(\"node-created\", [e]);\n}, FamilyTree.manager._iterate = function (e, t, i, r, a, n, o, l, s, d, c, m) {\n  var p = m.manager.layoutConfigs;\n  if (FamilyTree.manager._initNode(t, i, s, r, d, c, m), t.isAssistant && (n[t.pid] || (n[t.pid] = []), n[t.pid].push(t.id)), t.subLevels > 0 && o.push(t.id), FamilyTree.MIXED_LAYOUT_FOR_NODES_WITH_COLLAPSED_CHILDREN && !t.isAssistant && t.parent) {\n    if (t.parent && t.parent.children.length && t.parent.children[t.parent.children.length - 1] == t) {\n      for (var h = [], f = 0, u = 0, y = 0; y < t.parent.children.length; y++) {\n        -1 == (g = t.parent.children[y]).tags.indexOf(\"partner\") && -1 == g.tags.indexOf(\"left-partner\") && -1 == g.tags.indexOf(\"right-partner\") && -1 == g.tags.indexOf(\"assistant\") && 0 == g.children.length ? h.push(g.id) : -1 != g.tags.indexOf(\"assistant\") ? f++ : -1 == g.tags.indexOf(\"partner\") && -1 == g.tags.indexOf(\"left-partner\") && -1 == g.tags.indexOf(\"right-partner\") || u++;\n      }\n      (FamilyTree.MIXED_LAYOUT_ALL_NODES && h.length > 1 && h.length == t.parent.children.length - f - u || !FamilyTree.MIXED_LAYOUT_ALL_NODES && h.length > 1) && (l[t.pid] = h);\n    }\n  } else if (!t.isAssistant && 0 == t.childrenIds.length && t.parent && !l[t.pid]) {\n    for (h = [], f = 0, u = 0, y = 0; y < t.parent.children.length; y++) {\n      var g;\n      -1 == (g = t.parent.children[y]).tags.indexOf(\"partner\") && -1 == g.tags.indexOf(\"left-partner\") && -1 == g.tags.indexOf(\"right-partner\") && -1 == g.tags.indexOf(\"assistant\") && 0 == g.childrenIds.length ? h.push(g.id) : -1 != g.tags.indexOf(\"assistant\") ? f++ : -1 == g.tags.indexOf(\"partner\") && -1 == g.tags.indexOf(\"left-partner\") && -1 == g.tags.indexOf(\"right-partner\") || u++;\n    }\n    (FamilyTree.MIXED_LAYOUT_ALL_NODES && h.length > FamilyTree.MIXED_LAYOUT_IF_NUMBER_OF_CHILDREN_IS_MORE_THEN && h.length == t.parent.childrenIds.length - f - u || !FamilyTree.MIXED_LAYOUT_ALL_NODES && h.length > FamilyTree.MIXED_LAYOUT_IF_NUMBER_OF_CHILDREN_IS_MORE_THEN) && (l[t.pid] = h);\n  }\n  t.stChildren.length && (e.stContainerNodes || (e.stContainerNodes = []), e.stContainerNodes.push(t));\n  for (var v = 0; v < t.stChildren.length; v++) {\n    var T = \"\";\n    for (y = 0; y < t.tags.length; y++) if (p[t.tags[y]]) {\n      T = t.tags[y];\n      break;\n    }\n    a.push(t.stChildren[v].id), FamilyTree.manager._iterate(e, t.stChildren[v], i, 0, a, n, o, l, T, d, c, m);\n  }\n  r++;\n  for (v = 0; v < t.children.length; v++) FamilyTree.manager._iterate(e, t.children[v], i, r, a, n, o, l, s, d, c, m);\n}, FamilyTree.manager.__createNodes = function (e, t, i, r, a, n, o, l) {\n  for (var s = [], d = FamilyTree._addDottedLines(i), c = 0; c < d.length; c++) {\n    var m,\n      p = d[c];\n    m = FamilyTree.STRING_TAGS ? p.tags ? p.tags.split(\",\") : [] : Array.isArray(p.tags) ? p.tags.slice(0) : [], l.filterUI.addFilterTag(p) && m.unshift(\"filter\");\n    var h = l.searchUI.addMatchTag(p.id);\n    !0 === h ? m.unshift(\"match\") : !1 === h && m.unshift(\"no-match\");\n    var f = FamilyTree._getTemplate(m, i.tags, i.template),\n      u = new FamilyTree.node(p.id, p.pid, m, f);\n    FamilyTree.isNEU(p.ppid) || (u.ppid = p.ppid), FamilyTree.isNEU(p.stpid) || (u.stpid = p.stpid), null != i.orderBy && (u.order = FamilyTree.manager._getOrderFieldValue(p, i.orderBy)), null != p.movex && (u.movex = p.movex), null != p.movey && (u.movey = p.movey), e[p.id] = u, s.push(p.id);\n  }\n  null != i.orderBy && s.sort(function (t, r) {\n    var a = e[t].order,\n      n = e[r].order;\n    return \"number\" == typeof a || \"number\" == typeof n ? (null == a && (a = -1), null == n && (n = -1), i.orderBy.desc ? n - a : a - n) : \"string\" == typeof a || \"string\" == typeof n ? (null == a && (a = \"\"), null == n && (n = \"\"), i.orderBy.desc ? n.localeCompare(a) : a.localeCompare(n)) : void 0;\n  });\n  for (c = 0; c < s.length; c++) {\n    var y = s[c],\n      g = (u = e[y], n ? n[y] : null),\n      v = e[u.stpid],\n      T = e[u.pid];\n    if (v || (u.stpid = null), T || (u.pid = null), v) {\n      var b = n ? n[v.id] : null;\n      b && (v.min = b.min), v.stChildrenIds.push(u.id);\n    } else T ? (g && (u.collapsed = g.collapsed, u.min = g.min), T.childrenIds.push(u.id)) : (g && (u.collapsed = g.collapsed, u.min = g.min), t.push(u), o.push(u.id));\n    r == FamilyTree.action.init && (u.min = FamilyTree._getMin(u, i));\n  }\n}, FamilyTree.manager._createNodes = function (e) {\n  var t = e.manager.config,\n    i = e.manager.layoutConfigs,\n    r = e.manager.action,\n    a = e.manager.actionParams,\n    n = e.manager.oldNodes,\n    o = e.manager.state,\n    l = {},\n    s = [],\n    d = [];\n  if (FamilyTree.manager.__createNodes(l, s, t, r, a, n, d, e), null != t.roots) {\n    s = [];\n    for (var c = 0; c < t.roots.length; c++) {\n      var m = l[t.roots[c]];\n      if (m && r == FamilyTree.action.centerNode) {\n        for (var p = m; null != p.pid || null != p.stpid;) p = null == p.pid && null != p.stpid ? l[p.stpid] : l[p.pid];\n        for (var h = l[a.id]; (null != h.pid || null != h.stpid) && h != m;) h = null == h.pid && null != h.stpid ? l[h.stpid] : l[h.pid];\n        p == h && (m = p);\n      }\n      if (m) {\n        for (var f = !1, u = 0; u < s.length; u++) if (s[u].id == m.id) {\n          f = !0;\n          break;\n        }\n        if (!f) {\n          if (!FamilyTree.isNEU(m.pid)) (ue = (v = l[m.pid]).childrenIds.indexOf(m.id)) > -1 && v.childrenIds.splice(ue, 1);\n          s.push(m);\n        }\n      }\n    }\n    t.roots = [];\n    for (c = 0; c < s.length; c++) t.roots.push(s[c].id);\n  }\n  r == FamilyTree.action.exporting && null != a.id && (g = l[a.id]) && (g.pid = null, s = [g]);\n  var y = [];\n  if (r == FamilyTree.action.init && t.expand && t.expand.nodes && null == o) for (c = 0; c < t.expand.nodes.length; c++) {\n    var g = l[t.expand.nodes[c]];\n    for (!0 === t.expand.allChildren && FamilyTree.manager._addExpandedNodeIdsIterate(g, l, y); g;) y.push(g.id), null == g.pid && null != g.stpid ? (g = l[g.stpid]).min = !1 : g = l[g.pid];\n  } else if (r == FamilyTree.action.expand && a.ids && \"all\" != a.ids || r == FamilyTree.action.collapse && a && a.expandIds) {\n    re = r == FamilyTree.action.expand ? a.ids : a.expandIds;\n    for (c = 0; c < re.length; c++) for (var v = l[(g = l[re[c]]).pid]; v;) y.push(v.id), null == v.pid && null != v.stpid ? (v = l[v.stpid]).min = !1 : v = l[v.pid];\n  } else if (r == FamilyTree.action.centerNode) {\n    for (var T = l[a.id]; T;) {\n      if (y.push(T.id), a.options.parentState === FamilyTree.COLLAPSE_PARENT_NEIGHBORS && T) for (c = 0; c < T.childrenIds.length; c++) {\n        (D = l[T.childrenIds[c]]).collapsed = !0;\n      }\n      null == T.pid && null != T.stpid ? (T = l[T.stpid]).min = !1 : T = l[T.pid];\n    }\n    T = l[a.id];\n    if (a.options.childrenState === FamilyTree.COLLAPSE_SUB_CHILDRENS) for (c = 0; c < T.childrenIds.length; c++) {\n      (F = l[T.childrenIds[c]]).collapsed = !1;\n      for (var b = 0; b < F.childrenIds.length; b++) {\n        l[F.childrenIds[b]].collapsed = !0;\n      }\n    }\n    if (a.options.parentState === FamilyTree.COLLAPSE_PARENT_SUB_CHILDREN_EXCEPT_CLICKED) if (v = l[T.pid]) for (c = 0; c < v.childrenIds.length; c++) {\n      var F;\n      if ((F = l[v.childrenIds[c]]) != T) {\n        F.collapsed = !1;\n        for (b = 0; b < F.childrenIds.length; b++) {\n          l[F.childrenIds[b]].collapsed = !0;\n        }\n      }\n    }\n  } else if (r == FamilyTree.action.insert) for (g = l[a.insertedNodeId]; g;) y.push(g.id), null == g.pid && null != g.stpid ? (g = l[g.stpid]).min = !1 : g = l[g.pid];\n  var x = [],\n    _ = {},\n    w = [],\n    k = {},\n    S = [];\n  for (c = 0; c < s.length; c++) FamilyTree.manager._iterate(s[c], s[c], l, 0, x, _, w, k, \"\", y, S, e);\n  if (r == FamilyTree.action.collapse && a && Array.isArray(a.expandIds) && Array.isArray(a.collapseIds)) for (c = 0; c < a.ids.length; c++) {\n    if (a.expandIds.has(a.collapseIds[c])) console.error(`id ${a.collapseIds[c]} exist in both collapseIds and expandIds`);else (g = l[a.collapseIds[c]]) && (g.collapsed = !0);\n  }\n  for (c = s.length - 1; c >= 0; c--) s[c].collapsed && s.splice(c, 1);\n  for (c = 0; c < S.length; c++) {\n    g = l[S[c]];\n    var C = [],\n      I = [],\n      N = [],\n      A = {},\n      L = 0,\n      E = 0,\n      M = 0,\n      U = [],\n      O = [];\n    for (b = 0; b < g.children.length; b++) {\n      (D = g.children[b]).isAssistant ? C.push(D.id) : -1 != D.tags.indexOf(\"right-partner\") ? (D.isPartner = 1, D.children = [], I.push(D.id)) : -1 != D.tags.indexOf(\"left-partner\") ? (D.isPartner = 2, D.children = [], N.push(D.id)) : -1 == D.tags.indexOf(\"partner\") || L % 2 ? -1 != D.tags.indexOf(\"partner\") && L % 2 ? (D.isPartner = 2, D.children = [], N.push(D.id), L++) : D.parentPartner ? (A[D.parentPartner.id] || (A[D.parentPartner.id] = []), A[D.parentPartner.id].push(D.id)) : C.push(D.id) : (D.isPartner = 1, D.children = [], I.push(D.id), L++);\n    }\n    g.children = [];\n    var B = [];\n    for (b = 0; b < I.length; b++) {\n      A[(D = l[I[b]]).id] ? g.children.push(D) : g.children.splice(0, 0, D);\n      for (var R = 0; R < D.childrenIds.length; R++) B.push(D.childrenIds[R]);\n    }\n    var P = [];\n    for (b = 0; b < N.length; b++) {\n      A[(D = l[N[b]]).id] ? g.children.push(D) : g.children.splice(0, 0, D);\n      for (R = 0; R < D.childrenIds.length; R++) P.push(D.childrenIds[R]);\n    }\n    for (b = 0; b < P.length; b++) {\n      (D = l[P[b]]).collapsed || (D.parentPartner = D.parent, D.parent = g, D.isChildOfPartner = !0, g.children.push(D));\n    }\n    for (b = N.length - 1; b >= 0; b--) if (A[N[b]]) for (u = 0; u < A[N[b]].length; u++) g.children.push(l[A[N[b]][u]]), E++, -1 == O.indexOf(N[b]) && O.push(N[b]);\n    for (b = 0; b < C.length; b++) {\n      var D = l[C[b]];\n      g.children.push(D);\n    }\n    for (b = 0; b < I.length; b++) if (A[I[b]]) for (u = 0; u < A[I[b]].length; u++) g.children.push(l[A[I[b]][u]]), M++, -1 == U.indexOf(I[b]) && U.push(I[b]);\n    for (b = 0; b < B.length; b++) {\n      (D = l[B[b]]).collapsed || (D.parentPartner = D.parent, D.parent = g, D.isChildOfPartner = !0, g.children.push(D));\n    }\n    g.partnerSeparation = Math.max(O.length, U.length) * t.partnerChildrenSplitSeparation + t.minPartnerSeparation, C.length || !E || M ? C.length || E || !M ? C.length || 1 != E || 1 != M ? C.length || E || M ? !C.length || E || M ? C.length && (E || M) ? g.hasPartners = 7 : g.hasPartners = 1 : g.hasPartners = 6 : g.hasPartners = 5 : g.hasPartners = 4 : g.hasPartners = 3 : g.hasPartners = 2;\n  }\n  for (c = 0; c < w.length; c++) {\n    var H = i[(g = l[w[c]]).lcn ? g.lcn : \"base\"];\n    for (b = 0; b < g.subLevels; b++) {\n      var z = new FamilyTree.node(g.id + \"_sub_level_index_\" + b, g.pid, [], \"subLevel\");\n      if (FamilyTree.manager._initDinamicNode(z, g.lcn), v = g.parent) (ue = v.children.indexOf(g)) > -1 && (v.children.splice(ue, 1), v.children.splice(ue, 0, z)), z.children.push(g), z.parent = v, g.parent = z, l[z.id] = z;\n    }\n  }\n  for (var $ in _) {\n    (v = l[$]).hasAssistants = !0;\n    z = new FamilyTree.node(v.id + \"_split_assitant_0\", v.id, [\"assistant\"], \"split\");\n    FamilyTree.manager._initDinamicNode(z, v.lcn, !0), l[z.id] = z;\n    var j = [];\n    for (b = v.children.length - 1; b >= 0; b--) {\n      (D = v.children[b]).isAssistant ? (D.parent = null, v.children.splice(b, 1), j.splice(0, 0, D.id)) : D.isPartner || (D.parent && k[D.parent.id] && z && D.parent.id != z.id && (Object.defineProperty(k, z.id, Object.getOwnPropertyDescriptor(k, D.parent.id)), delete k[D.parent.id]), D.parent = z, z.children.unshift(D), v.children.splice(b, 1));\n    }\n    if (j.length % 2) {\n      var q = l[j[j.length - 1]],\n        X = new FamilyTree.node(q.id + \"_mirror\", v.pid, [], \"mirror\");\n      FamilyTree.manager._initDinamicNode(X, q.lcn, !0), X.isAssistant = !0, X.w = q.w, X.h = q.h, l[X.id] = X, j.splice(j.length - 1, 0, X.id);\n    }\n    var Y = 1;\n    for (b = j.length - 1; b >= 0; b--) if (b % 2 && b != j.length - 1) {\n      var V = new FamilyTree.node(v.id + \"_split_assitant_\" + Y, v.pid, [], \"split\");\n      FamilyTree.manager._initDinamicNode(V, v.lcn, !0), l[V.id] = V, j.splice(b, 0, V.id), Y++;\n    } else b % 2 && j.splice(b, 0, z.id);\n    for (b = 0; b < j.length; b += 3) {\n      var W = null;\n      W = 0 == b ? v : l[j[b - 2]];\n      var G = l[j[b]],\n        J = l[j[b + 1]],\n        K = l[j[b + 2]];\n      G.parent = W, J.parent = W, K.parent = W, W.children.push(G), W.children.push(J), W.children.push(K);\n    }\n  }\n  var Z = !1;\n  for (var Q in i) {\n    if ((H = i[Q]).layout > 0) {\n      Z = !0;\n      break;\n    }\n  }\n  var ee = FamilyTree.events.has(\"node-layout\", e._event_id);\n  if (Z || ee) {\n    var te = {\n      nodes: l,\n      config: t,\n      action: r,\n      actionParams: a\n    };\n    if (w.length) {\n      var ie = !1;\n      for (var $ in k) {\n        var re = k[$];\n        for (c = 0; c < re.length; c++) {\n          if ((g = l[re[c]]).subLevels) {\n            ie = !0;\n            break;\n          }\n        }\n        if (ie) break;\n      }\n      if (ie) {\n        var ae = {},\n          ne = {},\n          oe = {};\n        for (var $ in k) {\n          re = k[$];\n          var le = !1,\n            se = null;\n          for (c = 0; c < re.length; c++) {\n            var de = re[c];\n            (null === se || w.has(de)) && (se = l[de].parent.id, le || FamilyTree.isNEU(l[de].subLevels) || (le = l[de].subLevels > 0)), ae[se] || (ae[se] = []), ae[se].push(de), le && (oe[se] = $, ne[se] || (ne[se] = []), ne[se].push(de));\n          }\n        }\n        for (var $ in k = {}, ne) if (ne[$].length > FamilyTree.MIXED_LAYOUT_IF_NUMBER_OF_CHILDREN_IS_MORE_THEN) {\n          var ce = oe[$];\n          for (c = l[ce].children.length - 1; c >= 0; c--) {\n            D = l[ce].children[c];\n            ne[$].has(D.id) && l[ce].children.splice(c, 1);\n          }\n        }\n        for (var $ in ae) ae[$].length > FamilyTree.MIXED_LAYOUT_IF_NUMBER_OF_CHILDREN_IS_MORE_THEN && (k[$] = ae[$]);\n      }\n    }\n    for (var $ in k) {\n      for (var me = v = l[$]; me.isSplit;) me = l[me.pid];\n      for (; me.isSubLevel;) me = l[me.pid];\n      if ((H = i[v.lcn ? v.lcn : \"base\"]).layout > 0 || ee) {\n        te.pnode = v, te.layout = H.layout, te.childrenIds = k[$], te.lastChildrenPidIds = k, te.subLevels = 0, te.layouts = [], FamilyTree.events.publish(\"node-layout\", [e, te]), FamilyTree.events.publish(\"layout\", [te]), te.layouts.length || te.layouts.push({\n          layout: te.layout,\n          childrenIds: te.childrenIds,\n          subLevels: te.subLevels\n        });\n        for (var pe = 0; pe < te.layouts.length; pe++) {\n          var he = te.layouts[pe];\n          for (FamilyTree.isNEU(he.subLevels) && (he.subLevels = 0), FamilyTree.isNEU(he.layout) && (he.layout = H.layout), me = v = l[$]; me.isSplit;) me = l[me.pid];\n          for (; me.isSubLevel;) me = l[me.pid];\n          var fe = v;\n          for (b = 0; b < he.subLevels; b++) {\n            z = new FamilyTree.node(pe + \"_sublevel_layout_\" + b, fe.id, [], \"subLevel\");\n            FamilyTree.manager._initDinamicNode(z, fe.lcn), z.parent = fe, fe.children.push(z), l[z.id] = z, fe = z;\n          }\n          if (he.subLevels) {\n            for (b = 0; b < he.childrenIds.length; b++) {\n              var ue;\n              D = l[he.childrenIds[b]];\n              -1 != (ue = v.children.indexOf(D)) && v.children.splice(ue, 1), D.parent = fe, fe.children.push(D);\n            }\n            v = fe;\n          }\n          if (he.layout == FamilyTree.layout.mixed) {\n            var ye = he.childrenIds;\n            for (c = ye.length - 1; c >= 0; c--) {\n              v = (D = l[ye[c]]).parent, D.layout = FamilyTree.layout.mixed;\n              for (b = v.children.length - 1; b >= 0; b--) if (D.id == v.children[b].id) {\n                v.children.splice(b, 1);\n                break;\n              }\n              if (c > 0) {\n                var ge = l[ye[c - 1]];\n                D.parent = ge, D.layout = FamilyTree.layout.mixed, ge.children.push(D);\n              } else v.children.push(D);\n            }\n          } else if (he.layout > 1) {\n            z = new FamilyTree.node(pe + \"_\" + v.id + \"_split_0\", me.id, [], \"split\");\n            FamilyTree.manager._initDinamicNode(z, v.lcn), l[z.id] = z, z.layout = he.layout;\n            var ve = [];\n            for (c = he.childrenIds.length - 1; c >= 0; c--) {\n              for (D = l[he.childrenIds[c]], b = 0; b < v.children.length; b++) v.children[b].id == D.id && v.children.splice(b, 1);\n              if (D.parent = null, D.layout = he.layout, he.layout != FamilyTree.layout.treeRightOffset && he.layout != FamilyTree.layout.treeRight || ve.splice(0, 0, D.id), he.layout > 2) {\n                var Te = new FamilyTree.node(pe + \"_\" + D.id + \"_mirror\", me.id, [], \"mirror\");\n                FamilyTree.manager._initDinamicNode(Te, D.lcn), Te.layout = he.layout, l[Te.id] = Te, ve.splice(0, 0, Te.id);\n              }\n              he.layout != FamilyTree.layout.treeRightOffset && he.layout != FamilyTree.layout.treeRight && ve.splice(0, 0, D.id);\n            }\n            for (Y = 1, b = ve.length - 1; b >= 0; b--) if (b % 2 && b != ve.length - 1) {\n              V = new FamilyTree.node(pe + \"_\" + v.id + \"_split_\" + Y, me.id, [], \"split\");\n              FamilyTree.manager._initDinamicNode(V, v.lcn), V.layout = he.layout, l[V.id] = V, ve.splice(b, 0, V.id), Y++;\n            } else b % 2 && ve.splice(b, 0, z.id);\n            for (b = 0; b < ve.length; b += 3) {\n              W = null;\n              0 == b && (W = v);\n              G = l[ve[b]], J = l[ve[b + 1]], K = l[ve[b + 2]];\n              0 != b && (W = l[ve[b - 3]]), 0 == b || J || (W = l[ve[b - 2]]), G.parent = W, W.children.push(G), J && (0 != b && (W = l[ve[b - 2]]), J.parent = W, W.children.push(J)), K && (0 != b && (W = l[ve[b - 1]]), K.parent = W, W.children.push(K));\n            }\n          }\n        }\n      }\n    }\n  }\n  if (FamilyTree.VERTICAL_CHILDREN_ASSISTANT) for (c = 0; c < s.length; c++) FamilyTree.manager._verticalAssistantIterate(s[c], l);\n  te = {\n    nodes: l,\n    roots: s\n  };\n  return FamilyTree.events.publish(\"nodes-initialized\", [e, te]), {\n    nodes: te.nodes,\n    roots: te.roots,\n    rootList: d\n  };\n}, FamilyTree.manager._getOrderFieldValue = function (e, t) {\n  var i = t;\n  return t.field && (i = t.field), e[i];\n}, FamilyTree.manager._getNodeWidth = function (e, t) {\n  switch (t.orientation) {\n    case FamilyTree.orientation.top:\n    case FamilyTree.orientation.top_left:\n    case FamilyTree.orientation.bottom:\n    case FamilyTree.orientation.bottom_left:\n      return e.w;\n    case FamilyTree.orientation.right:\n    case FamilyTree.orientation.right_top:\n    case FamilyTree.orientation.left:\n    case FamilyTree.orientation.left_top:\n      return e.h;\n  }\n  return 0;\n}, FamilyTree.manager._isVisible = function (e, t, i, r) {\n  if (null != e.x && null != e.y) {\n    if (t.lazyLoading && r !== FamilyTree.action.exporting) {\n      function a(e, t) {\n        var i = e.x,\n          r = e.y,\n          a = e.w,\n          n = e.h,\n          o = t[0] - FamilyTree.LAZY_LOADING_FACTOR,\n          l = t[2] + FamilyTree.LAZY_LOADING_FACTOR + t[0],\n          s = t[1] - FamilyTree.LAZY_LOADING_FACTOR,\n          d = t[3] + FamilyTree.LAZY_LOADING_FACTOR + t[1],\n          c = i + a > o && l > i;\n        return c && (c = r + n > s && d > r), c;\n      }\n      if (a(e, i)) return !0;\n      for (var n = 0; n < e.children.length; n++) if (a(e.children[n], i)) return !0;\n      return !1;\n    }\n    return !0;\n  }\n}, FamilyTree.manager.getAllFields = function (e) {\n  var t = [FamilyTree.TAGS];\n  for (var i in e.nodeBinding) t.push(e.nodeBinding[i]);\n  for (i = 0; i < e.nodes.length; i++) for (var r in e.nodes[i]) r !== FamilyTree.ID && r !== FamilyTree.TAGS && r !== FamilyTree.NODES && r !== FamilyTree.PID && r !== FamilyTree.STPID && \"movex\" !== r && \"movey\" !== r && (e.nodeBinding[r] || t.has(r) || t.push(r));\n  return t;\n}, FamilyTree.manager._getMostDeepChild = function (e) {\n  if (e) {\n    var t = e;\n    return function e(i) {\n      i.sl > t.sl && (t = i);\n      for (var r = 0; r < i.children.length; r++) e(i.children[r]);\n    }(e), t;\n  }\n}, FamilyTree.manager._getResponse = function (e, t, i, r, a, n, o, l, s, d, c, m, p, h, f) {\n  var u = d[0],\n    y = [],\n    g = {\n      top: null,\n      left: null,\n      bottom: null,\n      right: null,\n      minX: null,\n      maxX: null,\n      minY: null,\n      maxY: null\n    },\n    v = [[], [], []],\n    T = a - o + 2 * r.padding,\n    b = n - l + 2 * r.padding,\n    F = FamilyTree.getScale(s, e, t, r.scaleInitial, r.scaleMax, r.scaleMin, T, b);\n  if (g.top = l - r.padding, g.left = o - r.padding, g.bottom = n + r.padding - t / F, g.right = a + r.padding - e / F, g.maxX = a, g.minX = o, g.maxY = n, g.minY = l, 0 == d.length || null == s && !f && r.align == FamilyTree.CENTER) {\n    var x = Math.ceil(e / F),\n      _ = Math.ceil(t / F),\n      w = 0,\n      k = 0;\n    if (x - 2 * r.padding >= a - o) switch (w = (a + o) / 2 - x / 2, r.orientation) {\n      case FamilyTree.orientation.right:\n      case FamilyTree.orientation.right_top:\n        w = (o - a) / 2 - x / 2;\n    } else switch (w = u.x - x / 2 + FamilyTree.manager._getNodeWidth(u, r) / 2, r.orientation) {\n      case FamilyTree.orientation.right:\n      case FamilyTree.orientation.right_top:\n        (w = -(x / 2 - (o - a) / 2)) < r.padding - x && (w = r.padding - x);\n        break;\n      case FamilyTree.orientation.left:\n      case FamilyTree.orientation.bottom_left:\n      case FamilyTree.orientation.top_left:\n      case FamilyTree.orientation.left_top:\n        (w = -(x / 2 - (a - o) / 2)) > -r.padding && (w = -r.padding);\n    }\n    if (_ - 2 * r.padding >= n - l) switch (k = (n + l) / 2 - _ / 2, r.orientation) {\n      case FamilyTree.orientation.bottom:\n      case FamilyTree.orientation.bottom_left:\n        k = (l - n) / 2 - _ / 2;\n    } else switch ((k = -(_ / 2 - (n - l) / 2)) > -r.padding && (k = -r.padding), r.orientation) {\n      case FamilyTree.orientation.bottom:\n      case FamilyTree.orientation.bottom_left:\n        (k = -(_ / 2 - (l - n) / 2)) < r.padding - _ && (k = r.padding - _);\n        break;\n      case FamilyTree.orientation.left:\n      case FamilyTree.orientation.right:\n        k = u.y - _ / 2 + FamilyTree.manager._getNodeWidth(u, r) / 2;\n    }\n    s = [w, k, x, _];\n  } else if (null == s && !f && r.align == FamilyTree.ORIENTATION) {\n    x = Math.ceil(e / F), _ = Math.ceil(t / F), w = 0, k = 0;\n    switch (r.orientation) {\n      case FamilyTree.orientation.top:\n        w = u.x - x / 2 + FamilyTree.manager._getNodeWidth(u, r) / 2, k = -r.padding;\n        break;\n      case FamilyTree.orientation.bottom:\n        w = u.x - x / 2 + FamilyTree.manager._getNodeWidth(u, r) / 2, k = r.padding - _;\n        break;\n      case FamilyTree.orientation.left:\n        w = -r.padding, k = u.y - _ / 2 + FamilyTree.manager._getNodeWidth(u, r) / 2;\n        break;\n      case FamilyTree.orientation.right:\n        w = r.padding - x, k = u.y - _ / 2 + FamilyTree.manager._getNodeWidth(u, r) / 2;\n        break;\n      case FamilyTree.orientation.top_left:\n        w = -r.padding, k = -r.padding;\n        break;\n      case FamilyTree.orientation.right_top:\n        w = r.padding - x, k = -r.padding;\n        break;\n      case FamilyTree.orientation.left_top:\n        w = -r.padding, k = -r.padding;\n        break;\n      case FamilyTree.orientation.bottom_left:\n        w = -r.padding, k = r.padding - _;\n    }\n    s = [w, k, x, _], r.sticky && (s[0] < g.left && s[0] < g.right && (s[0] = g.left > g.right ? g.right : g.left), s[0] > g.right && s[0] > g.left && (s[0] = g.left > g.right ? g.left : g.right), s[1] < g.top && s[1] < g.bottom && (s[1] = g.top > g.bottom ? g.bottom : g.top), s[1] > g.bottom && s[1] > g.top && (s[1] = g.top > g.bottom ? g.top : g.bottom));\n  }\n  if (c == FamilyTree.action.centerNode || c == FamilyTree.action.maximize) {\n    var S = p[m.id];\n    1 == m.options.horizontal && (s[0] = S.x + S.w / 2 - s[2] / 2), 1 == m.options.vertical && (s[1] = S.y + S.h / 2 - s[3] / 2), r.sticky && (s[0] < g.left && s[0] < g.right && (s[0] = g.left > g.right ? g.right : g.left), s[0] > g.right && s[0] > g.left && (s[0] = g.left > g.right ? g.left : g.right), s[1] < g.top && s[1] < g.bottom && (s[1] = g.top > g.bottom ? g.bottom : g.top), s[1] > g.bottom && s[1] > g.top && (s[1] = g.top > g.bottom ? g.top : g.bottom));\n  }\n  if (c == FamilyTree.action.insert || c == FamilyTree.action.expand || c == FamilyTree.action.collapse || c == FamilyTree.action.update || c == FamilyTree.action.centerNode) {\n    var C = null;\n    if (c == FamilyTree.action.insert && m && null != m.insertedNodeId && null != m.insertedNodeId) C = p[m.insertedNodeId];else if (c == FamilyTree.action.update && m && null != m.visId && null != m.visId) C = p[m.visId];else if (c != FamilyTree.action.expand && c != FamilyTree.action.collapse || !m || null == m.id || null == m.id) {\n      if (c == FamilyTree.action.centerNode) {\n        switch (r.orientation) {\n          case FamilyTree.orientation.top:\n          case FamilyTree.orientation.top_left:\n          case FamilyTree.orientation.bottom:\n          case FamilyTree.orientation.bottom_left:\n            m.options.vertical || (C = p[m.id]);\n            break;\n          case FamilyTree.orientation.right:\n          case FamilyTree.orientation.right_top:\n          case FamilyTree.orientation.left:\n          case FamilyTree.orientation.left_top:\n            m.options.horizontal || (C = p[m.id]);\n        }\n        C && (C = FamilyTree.manager._getMostDeepChild(C, p));\n      }\n    } else C = p[m.id], C = FamilyTree.manager._getMostDeepChild(C, p);\n    if (!FamilyTree.FIXED_POSITION_ON_CLICK && C) switch (r.orientation) {\n      case FamilyTree.orientation.top:\n      case FamilyTree.orientation.top_left:\n        var I = C.y + C.h - s[3] + r.padding;\n        s[1] < I && (s[1] = I);\n        break;\n      case FamilyTree.orientation.bottom:\n      case FamilyTree.orientation.bottom_left:\n        I = C.y - r.padding;\n        s[1] > I && (s[1] = I);\n        break;\n      case FamilyTree.orientation.right:\n      case FamilyTree.orientation.right_top:\n        I = C.x - r.padding;\n        s[0] > I && (s[0] = I);\n        break;\n      case FamilyTree.orientation.left:\n      case FamilyTree.orientation.left_top:\n        I = C.x + C.w - s[2] + r.padding;\n        s[0] < I && (s[0] = I);\n    }\n  }\n  for (var N = 0; N < d.length; N++) FamilyTree.manager._iterate2(d[N], p, r, s, c, m, y, h, i, v);\n  return {\n    animations: v,\n    boundary: g,\n    viewBox: s,\n    visibleNodeIds: y,\n    nodes: p,\n    allFields: FamilyTree.manager.getAllFields(r)\n  };\n}, FamilyTree.manager._iterate2 = function (e, t, i, r, a, n, o, l, s, d) {\n  if (FamilyTree.manager._isVisible(e, i, r, a)) {\n    o.push(e.id);\n    var c = null;\n    if ((a == FamilyTree.action.expand || a == FamilyTree.action.collapse || a == FamilyTree.action.maximize) && l && l[e.id] && \"expandCollapseToLevel\" == n.method) {\n      if (c = {\n        x: (f = l[e.id]).x,\n        y: f.y\n      }, f) {\n        c = {\n          x: f.x,\n          y: f.y\n        };\n        for (var m = e, p = null; null != m;) l[m.id] && l[m.id].collapsed && (p = m), m = m.parent;\n        p && p.parent && (c = {\n          x: p.parent.x,\n          y: p.parent.y\n        });\n      }\n      if (u = t[n.id]) {\n        for (m = e.parent; null != m;) m = m.parent;\n        m && (c = {\n          x: u.x + u.w / 2 - e.w / 2,\n          y: u.y + u.h / 2 - e.h / 2\n        });\n      }\n    } else if ((a == FamilyTree.action.expand || a == FamilyTree.action.collapse) && l && l[e.id]) {\n      if (c = {\n        x: (f = l[e.id]).x,\n        y: f.y\n      }, \"all\" == n.ids && f) {\n        c = {\n          x: f.x,\n          y: f.y\n        };\n        for (m = e, p = null; null != m;) l[m.id] && l[m.id].collapsed && (p = m), m = m.parent;\n        p && p.parent && (c = {\n          x: p.parent.x,\n          y: p.parent.y\n        });\n      }\n      if (u = t[n.id]) {\n        for (m = e.parent; null != m && -1 == n.ids.indexOf(e.id) && -1 == n.ids.indexOf(m.id);) m = m.parent;\n        m && (c = {\n          x: u.x + u.w / 2 - e.w / 2,\n          y: u.y + u.h / 2 - e.h / 2\n        });\n      }\n    } else if (a == FamilyTree.action.centerNode && l && l[e.id]) {\n      if (null != (f = l[e.id]).x && null != f.y && (c = {\n        x: f.x,\n        y: f.y\n      }), (h = t[n.id]) && h == e) (m = e.parent) && m.id == n.id && (c = {\n        x: h.x + h.w / 2 - e.w / 2,\n        y: h.y + h.h / 2 - e.h / 2\n      });\n    } else if (a == FamilyTree.action.maximize && l && l[e.id]) {\n      var h;\n      if (null != (f = l[e.id]).x && null != f.y && (c = {\n        x: f.x,\n        y: f.y\n      }), (h = t[n.id]) && h == e) (m = e.parent) && m.id == n.id && (c = {\n        x: h.x + h.w / 2 - e.w / 2,\n        y: h.y + h.h / 2 - e.h / 2\n      });\n    } else if (a == FamilyTree.action.minimize && l && l[e.id]) {\n      c = {\n        x: (f = l[e.id]).x,\n        y: f.y\n      };\n    } else if (a == FamilyTree.action.insert && n && n.insertedNodeId == e.id && e.parent) c = {\n      x: e.parent.x,\n      y: e.parent.y\n    };else if (a != FamilyTree.action.update && a != FamilyTree.action.insert || !l) a !== FamilyTree.action.exporting && a !== FamilyTree.action.init && -1 == s.indexOf(e.id) && (d[0].push(e.id), d[1].push({\n      opacity: 0\n    }), d[2].push({\n      opacity: 1\n    }));else {\n      var f, u;\n      if ((!(f = l[e.id]) || FamilyTree.isNEU(f.x) && FamilyTree.isNEU(f.y)) && n) {\n        if (u = t[n.id]) {\n          for (m = u; m && m.id == e.id;) m = m.parent;\n          m && (c = {\n            x: u.x,\n            y: u.y\n          });\n        }\n      } else f && (c = {\n        x: f.x,\n        y: f.y\n      });\n    }\n    if (null != c && null != c.x && null != c.y) if (c.x != e.x || c.y != e.y) n && n.dragNodeIdList && -1 != n.dragNodeIdList.indexOf(e.id) || (d[0].push(e.id), d[1].push({\n      transform: [1, 0, 0, 1, c.x, c.y]\n    }), d[2].push({\n      transform: [1, 0, 0, 1, e.x, e.y]\n    }));\n  }\n  for (var y = 0; y < e.stChildren.length; y++) FamilyTree.manager._iterate2(e.stChildren[y], t, i, r, a, n, o, l, s, d);\n  for (y = 0; y < e.children.length; y++) FamilyTree.manager._iterate2(e.children[y], t, i, r, a, n, o, l, s, d);\n}, FamilyTree.manager._addExpandedNodeIdsIterate = function (e, t, i) {\n  for (var r = 0; r < e.childrenIds.length; r++) i.push(e.childrenIds[r]), FamilyTree.manager._addExpandedNodeIdsIterate(t[e.childrenIds[r]], t, i);\n}, FamilyTree.manager._setMinMaxXYAdjustifyIterate = function (e, t, i, r, a, n, o) {\n  e.x += n.x, e.y += n.y;\n  for (var l = 0; l < e.stChildren.length; l++) FamilyTree.manager._setMinMaxXYAdjustifyIterate(e.stChildren[l], e.stChildren[l], i, 0, a, n, o);\n  e.isPartner ? e.sl = r - 1 : e.sl = r, null == a[t.id] && (a[t.id] = {}), null == a[t.id][e.sl] && (a[t.id][e.sl] = {\n    minX: null,\n    minY: null,\n    maxX: null,\n    maxY: null\n  }), e.layout || FamilyTree._setMinMaxXY(e, a[t.id][e.sl]), null != e.movex && (e.x += e.movex), null != e.movey && (e.y += e.movey), FamilyTree._setMinMaxXY(e, i), r++;\n  for (l = 0; l < e.children.length; l++) FamilyTree.manager._setMinMaxXYAdjustifyIterate(e.children[l], t, i, r, a, n, o);\n}, FamilyTree.manager._doNotChangePositionOfClickedNodeIfAny = function (e, t, i, r, a, n) {\n  if (i != FamilyTree.action.expand && i != FamilyTree.action.collapse && i != FamilyTree.action.minimize && i != FamilyTree.action.maximize && i != FamilyTree.action.centerNode && i != FamilyTree.action.update && i != FamilyTree.action.insert) return {\n    x: 0,\n    y: 0\n  };\n  if (i == FamilyTree.action.update && (!r || null == r.id)) {\n    if (!e || !e.length) return {\n      x: 0,\n      y: 0\n    };\n    r = {\n      id: e[0].id\n    };\n  }\n  if (null == r.id) return {\n    x: 0,\n    y: 0\n  };\n  var o = r.id;\n  (i == FamilyTree.action.minimize && t[o].parent || i == FamilyTree.action.maximize && t[o].parent) && (o = t[o].pid);\n  var l = t[o],\n    s = a[o];\n  if (!s) return {\n    x: 0,\n    y: 0\n  };\n  var d = null != s.movex ? s.movex : 0,\n    c = null != s.movey ? s.movey : 0;\n  return {\n    x: (s.x ? s.x - d : 0) - l.x,\n    y: (s.y ? s.y - c : 0) - l.y\n  };\n}, FamilyTree.manager._verticalAssistantIterate = function (e, t) {\n  for (var i = 0; i < e.stChildren.length; i++) FamilyTree.manager._verticalAssistantIterate(e.stChildren[i], t);\n  if (3 == e.children.length) FamilyTree.manager._verticalAssistantIterate(e.children[0], t), FamilyTree.manager._verticalAssistantIterate(e.children[2], t), FamilyTree.manager._verticalAssistantIterate(e.children[1], t);else for (i = 0; i < e.children.length; i++) FamilyTree.manager._verticalAssistantIterate(e.children[i], t);\n  if (e.isAssistant && e.isSplit && e.children.length) {\n    for (var r = e.parent.children[0], a = e.parent.children[2], n = e.parent; !n.hasAssistants;) n = n.parent;\n    var o = {\n        max: 0\n      },\n      l = {\n        max: 0\n      };\n    FamilyTree.manager._verticalAssistantLevelCountIterate(r, 0, o), FamilyTree.manager._verticalAssistantLevelCountIterate(a, 0, l);\n    var s = Math.max(o.max, l.max),\n      d = [];\n    for (i = 0; i < s; i++) {\n      var c = new FamilyTree.node(e.parent.id + \"_split_assitant_level_\" + i, e.pid, [], \"subLevel\");\n      FamilyTree.manager._initDinamicNode(c, e.lcn, !0), i > 0 && (d[i - 1].children.push(c), c.parent = d[i - 1]), t[c.id] = c, d.push(c);\n    }\n    if (d.length) {\n      for (var m = d[d.length - 1], p = d[0], h = e.children.length - 1; h >= 0; h--) {\n        var f = e.children[h];\n        m.children.unshift(f), f.parent = m, e.children.splice(h, 1);\n      }\n      e.children.push(p), p.parent = e;\n    }\n  }\n}, FamilyTree.manager._verticalAssistantLevelCountIterate = function (e, t, i) {\n  i.max < t && (i.max = t), t++;\n  for (var r = 0; r < e.children.length; r++) FamilyTree.manager._verticalAssistantLevelCountIterate(e.children[r], t, i);\n}, FamilyTree._addDottedLines = function (e) {\n  var t = e.nodes;\n  if ((e.groupDottedLines.length || e.dottedLines.length) && (t = JSON.parse(JSON.stringify(t))), e.groupDottedLines.length) for (var i = [], r = 0; r < e.groupDottedLines.length; r++) {\n    var a = e.groupDottedLines[r];\n    null == a.rootId && (a.rootId = a.to);\n    var n = `balkan_group_dotted_${a.rootId}`;\n    if (!i.has(n)) for (var o = 0; o < t.length; o++) if (t[o].id == a.rootId) {\n      (c = JSON.parse(JSON.stringify(t[o]))).id = `balkan_group_dotted_${a.rootId}_balkan_id_${t[o].id}`, c.pid = void 0, c.stpid = t[o].id, t.push(c), i.push(n), t[o].tags || (t[o].tags = []), t[o].tags.push(\"group-dotted-lines\"), t[o].tags.push(\"group-dotted-lines-\" + n);\n      break;\n    }\n    for (o = 0; o < t.length; o++) if (t[o].id == a.from) {\n      if ((c = JSON.parse(JSON.stringify(t[o]))).id = `balkan_group_dotted_${a.rootId}_balkan_id_${t[o].id}`, c.pid = `balkan_group_dotted_${a.rootId}_balkan_id_${a.to}`, c.tags) {\n        var l = c.tags.indexOf(\"group-dotted-lines\");\n        -1 != l && c.tags.splice(l, 1);\n      }\n      if (c.tags || (c.tags = []), c.tags.push(\"bft-dotted-connector\"), a.tags) for (var s = 0; s < a.tags.length; s++) c.tags.push(a.tags[s]);\n      t.push(c);\n      break;\n    }\n  }\n  if (e.dottedLines.length) for (r = 0; r < e.dottedLines.length; r++) {\n    var d = e.dottedLines[r];\n    null == d.rootId && (d.rootId = d.to);\n    for (o = 0; o < t.length; o++) if (t[o].id == d.from) {\n      var c;\n      if ((c = JSON.parse(JSON.stringify(t[o]))).id = `balkan_dotted_${d.rootId}_balkan_id_${t[o].id}`, d.rootId == d.to ? c.pid = d.to : c.pid = `balkan_dotted_${d.rootId}_balkan_id_${d.to}`, c.tags || (c.tags = []), c.tags.push(\"bft-dotted-connector\"), d.tags) for (s = 0; s < d.tags.length; s++) c.tags.push(d.tags[s]);\n      t.push(c);\n      break;\n    }\n  }\n  return t;\n}, FamilyTree.manager.__createNodes = function (e, t, i, r, a, n, o, l) {\n  for (var s = i.nodes, d = [], c = {}, m = {}, p = 0; p < s.length; p++) {\n    var h,\n      f = s[p];\n    h = FamilyTree.STRING_TAGS ? f.tags ? f.tags.split(\",\") : [] : Array.isArray(f.tags) ? f.tags.slice(0) : [], l.filterUI.addFilterTag(f) && h.push(\"filter\");\n    var u = l.searchUI.addMatchTag(f.id);\n    !0 === u ? h.unshift(\"match\") : !1 === u && h.unshift(\"no-match\"), f.gender && h.push(f.gender);\n    var y = FamilyTree._getTemplate(h, i.tags, i.template);\n    f.templateName && (y = f.templateName);\n    var g = new FamilyTree.node(f.id, f.pid, h, y);\n    g.ftChildrenIds = [], g.rids = [], FamilyTree.isNEU(f.ppid) || (g.ppid = f.ppid), FamilyTree.isNEU(f.stpid) || (g.stpid = f.stpid), FamilyTree.isNEU(f.mid) || (g.mid = f.mid), FamilyTree.isNEU(f.fid) || (g.fid = f.fid), FamilyTree.isNEU(f.gender) || (g.gender = f.gender), Array.isArray(f.pids) ? g.pids = f.pids : g.pids = [], null != i.orderBy && (g.order = FamilyTree.manager._getOrderFieldValue(f, i.orderBy)), e[f.id] = g, FamilyTree.isNEU(g.stpid) ? (FamilyTree.isNEU(g.mid) || (c[g.mid] || (c[g.mid] = []), c[g.mid].push(g.id)), FamilyTree.isNEU(g.fid) || (c[g.fid] || (c[g.fid] = []), c[g.fid].push(g.id)), FamilyTree.isNEU(g.mid) && FamilyTree.isNEU(g.fid) && FamilyTree.isNEU(g.stpid) && (d.has(g.id) || d.push(g.id))) : (m[g.stpid] || (m[g.stpid] = []), m[g.stpid].push(g.id));\n  }\n  if (null != i.orderBy && c) for (var v in c) c[v].sort(function (t, r) {\n    var a = e[t].order,\n      n = e[r].order;\n    return \"number\" == typeof a || \"number\" == typeof n ? (null == a && (a = -1), null == n && (n = -1), i.orderBy.desc ? n - a : a - n) : \"string\" == typeof a || \"string\" == typeof n ? (null == a && (a = \"\"), null == n && (n = \"\"), i.orderBy.desc ? n.localeCompare(a) : a.localeCompare(n)) : void 0;\n  });\n  for (p = 0; p < d.length; p++) {\n    var T = e[d[p]];\n    if (T) {\n      var b = [];\n      FamilyTree.manager._iterateSetRootIds(T.id, T.id, m, c, e, b), o.push(b);\n    }\n  }\n  for (p = 0; p < o.length; p++) for (var F = 0; F < o.length; F++) if (F != p) {\n    for (var x = o[p], _ = o[F], w = !1, k = 0; k < x.length; k++) if (_.has(x[k])) {\n      w = !0;\n      break;\n    }\n    w && (o[p] = x.concat(_).unique(), o[F] = []);\n  }\n  for (p = o.length - 1; p >= 0; p--) o[p].length || o.splice(p, 1);\n  if (!i.roots || !i.roots.length) {\n    i.roots = [];\n    for (p = o.length - 1; p >= 0; p--) i.roots.push(o[p][0]);\n  }\n  for (p = 0; p < i.roots.length; p++) FamilyTree.manager._iterateFT(i.roots[p], m, c, e, n, t, r, a, i);\n}, FamilyTree.manager._iterateSetRootIds = function (e, t, i, r, a, n) {\n  var o = a[e];\n  if (o) {\n    o.rids.has(t) || o.rids.push(t);\n    for (var l = 0; l < o.rids.length; l++) n.has(o.rids[l]) || n.push(o.rids[l]);\n    for (l = 0; l < o.pids.length; l++) {\n      var s = a[o.pids[l]];\n      if (s) for (var d = 0; d < s.rids.length; d++) n.has(s.rids[d]) || n.push(s.rids[d]);\n    }\n    if (i[o.id]) for (l = 0; l < i[o.id].length; l++) FamilyTree.manager._iterateSetRootIds(i[o.id][l], t, i, r, a, n);\n    if (r[o.id]) for (l = 0; l < r[o.id].length; l++) FamilyTree.manager._iterateSetRootIds(r[o.id][l], t, i, r, a, n);\n  }\n}, FamilyTree.manager._iterateFT = function (e, t, i, r, a, n, o, l, s) {\n  var d,\n    c = r[e],\n    m = a ? a[e] : null,\n    p = r[c.stpid],\n    h = r[c.mid],\n    f = r[c.fid];\n  if (p || (c.stpid = null), h ? f && (h.tags.has(\"partner\") || h.tags.has(\"left-partner\") || h.tags.has(\"right-partner\")) ? (c.pid = f.id, d = f, c.ppid = h.id) : (c.pid = h.id, d = h, f && (c.ppid = f.id)) : f ? h && (f.tags.has(\"partner\") || f.tags.has(\"left-partner\") || f.tags.has(\"right-partner\")) ? (c.pid = h.id, d = h, c.ppid = f.id) : (c.pid = f.id, d = f, h && (c.ppid = h.id)) : c.pid, p) {\n    var u = a ? a[p.id] : null;\n    u && (p.min = u.min), p.stChildrenIds.push(c.id);\n  } else h || f ? (m && (c.collapsed = m.collapsed, c.min = m.min), d && !d.childrenIds.has(c.id) && d.childrenIds.push(c.id), h && !h.ftChildrenIds.has(c.id) && h.ftChildrenIds.push(c.id), f && !f.ftChildrenIds.has(c.id) && f.ftChildrenIds.push(c.id)) : (m && (c.collapsed = m.collapsed, c.min = m.min), n.push(c));\n  o == FamilyTree.action.init && (c.min = FamilyTree._getMin(c, s));\n  for (var y = 0; y < c.pids.length; y++) {\n    var g = r[c.pids[y]];\n    if (g) {\n      g.pid = c.id;\n      var v = a ? a[g.id] : null;\n      if (v && (g.collapsed = v.collapsed, g.min = v.min), o == FamilyTree.action.init && (g.min = FamilyTree._getMin(g, s)), l && m && v && l.id == c.id ? v.hasPartners && 1 == m.isPartner ? g.tags.push(\"left-partner\") : v.hasPartners && 2 == m.isPartner || 1 == m.isPartner ? g.tags.push(\"right-partner\") : 2 == m.isPartner ? g.tags.push(\"left-partner\") : g.tags.push(\"partner\") : v && 2 == v.isPartner ? g.tags.push(\"left-partner\") : v && 1 == v.isPartner ? g.tags.push(\"right-partner\") : g.tags.push(\"partner\"), !FamilyTree.isNEU(g) && i[g.id]) for (var T = 0; T < i[g.id].length; T++) {\n        var b = r[i[g.id][T]];\n        b && (FamilyTree.isNEU(b.fid) || FamilyTree.isNEU(b.mid)) && FamilyTree.manager._iterateFT(i[g.id][T], t, i, r, a, n, o, l, s);\n      }\n      c.childrenIds.push(g.id);\n    }\n  }\n  if (t[e]) for (T = 0; T < t[e].length; T++) FamilyTree.manager._iterateFT(t[e][T], t, i, r, a, n, o, l, s);\n  if (i[e]) for (T = 0; T < i[e].length; T++) FamilyTree.manager._iterateFT(i[e][T], t, i, r, a, n, o, l, s);\n}, FamilyTree.manager.getAllFields = function (e) {\n  var t = [FamilyTree.TAGS];\n  for (var i in e.nodeBinding) t.push(e.nodeBinding[i]);\n  for (i = 0; i < e.nodes.length; i++) for (var r in e.nodes[i]) r !== FamilyTree.ID && r !== FamilyTree.TAGS && r !== FamilyTree.NODES && r !== FamilyTree.PID && r !== FamilyTree.STPID && \"mid\" !== r && \"fid\" !== r && \"pids\" !== r && (e.nodeBinding[r] || t.has(r) || t.push(r));\n  return t;\n}, FamilyTree.templates = {}, FamilyTree.templates.base = {\n  defs: `<g transform=\"matrix(1,0,0,1,0,0)\" id=\"dot\"><circle class=\"bft-fill\" cx=\"0\" cy=\"0\" r=\"5\" stroke=\"#aeaeae\" stroke-width=\"1\"></circle></g>\\n            <g id=\"base_node_menu\" style=\"cursor:pointer;\"><rect x=\"0\" y=\"0\" fill=\"transparent\" width=\"22\" height=\"22\"></rect><circle cx=\"4\" cy=\"11\" r=\"2\" fill=\"#aeaeae\"></circle><circle cx=\"11\" cy=\"11\" r=\"2\" fill=\"#aeaeae\"></circle><circle cx=\"18\" cy=\"11\" r=\"2\" fill=\"#aeaeae\"></circle></g>\\n            <g style=\"cursor: pointer;\" id=\"base_tree_menu\">\\n                <rect x=\"0\" y=\"0\" width=\"25\" height=\"25\" fill=\"transparent\"></rect>\\n                ${FamilyTree.icon.addUser(25, 25, \"#fff\", 0, 0)}\\n            </g>\\n            <g style=\"cursor: pointer;\" id=\"base_tree_menu_close\">\\n                <circle cx=\"12.5\" cy=\"12.5\" r=\"12\" fill=\"#F57C00\"></circle>\\n                ${FamilyTree.icon.close(25, 25, \"#fff\", 0, 0)}\\n            </g>            \\n            <g id=\"base_up\">\\n                <circle cx=\"15\" cy=\"15\" r=\"15\" fill=\"#fff\" stroke=\"#aeaeae\" stroke-width=\"1\"></circle>\\n                ${FamilyTree.icon.ft(20, 20, \"#aeaeae\", 5, 5)}\\n            </g>\\n            <clipPath id=\"base_img_0\"><rect id=\"base_img_0_stroke\" stroke-width=\"3\" stroke=\"#fff\" x=\"170\" y=\"-5\" rx=\"25\" ry=\"25\" width=\"70\" height=\"70\"></rect></clipPath>`,\n  size: [250, 120],\n  linkAdjuster: {\n    fromX: 0,\n    fromY: 0,\n    toX: 0,\n    toY: 0\n  },\n  ripple: {\n    radius: 0,\n    color: \"#e6e6e6\",\n    rect: null\n  },\n  expandCollapseSize: 0,\n  svg: '<svg class=\"{randId} {template}\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  style=\"display:block;\" width=\"{w}\" height=\"{h}\" viewBox=\"{viewBox}\">{content}</svg>',\n  link: '<path stroke-linejoin=\"round\" stroke=\"#aeaeae\" stroke-width=\"1px\" fill=\"none\" d=\"{rounded}\" />',\n  assistanseLink: '<path stroke-linejoin=\"round\" stroke=\"#aeaeae\" stroke-width=\"2px\" fill=\"none\" d=\"M{xa},{ya} {xb},{yb} {xc},{yc} {xd},{yd} L{xe},{ye}\"/>',\n  pointer: '<g data-pointer=\"pointer\" transform=\"matrix(0,0,0,0,100,100)\"><radialGradient id=\"pointerGradient\"><stop stop-color=\"#ffffff\" offset=\"0\" /><stop stop-color=\"#C1C1C1\" offset=\"1\" /></radialGradient><circle cx=\"16\" cy=\"16\" r=\"16\" stroke-width=\"1\" stroke=\"#acacac\" fill=\"url(#pointerGradient)\"></circle></g>',\n  node: '<rect x=\"0\" y=\"0\" height=\"{h}\" width=\"{w}\" stroke-width=\"1\" stroke=\"#aeaeae\" rx=\"7\" ry=\"7\"></rect>',\n  menuButton: '<div style=\"position:absolute;right:{p}px;top:{p}px; width:40px;height:50px;cursor:pointer;\" ' + FamilyTree.attr.control_export_menu + '=\"\"><hr style=\"background-color: #7A7A7A; height: 3px; border: none;\"><hr style=\"background-color: #7A7A7A; height: 3px; border: none;\"><hr style=\"background-color: #7A7A7A; height: 3px; border: none;\"></div>',\n  padding: [50, 20, 35, 20],\n  nodeMenuButton: `<use ${FamilyTree.attr.control_node_menu_id}=\"{id}\" x=\"220\" y=\"95\" xlink:href=\"#base_node_menu\"/>`,\n  nodeTreeMenuButton: '<use data-ctrl-n-t-menu-id=\"{id}\" x=\"10\" y=\"10\" xlink:href=\"#base_tree_menu\"/>',\n  nodeTreeMenuCloseButton: '<use data-ctrl-n-t-menu-c=\"\" x=\"10\" y=\"10\" xlink:href=\"#base_tree_menu_close\"/>',\n  up: '<use x=\"110\" y=\"-10\" xlink:href=\"#base_up\"/>',\n  img_0: '<use xlink:href=\"#base_img_0_stroke\" /><image preserveAspectRatio=\"xMidYMid slice\" clip-path=\"url(#base_img_0)\" xlink:href=\"{val}\"  x=\"170\" y=\"-5\"  width=\"70\" height=\"70\"></image>',\n  link_field_0: '<text text-anchor=\"middle\" fill=\"#aeaeae\" ' + FamilyTree.attr.width + '=\"290\" x=\"0\" y=\"0\" style=\"font-size:10px;\">{val}</text>'\n}, FamilyTree.templates.dot = Object.assign({}, FamilyTree.templates.base), FamilyTree.templates.dot.node = '<circle cx=\"5\" cy=\"5\" r=\"5\" fill=\"none\" stroke-width=\"1\" stroke=\"#aeaeae\"></circle>', FamilyTree.templates.dot.size = [10, 10], FamilyTree.templates.dot.nodeMenuButton = \"\", FamilyTree.templates.dot.nodeTreeMenuButton = \"\", FamilyTree.templates.dot.nodeTreeMenuCloseButton = \"\", FamilyTree.templates.dot.up = \"\", FamilyTree.templates.john = Object.assign({}, FamilyTree.templates.base), FamilyTree.templates.john.nodeMenuButton = `<use ${FamilyTree.attr.control_node_menu_id}=\"{id}\" x=\"90\" y=\"50\" xlink:href=\"#base_node_menu\"/>`, FamilyTree.templates.john.defs = `<style>                          \\n                                        .{randId} .bft-edit-form-header, .{randId} .bft-img-button{\\n                                            background-color: #aeaeae;\\n                                        }\\n                                        .{randId}.male .bft-edit-form-header, .{randId}.male .bft-img-button{\\n                                            background-color: #039BE5;\\n                                        }        \\n                                        .{randId}.male div.bft-img-button:hover{\\n                                            background-color: #F57C00;\\n                                        }\\n                                        .{randId}.female .bft-edit-form-header, .{randId}.female .bft-img-button{\\n                                            background-color: #F57C00;\\n                                        }        \\n                                        .{randId}.female div.bft-img-button:hover{\\n                                            background-color: #039BE5;\\n                                        }\\n                                    </style>\\n                                    <clipPath id=\"john_img_0\"><rect  x=\"6\" y=\"6\" rx=\"54\" ry=\"54\" width=\"108\" height=\"108\"></rect></clipPath>\\n                                    ${FamilyTree.gradientCircleForDefs(\"circle\", \"#aeaeae\", 60, 5)}\\n                                    ${FamilyTree.gradientCircleForDefs(\"male_circle\", \"#039BE5\", 60, 5)}\\n                                    ${FamilyTree.gradientCircleForDefs(\"female_circle\", \"#F57C00\", 60, 5)}`, FamilyTree.templates.john.field_0 = \"<text \" + FamilyTree.attr.width + '=\"230\" style=\"font-size: 16px;font-weight:bold;\" fill=\"#aeaeae\" x=\"60\" y=\"135\" text-anchor=\"middle\">{val}</text>', FamilyTree.templates.john.field_1 = \"<text \" + FamilyTree.attr.width + '=\"150\" style=\"font-size: 13px;\" fill=\"#aeaeae\" x=\"60\" y=\"150\" text-anchor=\"middle\">{val}</text>', FamilyTree.templates.john.node = '<use x=\"0\" y=\"0\" xlink:href=\"#circle\" />', FamilyTree.templates.john.img_0 = '<image preserveAspectRatio=\"xMidYMid slice\" clip-path=\"url(#john_img_0)\" xlink:href=\"{val}\"  x=\"6\" y=\"6\"  width=\"108\" height=\"108\"></image>', FamilyTree.templates.john.ripple = {\n  radius: 60,\n  color: \"#e6e6e6\",\n  rect: null\n}, FamilyTree.templates.john.size = [120, 120], FamilyTree.templates.john_male = Object.assign({}, FamilyTree.templates.john), FamilyTree.templates.john_male.node += '<use x=\"0\" y=\"0\" xlink:href=\"#male_circle\" />', FamilyTree.templates.john_male.ripple = {\n  radius: 60,\n  color: \"#039BE5\",\n  rect: null\n}, FamilyTree.templates.john_female = Object.assign({}, FamilyTree.templates.john), FamilyTree.templates.john_female.node += '<use x=\"0\" y=\"0\" xlink:href=\"#female_circle\" />', FamilyTree.templates.john_female.ripple = {\n  radius: 60,\n  color: \"#F57C00\",\n  rect: null\n}, FamilyTree.templates.tommy = Object.assign({}, FamilyTree.templates.base), FamilyTree.templates.tommy.defs = \"<style>                          \\n                                        .{randId} .bft-edit-form-header, .{randId} .bft-img-button{\\n                                            background-color: #aeaeae;\\n                                        }\\n                                        .{randId}.male .bft-edit-form-header, .{randId}.male .bft-img-button{\\n                                            background-color: #039BE5;\\n                                        }        \\n                                        .{randId}.male div.bft-img-button:hover{\\n                                            background-color: #F57C00;\\n                                        }\\n                                        .{randId}.female .bft-edit-form-header, .{randId}.female .bft-img-button{\\n                                            background-color: #F57C00;\\n                                        }        \\n                                        .{randId}.female div.bft-img-button:hover{\\n                                            background-color: #039BE5;\\n                                        }\\n                                    </style>\", FamilyTree.templates.tommy.field_0 = \"<text \" + FamilyTree.attr.width + '=\"230\" style=\"font-size: 18px;font-weight:bold;\" fill=\"#ffffff\" x=\"10\" y=\"90\" text-anchor=\"start\">{val}</text>', FamilyTree.templates.tommy.field_1 = \"<text \" + FamilyTree.attr.width + '=\"150\" style=\"font-size: 14px;\" fill=\"#ffffff\" x=\"10\" y=\"65\" text-anchor=\"start\">{val}</text>', FamilyTree.templates.tommy.node = '<rect x=\"0\" y=\"0\" height=\"{h}\" width=\"{w}\" stroke-width=\"1\" fill=\"#aeaeae\" stroke=\"#aeaeae\" rx=\"7\" ry=\"7\"></rect>', FamilyTree.templates.tommy_male = Object.assign({}, FamilyTree.templates.tommy), FamilyTree.templates.tommy_male.node = '<rect x=\"0\" y=\"0\" height=\"{h}\" width=\"{w}\" stroke-width=\"1\" fill=\"#039BE5\" stroke=\"#aeaeae\" rx=\"7\" ry=\"7\"></rect>', FamilyTree.templates.tommy_female = Object.assign({}, FamilyTree.templates.tommy), FamilyTree.templates.tommy_female.node = '<rect x=\"0\" y=\"0\" height=\"{h}\" width=\"{w}\" stroke-width=\"1\" fill=\"#F57C00\" stroke=\"#aeaeae\" rx=\"7\" ry=\"7\"></rect>', FamilyTree.templates.hugo = Object.assign({}, FamilyTree.templates.base), FamilyTree.templates.hugo.up = '<use x=\"200\" y=\"10\" xlink:href=\"#hugo_up\"/>', FamilyTree.templates.hugo.nodeMenuButton = `<use x=\"225\" y=\"10\" ${FamilyTree.attr.control_node_menu_id}=\"{id}\" xlink:href=\"#hugo_node_menu\"/>`, FamilyTree.templates.hugo.defs = `<clipPath id=\"hugo_img_0\"><rect id=\"hugo_img_0_stroke\" stroke-width=\"2\" stroke=\"#fff\" x=\"90\" y=\"-5\" rx=\"25\" ry=\"25\" width=\"70\" height=\"70\"></rect></clipPath>\\n                                    <linearGradient id=\"hugo_grad_female\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\\n                                        <stop offset=\"0%\" style=\"stop-color:#FF8024;stop-opacity:1\" />\\n                                        <stop offset=\"100%\" style=\"stop-color:#FF46A3;stop-opacity:1\" />\\n                                    </linearGradient>\\n                                    <linearGradient id=\"hugo_grad_male\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\\n                                        <stop offset=\"0%\" style=\"stop-color:#00D3A5;stop-opacity:1\" />\\n                                        <stop offset=\"100%\" style=\"stop-color:#00A7D4;stop-opacity:1\" />\\n                                    </linearGradient>\\n                                    <linearGradient id=\"hugo_grad\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\\n                                        <stop offset=\"0%\" style=\"stop-color:#D0D0D0;stop-opacity:1\" />\\n                                        <stop offset=\"100%\" style=\"stop-color:#909090;stop-opacity:1\" />\\n                                    </linearGradient>\\n                                    <g id=\"hugo_up\">\\n                                        <circle cx=\"12\" cy=\"12\" r=\"15\" fill=\"transparent\" ></circle>\\n                                        ${FamilyTree.icon.ft(24, 24, \"#fff\", 0, 0)}\\n                                    </g>\\n                                    <g id=\"hugo_node_menu\" style=\"cursor:pointer;\"><rect x=\"0\" y=\"0\" fill=\"transparent\" width=\"22\" height=\"22\"></rect><circle cx=\"11\" cy=\"4\" r=\"2\" fill=\"#ffffff\"></circle><circle cx=\"11\" cy=\"11\" r=\"2\" fill=\"#ffffff\"></circle><circle cx=\"11\" cy=\"18\" r=\"2\" fill=\"#ffffff\"></circle></g>\\n                                    <style>\\n                                        .{randId} .bft-edit-form-header{\\n                                            background: linear-gradient(90deg, #D0D0D0 0%, #909090 100%);\\n                                        }\\n                                        .{randId}.male .bft-edit-form-header{\\n                                            background: linear-gradient(90deg, #00D3A5 0%, #00A7D4 100%);\\n                                        }\\n                                        .{randId}.female .bft-edit-form-header{\\n                                            background: linear-gradient(90deg, #FF8024 0%, #FF46A3 100%);\\n                                        }  \\n                                        .{randId} .bft-img-button{\\n                                            background-color: #909090;\\n                                        }      \\n                                        .{randId} .bft-img-button:hover{\\n                                            background-color: #D0D0D0;\\n                                        }\\n                                        .{randId}.male .bft-img-button{\\n                                            background-color: #00A7D4;\\n                                        }      \\n                                        .{randId}.male .bft-img-button:hover{\\n                                            background-color: #00D3A5;\\n                                        }\\n                                        .{randId}.female .bft-img-button{\\n                                            background-color: #FF46A3;\\n                                        }      \\n                                        .{randId}.female .bft-img-button:hover{\\n                                            background-color: #FF8024;\\n                                        }\\n                                        \\n                                    </style>`, FamilyTree.templates.hugo.img_0 = '<use xlink:href=\"#hugo_img_0_stroke\" /><image preserveAspectRatio=\"xMidYMid slice\" clip-path=\"url(#hugo_img_0)\" xlink:href=\"{val}\"  x=\"90\" y=\"-5\"  width=\"70\" height=\"70\"></image>', FamilyTree.templates.hugo.field_0 = \"<text \" + FamilyTree.attr.width + '=\"230\" style=\"font-size: 18px;font-weight:bold;\" fill=\"#ffffff\" x=\"125\" y=\"85\" text-anchor=\"middle\">{val}</text>', FamilyTree.templates.hugo.field_1 = \"<text \" + FamilyTree.attr.width + '=\"230\" style=\"font-size: 14px;\" fill=\"#ffffff\" x=\"125\" y=\"105\" text-anchor=\"middle\">{val}</text>', FamilyTree.templates.hugo.node = '<rect x=\"0\" y=\"0\" height=\"{h}\" width=\"{w}\" stroke-width=\"1\" fill=url(#hugo_grad) stroke=\"#aeaeae\" rx=\"7\" ry=\"7\"></rect>', FamilyTree.templates.hugo_male = Object.assign({}, FamilyTree.templates.hugo), FamilyTree.templates.hugo_male.node = '<rect x=\"0\" y=\"0\" height=\"{h}\" width=\"{w}\" stroke-width=\"1\" fill=url(#hugo_grad_male) stroke=\"#aeaeae\" rx=\"7\" ry=\"7\"></rect>', FamilyTree.templates.hugo_female = Object.assign({}, FamilyTree.templates.hugo), FamilyTree.templates.hugo_female.node = '<rect x=\"0\" y=\"0\" height=\"{h}\" width=\"{w}\" stroke-width=\"1\" fill=url(#hugo_grad_female) stroke=\"#aeaeae\" rx=\"7\" ry=\"7\"></rect>', FamilyTree.templates.mother = Object.assign({}, FamilyTree.templates.base), FamilyTree.templates.mother.up = \"\", FamilyTree.templates.mother.node = '<rect x=\"0\" y=\"0\" height=\"{h}\" width=\"{w}\" style=\"fill:transparent;\"  stroke-width=\"1\" stroke=\"#F57C00\" rx=\"5\" ry=\"5\"></rect><text style=\"font-size: 18px;\" fill=\"#F57C00\" x=\"240\" y=\"30\" text-anchor=\"end\">Add mother</text>' + FamilyTree.icon.mother(70, 70, \"#F57C00\", 10, 40), FamilyTree.templates.mother.field_0 = \"\", FamilyTree.templates.mother.field_1 = \"\", FamilyTree.templates.father = Object.assign({}, FamilyTree.templates.mother), FamilyTree.templates.father.node = '<rect x=\"0\" y=\"0\" height=\"{h}\" width=\"{w}\" style=\"fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#039BE5;rx:5;ry:5;\"></rect><text style=\"font-size: 18px;\" fill=\"#039BE5\" x=\"240\" y=\"30\" text-anchor=\"end\">Add father</text>' + FamilyTree.icon.father(70, 70, \"#039BE5\", 10, 40), FamilyTree.templates.partner = Object.assign({}, FamilyTree.templates.mother), FamilyTree.templates.partner.node = '<rect x=\"0\" y=\"0\" height=\"{h}\" width=\"{w}\" style=\"fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#aeaeae;rx:5;ry:5;\"></rect><text style=\"font-size: 18px;\" fill=\"#aeaeae\" x=\"240\" y=\"30\" text-anchor=\"end\">Add partner</text>', FamilyTree.templates.son = Object.assign({}, FamilyTree.templates.mother), FamilyTree.templates.son.node = '<rect x=\"0\" y=\"0\" height=\"{h}\" width=\"{w}\" style=\"fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#039BE5;rx:5;ry:5;\"></rect><text style=\"font-size: 18px;\" fill=\"#039BE5\" x=\"240\" y=\"30\" text-anchor=\"end\">Add son</text>' + FamilyTree.icon.son(70, 70, \"#039BE5\", 10, 40), FamilyTree.templates.daughter = Object.assign({}, FamilyTree.templates.mother), FamilyTree.templates.daughter.node = '<rect x=\"0\" y=\"0\" height=\"{h}\" width=\"{w}\" style=\"fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#F57C00;rx:5;ry:5;\"></rect><text style=\"font-size: 18px;\" fill=\"#F57C00\" x=\"240\" y=\"30\" text-anchor=\"end\">Add daughter</text>' + FamilyTree.icon.daughter(70, 70, \"#F57C00\", 10, 40), FamilyTree.templates.husband = Object.assign({}, FamilyTree.templates.mother), FamilyTree.templates.husband.node = '<rect x=\"0\" y=\"0\" height=\"{h}\" width=\"{w}\" style=\"fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#039BE5;rx:5;ry:5;\"></rect><text style=\"font-size: 18px;\" fill=\"#039BE5\" x=\"240\" y=\"30\" text-anchor=\"end\">Add husband</text>' + FamilyTree.icon.husband(70, 70, \"#039BE5\", 10, 40), FamilyTree.templates.wife = Object.assign({}, FamilyTree.templates.mother), FamilyTree.templates.wife.node = '<rect x=\"0\" y=\"0\" height=\"{h}\" width=\"{w}\" style=\"fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#F57C00;rx:5;ry:5;\"></rect><text style=\"font-size: 18px;\" fill=\"#F57C00\" x=\"240\" y=\"30\" text-anchor=\"end\">Add wife</text>' + FamilyTree.icon.wife(70, 70, \"#F57C00\", 10, 40), FamilyTree.templates.pet = Object.assign({}, FamilyTree.templates.mother), FamilyTree.templates.pet.node = '<rect x=\"0\" y=\"0\" style=\"fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#F57C00;rx:5;ry:5;\"></rect><text style=\"font-size: 18px;\" fill=\"#F57C00\" x=\"240\" y=\"30\" text-anchor=\"end\">Add pet</text>' + FamilyTree.icon.teddy(70, 70, \"#F57C00\", 10, 40), FamilyTree.templates.cgroup = Object.assign({}, FamilyTree.templates.base), FamilyTree.templates.cgroup.defs = \"\", FamilyTree.templates.cgroup.size = [250, 120], FamilyTree.templates.cgroup.padding = [0, 0, 0, 0], FamilyTree.templates.cgroup.node = \"\", FamilyTree.templates.split = Object.assign({}, FamilyTree.templates.base), FamilyTree.templates.split.size = [10, 10], FamilyTree.templates.split.node = '<circle cx=\"5\" cy=\"5\" r=\"5\" fill=\"none\" stroke-width=\"1\" stroke=\"#aeaeae\"></circle>', FamilyTree.templates.mirror = {\n  linkAdjuster: {},\n  link: \"\",\n  node: \"\",\n  nodeMenuButton: \"\",\n  size: [0, 0]\n}, FamilyTree.ui = {\n  _defsIds: {},\n  defs: function (e) {\n    var t = \"\";\n    for (var i in FamilyTree.templates) {\n      var r = FamilyTree.templates[i];\n      r.defs && (FamilyTree.ui._defsIds[i] = FamilyTree.randomId(), t += r.defs.replaceAll(\"{randId}\", FamilyTree.ui._defsIds[i]));\n    }\n    return \"<defs>\" + t + e + \"</defs>\";\n  },\n  lonely: function (e) {\n    return e.nodes && e.nodes.length ? \"\" : FamilyTree.IT_IS_LONELY_HERE.replace(\"{link}\", FamilyTree.RES.IT_IS_LONELY_HERE_LINK);\n  },\n  pointer: function (e, t, i) {\n    return t === FamilyTree.action.exporting ? \"\" : FamilyTree.t(e.template, !1, i).pointer;\n  },\n  node: function (e, t, i, r, a, n, o, l, s, d) {\n    var c = FamilyTree.t(e.templateName, e.min, s),\n      m = c.node.replaceAll(\"{w}\", e.w).replaceAll(\"{h}\", e.h);\n    c.defs && (m = m.replaceAll(\"{randId}\", FamilyTree.ui._defsIds[e.templateName])), null == o && (o = r.nodeBinding);\n    var p = {\n      node: e,\n      data: t\n    };\n    for (var h in o) {\n      var f,\n        u = o[h];\n      t && (f = t[u]);\n      var y = FamilyTree._lblIsImg(r, h);\n      if (p.value = f, p.element = c[h], p.name = u, p.field = h, !1 !== FamilyTree.events.publish(\"field\", [d, p]) && null != p.value && null != p.value && null != p.element && (!y || y && !FamilyTree.isNEU(p.value))) {\n        if (!y && \"string\" == typeof p.value) {\n          var g = p.element;\n          g && (g = g.replaceAll(\"{ew}\", e.w - (e.padding ? e.padding[1] : 0)).replaceAll(\"{cw}\", e.w / 2)), p.value = FamilyTree.wrapText(p.value, g);\n        }\n        var v = p.element.replace(\"{val}\", p.value);\n        m += v = v.replaceAll(\"{ew}\", e.w - (e.padding ? e.padding[1] : 0)).replaceAll(\"{cw}\", e.w / 2).replaceAll(\"{randId}\", FamilyTree.randomId()).replaceAll(\"{randId2}\", FamilyTree.randomId());\n      }\n    }\n    var T = FamilyTree._getPosition(i, e, a, n),\n      b = \"node\";\n    Array.isArray(e.tags) && e.tags.length && (b += \" \" + e.tags.join(\" \")), e.layout && (b += \" tree-layout\");\n    var F = \"\";\n    e.lcn && (F = 'lcn=\"' + e.lcn + '\"');\n    var x = FamilyTree.nodeOpenTag.replace(\"{lcn}\", F).replace(\"{id}\", e.id).replace(\"{class}\", b).replace(\"{sl}\", e.sl).replace(\"{level}\", e.level).replace(\"{x}\", T.x).replace(\"{y}\", T.y),\n      _ = FamilyTree._getOpacity(i, e);\n    return m = (x = x.replace(\"{opacity}\", _)) + (m += FamilyTree.ui.nodeBtns(r, e, l, c, d)) + FamilyTree.grCloseTag;\n  },\n  nodeBtns: function (e, t, i, r, a) {\n    var n = \"\";\n    return null == e.nodeMenu || t.isSplit || i === FamilyTree.action.exporting || (n += r.nodeMenuButton.replace(\"{id}\", t.id).replace(\"{cw}\", t.w / 2).replace(\"{ch}\", t.h / 2).replace(\"{ew}\", t.w - (t.padding ? t.padding[1] : 0)).replace(\"{eh}\", t.h - (t.padding ? t.padding[2] : 0))), null == e.nodeCircleMenu || t.isSplit || i === FamilyTree.action.exporting || FamilyTree.isNEU(r.nodeCircleMenuButton) || (n += '<g style=\"cursor:pointer;\" transform=\"matrix(1,0,0,1,' + r.nodeCircleMenuButton.x + \",\" + r.nodeCircleMenuButton.y + ')\" ' + FamilyTree.attr.control_node_circle_menu_id + '=\"' + t.id + '\"><circle cx=\"0\" cy=\"0\" fill=\"' + r.nodeCircleMenuButton.color + '\" r=\"' + r.nodeCircleMenuButton.radius + '\" stroke-width=\"1\" stroke=\"' + r.nodeCircleMenuButton.stroke + '\"></circle><line x1=\"-' + r.nodeCircleMenuButton.radius / 2 + '\" y1=\"-6\" x2=\"' + r.nodeCircleMenuButton.radius / 2 + '\" y2=\"-6\" stroke-width=\"2\" stroke=\"' + r.nodeCircleMenuButton.stroke + '\"></line><line x1=\"-' + r.nodeCircleMenuButton.radius / 2 + '\" y1=\"0\" x2=\"' + r.nodeCircleMenuButton.radius / 2 + '\" y2=\"0\" stroke-width=\"2\" stroke=\"' + r.nodeCircleMenuButton.stroke + '\"></line><line x1=\"-' + r.nodeCircleMenuButton.radius / 2 + '\" y1=\"6\" x2=\"' + r.nodeCircleMenuButton.radius / 2 + '\" y2=\"6\" stroke-width=\"2\" stroke=\"' + r.nodeCircleMenuButton.stroke + '\"></line></g>'), n;\n  },\n  expandCollapseBtn: function (e, t, i, r, a) {\n    var n = \"\";\n    if (r !== FamilyTree.action.exporting && !t.isSplit) {\n      var o = i[t.lcn ? t.lcn : \"base\"],\n        l = 0,\n        s = 0,\n        d = FamilyTree.t(t.templateName, t.min, a);\n      if (t.childrenIds.length > 0) {\n        if (t.hasPartners) {\n          for (var c = !1, m = 0; m < t.childrenIds.length; m++) {\n            var p = e.getNode(t.childrenIds[m]);\n            !p || p.parentPartner || p.isPartner || (c = !0);\n          }\n          if (!c) return \"\";\n        }\n        switch (o.orientation) {\n          case FamilyTree.orientation.top:\n          case FamilyTree.orientation.top_left:\n            l = t.x + t.w / 2, s = t.y + t.h;\n            break;\n          case FamilyTree.orientation.bottom:\n          case FamilyTree.orientation.bottom_left:\n            l = t.x + t.w / 2, s = t.y;\n            break;\n          case FamilyTree.orientation.right:\n          case FamilyTree.orientation.right_top:\n            l = t.x, s = t.y + t.h / 2;\n            break;\n          case FamilyTree.orientation.left:\n          case FamilyTree.orientation.left_top:\n            l = t.x + t.w, s = t.y + t.h / 2;\n        }\n        if (l -= d.expandCollapseSize / 2, s -= d.expandCollapseSize / 2, e.getCollapsedIds(t).length ? (n += FamilyTree.expcollOpenTag.replace(\"{id}\", t.id).replace(\"{x}\", l).replace(\"{y}\", s), n += d.plus, n += FamilyTree.grCloseTag) : (n += FamilyTree.expcollOpenTag.replace(\"{id}\", t.id).replace(\"{x}\", l).replace(\"{y}\", s), n += d.minus, n += FamilyTree.grCloseTag), -1 != n.indexOf(\"{collapsed-children-count}\")) {\n          var h = FamilyTree.collapsedChildrenCount(e, t);\n          n = n.replace(\"{collapsed-children-count}\", h);\n        }\n        if (-1 != n.indexOf(\"{collapsed-children-total-count}\")) {\n          var f = FamilyTree.collapsedChildrenTotalCount(e, t);\n          n = n.replace(\"{collapsed-children-total-count}\", f);\n        }\n        if (-1 != n.indexOf(\"{children-count}\")) {\n          var u = FamilyTree.childrenCount(e, t);\n          n = n.replace(\"{children-count}\", u);\n        }\n        if (-1 != n.indexOf(\"{children-total-count}\")) {\n          var y = FamilyTree.childrenTotalCount(e, t);\n          n = n.replace(\"{children-total-count}\", y);\n        }\n      }\n      e._nodeHasHiddenParent(t) && (n += FamilyTree.upOpenTag.replace(\"{id}\", t.id).replace(\"{x}\", t.x).replace(\"{y}\", t.y), n += d.up, n += FamilyTree.grCloseTag);\n    }\n    var g = {\n      html: n,\n      node: t\n    };\n    return FamilyTree.events.publish(\"renderbuttons\", [e, g]), g.html;\n  },\n  link: function (e, t, i, r, a, n, o) {\n    var l = e.lcn ? e.lcn : \"base\",\n      s = t._layoutConfigs[l],\n      d = FamilyTree.t(e.templateName, e.min, i),\n      c = [],\n      m = [],\n      p = s.levelSeparation / 2;\n    e.layout > 0 && (p = s.mixedHierarchyNodesSeparation / 2);\n    var h = 0,\n      f = FamilyTree.getRootOf(e).id,\n      u = r[f][e.sl],\n      y = void 0;\n    if (e.hasPartners) {\n      y = {\n        ids: [],\n        indexes: {},\n        ppnodes: {},\n        lastLeft: null,\n        firstRight: null,\n        maxSidePartnersWithChildren: 0,\n        rightIds: [],\n        leftIds: [],\n        partnerChildrenSplitSeparation: t.config.partnerChildrenSplitSeparation\n      };\n      for (var g = 0; g < e.children.length; g++) {\n        (T = e.children[g]).parentPartner ? (y.ppnodes[T.id] = T.parentPartner, y.ids.push(T.id), 1 == T.parentPartner.isPartner ? (-1 == y.rightIds.indexOf(T.parentPartner.id) && y.rightIds.push(T.parentPartner.id), y.indexes[T.id] = y.rightIds.indexOf(T.parentPartner.id), y.firstRight || (y.firstRight = T)) : 2 == T.parentPartner.isPartner && (-1 == y.leftIds.indexOf(T.parentPartner.id) && y.leftIds.push(T.parentPartner.id), y.indexes[T.id] = y.leftIds.indexOf(T.parentPartner.id), y.lastLeft = T)) : T.isPartner || (y.lastLeft = T, y.firstRight || (y.firstRight = T));\n      }\n      y.maxSidePartnersWithChildren = Math.max(y.leftIds.length, y.rightIds.length), h = 0 == y.maxSidePartnersWithChildren ? t.config.minPartnerSeparation / 2 : t.config.minPartnerSeparation / 2 + y.partnerChildrenSplitSeparation * y.maxSidePartnersWithChildren + y.partnerChildrenSplitSeparation / 2;\n    }\n    for (g = 0; g < e.children.length; g++) {\n      var v,\n        T = e.children[g],\n        b = r[f][T.sl],\n        F = {\n          xa: 0,\n          ya: 0,\n          xb: 0,\n          yb: 0,\n          xc: 0,\n          yc: 0,\n          xd: 0,\n          yd: 0,\n          x: 0,\n          y: 0,\n          rotate: 0\n        },\n        x = (d = FamilyTree.t(T.templateName, T.min, i)).link;\n      if (T.isChildOfPartner) switch (s.orientation) {\n        case FamilyTree.orientation.top:\n        case FamilyTree.orientation.top_left:\n          var _ = 1 == T.layout ? void 0 : b.minY - (b.minY - u.maxY) / 2;\n          F = FamilyTree.ui._linkTopToBottom(T.parentPartner, T, d, p, _);\n          break;\n        case FamilyTree.orientation.bottom:\n        case FamilyTree.orientation.bottom_left:\n          _ = 1 == T.layout ? void 0 : b.maxY - (b.maxY - u.minY) / 2;\n          F = FamilyTree.ui._linkBottomToTop(T.parentPartner, T, d, p, _);\n          break;\n        case FamilyTree.orientation.right:\n        case FamilyTree.orientation.right_top:\n          _ = 1 == T.layout ? void 0 : b.maxX - (b.maxX - u.minX) / 2;\n          F = FamilyTree.ui._linkRightToLeft(T.parentPartner, T, d, p, _);\n          break;\n        case FamilyTree.orientation.left:\n        case FamilyTree.orientation.left_top:\n          _ = 1 == T.layout ? void 0 : b.minX - (b.minX - u.maxX) / 2;\n          F = FamilyTree.ui._linkLeftToRight(T.parentPartner, T, d, p, _);\n      } else if (y && -1 != y.ids.indexOf(T.id)) switch (s.orientation) {\n        case FamilyTree.orientation.top:\n        case FamilyTree.orientation.top_left:\n          F = FamilyTree.ui._linkPpTop(y, e, T, b, u, d);\n          break;\n        case FamilyTree.orientation.bottom:\n        case FamilyTree.orientation.bottom_left:\n          F = FamilyTree.ui._linkPpBottom(y, e, T, b, u, d);\n          break;\n        case FamilyTree.orientation.right:\n        case FamilyTree.orientation.right_top:\n          F = FamilyTree.ui._linkPpRight(y, e, T, b, u, d);\n          break;\n        case FamilyTree.orientation.left:\n        case FamilyTree.orientation.left_top:\n          F = FamilyTree.ui._linkPpLeft(y, e, T, b, u, d);\n      } else {\n        var w = T.isAssistant && T.rightNeighbor && T.rightNeighbor.isAssistant && T.parent == T.rightNeighbor.parent,\n          k = T.isAssistant && T.leftNeighbor && T.leftNeighbor.isAssistant && T.parent == T.leftNeighbor.parent;\n        if ((w || T.layout > 1) && T.rightNeighbor && T.rightNeighbor.isSplit) switch (s.orientation) {\n          case FamilyTree.orientation.top:\n          case FamilyTree.orientation.top_left:\n          case FamilyTree.orientation.bottom:\n          case FamilyTree.orientation.bottom_left:\n            F = FamilyTree.ui._linkRightToLeft(T.rightNeighbor, T, d, p);\n            break;\n          case FamilyTree.orientation.right:\n          case FamilyTree.orientation.right_top:\n          case FamilyTree.orientation.left:\n          case FamilyTree.orientation.left_top:\n            F = FamilyTree.ui._linkBottomToTop(T.rightNeighbor, T, d, p);\n        } else if ((k || T.layout > 1) && T.leftNeighbor && T.leftNeighbor.isSplit) switch (s.orientation) {\n          case FamilyTree.orientation.top:\n          case FamilyTree.orientation.top_left:\n          case FamilyTree.orientation.bottom:\n          case FamilyTree.orientation.bottom_left:\n            F = FamilyTree.ui._linkLeftToRight(T.leftNeighbor, T, d, p);\n            break;\n          case FamilyTree.orientation.right:\n          case FamilyTree.orientation.right_top:\n          case FamilyTree.orientation.left:\n          case FamilyTree.orientation.left_top:\n            F = FamilyTree.ui._linkTopToBottom(T.leftNeighbor, T, d, p);\n        } else switch (s.orientation) {\n          case FamilyTree.orientation.top:\n          case FamilyTree.orientation.top_left:\n            if (1 == T.isPartner) F = FamilyTree.ui._linkLeftToRight(e, T, d, h);else if (2 == T.isPartner) F = FamilyTree.ui._linkRightToLeft(e, T, d, h);else {\n              _ = 1 == T.layout ? void 0 : b.minY - (b.minY - u.maxY) / 2;\n              F = FamilyTree.ui._linkTopToBottom(e, T, d, p, _);\n            }\n            break;\n          case FamilyTree.orientation.bottom:\n          case FamilyTree.orientation.bottom_left:\n            if (1 == T.isPartner) F = FamilyTree.ui._linkLeftToRight(e, T, d, h);else if (2 == T.isPartner) F = FamilyTree.ui._linkRightToLeft(e, T, d, h);else {\n              _ = 1 == T.layout ? void 0 : b.maxY - (b.maxY - u.minY) / 2;\n              F = FamilyTree.ui._linkBottomToTop(e, T, d, p, _);\n            }\n            break;\n          case FamilyTree.orientation.right:\n          case FamilyTree.orientation.right_top:\n            if (1 == T.isPartner) F = FamilyTree.ui._linkTopToBottom(e, T, d, h);else if (2 == T.isPartner) F = FamilyTree.ui._linkBottomToTop(e, T, d, h);else {\n              _ = 1 == T.layout ? void 0 : b.maxX - (b.maxX - u.minX) / 2;\n              F = FamilyTree.ui._linkRightToLeft(e, T, d, p, _);\n            }\n            break;\n          case FamilyTree.orientation.left:\n          case FamilyTree.orientation.left_top:\n            if (1 == T.isPartner) F = FamilyTree.ui._linkTopToBottom(e, T, d, h);else if (2 == T.isPartner) F = FamilyTree.ui._linkBottomToTop(e, T, d, h);else {\n              _ = 1 == T.layout ? void 0 : b.minX - (b.minX - u.maxX) / 2;\n              F = FamilyTree.ui._linkLeftToRight(e, T, d, p, _);\n            }\n        }\n      }\n      var S = FamilyTree.ui._draggableLinkPath(t, e, T, F, p, s.orientation);\n      if (S) v = S, x = x.replace(\"{rounded}\", S).replace(\"{edge}\", S).replace(\"{curve}\", v);else if (-1 != x.indexOf(\"{rounded}\")) {\n        if (F.xa == F.xb && F.xa == F.xc && F.xa == F.xd || F.ya == F.yb && F.ya == F.yc && F.ya == F.yd) v = \"M\" + F.xa + \",\" + F.ya + \" L\" + F.xd + \",\" + F.yd, x = x.replace(\"{rounded}\", v);else if (Math.abs(F.xa - F.xd) <= FamilyTree.LINK_ROUNDED_CORNERS && Math.abs(F.xa - F.xc) <= FamilyTree.LINK_ROUNDED_CORNERS && Math.abs(F.xa - F.xb) <= FamilyTree.LINK_ROUNDED_CORNERS) v = \"M\" + F.xa + \",\" + F.ya + \" L\" + F.xa + \",\" + F.yd, x = x.replace(\"{rounded}\", v);else if (Math.abs(F.ya - F.yd) <= FamilyTree.LINK_ROUNDED_CORNERS && Math.abs(F.ya - F.yc) <= FamilyTree.LINK_ROUNDED_CORNERS && Math.abs(F.ya - F.yb) <= FamilyTree.LINK_ROUNDED_CORNERS) v = \"M\" + F.xa + \",\" + F.ya + \" L\" + F.xd + \",\" + F.ya, x = x.replace(\"{rounded}\", v);else {\n          var C = FamilyTree.ui._roundedEdge(F.xa, F.ya, F.xb, F.yb, F.xc, F.yc),\n            I = FamilyTree.ui._roundedEdge(F.xb, F.yb, F.xc, F.yc, F.xd, F.yd);\n          v = \"M\" + C.x1 + \",\" + C.y1 + \" \" + C.x2 + \",\" + C.y2 + \" Q\" + C.qx1 + \",\" + C.qy1 + \" \" + C.qx2 + \",\" + C.qy2 + \" L\" + I.x2 + \",\" + I.y2 + \" Q\" + I.qx1 + \",\" + I.qy1 + \" \" + I.qx2 + \",\" + I.qy2 + \" L\" + I.x3 + \",\" + I.y3, x = x.replace(\"{rounded}\", v);\n        }\n      } else -1 != x.indexOf(\"{edge}\") ? (v = \"M\" + F.xa + \",\" + F.ya + \" \" + F.xb + \",\" + F.yb + \" \" + F.xc + \",\" + F.yc + \" L\" + F.xd + \",\" + F.yd, x = x.replace(\"{edge}\", v)) : -1 != x.indexOf(\"{curve}\") ? (v = \"M\" + F.xa + \",\" + F.ya + \" C\" + F.xb + \",\" + F.yb + \" \" + F.xc + \",\" + F.yc + \" \" + F.xd + \",\" + F.yd, x = x.replace(\"{curve}\", v)) : (v = x.replaceAll(\"{xa}\", F.xa).replaceAll(\"{ya}\", F.ya).replaceAll(\"{xb}\", F.xb).replaceAll(\"{yb}\", F.yb).replaceAll(\"{xc}\", F.xc).replaceAll(\"{yc}\", F.yc).replaceAll(\"{xd}\", F.xd).replaceAll(\"{yd}\", F.yd), x = v);\n      c.push(FamilyTree.linkOpenTag.replace(\"{id}\", e.id).replace(\"{class}\", \"link \" + T.tags.join(\" \")).replace(\"{child-id}\", T.id));\n      var N = {\n        node: e,\n        cnode: T,\n        p: F,\n        html: x,\n        action: n\n      };\n      FamilyTree.events.publish(\"render-link\", [t, N]), c.push(N.html), o && m.push({\n        id: e.id,\n        childId: T.id,\n        html: N.html\n      });\n      var A = \"\";\n      for (var L in t.config.linkBinding) {\n        var E = t.config.linkBinding[L],\n          M = t._get(T.id);\n        if (M) {\n          var U = M[E];\n          N.value = U, N.element = d[L], N.name = E, !1 !== FamilyTree.events.publish(\"label\", [t, N]) && (FamilyTree.isNEU(N.value) || FamilyTree.isNEU(N.element) || (A += N.element.replace(\"{val}\", N.value)));\n        }\n      }\n      \"\" != A && (A = FamilyTree.linkFieldsOpenTag.replace(\"{x}\", F.x).replace(\"{y}\", F.y).replace(\"{rotate}\", 0) + A + FamilyTree.grCloseTag, c.push(A)), c.push(FamilyTree.grCloseTag);\n    }\n    return o ? m : c.join(\"\");\n  },\n  svg: function (e, t, i, r, a, n) {\n    return FamilyTree.t(r.template, !1, n).svg.replace(\"{w}\", e).replace(\"{h}\", t).replace(\"{viewBox}\", i).replace(\"{randId}\", FamilyTree.ui._defsIds[r.template]).replace(\"{mode}\", r.mode).replace(\"{template}\", r.template).replace(\"{content}\", function () {\n      return a;\n    });\n  },\n  menuButton: function (e) {\n    return null == e.menu ? \"\" : FamilyTree.t(e.template, !1).menuButton.replaceAll(\"{p}\", e.padding);\n  },\n  _roundedEdge: function (e, t, i, r, a, n) {\n    var o,\n      l,\n      s,\n      d = FamilyTree.LINK_ROUNDED_CORNERS,\n      c = 0;\n    return e == i && e == a || t == r && t == n ? (o = s = i, l = c = r) : (e != a && i == a && (o = s = i, l = r, t < n ? c = r + d : t > n && (c = r - d)), e < a && i == a ? i -= d : e > a && i == a && (i += d), t != n && r == n && (o = i, l = c = r, e < a ? s = i + d : e > a && (s = i - d)), t < n && r == n ? r -= d : t > n && r == n && (r += d)), {\n      x1: e,\n      y1: t,\n      x2: i,\n      y2: r,\n      x3: a,\n      y3: n,\n      qx1: o,\n      qy1: l,\n      qx2: s,\n      qy2: c\n    };\n  },\n  _linkTopToBottom: function (e, t, i, r, a) {\n    var n,\n      o,\n      l,\n      s,\n      d,\n      c = 0;\n    return n = e.x + e.w / 2 + i.linkAdjuster.toX, o = e.y + e.h + i.linkAdjuster.toY, s = l = t.x + t.w / 2 + i.linkAdjuster.fromX, d = t.y + i.linkAdjuster.fromY, {\n      xa: n,\n      ya: o,\n      xb: n,\n      yb: c = e.rightNeighbor && e.rightNeighbor.isAssistant && \"split\" == t.templateName ? e.rightNeighbor.y + e.rightNeighbor.h + r : \"split\" == e.templateName && (t.isAssistant || t.layout > 1) ? d : \"split\" == t.templateName ? o + r : null != a ? a : d - r,\n      xc: l,\n      yc: c,\n      xd: s,\n      yd: d,\n      x: l,\n      y: FamilyTree.isNEU(t.parentPartner) ? c + 16 : c,\n      rotate: 0\n    };\n  },\n  _linkBottomToTop: function (e, t, i, r, a) {\n    var n,\n      o,\n      l,\n      s,\n      d,\n      c = 0;\n    return n = e.x + e.w / 2 + i.linkAdjuster.toX, o = e.y + i.linkAdjuster.toY, s = l = t.x + t.w / 2 + i.linkAdjuster.fromX, d = t.y + t.h + i.linkAdjuster.fromY, {\n      xa: n,\n      ya: o,\n      xb: n,\n      yb: c = e.rightNeighbor && e.rightNeighbor.isAssistant && \"split\" == t.templateName ? e.rightNeighbor.y - r : \"split\" == e.templateName && (t.isAssistant || t.layout > 1) ? d : \"split\" == t.templateName ? o - r : null != a ? a : d + r,\n      xc: l,\n      yc: c,\n      xd: s,\n      yd: d,\n      x: l,\n      y: c - 14,\n      rotate: 0\n    };\n  },\n  _linkRightToLeft: function (e, t, i, r, a) {\n    var n,\n      o,\n      l,\n      s,\n      d,\n      c,\n      m = 0;\n    return n = e.x + i.linkAdjuster.toX, o = e.y + e.h / 2 + i.linkAdjuster.toY, d = t.x + t.w + i.linkAdjuster.fromX, c = s = t.y + t.h / 2 + i.linkAdjuster.fromY, l = o, 90, {\n      xa: n,\n      ya: o,\n      xb: m = e.rightNeighbor && e.rightNeighbor.isAssistant && \"split\" == t.templateName ? e.rightNeighbor.x - r : \"split\" == e.templateName && (t.isAssistant || t.layout > 1) ? d : \"split\" == t.templateName ? n - r : null != a ? a : d + r,\n      yb: l,\n      xc: m,\n      yc: s,\n      xd: d,\n      yd: c,\n      x: m - 16,\n      y: s,\n      rotate: 90\n    };\n  },\n  _linkLeftToRight: function (e, t, i, r, a) {\n    var n,\n      o,\n      l,\n      s,\n      d,\n      c,\n      m = 0;\n    return n = e.x + e.w + i.linkAdjuster.toX, o = e.y + e.h / 2 + i.linkAdjuster.toY, d = t.x + i.linkAdjuster.fromX, c = s = t.y + t.h / 2 + i.linkAdjuster.fromY, l = o, 270, {\n      xa: n,\n      ya: o,\n      xb: m = e.rightNeighbor && e.rightNeighbor.isAssistant && \"split\" == t.templateName ? e.rightNeighbor.x + e.rightNeighbor.w + r : \"split\" == e.templateName && (t.isAssistant || t.layout > 1) ? d : \"split\" == t.templateName ? n + r : null != a ? a : d - r,\n      yb: l,\n      xc: m,\n      yc: s,\n      xd: d,\n      yd: c,\n      x: m + 14,\n      y: s,\n      rotate: 270\n    };\n  },\n  _linkPpTop: function (e, t, i, r, a, n) {\n    var o = e.ppnodes[i.id],\n      l = o.y + o.h / 2,\n      s = r.minY - (r.minY - a.maxY) / 2,\n      d = (r.minY - a.maxY) / e.maxSidePartnersWithChildren / 4,\n      c = FamilyTree.ui.__linkPpBottomTop(e, t, i, s, d, o),\n      m = c.x;\n    return s = c.mid, FamilyTree.ui._linkTopToBottom({\n      x: m,\n      y: l,\n      w: 0,\n      h: 0\n    }, i, n, 0, s);\n  },\n  _linkPpBottom: function (e, t, i, r, a, n) {\n    var o = e.ppnodes[i.id],\n      l = o.y + o.h / 2,\n      s = r.maxY - (r.maxY - a.minY) / 2,\n      d = (r.maxY - a.minY) / e.maxSidePartnersWithChildren / 4,\n      c = FamilyTree.ui.__linkPpBottomTop(e, t, i, s, d, o),\n      m = c.x;\n    return s = c.mid, FamilyTree.ui._linkBottomToTop({\n      x: m,\n      y: l,\n      w: 0,\n      h: 0\n    }, i, n, 0, s);\n  },\n  _linkPpLeft: function (e, t, i, r, a, n) {\n    var o = e.ppnodes[i.id],\n      l = r.minX - (r.minX - a.maxX) / 2,\n      s = (r.minX - a.maxX) / e.maxSidePartnersWithChildren / 4,\n      d = o.x + o.w / 2,\n      c = FamilyTree.ui.__linkPpLeftRight(e, t, i, l, s, o),\n      m = c.y;\n    return l = c.mid, FamilyTree.ui._linkLeftToRight({\n      x: d,\n      y: m,\n      w: 0,\n      h: 0\n    }, i, n, 0, l);\n  },\n  _linkPpRight: function (e, t, i, r, a, n) {\n    var o = e.ppnodes[i.id],\n      l = r.maxX - (r.maxX - a.minX) / 2,\n      s = (r.maxX - a.minX) / e.maxSidePartnersWithChildren / 4,\n      d = o.x + o.w / 2,\n      c = FamilyTree.ui.__linkPpLeftRight(e, t, i, l, s, o),\n      m = c.y;\n    return l = c.mid, FamilyTree.ui._linkRightToLeft({\n      x: d,\n      y: m,\n      w: 0,\n      h: 0\n    }, i, n, 0, l);\n  },\n  __linkPpBottomTop: function (e, t, i, r, a, n) {\n    var o = 0;\n    return 1 == n.isPartner ? (o = n.x - t.partnerSeparation / 2 + e.indexes[i.id] * e.partnerChildrenSplitSeparation - (e.rightIds.length - 1) * e.partnerChildrenSplitSeparation / 2, e.lastLeft && o < e.lastLeft.x + e.lastLeft.w / 2 ? o < i.x + i.w / 2 ? r -= (e.indexes[i.id] + 1) * a : r -= (e.rightIds.length - e.indexes[i.id]) * a : o < i.x + i.w / 2 ? r += (e.rightIds.length - e.indexes[i.id]) * a : r += (e.indexes[i.id] + 1) * a) : 2 == n.isPartner && (o = n.x + n.w + t.partnerSeparation / 2 + e.indexes[i.id] * e.partnerChildrenSplitSeparation - (e.leftIds.length - 1) * e.partnerChildrenSplitSeparation / 2, e.firstRight && o > e.firstRight.x + e.firstRight.w / 2 ? o < i.x + i.w / 2 ? r -= (e.indexes[i.id] + 1) * a : r -= (e.leftIds.length - e.indexes[i.id]) * a : o < i.x + i.w / 2 ? r += (e.leftIds.length - e.indexes[i.id]) * a : r += (e.indexes[i.id] + 1) * a), {\n      x: o,\n      mid: r\n    };\n  },\n  __linkPpLeftRight: function (e, t, i, r, a, n) {\n    var o = 0;\n    return 1 == n.isPartner ? (o = n.y - t.partnerSeparation / 2 + e.indexes[i.id] * e.partnerChildrenSplitSeparation - (e.rightIds.length - 1) * e.partnerChildrenSplitSeparation / 2, e.lastLeft && o < e.lastLeft.y + e.lastLeft.h / 2 ? o < i.y + i.h / 2 ? r -= (e.indexes[i.id] + 1) * a : r -= (e.rightIds.length - e.indexes[i.id]) * a : o < i.y + i.h / 2 ? r += (e.rightIds.length - e.indexes[i.id]) * a : r += (e.indexes[i.id] + 1) * a) : 2 == n.isPartner && (o = n.y + n.h + t.partnerSeparation / 2 + e.indexes[i.id] * e.partnerChildrenSplitSeparation - (e.leftIds.length - 1) * e.partnerChildrenSplitSeparation / 2, e.firstRight && o > e.firstRight.y + e.firstRight.h / 2 ? o < i.y + i.h / 2 ? r -= (e.indexes[i.id] + 1) * a : r -= (e.leftIds.length - e.indexes[i.id]) * a : o < i.y + i.h / 2 ? r += (e.leftIds.length - e.indexes[i.id]) * a : r += (e.indexes[i.id] + 1) * a), {\n      y: o,\n      mid: r\n    };\n  },\n  _draggableLinkPath: function (e, t, i, r, a, n) {\n    if (i.isPartner) return null;\n    if (i.isAssistant) return null;\n    if (FamilyTree._isMoved(i) && !FamilyTree._isMoved(t)) {\n      var o = [];\n      switch (n) {\n        case FamilyTree.orientation.top:\n        case FamilyTree.orientation.top_left:\n          if (r.yb + a / 2 < r.yd) return null;\n          s = r.xa < r.xd ? i.x - a / 2 : i.x + i.w + a / 2, d = i.y - a / 2;\n          break;\n        case FamilyTree.orientation.bottom:\n        case FamilyTree.orientation.bottom_left:\n          if (r.yb - a / 2 > r.yd) return null;\n          s = r.xa < r.xd ? i.x - a / 2 : i.x + i.w + a / 2, d = i.y + i.h + a / 2;\n          break;\n        case FamilyTree.orientation.right:\n        case FamilyTree.orientation.right_top:\n          if (r.xb - a / 2 > r.xd) return null;\n          d = r.ya < r.yd ? i.y - a / 2 : i.y + i.h + a / 2, s = i.x + i.w + a / 2;\n          break;\n        case FamilyTree.orientation.left:\n        case FamilyTree.orientation.left_top:\n          if (r.xb + a / 2 < r.xd) return null;\n          d = r.ya < r.yd ? i.y - a / 2 : i.y + i.h + a / 2, s = i.x - a / 2;\n      }\n      switch (n) {\n        case FamilyTree.orientation.top:\n        case FamilyTree.orientation.top_left:\n        case FamilyTree.orientation.bottom:\n        case FamilyTree.orientation.bottom_left:\n          o.push([\"M\", r.xa, r.ya]), o.push([\"L\", r.xb, r.yb]), o.push([\"L\", s, r.yb]), o.push([\"L\", s, d]), o.push([\"L\", r.xd, d]), o.push([\"L\", r.xd, r.yd]);\n          break;\n        case FamilyTree.orientation.right:\n        case FamilyTree.orientation.right_top:\n        case FamilyTree.orientation.left:\n        case FamilyTree.orientation.left_top:\n          (o = []).push([\"M\", r.xa, r.ya]), o.push([\"L\", r.xb, r.yb]), o.push([\"L\", r.xb, d]), o.push([\"L\", s, d]), o.push([\"L\", s, r.yd]), o.push([\"L\", r.xd, r.yd]);\n      }\n      return FamilyTree.roundPathCorners(o, FamilyTree.LINK_ROUNDED_CORNERS, !1);\n    }\n    if (!FamilyTree._isMoved(i) && FamilyTree._isMoved(t)) {\n      var l = !1;\n      o = [];\n      switch (n) {\n        case FamilyTree.orientation.top:\n        case FamilyTree.orientation.top_left:\n          if (r.ya + a / 2 > r.yb) l = !0, s = r.xa < r.xd ? t.x + t.w + a / 2 : t.x - a / 2, d = t.y + t.h + a;else {\n            if (r.yb + a / 2 < r.yd) return null;\n            s = r.xa < r.xd ? i.x - a / 2 : i.x + i.w + a / 2, d = i.y - a / 2;\n          }\n          break;\n        case FamilyTree.orientation.bottom:\n        case FamilyTree.orientation.bottom_left:\n          if (r.ya - a / 2 < r.yb) l = !0, s = r.xa < r.xd ? t.x + t.w + a / 2 : t.x - a / 2, d = t.y - a;else {\n            if (r.yb - a / 2 > r.yd) return null;\n            s = r.xa < r.xd ? i.x - a / 2 : i.x + i.w + a / 2, d = i.y + i.h + a / 2;\n          }\n          break;\n        case FamilyTree.orientation.right:\n        case FamilyTree.orientation.right_top:\n          if (r.xa - a / 2 < r.xb) l = !0, d = r.ya < r.yd ? t.y + t.h + a / 2 : t.y - a / 2, s = t.x - a;else {\n            if (r.xb - a / 2 > r.xd) return null;\n            d = r.ya < r.yd ? i.y - a / 2 : i.y + i.h + a / 2, s = i.x + i.w + a / 2;\n          }\n          break;\n        case FamilyTree.orientation.left:\n        case FamilyTree.orientation.left_top:\n          if (r.xa + a / 2 > r.xb) l = !0, d = r.ya < r.yd ? t.y + t.h + a / 2 : t.y - a / 2, s = t.x + t.w + a;else {\n            if (r.xb + a / 2 < r.xd) return null;\n            d = r.ya < r.yd ? i.y - a / 2 : i.y + i.h + a / 2, s = i.x - a / 2;\n          }\n      }\n      if (l) switch (n) {\n        case FamilyTree.orientation.top:\n        case FamilyTree.orientation.top_left:\n        case FamilyTree.orientation.bottom:\n        case FamilyTree.orientation.bottom_left:\n          o.push([\"M\", r.xa, r.ya]), o.push([\"L\", r.xa, d]), o.push([\"L\", s, d]), o.push([\"L\", s, r.yc]), o.push([\"L\", r.xc, r.yc]), o.push([\"L\", r.xd, r.yd]);\n          break;\n        case FamilyTree.orientation.right:\n        case FamilyTree.orientation.right_top:\n        case FamilyTree.orientation.left:\n        case FamilyTree.orientation.left_top:\n          o.push([\"M\", r.xa, r.ya]), o.push([\"L\", s, r.ya]), o.push([\"L\", s, d]), o.push([\"L\", r.xc, d]), o.push([\"L\", r.xc, r.yc]), o.push([\"L\", r.xd, r.yd]);\n      } else switch (n) {\n        case FamilyTree.orientation.top:\n        case FamilyTree.orientation.top_left:\n        case FamilyTree.orientation.bottom:\n        case FamilyTree.orientation.bottom_left:\n          o.push([\"M\", r.xa, r.ya]), o.push([\"L\", r.xb, r.yb]), o.push([\"L\", s, r.yb]), o.push([\"L\", s, d]), o.push([\"L\", r.xd, d]), o.push([\"L\", r.xd, r.yd]);\n          break;\n        case FamilyTree.orientation.right:\n        case FamilyTree.orientation.right_top:\n        case FamilyTree.orientation.left:\n        case FamilyTree.orientation.left_top:\n          o.push([\"M\", r.xa, r.ya]), o.push([\"L\", r.xb, r.yb]), o.push([\"L\", r.xb, d]), o.push([\"L\", s, d]), o.push([\"L\", s, r.yd]), o.push([\"L\", r.xd, r.yd]);\n      }\n      return FamilyTree.roundPathCorners(o, FamilyTree.LINK_ROUNDED_CORNERS, !1);\n    }\n    if (FamilyTree._isMoved(i) && FamilyTree._isMoved(t)) {\n      o = [];\n      switch (n) {\n        case FamilyTree.orientation.top:\n        case FamilyTree.orientation.top_left:\n          if (r.ya + a > r.yd) {\n            var s = r.xa < r.xd ? t.x + t.w + a / 2 : t.x - a / 2,\n              d = t.y + t.h + a,\n              c = i.y - a;\n            o.push([\"M\", r.xa, r.ya]), o.push([\"L\", r.xa, d]), o.push([\"L\", s, d]), o.push([\"L\", s, c]), o.push([\"L\", r.xc, c]), o.push([\"L\", r.xd, r.yd]);\n          } else o.push([\"M\", r.xa, r.ya]), o.push([\"L\", r.xa, t.y + t.h + a]), o.push([\"L\", r.xc, t.y + t.h + a]), o.push([\"L\", r.xd, r.yd]);\n          break;\n        case FamilyTree.orientation.bottom:\n        case FamilyTree.orientation.bottom_left:\n          if (r.ya - a < r.yd) {\n            s = r.xa < r.xd ? t.x + t.w + a / 2 : t.x - a / 2, d = t.y - a, c = i.y + i.h + a;\n            o.push([\"M\", r.xa, r.ya]), o.push([\"L\", r.xa, d]), o.push([\"L\", s, d]), o.push([\"L\", s, c]), o.push([\"L\", r.xc, c]), o.push([\"L\", r.xd, r.yd]);\n          } else o.push([\"M\", r.xa, r.ya]), o.push([\"L\", r.xa, t.y - a]), o.push([\"L\", r.xc, t.y - a]), o.push([\"L\", r.xd, r.yd]);\n          break;\n        case FamilyTree.orientation.right:\n        case FamilyTree.orientation.right_top:\n          if (r.xa - a < r.xd) {\n            d = r.ya < r.yd ? t.y + t.h + a / 2 : t.y - a / 2, s = t.x - a;\n            var m = i.x + i.w + a;\n            o.push([\"M\", r.xa, r.ya]), o.push([\"L\", s, r.ya]), o.push([\"L\", s, d]), o.push([\"L\", m, d]), o.push([\"L\", m, r.yc]), o.push([\"L\", r.xd, r.yd]);\n          } else o.push([\"M\", r.xa, r.ya]), o.push([\"L\", t.x - a, r.ya]), o.push([\"L\", t.x - a, r.yc]), o.push([\"L\", r.xd, r.yd]);\n          break;\n        case FamilyTree.orientation.left:\n        case FamilyTree.orientation.left_top:\n          if (r.xa + a > r.xd) {\n            d = r.ya < r.yd ? t.y + t.h + a / 2 : t.y - a / 2, s = t.x + t.w + a, m = i.x - a;\n            o.push([\"M\", r.xa, r.ya]), o.push([\"L\", s, r.ya]), o.push([\"L\", s, d]), o.push([\"L\", m, d]), o.push([\"L\", m, r.yc]), o.push([\"L\", r.xd, r.yd]);\n          } else o.push([\"M\", r.xa, r.ya]), o.push([\"L\", t.x + t.w + a, r.ya]), o.push([\"L\", t.x + t.w + a, r.yc]), o.push([\"L\", r.xd, r.yd]);\n      }\n      return FamilyTree.roundPathCorners(o, FamilyTree.LINK_ROUNDED_CORNERS, !1);\n    }\n    return null;\n  }\n}, FamilyTree.ui._base_nodeBtns = FamilyTree.ui.nodeBtns, FamilyTree.ui.nodeBtns = function (e, t, i, r, a) {\n  var n = \"\";\n  if (a._tree_menu_temp) !t.isSplit && i !== FamilyTree.action.exporting && r.nodeTreeMenuCloseButton && a._tree_menu_temp.id == t.id && (n += r.nodeTreeMenuCloseButton);else {\n    n = FamilyTree.ui._base_nodeBtns(e, t, i, r, a);\n    null != e.nodeTreeMenu && !t.isSplit && i !== FamilyTree.action.exporting && r.nodeTreeMenuButton && (n += r.nodeTreeMenuButton.replace(\"{id}\", t.id));\n  }\n  return n;\n}, FamilyTree.ui._base_expandCollapseBtn = FamilyTree.ui.expandCollapseBtn, FamilyTree.ui.expandCollapseBtn = function (e, t, i, r, a) {\n  return e._tree_menu_temp ? \"\" : FamilyTree.ui._base_expandCollapseBtn(e, t, i, r, a);\n}, FamilyTree.xScrollUI = function (e, t, i, r, a) {\n  this.element = e, this.requestParams = i, this.config = t, this.onSetViewBoxCallback = r, this.onDrawCallback = a, this.position = 0, this.bar = null, this._event_id = FamilyTree._guid();\n}, FamilyTree.xScrollUI.prototype.addListener = function (e) {\n  var t = this;\n  if ((this.config.mouseScrool == FamilyTree.action.xScroll || this.config.mouseScrool == FamilyTree.action.scroll) && this.bar) {\n    var i = -1 !== navigator.userAgent.indexOf(\"Mac OS\"),\n      r = FamilyTree._getScrollSensitivity();\n    !function (e, r, a) {\n      var n = !1;\n      function o() {\n        n = !0;\n        var e = (t.position - t.bar.scrollLeft) / a;\n        if (e > 0) e++;else {\n          if (0 == e) return void (n = !1);\n          e--;\n        }\n        Math.ceil(t.bar.scrollLeft) == Math.ceil(t.position) ? n = !1 : (t.bar.scrollLeft += e, l(o));\n      }\n      e.addEventListener(\"wheel\", function (e) {\n        if (e.ctrlKey) return;\n        var a = 0;\n        if (t.config.mouseScrool == FamilyTree.action.xScroll) (a = e.deltaX || e.wheelDeltaX) || (a = e.deltaY || e.wheelDeltaY);else if (t.config.mouseScrool == FamilyTree.action.scroll && !(a = i || !e.shiftKey ? e.deltaX || e.wheelDeltaX : e.deltaY || e.wheelDeltaY)) return;\n        a = -a, a = Math.max(-1, Math.min(1, a)), t.position += -a * r;\n        var l = parseFloat(t.innerBar.clientWidth) - parseFloat(t.bar.clientWidth);\n        t.position < 0 && (t.position = 0);\n        t.position > l && (t.position = l);\n        n || o();\n      }, {\n        passive: !0\n      });\n      var l = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (e) {\n        setTimeout(e, 20);\n      };\n    }(e, r.speed, r.smooth);\n  }\n}, FamilyTree.xScrollUI.prototype.create = function (e) {\n  if (this.config.showXScroll === FamilyTree.scroll.visible || this.config.mouseScrool === FamilyTree.action.scroll || this.config.mouseScrool === FamilyTree.action.xScroll) {\n    var t = this;\n    this.bar && this.bar.parentNode && this.bar.parentNode.removeChild(this.bar), this.bar = document.createElement(\"div\"), this.innerBar = document.createElement(\"div\");\n    this.requestParams();\n    this.innerBar.innerHTML = \"&nbsp\", Object.assign(this.bar.style, {\n      position: \"absolute\",\n      left: 0,\n      bottom: 0,\n      width: e + \"px\",\n      \"overflow-x\": \"scroll\",\n      height: \"20px\"\n    }), this.element.appendChild(this.bar), this.bar.appendChild(this.innerBar), this.bar.addEventListener(\"scroll\", function () {\n      if (this.ignore) this.ignore = !1;else {\n        var e = t.requestParams(),\n          i = (parseFloat(t.innerBar.clientWidth) - parseFloat(t.bar.clientWidth)) / 100,\n          r = this.scrollLeft / i,\n          a = (e.boundary.right - e.boundary.left) / 100;\n        e.viewBox[0] = r * a + e.boundary.left, t.onSetViewBoxCallback(e.viewBox), clearTimeout(this._timeout), this._timeout = setTimeout(function () {\n          t.onDrawCallback();\n        }, 500);\n      }\n    });\n  }\n}, FamilyTree.xScrollUI.prototype.setPosition = function () {\n  if (this.bar) {\n    var e = this.requestParams(),\n      t = (Math.abs(e.boundary.maxX - e.boundary.minX) + 2 * this.config.padding) * e.scale;\n    switch (this.config.orientation) {\n      case FamilyTree.orientation.right:\n      case FamilyTree.orientation.right_top:\n        t = Math.abs(e.boundary.minX * e.scale);\n    }\n    this.innerBar.style.width = t + \"px\";\n    var i = (e.boundary.right - e.boundary.left) / 100,\n      r = (e.viewBox[0] - e.boundary.left) / i;\n    r < 0 ? r = 0 : r > 100 && (r = 100);\n    var a = (parseFloat(this.innerBar.clientWidth) - parseFloat(this.bar.clientWidth)) / 100,\n      n = r * a;\n    this.bar.ignore = !0, this.bar.scrollLeft = n, this.position = this.bar.scrollLeft, this.bar.style.visibility = a <= 0 ? \"hidden\" : \"\", this.config.showXScroll !== FamilyTree.scroll.visible && (this.bar.style.visibility = \"hidden\"), FamilyTree.events.publish(\"change\", [this, {\n      isScrollBarVisible: \"hidden\" != this.bar.style.visibility\n    }]);\n  }\n}, FamilyTree.xScrollUI.prototype.on = function (e, t) {\n  return FamilyTree.events.on(e, t, this._event_id), this;\n}, FamilyTree.yScrollUI = function (e, t, i, r, a) {\n  this.element = e, this.requestParams = i, this.config = t, this.onSetViewBoxCallback = r, this.onDrawCallback = a, this.position = 0, this.bar = null, this._event_id = FamilyTree._guid();\n}, FamilyTree.yScrollUI.prototype.addListener = function (e) {\n  var t = this;\n  if ((this.config.mouseScrool == FamilyTree.action.yScroll || this.config.mouseScrool == FamilyTree.action.scroll) && this.bar) {\n    var i = -1 !== navigator.userAgent.indexOf(\"Mac OS\"),\n      r = FamilyTree._getScrollSensitivity();\n    !function (e, r, a) {\n      var n = !1;\n      function o() {\n        n = !0;\n        var e = (t.position - t.bar.scrollTop) / a;\n        if (e > 0) e++;else {\n          if (0 == e) return void (n = !1);\n          e--;\n        }\n        Math.ceil(t.bar.scrollTop) == Math.ceil(t.position) ? n = !1 : (t.bar.scrollTop += e, l(o));\n      }\n      e.addEventListener(\"wheel\", function (e) {\n        if (e.ctrlKey) return;\n        var a = 0;\n        if (t.config.mouseScrool == FamilyTree.action.yScroll) (a = e.deltaY || e.wheelDeltaY) || (a = e.deltaX || e.wheelDeltaX);else if (t.config.mouseScrool == FamilyTree.action.scroll && !(a = i || !e.shiftKey ? e.deltaY || e.wheelDeltaY : e.deltaX || e.wheelDeltaX)) return;\n        a = -a, a = Math.max(-1, Math.min(1, a)), t.position += -a * r;\n        var l = parseFloat(t.innerBar.clientHeight) - parseFloat(t.bar.clientHeight);\n        t.position < 0 && (t.position = 0);\n        t.position > l && (t.position = l);\n        n || o();\n      }, {\n        passive: !0\n      });\n      var l = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (e) {\n        setTimeout(e, 20);\n      };\n    }(e, r.speed, r.smooth);\n  }\n}, FamilyTree.yScrollUI.prototype.create = function (e) {\n  if (this.config.showYScroll === FamilyTree.scroll.visible || this.config.mouseScrool === FamilyTree.action.scroll || this.config.mouseScrool === FamilyTree.action.yScroll) {\n    var t = this;\n    this.bar && this.bar.parentNode && this.bar.parentNode.removeChild(this.bar), this.bar = document.createElement(\"div\"), this.innerBar = document.createElement(\"div\"), this.innerBar.innerHTML = \"&nbsp\", Object.assign(this.bar.style, {\n      position: \"absolute\",\n      right: 0,\n      bottom: 0,\n      height: e + \"px\",\n      \"overflow-y\": \"scroll\",\n      width: \"20px\"\n    }), this.element.appendChild(this.bar), this.bar.appendChild(this.innerBar), this.bar.addEventListener(\"scroll\", function () {\n      if (this.ignore) this.ignore = !1;else {\n        var e = t.requestParams(),\n          i = (parseFloat(t.innerBar.clientHeight) - parseFloat(t.bar.clientHeight)) / 100,\n          r = this.scrollTop / i,\n          a = (e.boundary.bottom - e.boundary.top) / 100;\n        e.viewBox[1] = r * a + e.boundary.top, t.onSetViewBoxCallback(e.viewBox), clearTimeout(this._timeout), this._timeout = setTimeout(function () {\n          t.onDrawCallback();\n        }, 500);\n      }\n    });\n  }\n}, FamilyTree.yScrollUI.prototype.setPosition = function () {\n  if (this.bar) {\n    var e = this.requestParams(),\n      t = (Math.abs(e.boundary.maxY - e.boundary.minY) + 2 * this.config.padding) * e.scale;\n    switch (this.config.orientation) {\n      case FamilyTree.orientation.bottom:\n      case FamilyTree.orientation.bottom_left:\n        t = Math.abs(e.boundary.minY * e.scale);\n    }\n    this.innerBar.style.height = t + \"px\";\n    var i = (e.boundary.bottom - e.boundary.top) / 100,\n      r = (e.viewBox[1] - e.boundary.top) / Math.abs(i);\n    r < 0 ? r = 0 : r > 100 && (r = 100);\n    var a = (parseFloat(this.innerBar.clientHeight) - parseFloat(this.bar.clientHeight)) / 100,\n      n = r * a;\n    this.bar.ignore = !0, this.bar.scrollTop = n, this.position = this.bar.scrollTop, this.bar.style.visibility = a <= 0 ? \"hidden\" : \"\", this.config.showYScroll !== FamilyTree.scroll.visible && (this.bar.style.visibility = \"hidden\"), FamilyTree.events.publish(\"change\", [this, {\n      isScrollBarVisible: \"hidden\" != this.bar.style.visibility\n    }]);\n  }\n}, FamilyTree.yScrollUI.prototype.on = function (e, t) {\n  return FamilyTree.events.on(e, t, this._event_id), this;\n}, FamilyTree.prototype.zoom = function (e, t, i, r) {\n  var a = this.getViewBox().slice(0),\n    n = a,\n    o = a[2],\n    l = a[3];\n  !0 === e ? (a[2] = a[2] / FamilyTree.SCALE_FACTOR, a[3] = a[3] / FamilyTree.SCALE_FACTOR) : !1 === e ? (a[2] = a[2] * FamilyTree.SCALE_FACTOR, a[3] = a[3] * FamilyTree.SCALE_FACTOR) : (a[2] = a[2] / e, a[3] = a[3] / e), t || (t = [50, 50]), a[0] = n[0] - (a[2] - o) / (100 / t[0]), a[1] = n[1] - (a[3] - l) / (100 / t[1]);\n  var s = this.getScale(a);\n  if (a[2] = this.width() / s, a[3] = this.height() / s, !0 === e && s < this.config.scaleMax || !1 === e && s > this.config.scaleMin || 0 != e && 1 != e && s < this.config.scaleMax && s > this.config.scaleMin) {\n    this._hideBeforeAnimation();\n    var d = this;\n    i ? (clearTimeout(d._timeout), FamilyTree.animate(this.getSvg(), {\n      viewbox: this.getViewBox()\n    }, {\n      viewbox: a\n    }, this.config.anim.duration, this.config.anim.func, function () {\n      clearTimeout(d._timeout), d._timeout = setTimeout(function () {\n        d._draw(!0, FamilyTree.action.zoom, null, r);\n      }, 500);\n    })) : (this.setViewBox(a), clearTimeout(d._timeout), d._timeout = setTimeout(function () {\n      d._draw(!0, FamilyTree.action.zoom, null, r);\n    }, 500));\n  }\n}, FamilyTree.loading = {}, FamilyTree.loading.show = function (e) {\n  var t = document.createElement(\"div\");\n  t.id = \"bft-loading\", t.innerHTML = '<style>@-webkit-keyframes dot-keyframes {0% { opacity: .4; -webkit-transform: scale(1, 1);transform: scale(1, 1);}50% {opacity: 1;-webkit-transform: scale(1.2, 1.2);transform: scale(1.2, 1.2);}100% {opacity: .4;-webkit-transform: scale(1, 1);transform: scale(1, 1);}}@keyframes dot-keyframes {0% {opacity: .4;-webkit-transform: scale(1, 1);transform: scale(1, 1);}50% {opacity: 1;-webkit-transform: scale(1.2, 1.2);transform: scale(1.2, 1.2);}100% {opacity: .4;-webkit-transform: scale(1, 1);transform: scale(1, 1);}}.bft-loading-dots div {margin: 10px;}      .bft-dot-1 {background-color: #039BE5;}.bft-dot-2 {background-color: #F57C00;}.bft-dot-3 {background-color: #FFCA28;}      .bft-loading-dots {text-align: center;width: 100%; position: absolute; top: 0;}.bft-loading-dots--dot {-webkit-animation: dot-keyframes 1.5s infinite ease-in-out;animation: dot-keyframes 1.5s infinite ease-in-out;        border-radius: 10px;display: inline-block;height: 10px;width: 10px;}.bft-loading-dots--dot:nth-child(2) {-webkit-animation-delay: .5s;animation-delay: .5s;}.bft-loading-dots--dot:nth-child(3) {-webkit-animation-delay: 1s;animation-delay: 1s;}</style><div class=\"bft-loading-dots\"><div class=\"bft-loading-dots--dot bft-dot-1\"></div><div class=\"bft-loading-dots--dot bft-dot-2\"></div><div class=\"bft-loading-dots--dot bft-dot-3\"></div></div>', e.element.appendChild(t);\n}, FamilyTree.loading.hide = function (e) {\n  var t = e.element.querySelector(\"#bft-loading\");\n  t && t.parentNode.removeChild(t);\n}, FamilyTree.pdfPrevUI = {}, FamilyTree.loc || (FamilyTree.loc = {}), FamilyTree.loc.ppdfCmdTitle = \"PDF Preview\", FamilyTree.loc.ppdfSave = \"Save\", FamilyTree.loc.ppdfCancel = \"Cancel\", FamilyTree.loc.ppdfFormat = \"Format\", FamilyTree.loc.ppdfFitToDrwaing = \"Fit\", FamilyTree.loc.ppdfA4 = \"A4\", FamilyTree.loc.ppdfA3 = \"A3\", FamilyTree.loc.ppdfA2 = \"A2\", FamilyTree.loc.ppdfA1 = \"A1\", FamilyTree.loc.ppdfLetter = \"Letter\", FamilyTree.loc.ppdfLegal = \"Legal\", FamilyTree.loc.ppdfLayout = \"Layout\", FamilyTree.loc.ppdfPortrait = \"Portrait\", FamilyTree.loc.ppdfLandscape = \"Landscape\", FamilyTree.loc.ppdfFittopagewidth = \"Fit to page width\", FamilyTree.loc.ppdfMargin = \"Margin\", FamilyTree.loc.ppdfHeader = \"Header\", FamilyTree.loc.ppdfFooter = \"Footer\", FamilyTree.loc.ppdfScale = \"Scale\", FamilyTree.pdfPrevUI.show = function (e, t) {\n  FamilyTree.pdfPrevUI.hide(e), t = e._defaultExportOptions(t, \"pdf\");\n  var i = document.createElement(\"div\");\n  i.classList.add(e.config.mode), i.id = \"bft-ppdf-btns\", Object.assign(i.style, {\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    \"background-color\": \"#fff\",\n    \"z-index\": 5,\n    margin: \"0 0 0 -265px\",\n    \"box-shadow\": \"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\n    width: \"265px\",\n    height: \"100%\",\n    \"font-family\": \"Roboto,Helvetica\",\n    color: \"#757575\",\n    \"text-align\": \"right\",\n    padding: \"10px\"\n  }), e.element.appendChild(i), i.innerHTML = \"<h1>\" + FamilyTree.loc.ppdfCmdTitle + '</h1><div><button type=\"button\" id=\"bft-prev-save\" style=\"font-size: 14px; width: 90px;\">' + FamilyTree.loc.ppdfSave + '</button>&nbsp;<button type=\"button\" id=\"bft-prev-cancel\" style=\"width: 90px;font-size: 14px;\">' + FamilyTree.loc.ppdfCancel + '</button></div><div style=\"margin-top:30px; height:10px;border-bottom:1px solid #eeeeee;\"></div><div style=\"padding-top:30px;\"><label for=\"bft-size\">' + FamilyTree.loc.ppdfFormat + ': </label><select id=\"bft-ppdf-size\" style=\"color: #757575; width: 150px; font-size: 14px;\" id=\"bft-size\"><option value=\"fit\">' + FamilyTree.loc.ppdfFitToDrwaing + '</option><option value=\"A4\">' + FamilyTree.loc.ppdfA4 + '</option><option value=\"A3\">' + FamilyTree.loc.ppdfA3 + '</option><option value=\"A2\">' + FamilyTree.loc.ppdfA2 + '</option><option value=\"A1\">' + FamilyTree.loc.ppdfA1 + '</option><option value=\"Letter\">' + FamilyTree.loc.ppdfLetter + '</option><option value=\"Legal\">' + FamilyTree.loc.ppdfLegal + '</option></select></div><div style=\"padding-top:10px;\"><label for=\"bft-ppdf-layout\">' + FamilyTree.loc.ppdfLayout + ': </label><select id=\"bft-ppdf-layout\" style=\"color: #757575; width: 150px;font-size: 14px;\" ><option value=\"false\">' + FamilyTree.loc.ppdfPortrait + '</option><option value=\"true\">' + FamilyTree.loc.ppdfLandscape + '</option></select></div><div style=\"padding-top:10px;\"><label for=\"bft-scale\">' + FamilyTree.loc.ppdfScale + ': </label><select id=\"bft-ppdf-scale\" style=\"color: #757575; width: 150px;font-size: 14px;\" id=\"bft-scale\"><option value=\"fit\">' + FamilyTree.loc.ppdfFittopagewidth + '</option><option value=\"10\">10%</option><option value=\"20\">20%</option><option value=\"30\">30%</option><option value=\"40\">40%</option><option value=\"50\">50%</option><option value=\"60\">60%</option><option value=\"70\">70%</option><option value=\"80\">80%</option><option value=\"90\">90%</option><option value=\"100\">100%</option><option value=\"110\">110%</option><option value=\"120\">120%</option><option value=\"130\">130%</option><option value=\"140\">140%</option><option value=\"150\">150%</option><option value=\"160\">160%</option><option value=\"170\">170%</option><option value=\"180\">180%</option><option value=\"190\">190%</option><option value=\"200\">200%</option></select></div><div style=\"margin-top:10px;margin-bottom:10px; height:10px;border-bottom:1px solid #eeeeee;\"></div><div style=\"padding-top:10px;\"><label for=\"bft-ppdf-header\">' + FamilyTree.loc.ppdfHeader + ': </label><input id=\"bft-ppdf-header\" type=\"text\" style=\"color: #757575; width: 100px;font-size: 14px;\" ></div><div style=\"padding-top:10px;\"><label for=\"bft-ppdf-footer\">' + FamilyTree.loc.ppdfFooter + ': </label><input id=\"bft-ppdf-footer\" type=\"text\" style=\"color: #757575; width: 100px;font-size: 14px;\" ></div><div style=\"padding-top:10px;\"><label for=\"bft-ppdf-margin\">' + FamilyTree.loc.ppdfMargin + ': </label><input id=\"bft-ppdf-margin\" type=\"text\" style=\"color: #757575; width: 100px;font-size: 14px;\" ></div>';\n  var r = document.createElement(\"div\");\n  r.id = \"bft-ppdf-wrapper\", Object.assign(r.style, {\n    \"overflow-y\": \"scroll\",\n    \"z-index\": 11,\n    position: \"absolute\",\n    top: 0,\n    left: \"285px\",\n    \"background-color\": \"#eee\",\n    width: e.width() - 270 + \"px\",\n    height: \"100%\"\n  }), e.element.appendChild(r), r.innerHTML = '<div id=\"bft-ppdf-content\" style=\"width: 100%;margin-top:10px;margin-bottom:10px;opacity:0;\"></div>';\n  var a,\n    n,\n    o,\n    l = e.element.querySelector(\"#bft-ppdf-size\"),\n    s = e.element.querySelector(\"#bft-ppdf-layout\"),\n    d = e.element.querySelector(\"#bft-ppdf-scale\"),\n    c = e.element.querySelector(\"#bft-ppdf-margin\"),\n    m = e.element.querySelector(\"#bft-ppdf-header\"),\n    p = e.element.querySelector(\"#bft-ppdf-footer\");\n  l.value = t.format, s.value = t.landscape, d.value = t.scale, c.value = t.margin, m.value = t.header, p.value = t.footer, FamilyTree.animate(e.element.querySelector(\"#bft-ppdf-btns\"), {\n    margin: [0, 0, 0, -250]\n  }, {\n    margin: [0, 0, 0, 0]\n  }, 300, FamilyTree.anim.outSin, function () {\n    e.exportPDF(t, FamilyTree.pdfPrevUI._handler);\n  }), e.element.querySelector(\"#bft-prev-cancel\").addEventListener(\"click\", function () {\n    FamilyTree.pdfPrevUI.hide(e);\n  }), e.element.querySelector(\"#bft-prev-save\").addEventListener(\"click\", function () {\n    e.exportPDF(t), FamilyTree.pdfPrevUI.hide(e);\n  }), FamilyTree.pdfPrevUI._showHide(l, s, d), l.addEventListener(\"change\", function () {\n    FamilyTree.animate(e.element.querySelector(\"#bft-ppdf-content\"), {\n      opacity: 1\n    }, {\n      opacity: 0\n    }, 300, FamilyTree.anim.inSin, function () {\n      e.element.querySelector(\"#bft-ppdf-content\").innerHTML = \"\", t.format = l.value, e.exportPDF(t, FamilyTree.pdfPrevUI._handler), FamilyTree.pdfPrevUI._showHide(l, s, d);\n    });\n  }), s.addEventListener(\"change\", function () {\n    FamilyTree.animate(e.element.querySelector(\"#bft-ppdf-content\"), {\n      opacity: 1\n    }, {\n      opacity: 0\n    }, 300, FamilyTree.anim.inSin, function () {\n      e.element.querySelector(\"#bft-ppdf-content\").innerHTML = \"\", t.landscape = \"true\" == s.value, e.exportPDF(t, FamilyTree.pdfPrevUI._handler), FamilyTree.pdfPrevUI._showHide(l, s, d);\n    });\n  }), d.addEventListener(\"change\", function () {\n    FamilyTree.animate(e.element.querySelector(\"#bft-ppdf-content\"), {\n      opacity: 1\n    }, {\n      opacity: 0\n    }, 300, FamilyTree.anim.inSin, function () {\n      e.element.querySelector(\"#bft-ppdf-content\").innerHTML = \"\", t.scale = d.value, e.exportPDF(t, FamilyTree.pdfPrevUI._handler), FamilyTree.pdfPrevUI._showHide(l, s, d);\n    });\n  }), c.addEventListener(\"keyup\", function () {\n    clearTimeout(a), a = setTimeout(function () {\n      FamilyTree.animate(e.element.querySelector(\"#bft-ppdf-content\"), {\n        opacity: 1\n      }, {\n        opacity: 0\n      }, 300, FamilyTree.anim.inSin, function () {\n        e.element.querySelector(\"#bft-ppdf-content\").innerHTML = \"\";\n        var i = c.value.split(\",\");\n        if (4 == i.length) {\n          for (var r = 0; r < i.length; r++) i[r] = parseInt(i[r]);\n          t.margin = i, e.exportPDF(t, FamilyTree.pdfPrevUI._handler);\n        }\n      });\n    }, 1e3);\n  }), m.addEventListener(\"keyup\", function () {\n    clearTimeout(n), n = setTimeout(function () {\n      FamilyTree.animate(e.element.querySelector(\"#bft-ppdf-content\"), {\n        opacity: 1\n      }, {\n        opacity: 0\n      }, 300, FamilyTree.anim.inSin, function () {\n        e.element.querySelector(\"#bft-ppdf-content\").innerHTML = \"\", t.header = m.value, e.exportPDF(t, FamilyTree.pdfPrevUI._handler);\n      });\n    }, 1e3);\n  }), p.addEventListener(\"keyup\", function () {\n    clearTimeout(o), o = setTimeout(function () {\n      FamilyTree.animate(e.element.querySelector(\"#bft-ppdf-content\"), {\n        opacity: 1\n      }, {\n        opacity: 0\n      }, 300, FamilyTree.anim.inSin, function () {\n        e.element.querySelector(\"#bft-ppdf-content\").innerHTML = \"\", t.footer = p.value, e.exportPDF(t, FamilyTree.pdfPrevUI._handler);\n      });\n    }, 1e3);\n  });\n}, FamilyTree.pdfPrevUI._showHide = function (e, t, i) {\n  \"A4\" == e.value || \"A3\" == e.value || \"A2\" == e.value || \"A1\" == e.value || \"Letter\" == e.value || \"Legal\" == e.value ? (t.parentNode.style.display = \"block\", i.parentNode.style.display = \"block\") : (t.parentNode.style.display = \"none\", i.parentNode.style.display = \"none\");\n}, FamilyTree.pdfPrevUI._handler = function (e, t, i) {\n  var r = t.options,\n    a = t.pages,\n    n = r.margin[0],\n    o = r.margin[2],\n    l = document.createElement(\"div\");\n  l.classList.add(e.config.mode), l.innerHTML = i.outerHTML, FamilyTree._browser().msie && (l.innerHTML = new XMLSerializer().serializeToString(i));\n  for (var s = l.querySelector(\"svg\"), d = e.element.querySelector(\"#bft-ppdf-content\"), c = 0; c < a.length; c++) {\n    var m = document.createElement(\"iframe\");\n    Object.assign(m.style, {\n      display: \"block\",\n      margin: \"10px auto\",\n      border: \"1px solid #eeeeee\",\n      \"box-shadow\": \"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\"\n    }), d.appendChild(m), s && s.style.backgroundColor ? m.style.backgroundColor = s.style.backgroundColor : m.style.backgroundColor = \"#fff\";\n    var p = m.contentWindow.document;\n    p.open(), m.style.width = a[c].size.w + \"px\", m.style.height = a[c].size.h + \"px\", m.style.margin = \"10 auto\", a[c].backgroundColor && (m.style.backgroundColor = a[c].backgroundColor);\n    var h = r.header;\n    a[c].header && (h = a[c].header), h && (h = h.replace(\"{current-page}\", c + 1).replace(\"{total-pages}\", a.length));\n    var f = r.footer;\n    a[c].footer && (f = a[c].footer), f && (f = f.replace(\"{current-page}\", c + 1).replace(\"{total-pages}\", a.length)), a[c].html ? p.write(FamilyTree._exportHtml(a[c].html, t.styles, r, a[c].innerSize.w, a[c].innerSize.h, h, f, e.config.mode)) : (s.setAttribute(\"viewBox\", a[c].vb), p.write(FamilyTree._exportHtml(l.innerHTML, t.styles, r, a[c].innerSize.w, a[c].innerSize.h, h, f, e.config.mode)));\n    var u = p.getElementById(\"bft-header\"),\n      y = p.getElementById(\"bft-footer\");\n    if (u) {\n      var g = n - u.offsetHeight - 7;\n      u.style.top = g + \"px\";\n    }\n    if (y) {\n      var v = o - y.offsetHeight - 7;\n      y.style.bottom = v + \"px\";\n    }\n    p.close();\n  }\n  var T = e.element.querySelector(\"#bft-ppdf-content\");\n  FamilyTree.animate(T, {\n    opacity: 0\n  }, {\n    opacity: 1\n  }, 300, FamilyTree.anim.outSin);\n}, FamilyTree.pdfPrevUI._getViewBox = function (e) {\n  var t = null;\n  return e ? (t = (t = \"[\" + (t = e.getAttribute(\"viewBox\")) + \"]\").replace(/\\ /g, \",\"), t = JSON.parse(t)) : null;\n}, FamilyTree._exportHtml = function (e, t, i, r, a, n, o, l) {\n  for (var s = \"\", d = 0; d < i.margin.length; d++) s += i.margin[d] + \"px \";\n  var c = '<!DOCTYPE html><html style=\"margin:0;padding:0;\"><head></head>' + t + '<body class=\"bft-' + l + '\" style=\"margin:0; padding:0;\"><div style=\"margin: ' + s + \";overflow:hidden;width:\" + r + \"px;height:\" + a + 'px\">';\n  return n && (c += '<div id=\"bft-header\" style=\"width:' + r + \"px;color:#757575;position:absolute;left:\" + i.margin[3] + 'px;top:0;\">' + n + \"</div>\"), c += e, o && (c += '<div id=\"bft-footer\" style=\"width:' + r + \"px;color:#757575;position:absolute;left:\" + i.margin[3] + 'px;bottom:0;\">' + o + \"</div>\"), c += \"</div>\", c += \"</body></html>\";\n}, FamilyTree.pdfPrevUI.hide = function (e) {\n  var t = e.element.querySelector(\"#bft-ppdf-wrapper\");\n  if (t) {\n    t.parentNode.removeChild(t), t.style.opacity = 0;\n    var i = e.element.querySelector(\"#bft-ppdf-btns\");\n    i.parentNode.removeChild(i);\n  }\n}, void 0 === FamilyTree && (FamilyTree = {}), FamilyTree.events.on(\"renderdefs\", function (e, t) {\n  for (var i = 0; i < e.config.clinks.length; i++) {\n    var r = e.config.clinks[i].template;\n    r || (r = \"orange\");\n    var a = FamilyTree.clinkTemplates[r];\n    t.defs += a.defs;\n  }\n}), FamilyTree.events.on(\"prerender\", function (e, t) {\n  FamilyTree.RENDER_CLINKS_BEFORE_NODES && e._clink(e, t);\n}), FamilyTree.events.on(\"render\", function (e, t) {\n  FamilyTree.RENDER_CLINKS_BEFORE_NODES || e._clink(e, t);\n}), FamilyTree.events.on(\"drag\", function (e, t, i, r) {\n  if (e instanceof FamilyTree && e.config.draggable) for (var a = 0; a < r.length; a++) {\n    for (var n = r[a], o = e.element.querySelectorAll(`[data-c-l-from=\"${n}\"]`), l = e.element.querySelectorAll(`[data-c-l-to=\"${n}\"]`), s = 0; s < o.length; s++) o[s].parentNode.removeChild(o[s]);\n    for (s = 0; s < l.length; s++) l[s].parentNode.removeChild(l[s]);\n  }\n}), FamilyTree.prototype._clink = function (e, t) {\n  for (var i = \"\", r = 0; r < this.config.clinks.length; r++) {\n    var a = this.config.clinks[r],\n      n = e.getNode(a.from),\n      o = e.getNode(a.to);\n    if (n && -1 != t.res.visibleNodeIds.indexOf(n.id) && o && -1 != t.res.visibleNodeIds.indexOf(o.id)) {\n      var l = n.x,\n        s = n.y,\n        d = o.x,\n        c = o.y,\n        m = {},\n        p = {},\n        h = l + n.w / 2,\n        f = d + o.w / 2,\n        u = s + n.h / 2,\n        y = c + o.h / 2,\n        g = 1;\n      switch (this.config.orientation) {\n        case FamilyTree.orientation.top:\n        case FamilyTree.orientation.top_left:\n          h <= f ? (g = 1, m.x = h + n.w / 10, p.x = f - o.w / 10) : (g = -1, m.x = h - n.w / 10, p.x = f + o.w / 10), s == c ? (g = 1, m.y = s, p.y = c) : s > c ? (m.y = s, p.y = c + o.h) : (m.y = s + n.h, p.y = c);\n          break;\n        case FamilyTree.orientation.bottom:\n        case FamilyTree.orientation.bottom_left:\n          h <= f ? (g = -1, m.x = h + n.w / 10, p.x = f + o.w / 10) : (g = 1, m.x = h - n.w / 10, p.x = f + o.w / 10), s == c ? (g = -1, m.y = s + n.h, p.y = c + o.h) : s > c ? (m.y = s, p.y = c + o.h) : (m.y = s + n.h, p.y = c);\n          break;\n        case FamilyTree.orientation.left:\n        case FamilyTree.orientation.left_top:\n          u <= y ? (g = -1, m.y = u + n.h / 5, p.y = y + o.h / 5) : (g = 1, m.y = u - n.h / 5, p.y = y + o.h / 5), l == d ? (g = -1, m.x = l, p.x = d) : l > d ? (m.x = l, p.x = d + o.w) : (m.x = l + n.w, p.x = d);\n          break;\n        case FamilyTree.orientation.right:\n        case FamilyTree.orientation.right_top:\n          u <= y ? (g = 1, m.y = u + n.h / 5, p.y = y + o.h / 5) : (g = -1, m.y = u - n.h / 5, p.y = y + o.h / 5), l == d ? (g = 1, m.x = l + n.w, p.x = d + o.w) : l > d ? (m.x = l, p.x = d + o.w) : (m.x = l + n.w, p.x = d);\n      }\n      var v = _(m, p, g),\n        T = a.template;\n      T || (T = \"orange\");\n      var b = FamilyTree.clinkTemplates[T];\n      if (a.label) {\n        var F = FamilyTree.clinkLabelPosition(a, m, p, v);\n        i += b.label.replace(\"{x}\", F.x).replace(\"{y}\", F.y).replace(\"{val}\", a.label);\n      }\n      var x = \"M\" + m.x + \",\" + m.y + \"C\" + m.x + \",\" + m.y + \" \" + v.x + \",\" + v.y + \" \" + p.x + \",\" + p.y;\n      i += (\"<g \" + FamilyTree.attr.c_link_from + '=\"{from}\" ' + FamilyTree.attr.c_link_to + '=\"{to}\">').replace(\"{from}\", n.id).replace(\"{to}\", o.id) + b.link.replaceAll(\"{d}\", x) + '<path stroke=\"transparent\" stroke-width=\"15\" fill=\"none\" d=\"' + x + '\" />', i += FamilyTree.grCloseTag;\n    }\n    function _(e, t, i) {\n      null == i && (i = 1);\n      var r = t.x - e.x,\n        n = t.y - e.y,\n        o = Math.sqrt(Math.pow(t.x - e.x, 2) + Math.pow(t.y - e.y, 2)) / 3;\n      return o = o / (Math.sqrt(r * r + n * n) * i) * FamilyTree.clinkCurve(a), {\n        x: e.x + r / 2 - n * o,\n        y: e.y + n / 2 + r * o\n      };\n    }\n  }\n  t.content += i;\n}, FamilyTree.clinkLabelPosition = function (e, t, i, r) {\n  var a = (i.x - t.x) / 2 + t.x,\n    n = (i.y - t.y) / 2 + t.y;\n  return {\n    x: (a - r.x) / 2 + r.x,\n    y: (n - r.y) / 2 + r.y\n  };\n}, FamilyTree.clinkCurve = function (e) {\n  return FamilyTree.CLINK_CURVE;\n}, FamilyTree.prototype.addClink = function (e, t, i, r) {\n  this._putInUndoStack(), this.clearRedo();\n  for (var a = this.config.clinks.length - 1; a >= 0; a--) {\n    var n = this.config.clinks[a];\n    n.from == e && n.to == t && this.config.clinks.splice(a, 1);\n  }\n  return this.config.clinks.push({\n    from: e,\n    to: t,\n    label: i,\n    template: r\n  }), FamilyTree.events.publish(\"updated\", [this]), this;\n}, FamilyTree.prototype.removeClink = function (e, t) {\n  this._putInUndoStack(), this.clearRedo();\n  for (var i = this.config.clinks.length - 1; i >= 0; i--) {\n    var r = this.config.clinks[i];\n    r.from == e && r.to == t && this.config.clinks.splice(i, 1);\n  }\n  return FamilyTree.events.publish(\"updated\", [this]), this;\n}, FamilyTree.clinkTemplates = {}, FamilyTree.clinkTemplates.orange = {\n  defs: '<marker id=\"arrowOrange\" viewBox=\"0 0 10 10\" refX=\"8\" refY=\"5\" markerWidth=\"6\" markerHeight=\"6\" orient=\"auto-start-reverse\"><path fill=\"#F57C00\" d=\"M 0 0 L 10 5 L 0 10 z\" /></marker><marker id=\"dotOrange\" viewBox=\"0 0 10 10\" refX=\"5\" refY=\"5\" markerWidth=\"5\" markerHeight=\"5\"> <circle cx=\"5\" cy=\"5\" r=\"5\" fill=\"#F57C00\" /></marker>',\n  link: '<path marker-start=\"url(#dotOrange)\" marker-end=\"url(#arrowOrange)\" stroke=\"#F57C00\" stroke-width=\"2\" fill=\"none\" d=\"{d}\" />',\n  label: '<text fill=\"#F57C00\" text-anchor=\"middle\" x=\"{x}\" y=\"{y}\">{val}</text>'\n}, FamilyTree.clinkTemplates.blue = {\n  defs: '<marker id=\"arrowBlue\" viewBox=\"0 0 10 10\" refX=\"8\" refY=\"5\" markerWidth=\"6\" markerHeight=\"6\" orient=\"auto-start-reverse\"><path fill=\"#039BE5\" d=\"M 0 0 L 10 5 L 0 10 z\" /></marker><marker id=\"dotBlue\" viewBox=\"0 0 10 10\" refX=\"5\" refY=\"5\" markerWidth=\"5\" markerHeight=\"5\"> <circle cx=\"5\" cy=\"5\" r=\"5\" fill=\"#039BE5\" /></marker>',\n  link: '<path marker-start=\"url(#dotBlue)\" marker-end=\"url(#arrowBlue)\" stroke=\"#039BE5\" stroke-width=\"2\" fill=\"none\" d=\"{d}\" />',\n  label: '<text fill=\"#039BE5\"  text-anchor=\"middle\" x=\"{x}\" y=\"{y}\">{val}</text>'\n}, FamilyTree.clinkTemplates.yellow = {\n  defs: '<marker id=\"arrowYellow\" viewBox=\"0 0 10 10\" refX=\"8\" refY=\"5\" markerWidth=\"6\" markerHeight=\"6\" orient=\"auto-start-reverse\"><path fill=\"#FFCA28\" d=\"M 0 0 L 10 5 L 0 10 z\" /></marker><marker id=\"dotYellow\" viewBox=\"0 0 10 10\" refX=\"5\" refY=\"5\" markerWidth=\"5\" markerHeight=\"5\"> <circle cx=\"5\" cy=\"5\" r=\"5\" fill=\"#FFCA28\" /></marker>',\n  link: '<path marker-start=\"url(#dotYellow)\" marker-end=\"url(#arrowYellow)\" stroke=\"#FFCA28\" stroke-width=\"2\" fill=\"none\" d=\"{d}\" />',\n  label: '<text fill=\"#FFCA28\"  text-anchor=\"middle\" x=\"{x}\" y=\"{y}\">{val}</text>'\n}, void 0 === FamilyTree && (FamilyTree = {}), FamilyTree.events.on(\"renderdefs\", function (e, t) {\n  for (var i = 0; i < e.config.slinks.length; i++) {\n    var r = e.config.slinks[i].template;\n    r || (r = \"orange\");\n    var a = FamilyTree.slinkTemplates[r];\n    t.defs += a.defs;\n  }\n}), FamilyTree.events.on(\"render\", function (e, t) {\n  e._slinks(e, t);\n}), FamilyTree.events.on(\"drag\", function (e, t, i, r) {\n  if (e instanceof FamilyTree && e.config.draggable) for (var a = 0; a < r.length; a++) {\n    for (var n = r[a], o = e.element.querySelectorAll(`[data-s-l-from=\"${n}\"]`), l = e.element.querySelectorAll(`[data-s-l-to=\"${n}\"]`), s = 0; s < o.length; s++) o[s].parentNode.removeChild(o[s]);\n    for (s = 0; s < l.length; s++) l[s].parentNode.removeChild(l[s]);\n  }\n}), FamilyTree.prototype._slinks = function (e, t) {\n  var i = \"\",\n    r = this.getScale(),\n    a = t.res.boundary;\n  function n(t, n, o) {\n    var s = [],\n      d = null,\n      c = \"left\",\n      m = t.lcn ? t.lcn : \"base\",\n      p = e._layoutConfigs[m];\n    switch (p.orientation) {\n      case FamilyTree.orientation.top:\n      case FamilyTree.orientation.top_left:\n      case FamilyTree.orientation.bottom:\n      case FamilyTree.orientation.bottom_left:\n        n.x > t.x && (c = \"right\");\n        break;\n      case FamilyTree.orientation.left:\n      case FamilyTree.orientation.left_top:\n      case FamilyTree.orientation.right:\n      case FamilyTree.orientation.right_top:\n        c = \"top\", n.y > t.y && (c = \"bottom\");\n    }\n    var h = FamilyTree.t(t.templateName, t.min, r),\n      f = p.levelSeparation;\n    t.parent && t.parent.layout && (f = p.mixedHierarchyNodesSeparation);\n    var u = {\n      p: t.x + t.w / 2 + h.expandCollapseSize,\n      q: t.y,\n      r: t.x + t.w / 2 + h.expandCollapseSize,\n      s: a.minY + f\n    };\n    if (t.sl == n.sl) switch (d = n, p.orientation) {\n      case FamilyTree.orientation.top:\n      case FamilyTree.orientation.top_left:\n        s.push([u.p, u.q]), s.push([u.p, u.q - f / 3]), h = FamilyTree.t(d.templateName, d.min, r), s.push([d.x + d.w / 2 + h.expandCollapseSize, s[s.length - 1][1]]), s.push([s[s.length - 1][0], d.y]);\n        break;\n      case FamilyTree.orientation.bottom:\n      case FamilyTree.orientation.bottom_left:\n        u.q = t.y + t.h, u.s = a.maxY - f, s.push([u.p, u.q]), s.push([u.r, t.y + t.h + f / 3]), h = FamilyTree.t(d.templateName, d.min, r), s.push([d.x + d.w / 2 + h.expandCollapseSize, s[s.length - 1][1]]), s.push([s[s.length - 1][0], d.y + d.h]);\n        break;\n      case FamilyTree.orientation.left:\n      case FamilyTree.orientation.left_top:\n        u.p = t.x, u.q = t.y + t.h / 2 + h.expandCollapseSize, u.r = a.minX - f, u.s = t.y + t.h / 2 + h.expandCollapseSize, s.push([u.p, u.q]), s.push([t.x - f / 3, u.q]), h = FamilyTree.t(d.templateName, d.min, r), s.push([s[s.length - 1][0], d.y + d.h / 2 + h.expandCollapseSize]), s.push([d.x, s[s.length - 1][1]]);\n        break;\n      case FamilyTree.orientation.right:\n      case FamilyTree.orientation.right_top:\n        u.p = t.x + t.w, u.q = t.y + t.h / 2 + h.expandCollapseSize, u.r = a.maxX + f, u.s = t.y + t.h / 2 + h.expandCollapseSize, s.push([u.p, u.q]), s.push([t.x + t.w + f / 3, u.q]), h = FamilyTree.t(d.templateName, d.min, r), s.push([s[s.length - 1][0], d.y + d.h / 2 + h.expandCollapseSize]), s.push([d.x + d.w, s[s.length - 1][1]]);\n    } else {\n      switch (p.orientation) {\n        case FamilyTree.orientation.top:\n        case FamilyTree.orientation.top_left:\n          s.push([u.p, u.q]), s.push([u.r, t.y - f / 3]);\n          break;\n        case FamilyTree.orientation.bottom:\n        case FamilyTree.orientation.bottom_left:\n          u.q = t.y + t.h, u.s = a.maxY - f, s.push([u.p, u.q]), s.push([u.r, t.y + t.h + f / 3]);\n          break;\n        case FamilyTree.orientation.left:\n        case FamilyTree.orientation.left_top:\n          u.p = t.x, u.q = t.y + t.h / 2 + h.expandCollapseSize, u.r = a.minX - f, u.s = t.y + t.h / 2 + h.expandCollapseSize, s.push([u.p, u.q]), s.push([t.x - f / 3, u.q]);\n          break;\n        case FamilyTree.orientation.right:\n        case FamilyTree.orientation.right_top:\n          u.p = t.x + t.w, u.q = t.y + t.h / 2 + h.expandCollapseSize, u.r = a.maxX + f, u.s = t.y + t.h / 2 + h.expandCollapseSize, s.push([u.p, u.q]), s.push([t.x + t.w + f / 3, u.q]);\n      }\n      for (var y = t, g = t; g.parent;) g = g.parent;\n      for (; null == d;) {\n        var v = !1,\n          T = y.parent,\n          b = T.leftNeighbor,\n          F = T.rightNeighbor;\n        if (T.id == n.id ? d = T : FamilyTree._intersects(T, u, p) && (u = FamilyTree._addPoint(T, s, p, u, c), v = !0), T.id != n.id) {\n          for (; b;) {\n            if (b.id == n.id) {\n              d = b;\n              break;\n            }\n            FamilyTree._intersects(b, u, p) && (u = FamilyTree._addPoint(b, s, p, u, c), v = !0), b = b.leftNeighbor;\n          }\n          for (; F;) {\n            if (F.id == n.id) {\n              d = F;\n              break;\n            }\n            FamilyTree._intersects(F, u, p) && (u = FamilyTree._addPoint(F, s, p, u, c), v = !0), F = F.rightNeighbor;\n          }\n        }\n        if (!v) {\n          var x = s[s.length - 1][0],\n            _ = 0;\n          if (T.parent) {\n            f = p.levelSeparation, T.parent.layout && (f = p.mixedHierarchyNodesSeparation);\n            var w = e.manager.bordersByRootIdAndLevel[g.id][T.parent.sl];\n            switch (p.orientation) {\n              case FamilyTree.orientation.top:\n              case FamilyTree.orientation.top_left:\n                _ = w.maxY + f * (2 / 3);\n                break;\n              case FamilyTree.orientation.bottom:\n              case FamilyTree.orientation.bottom_left:\n                _ = w.minY - f * (2 / 3);\n                break;\n              case FamilyTree.orientation.left:\n              case FamilyTree.orientation.left_top:\n                x = w.maxX + f * (2 / 3), _ = s[s.length - 1][1];\n                break;\n              case FamilyTree.orientation.right:\n              case FamilyTree.orientation.right_top:\n                x = w.minX - f * (2 / 3), _ = s[s.length - 1][1];\n            }\n          }\n          s.push([x, _]);\n        }\n        y = T;\n      }\n      switch (h = FamilyTree.t(d.templateName, d.min, r), s.splice(s.length - 1, 1), p.orientation) {\n        case FamilyTree.orientation.top:\n        case FamilyTree.orientation.top_left:\n          s.push([d.x + d.w / 2 + h.expandCollapseSize, s[s.length - 1][1]]), s.push([s[s.length - 1][0], d.y + d.h]);\n          break;\n        case FamilyTree.orientation.bottom:\n        case FamilyTree.orientation.bottom_left:\n          s.push([d.x + d.w / 2 + h.expandCollapseSize, s[s.length - 1][1]]), s.push([s[s.length - 1][0], d.y]);\n          break;\n        case FamilyTree.orientation.left:\n        case FamilyTree.orientation.left_top:\n          s.push([s[s.length - 1][0], d.y + d.h / 2 + h.expandCollapseSize]), s.push([d.x + d.w, s[s.length - 1][1]]);\n          break;\n        case FamilyTree.orientation.right:\n        case FamilyTree.orientation.right_top:\n          s.push([s[s.length - 1][0], d.y + d.h / 2 + h.expandCollapseSize]), s.push([d.x, s[s.length - 1][1]]);\n      }\n    }\n    var k = l.template;\n    k || (k = \"orange\");\n    var S,\n      C,\n      I = null;\n    switch ((h = FamilyTree.slinkTemplates[k]).labelPosition) {\n      case \"start\":\n        I = {\n          x: s[1][0],\n          y: s[1][1]\n        };\n        break;\n      case \"middle\":\n        var N = Math.ceil(s.length / 2);\n        S = s[N], C = s[N - 1], I = {\n          x: (S[0] + C[0]) / 2,\n          y: (S[1] + C[1]) / 2\n        };\n        break;\n      case \"end\":\n        I = {\n          x: s[s.length - 2][0],\n          y: s[s.length - 2][1]\n        };\n    }\n    o && (s = s.reverse()), s[0].unshift(\"M\");\n    for (var A = 1; A < s.length; A++) s[A].unshift(\"L\");\n    var L = FamilyTree.roundPathCorners(s, FamilyTree.LINK_ROUNDED_CORNERS, !1);\n    if (l.label) {\n      var E = h.label.replace(\"{x}\", I.x).replace(\"{y}\", I.y).replace(\"{val}\", l.label),\n        M = FamilyTree._getLabelSize(E),\n        U = -M.height / 2;\n      switch (p.orientation) {\n        case FamilyTree.orientation.bottom:\n        case FamilyTree.orientation.bottom_left:\n          U = M.height;\n      }\n      i += h.label.replace(\"{x}\", I.x).replace(\"{y}\", I.y + U).replace(\"{val}\", l.label);\n    }\n    var O = t.id,\n      B = n.id;\n    o && (O = n.id, B = t.id), i += (\"<g \" + FamilyTree.attr.s_link_from + '=\"{from}\" ' + FamilyTree.attr.s_link_to + '=\"{to}\">').replace(\"{from}\", O).replace(\"{to}\", B) + h.link.replaceAll(\"{d}\", L) + '<path stroke=\"transparent\" stroke-width=\"15\" fill=\"none\" d=\"' + L + '\" />', i += FamilyTree.grCloseTag;\n  }\n  for (var o = 0; o < this.config.slinks.length; o++) {\n    var l = this.config.slinks[o],\n      s = e.getNode(l.from),\n      d = e.getNode(l.to);\n    s && d && -1 != t.res.visibleNodeIds.indexOf(d.id) && -1 != t.res.visibleNodeIds.indexOf(s.id) && (s.sl >= d.sl ? n(s, d, !1) : n(d, s, !0));\n  }\n  t.content += i;\n}, FamilyTree.prototype.addSlink = function (e, t, i, r) {\n  this._putInUndoStack(), this.clearRedo();\n  for (var a = this.config.slinks.length - 1; a >= 0; a--) {\n    var n = this.config.slinks[a];\n    n.from == e && n.to == t && this.config.slinks.splice(a, 1);\n  }\n  return this.config.slinks.push({\n    from: e,\n    to: t,\n    label: i,\n    template: r\n  }), FamilyTree.events.publish(\"updated\", [this]), this;\n}, FamilyTree.prototype.removeSlink = function (e, t) {\n  this._putInUndoStack(), this.clearRedo();\n  for (var i = this.config.slinks.length - 1; i >= 0; i--) {\n    var r = this.config.slinks[i];\n    r.from == e && r.to == t && this.config.slinks.splice(i, 1);\n  }\n  return FamilyTree.events.publish(\"updated\", [this]), this;\n}, FamilyTree.slinkTemplates = {}, FamilyTree.slinkTemplates.orange = {\n  defs: '<marker id=\"arrowSlinkOrange\" viewBox=\"0 0 10 10\" refX=\"8\" refY=\"5\" markerWidth=\"6\" markerHeight=\"6\" orient=\"auto-start-reverse\"><path fill=\"#F57C00\" d=\"M 0 0 L 10 5 L 0 10 z\" /></marker><marker id=\"dotSlinkOrange\" viewBox=\"0 0 10 10\" refX=\"5\" refY=\"5\" markerWidth=\"5\" markerHeight=\"5\"> <circle cx=\"5\" cy=\"5\" r=\"5\" fill=\"#F57C00\" /></marker>',\n  link: '<path stroke-dasharray=\"4, 2\" marker-start=\"url(#dotSlinkOrange)\" marker-end=\"url(#arrowSlinkOrange)\" stroke-linejoin=\"round\" stroke=\"#F57C00\" stroke-width=\"2\" fill=\"none\" d=\"{d}\" />',\n  label: '<text dominant-baseline=\"middle\" fill=\"#F57C00\" alignment-baseline=\"middle\" text-anchor=\"middle\" x=\"{x}\" y=\"{y}\">{val}</text>',\n  labelPosition: \"middle\"\n}, FamilyTree.slinkTemplates.blue = {\n  defs: '<marker id=\"arrowSlinkBlue\" viewBox=\"0 0 10 10\" refX=\"8\" refY=\"5\" markerWidth=\"6\" markerHeight=\"6\" orient=\"auto-start-reverse\"><path fill=\"#039BE5\" d=\"M 0 0 L 10 5 L 0 10 z\" /></marker><marker id=\"dotSlinkBlue\" viewBox=\"0 0 10 10\" refX=\"5\" refY=\"5\" markerWidth=\"5\" markerHeight=\"5\"> <circle cx=\"5\" cy=\"5\" r=\"5\" fill=\"#039BE5\" /></marker>',\n  link: '<path stroke-dasharray=\"4, 2\" marker-start=\"url(#dotSlinkBlue)\" marker-end=\"url(#arrowSlinkBlue)\" stroke-linejoin=\"round\" stroke=\"#039BE5\" stroke-width=\"2\" fill=\"none\" d=\"{d}\" />',\n  label: '<text fill=\"#039BE5\" text-anchor=\"middle\" x=\"{x}\" y=\"{y}\">{val}</text>',\n  labelPosition: \"middle\"\n}, FamilyTree.slinkTemplates.yellow = {\n  defs: '<marker id=\"arrowSlinkYellow\" viewBox=\"0 0 10 10\" refX=\"8\" refY=\"5\" markerWidth=\"6\" markerHeight=\"6\" orient=\"auto-start-reverse\"><path fill=\"#FFCA28\" d=\"M 0 0 L 10 5 L 0 10 z\" /></marker><marker id=\"dotSlinkYellow\" viewBox=\"0 0 10 10\" refX=\"5\" refY=\"5\" markerWidth=\"5\" markerHeight=\"5\"> <circle cx=\"5\" cy=\"5\" r=\"5\" fill=\"#FFCA28\" /></marker>',\n  link: '<path stroke-dasharray=\"4, 2\" marker-start=\"url(#dotSlinkYellow)\" marker-end=\"url(#arrowSlinkYellow)\" stroke-linejoin=\"round\" stroke=\"#FFCA28\" stroke-width=\"2\" fill=\"none\" d=\"{d}\" />',\n  label: '<text  fill=\"#FFCA28\" text-anchor=\"middle\" x=\"{x}\" y=\"{y}\">{val}</text>',\n  labelPosition: \"middle\"\n}, FamilyTree.events.on(\"renderbuttons\", function (e, t) {\n  if (t.node && t.node.tags && t.node.tags.has(\"group-dotted-lines\")) {\n    var i = e.getScale(),\n      r = FamilyTree.t(t.node.templateName, t.node.min, i),\n      a = \"\";\n    t.node.min ? (r.nodeGroupDottedOpenButton || console.error(`[${t.node.templateName}].nodeGroupDottedOpenButton is not defined`), a += `<g style=\"cursor:pointer;\"  data-ctrl-n-dotted-open=\"${t.node.id}\" transform=\"matrix(1,0,0,1,${t.node.x},${t.node.y})\">`, a += r.nodeGroupDottedOpenButton) : (r.nodeGroupDottedCloseButton || console.error(`[${t.node.templateName}].nodeGroupDottedCloseButton is not defined`), a += `<g style=\"cursor:pointer;\" transform=\"matrix(1,0,0,1,${t.node.x},${t.node.y})\" data-ctrl-n-dotted-close=\"${t.node.id}\">`, a += r.nodeGroupDottedCloseButton), a = (a += \"</g>\").replaceAll(\"{cw}\", t.node.w / 2).replaceAll(\"{ch}\", t.node.h / 2).replaceAll(\"{ew}\", t.node.w - (t.node.padding ? t.node.padding[1] : 0)).replaceAll(\"{eh}\", t.node.h - (t.node.padding ? t.node.padding[2] : 0));\n    var n = e.getNode(t.node.stChildrenIds[0]);\n    if (-1 != a.indexOf(\"{collapsed-children-count}\")) {\n      var o = FamilyTree.collapsedChildrenCount(e, n);\n      a = a.replace(\"{collapsed-children-count}\", o);\n    }\n    if (-1 != a.indexOf(\"{collapsed-children-total-count}\")) {\n      var l = FamilyTree.collapsedChildrenTotalCount(e, n);\n      a = a.replace(\"{collapsed-children-total-count}\", l);\n    }\n    if (-1 != a.indexOf(\"{children-count}\")) {\n      var s = FamilyTree.childrenCount(e, n);\n      a = a.replace(\"{children-count}\", s);\n    }\n    if (-1 != a.indexOf(\"{children-total-count}\")) {\n      var d = FamilyTree.childrenTotalCount(e, n);\n      a = a.replace(\"{children-total-count}\", d);\n    }\n    t.html += a;\n  }\n}), FamilyTree.events.on(\"redraw\", function (e, t) {\n  if (e.config.groupDottedLines.length) {\n    for (var i = e.element.querySelectorAll(\"[data-ctrl-n-dotted-close]\"), r = 0; r < i.length; r++) i[r].addEventListener(\"click\", function () {\n      var t = this.getAttribute(\"data-ctrl-n-dotted-close\");\n      e.minimize(t);\n    });\n    var a = e.element.querySelectorAll(\"[data-ctrl-n-dotted-open]\");\n    for (r = 0; r < a.length; r++) a[r].addEventListener(\"click\", function () {\n      var t = this.getAttribute(\"data-ctrl-n-dotted-open\");\n      e.maximize(t);\n    });\n  }\n}), void 0 === FamilyTree && (FamilyTree = {}), FamilyTree.prototype.undo = function (e) {\n  if (this.config.undoRedoStorageName) {\n    var t = this.undoStepsCount();\n    if (0 != t) {\n      this._putInRedoStack();\n      var i = `${this.config.undoRedoStorageName}_undo_` + (t - 1),\n        r = sessionStorage.getItem(i);\n      sessionStorage.removeItem(i);\n      var a = JSON.parse(r);\n      this.config.nodes = a.nodes, this.config.clinks = a.clinks, this.config.slinks = a.slinks, this.config.groupDottedLines = a.groupDottedLines, this.config.dottedLines = a.dottedLines, FamilyTree.events.publish(\"updated\", [this]), this.filterUI.update(), this.draw(FamilyTree.action.update, void 0, e), this.undoRedoUI.refresh();\n    }\n  }\n}, FamilyTree.prototype.redo = function (e) {\n  if (this.config.undoRedoStorageName) {\n    var t = this.redoStepsCount();\n    if (0 != t) {\n      this._putInUndoStack();\n      var i = `${this.config.undoRedoStorageName}_redo_` + (t - 1),\n        r = sessionStorage.getItem(i);\n      sessionStorage.removeItem(i);\n      var a = JSON.parse(r);\n      this.config.nodes = a.nodes, this.config.clinks = a.clinks, this.config.slinks = a.slinks, this.config.groupDottedLines = a.groupDottedLines, this.config.dottedLines = a.dottedLines, FamilyTree.events.publish(\"updated\", [this]), this.filterUI.update(), this.draw(FamilyTree.action.update, void 0, e), this.undoRedoUI.refresh();\n    }\n  }\n}, FamilyTree.prototype.clearRedo = function () {\n  if (this.config.undoRedoStorageName) {\n    for (var e = `${this.config.undoRedoStorageName}_redo_`, t = Object.keys(sessionStorage), i = 0; -1 != t.indexOf(e + i);) sessionStorage.removeItem(e + i), i++;\n    this.undoRedoUI.refresh();\n  }\n}, FamilyTree.prototype.clearUndo = function () {\n  if (this.config.undoRedoStorageName) {\n    for (var e = `${this.config.undoRedoStorageName}_undo_`, t = Object.keys(sessionStorage), i = 0; -1 != t.indexOf(e + i);) sessionStorage.removeItem(e + i), i++;\n    this.undoRedoUI.refresh();\n  }\n}, FamilyTree.prototype.undoStepsCount = function () {\n  for (var e = `${this.config.undoRedoStorageName}_undo_`, t = Object.keys(sessionStorage), i = 0; -1 != t.indexOf(e + i);) i++;\n  return i;\n}, FamilyTree.prototype.redoStepsCount = function () {\n  for (var e = `${this.config.undoRedoStorageName}_redo_`, t = Object.keys(sessionStorage), i = 0; -1 != t.indexOf(e + i);) i++;\n  return i;\n}, FamilyTree.prototype._putInUndoStack = function () {\n  if (this.config.undoRedoStorageName) {\n    var e = `${this.config.undoRedoStorageName}_undo_` + this.undoStepsCount();\n    sessionStorage.setItem(e, JSON.stringify({\n      nodes: this.config.nodes,\n      clinks: this.config.clinks,\n      slinks: this.config.slinks,\n      groupDottedLines: this.config.groupDottedLines,\n      dottedLines: this.config.dottedLines\n    }));\n  }\n}, FamilyTree.prototype._putInRedoStack = function () {\n  if (this.config.undoRedoStorageName) {\n    var e = `${this.config.undoRedoStorageName}_redo_` + this.redoStepsCount();\n    sessionStorage.setItem(e, JSON.stringify({\n      nodes: this.config.nodes,\n      clinks: this.config.clinks,\n      slinks: this.config.slinks,\n      groupDottedLines: this.config.groupDottedLines,\n      dottedLines: this.config.dottedLines\n    }));\n  }\n}, void 0 === FamilyTree && (FamilyTree = {}), FamilyTree.undoRedoUI = function () {\n  this.instance = null, this._event_id = FamilyTree._guid();\n}, FamilyTree.undoRedoUI.prototype.init = function (e) {\n  e.config.undoRedoStorageName && (this.instance = e, this.refresh());\n}, FamilyTree.undoRedoUI.prototype.refresh = function () {\n  var e = this;\n  if (this.instance.config.undoRedoStorageName) {\n    var t = {\n      undoStepsCount: this.instance.undoStepsCount(),\n      redoStepsCount: this.instance.redoStepsCount()\n    };\n    if (!1 !== FamilyTree.events.publish(\"change\", [this, t])) {\n      var i = this.instance.element.querySelector(\"[data-undo]\"),\n        r = this.instance.element.querySelector(\"[data-redo]\");\n      if (!i || !r) {\n        var a = document.createElement(\"div\");\n        a.classList.add(\"bft-undo-redo\"), a.innerHTML = `<span data-undo>${FamilyTree.icon.undo(50, 50, \"\")}<span class=\"bft-undo-i\"></span></span>\\n                            <span data-redo>${FamilyTree.icon.redo(50, 50, \"\")}<span class=\"bft-redo-i\"></span></span>`, this.instance.element.appendChild(a), i = this.instance.element.querySelector(\"[data-undo]\"), r = this.instance.element.querySelector(\"[data-redo]\"), i.addEventListener(\"click\", function () {\n          e.instance.undo();\n        }), r.addEventListener(\"click\", function () {\n          e.instance.redo();\n        });\n      }\n      t.undoStepsCount > 0 ? (i.classList.add(\"bft-ur-clickable\"), i.querySelector(\".bft-undo-i\").innerHTML = t.undoStepsCount, i.querySelector(\".bft-undo-i\").style.display = \"inline-block\") : (i.classList.remove(\"bft-ur-clickable\"), i.querySelector(\".bft-undo-i\").style.display = \"none\"), t.redoStepsCount > 0 ? (r.classList.add(\"bft-ur-clickable\"), r.querySelector(\".bft-redo-i\").innerHTML = t.redoStepsCount, r.querySelector(\".bft-redo-i\").style.display = \"inline-block\") : (r.classList.remove(\"bft-ur-clickable\"), r.querySelector(\".bft-redo-i\").style.display = \"none\");\n    }\n  }\n}, FamilyTree.undoRedoUI.prototype.on = function (e, t) {\n  return FamilyTree.events.on(e, t, this._event_id), this;\n}, FamilyTree.undoRedoUI.prototype.onChange = function (e) {\n  return this.on(\"change\", function (t, i) {\n    return e.call(t, i);\n  });\n}, FamilyTree.events.on(\"redraw\", function (e, t) {\n  if (e.config.miniMap) {\n    if (e.manager.action != FamilyTree.action.move) {\n      FamilyTree.miniMap._settings._scale = Math.min(FamilyTree.miniMap.width / (e.response.boundary.maxX - e.response.boundary.minX), FamilyTree.miniMap.height / (e.response.boundary.maxY - e.response.boundary.minY)), FamilyTree.miniMap._settings._translateX = -e.response.boundary.minX * FamilyTree.miniMap._settings._scale + (FamilyTree.miniMap.width - (e.response.boundary.maxX - e.response.boundary.minX) * FamilyTree.miniMap._settings._scale) / 2, FamilyTree.miniMap._settings._translateY = -e.response.boundary.minY * FamilyTree.miniMap._settings._scale + (FamilyTree.miniMap.height - (e.response.boundary.maxY - e.response.boundary.minY) * FamilyTree.miniMap._settings._scale) / 2;\n      var i = e.getViewBox();\n      FamilyTree.miniMap._init(e), FamilyTree.miniMap._drawMainCanvas(e), FamilyTree.miniMap._drawRectSelectorCanvas(e, i);\n      var r,\n        a,\n        n,\n        o,\n        l = e.element.querySelector('[data-id=\"mini-map-focus\"]'),\n        s = !1,\n        d = null;\n      l.onmousedown = function (e) {\n        var t,\n          n,\n          o,\n          d = l.getBoundingClientRect(),\n          c = d.left,\n          m = d.top;\n        if (r = parseInt(e.clientX - c), a = parseInt(e.clientY - m), t = a, n = (r - FamilyTree.miniMap._settings._translateX) / FamilyTree.miniMap._settings._scale, o = (t - FamilyTree.miniMap._settings._translateY) / FamilyTree.miniMap._settings._scale, n > i[0] && n < i[0] + i[2] && o > i[1] && o < i[1] + i[3]) return e.preventDefault(), e.stopPropagation(), void (s = !0);\n      }, l.onmousemove = function (t) {\n        if (s) {\n          t.preventDefault(), t.stopPropagation();\n          var c = l.getBoundingClientRect(),\n            m = c.left,\n            p = c.top;\n          n = parseInt(t.clientX - m), o = parseInt(t.clientY - p);\n          var h = (n - r) / FamilyTree.miniMap._settings._scale,\n            f = (o - a) / FamilyTree.miniMap._settings._scale;\n          i[0] = h + i[0], i[1] = f + i[1], e.setViewBox(i), d && (clearTimeout(d), d = null), d = setTimeout(function () {\n            e._draw(!0, FamilyTree.action.move);\n          }, 300), FamilyTree.miniMap._drawRectSelectorCanvas(e, i), r = n, a = o;\n        }\n      }, l.onmouseup = function (e) {\n        s && (e.preventDefault(), e.stopPropagation(), s = !1);\n      }, l.onmouseout = function (e) {\n        s && (e.preventDefault(), e.stopPropagation(), s = !1);\n      };\n    }\n  } else {\n    var c = e.element.querySelector('[data-id=\"mini-map\"]');\n    c && c.parentNode.removeChild(c);\n  }\n}), FamilyTree.miniMap = {}, FamilyTree.miniMap._settings = {\n  _translateX: 0,\n  _translateY: 0,\n  _scale: 1\n}, FamilyTree.miniMap._drawMainCanvas = function (e) {\n  var t = e.element.querySelector('[data-id=\"mini-map-main\"]'),\n    i = t.getContext(\"2d\");\n  FamilyTree.miniMap._initCtx(e, t, 1);\n  var r = 0,\n    a = [];\n  !function e(t, n) {\n    if (Array.isArray(n)) for (var o = 0; o < n.length; o++) e(t, n[o]);else {\n      i.fillStyle = FamilyTree.miniMap.colors[3], i.beginPath(), i.lineWidth = \"0.5\", i.fillRect(n.x, n.y, n.w, n.h), i.strokeRect(n.x, n.y, n.w, n.h);\n      for (o = 0; o < n.stChildrenIds.length; o++) r++, a.includes(n.id) || (1 == r ? i.fillStyle = FamilyTree.miniMap.colors[0] : 2 == r ? i.fillStyle = FamilyTree.miniMap.colors[1] : 3 == r && (i.fillStyle = FamilyTree.miniMap.colors[2]), i.beginPath(), i.fillRect(n.x, n.y, n.w, n.h), i.strokeRect(n.x, n.y, n.w, n.h), a.push(n.id)), e(t, t.getNode(n.stChildrenIds[o])), r--;\n      for (o = 0; o < n.childrenIds.length; o++) e(t, t.getNode(n.childrenIds[o]));\n    }\n  }(e, e.roots);\n}, FamilyTree.miniMap._drawRectSelectorCanvas = function (e, t) {\n  var i = e.element.querySelector('[data-id=\"mini-map-focus\"]'),\n    r = i.getContext(\"2d\");\n  FamilyTree.miniMap._initCtx(e, i, FamilyTree.miniMap.opacity);\n  var a = t[0],\n    n = t[1],\n    o = t[2],\n    l = t[3];\n  r.lineWidth = .5 / FamilyTree.miniMap._settings._scale, r.strokeStyle = FamilyTree.miniMap.focusStroke, r.globalAlpha = 1, r.clearRect(a, n, o, l), r.strokeRect(a, n, o, l);\n}, FamilyTree.miniMap._initCtx = function (e, t, i) {\n  var r = t.getContext(\"2d\");\n  t.width = t.width, t.height = t.height, r.clearRect(0, 0, FamilyTree.miniMap.width, FamilyTree.miniMap.height), r.globalAlpha = i, 1 != i && (r.fillStyle = FamilyTree.miniMap.selectorBackgroundColor, r.fillRect(0, 0, FamilyTree.miniMap.width, FamilyTree.miniMap.height)), r.translate(FamilyTree.miniMap._settings._translateX, FamilyTree.miniMap._settings._translateY), r.scale(FamilyTree.miniMap._settings._scale, FamilyTree.miniMap._settings._scale);\n}, FamilyTree.miniMap._init = function (e) {\n  if (!e.element.querySelector('[data-id=\"mini-map\"]')) {\n    var t = document.createElement(\"canvas\");\n    t.width = FamilyTree.miniMap.width, t.height = FamilyTree.miniMap.height, t.setAttribute(\"data-id\", \"mini-map-main\"), t.style.display = \"inline-block\", t.style.backgroundColor = FamilyTree.miniMap.backgroundColor, t.style.position = \"absolute\", t.style.top = 0, t.style.left = 0;\n    var i = document.createElement(\"canvas\");\n    i.width = FamilyTree.miniMap.width, i.height = FamilyTree.miniMap.height, i.setAttribute(\"data-id\", \"mini-map-focus\"), i.style.display = \"inline-block\", i.style.position = \"absolute\", i.style.top = 0, i.style.left = 0;\n    var r = document.createElement(\"div\");\n    r.setAttribute(\"data-id\", \"mini-map\"), r.style.position = \"absolute\";\n    for (var a = [\"top\", \"right\", \"left\", \"bottom\"], n = 0; n < a.length; n++) {\n      var o = a[n];\n      FamilyTree.isNEU(FamilyTree.miniMap.position[o]) || (\"padding\" == FamilyTree.miniMap.position[o] ? r.style[o] = e.config.padding + \"px\" : r.style[o] = FamilyTree.miniMap.position[o] + \"px\");\n    }\n    r.style.border = FamilyTree.miniMap.border, r.style.padding = FamilyTree.miniMap.padding + \"px\", r.style.backgroundColor = FamilyTree.miniMap.backgroundColor;\n    var l = document.createElement(\"div\");\n    l.style.position = \"relative\", l.style.width = FamilyTree.miniMap.width + \"px\", l.style.height = FamilyTree.miniMap.height + \"px\", l.appendChild(t), l.appendChild(i), r.appendChild(l), e.element.appendChild(r);\n    var s = function (t, i) {\n      e.__mouseScrollHandler(r, i);\n    };\n    e._addEvent(r, \"DOMMouseScroll\", s), e._addEvent(r, \"mousewheel\", s);\n    var d = 0,\n      c = 0,\n      m = function (e) {\n        var t = e.clientX - d,\n          i = e.clientY - c;\n        if (!FamilyTree.isNEU(r.style.left)) {\n          var a = parseFloat(r.style.left) + t;\n          r.style.left = `${a}px`;\n        }\n        if (!FamilyTree.isNEU(r.style.right)) {\n          var n = parseFloat(r.style.right) - t;\n          r.style.right = `${n}px`;\n        }\n        if (!FamilyTree.isNEU(r.style.bottom)) {\n          var o = parseFloat(r.style.bottom) - i;\n          r.style.bottom = `${o}px`;\n        }\n        if (!FamilyTree.isNEU(r.style.top)) {\n          var l = parseFloat(r.style.top) + i;\n          r.style.top = `${l}px`;\n        }\n        d = e.clientX, c = e.clientY;\n      },\n      p = function () {\n        document.removeEventListener(\"mousemove\", m), document.removeEventListener(\"mouseup\", p);\n      };\n    FamilyTree.miniMap.draggable && r.addEventListener(\"mousedown\", function (e) {\n      d = e.clientX, c = e.clientY, document.addEventListener(\"mousemove\", m), document.addEventListener(\"mouseup\", p);\n    });\n  }\n}, FamilyTree.miniMap.colors = [\"#E0E0E0\", \"#BDBDBD\", \"#9E9E9E\", \"#757575\"], FamilyTree.miniMap.selectorBackgroundColor = \"white\", FamilyTree.miniMap.backgroundColor = \"white\", FamilyTree.miniMap.focusStroke = \"#f57c00\", FamilyTree.miniMap.opacity = .4, FamilyTree.miniMap.border = \"1px solid #aeaeae\", FamilyTree.miniMap.width = 250, FamilyTree.miniMap.height = 140, FamilyTree.miniMap.padding = 5, FamilyTree.miniMap.position = {\n  top: void 0,\n  left: \"padding\",\n  right: void 0,\n  bottom: \"padding\"\n}, FamilyTree.miniMap.draggable = !0, FamilyTree._search = {}, FamilyTree._search.search = function (e, t, i, r, a, n, o) {\n  var l = [],\n    s = t.toLowerCase(),\n    d = s.split(\" \");\n  if (o && d.length > 1) {\n    var c = d[0];\n    o[c] && (i = [o[c]], d = (s = s.replace(c, \"\").trim()).split(\" \"));\n  }\n  d = d.filter(function (e, t, i) {\n    return i.indexOf(e) === t;\n  });\n  for (var m = {}, p = 0; p < e.length; p++) for (var h = e[p], f = 0; f < i.length; f++) {\n    var u = i[f];\n    if (!FamilyTree.isNEU(h[u])) {\n      var y = h[u];\n      if (null != (t = FamilyTree._search.searchAndComputeScore(d, y, u, n))) {\n        var g = h.id;\n        if (m[g]) {\n          if (m[g] && m[g] < t.__score) {\n            m[g] = t.__score;\n            for (var v = l.length - 1; v >= 0; v--) l[v].id == g && l.splice(v, 1);\n            FamilyTree._search.addNodeToResult(l, r, h, t, u, a);\n          }\n        } else m[g] = t.__score, FamilyTree._search.addNodeToResult(l, r, h, t, u, a);\n      }\n    }\n  }\n  return l.sort(function (e, t) {\n    return e.__score < t.__score ? 1 : e.__score > t.__score ? -1 : 0;\n  }), l;\n}, FamilyTree._search.addNodeToResult = function (e, t, i, r, a, n) {\n  var o = {};\n  o.id = i.id, FamilyTree.isNEU(i[n]) || (o[n] = i[n]);\n  for (var l = 0; l < t.length; l++) {\n    var s = t[l];\n    FamilyTree.isNEU(i[s]) || FamilyTree.isNEU(o[s]) && (o[s] = i[s]);\n  }\n  null != r && (FamilyTree.isNEU(o.__score) && (o.__score = r.__score), FamilyTree.isNEU(o.__searchField) && (o.__searchField = a), FamilyTree.isNEU(o.__searchMarks) && (o.__searchMarks = r.__searchMarks)), e.push(o);\n}, FamilyTree._search.searchAndComputeScore = function (e, t, i, r) {\n  if (FamilyTree.isNEU(t)) return null;\n  if (FamilyTree.isNEU(e)) return null;\n  if (!e.length) return null;\n  \"string\" != typeof t && (t = t.toString());\n  var a = t.toLowerCase(),\n    n = FamilyTree._search.searchIndexesOf(a, e);\n  if (!n.length) return null;\n  for (var o = a.length / 100, l = 0, s = 0, d = l > 0 ? 100 : 0, c = 0, m = 0; m < e.length; m++) for (var p = e[m], h = 0; h < n.length; h++) if (-1 != p.indexOf(n[h].searchPhrase)) {\n    c++;\n    break;\n  }\n  var f = 100 / (e.length / c);\n  if (n.length) {\n    s = n[0].start;\n    for (h = 0; h < n.length; h++) if (l += n[h].length, n[h].start < s && (s = n[h].start), h >= 1 && n[h - 1].start > n[h].start) {\n      d = 0;\n      break;\n    }\n  }\n  var u = 0;\n  0 != l && (u = l / o);\n  var y = l > 0 ? 100 : 0;\n  0 != s && (y = 100 - s / o);\n  var g = 0;\n  r && r[i] && (g = r[i]), f && (f = f / 100 * 50), u > 0 && (u = u / 100 * 10), y > 0 && (y = y / 100 * 10), d > 0 && (d = d / 100 * 10), g > 0 && (g = g / 100 * 20);\n  var v = Math.round(1e4 * (f + u + y + d + g));\n  n.sort(function (e, t) {\n    return e.start < t.start ? -1 : e.start > t.start ? 1 : 0;\n  });\n  var T = t;\n  for (h = n.length - 1; h >= 0; h--) T = (T = T.insert(n[h].start + n[h].length, \"</mark>\")).insert(n[h].start, \"<mark>\");\n  return {\n    __searchMarks: T,\n    __score: v\n  };\n}, FamilyTree._search.searchIndexesOf = function (e, t) {\n  var i = [];\n  if (!FamilyTree.isNEU(e)) for (var r = 0; r < t.length; r++) {\n    var a = t[r];\n    if (!FamilyTree.isNEU(a)) for (var n = 0; (n = e.indexOf(a, n)) > -1;) i.push({\n      length: a.length,\n      start: n,\n      searchPhrase: a\n    }), n += a.length;\n  }\n  return i.sort(function (e, t) {\n    return e.length < t.length ? 1 : e.length > t.length || e.start < t.start ? -1 : e.start > t.start ? 1 : 0;\n  }), i = i.filter(function (e) {\n    for (var t = !1, r = 0; r < i.length; r++) {\n      var a = i[r].start,\n        n = i[r].start + i[r].length - 1,\n        o = e.start,\n        l = e.start + e.length - 1;\n      if (a == o && n == l) {\n        t = !1;\n        break;\n      }\n      if (a >= o && n <= l) {\n        t = !0;\n        break;\n      }\n      if (a <= o && n >= l) {\n        t = !0;\n        break;\n      }\n    }\n    return !t;\n  });\n}, FamilyTree.events.on(\"redraw\", function (e, t) {\n  if (e.config.state) {\n    var i = [],\n      r = [];\n    !function e(t) {\n      if (Array.isArray(t)) for (var a = 0; a < t.length; a++) e(t[a]);else {\n        (\"string\" != typeof t.id || \"string\" == typeof t.id && -1 == t.id.indexOf(\"split\") && -1 == t.id.indexOf(\"mirror\")) && (i.push(t.id), 1 == t.min && r.push(t.id));\n        for (a = 0; a < t.stChildren.length; a++) e(t.stChildren[a]);\n        for (a = 0; a < t.children.length; a++) e(t.children[a]);\n      }\n    }(e.roots), FamilyTree.state._put(e.config.roots, e.width(), e.height(), e.response.viewBox, i, r, e.response.adjustify, e.config.state);\n  }\n}), FamilyTree.state = {}, FamilyTree.state._buildStateNames = function (e) {\n  return {\n    paramScale: e + \"-scale\",\n    paramX: e + \"-x\",\n    paramY: e + \"-y\",\n    paramExp: e + \"-exp\",\n    paramMin: e + \"-min\",\n    paramRoots: e + \"-roots\",\n    paramAdjustify: e + \"-adjustify\"\n  };\n}, FamilyTree.state._put = function (e, t, i, r, a, n, o, l) {\n  if (l && !FamilyTree.isNEU(a) && 0 != a.length) {\n    var s = FamilyTree.state._buildStateNames(l.name),\n      d = {\n        roots: e,\n        scale: Math.min(t / r[2], i / r[3]),\n        x: r[0],\n        y: r[1],\n        exp: a,\n        min: n,\n        adjustify: o\n      };\n    if (l.writeToUrlParams) {\n      var c = new URLSearchParams(window.location.search);\n      c.has(s.paramScale) ? c.set(s.paramScale, d.scale) : c.append(s.paramScale, d.scale), c.has(s.paramX) ? c.set(s.paramX, d.x) : c.append(s.paramX, d.x), c.has(s.paramY) ? c.set(s.paramY, d.y) : c.append(s.paramY, d.y), c.has(s.paramExp) ? c.set(s.paramExp, d.exp.join(\"*\")) : c.append(s.paramExp, d.exp.join(\"*\")), c.has(s.paramRoots) && Array.isArray(d.roots) ? c.set(s.paramRoots, d.roots.join(\"*\")) : Array.isArray(d.roots) && c.append(s.paramRoots, d.roots.join(\"*\")), c.has(s.paramMin) ? c.set(s.paramMin, d.min.join(\"*\")) : c.append(s.paramMin, d.min.join(\"*\")), c.has(s.paramAdjustify) ? c.set(s.paramAdjustify, d.adjustify.x + \"*\" + d.adjustify.y) : c.append(s.paramAdjustify, d.adjustify.x + \"*\" + d.adjustify.y), window.history.replaceState(null, null, \"?\" + c);\n    }\n    l.writeToIndexedDB && (d.id = l.name, FamilyTree.idb.put(d, function (e) {\n      0 == e && console.error(\"Cannot write row - \" + l.name);\n    })), l.writeToLocalStorage && FamilyTree.localStorage.setItem(l.name, JSON.stringify(d));\n  }\n}, FamilyTree.state._get = function (e, t, i, r) {\n  if (e) {\n    var a = FamilyTree.state._buildStateNames(e.name);\n    if (e.readFromUrlParams) {\n      var n = new URLSearchParams(window.location.search);\n      if (n.has(a.paramScale) && n.has(a.paramX) && n.has(a.paramY) && n.has(a.paramExp) && n.has(a.paramMin) && n.has(a.paramAdjustify)) {\n        var o = {},\n          l = parseFloat(n.get(a.paramScale)),\n          s = parseFloat(n.get(a.paramX)),\n          d = parseFloat(n.get(a.paramY));\n        (m = [])[0] = s, m[1] = d, m[2] = t / l, m[3] = i / l, o.vb = m, o.scale = l, o.x = s, o.y = d, o.roots = null, n.has(a.paramRoots) && (o.roots = n.get(a.paramRoots).split(\"*\")), o.exp = n.get(a.paramExp).split(\"*\"), o.min = n.get(a.paramMin).split(\"*\");\n        var c = n.get(a.paramAdjustify).split(\"*\");\n        return o.adjustify = {\n          x: parseFloat(c[0]),\n          y: parseFloat(c[1])\n        }, void r(o);\n      }\n      if (!e.readFromIndexedDB && !e.readFromLocalStorage) return void r(null);\n    }\n    if (e.readFromLocalStorage) {\n      var m;\n      if (null != (o = FamilyTree.localStorage.getItem(e.name))) return o = JSON.parse(o), (m = [])[0] = o.x, m[1] = o.y, m[2] = t / o.scale, m[3] = i / o.scale, o.vb = m, void r(o);\n      if (!e.readFromIndexedDB) return void r(null);\n    }\n    e.readFromIndexedDB && FamilyTree.idb.read(e.name, function (a, n) {\n      if (0 == a) console.error(\"Cannot read from - \" + e.name), r(null);else if (null == a) r(null);else {\n        var o = [];\n        o[0] = n.x, o[1] = n.y, o[2] = t / n.scale, o[3] = i / n.scale, n.vb = o, r(n);\n      }\n    });\n  } else r(null);\n}, FamilyTree.state.clear = function (e) {\n  if (!e) return !1;\n  try {\n    localStorage.removeItem(e);\n    var t = FamilyTree.state._buildStateNames(e),\n      i = new URLSearchParams(window.location.search);\n    i.has(t.paramScale) && i.delete(t.paramScale), i.has(t.paramX) && i.delete(t.paramX), i.has(t.paramY) && i.delete(t.paramY), i.has(t.paramExp) && i.delete(t.paramExp), i.has(t.paramRoots) && i.delete(t.paramRoots), i.has(t.paramMin) && i.delete(t.paramMin), i.has(t.paramAdjustify) && i.delete(t.paramAdjustify), window.history.replaceState(null, null, \"?\" + i), FamilyTree.idb.delete(e, function (t) {\n      0 == t && console.error(\"Cannot delete row - \" + e);\n    });\n  } catch {}\n}, FamilyTree._magnify = {}, FamilyTree.prototype.magnify = function (e, t, i, r, a) {\n  r || (r = this.config.anim);\n  var n = this.getNode(e),\n    o = this.getNodeElement(e);\n  if (n || o) {\n    var l = FamilyTree._magnify[e];\n    if (l && (null != l.timer && clearInterval(l.timer), null != l.timerBack && clearInterval(l.timerBack), o.setAttribute(\"transform\", \"matrix(\" + l.transformStart.toString() + \")\"), FamilyTree._magnify[e] = null), i) o = o.cloneNode(!0), this.getSvg().appendChild(o);\n    var s = FamilyTree._getTransform(o),\n      d = JSON.parse(JSON.stringify(s));\n    d[0] = t, d[3] = t;\n    var c = n.w + n.w * (t - 1),\n      m = n.h + n.h * (t - 1);\n    d[4] += (n.w - c) / 2, d[5] += (n.h - m) / 2;\n    var p = FamilyTree.animate(o, {\n      transform: s\n    }, {\n      transform: d\n    }, r.duration, r.func);\n    FamilyTree._magnify[e] = {\n      timer: p,\n      transformStart: s,\n      nodeElement: o,\n      front: i\n    }, a && a(o);\n  }\n}, FamilyTree.prototype.magnifyBack = function (e, t, i) {\n  t || (t = this.config.anim);\n  var r = FamilyTree._magnify[e];\n  if (r) {\n    null != r.timer && clearInterval(r.timer), null != r.timerBack && clearInterval(r.timerBack);\n    var a = FamilyTree._getTransform(r.nodeElement);\n    r.timerBack = FamilyTree.animate(r.nodeElement, {\n      transform: a\n    }, {\n      transform: r.transformStart\n    }, t.duration, t.func, function (e) {\n      var t = e[0].getAttribute(FamilyTree.attr.node_id);\n      FamilyTree._magnify[t] && FamilyTree._magnify[t].front && (e[0].parentNode.removeChild(e[0]), FamilyTree._magnify[t] = null), i && i(e[0]);\n    });\n  }\n}, void 0 === FamilyTree && (FamilyTree = {}), FamilyTree.events.on(\"init\", function (e, t) {\n  if (e.config.keyNavigation && (e._addEvent(window, \"keydown\", e._windowKeyDownHandler), FamilyTree.isNEU(e._keyNavigationActiveNodeId) && e.roots && e.roots.length)) {\n    var i = e.roots[0].id;\n    FamilyTree.isNEU(e.config.keyNavigation.focusId) || (i = e.config.keyNavigation.focusId), e._keyNavigationActiveNodeId = i, e.center(e._keyNavigationActiveNodeId);\n  }\n}), FamilyTree.prototype._windowKeyDownHandler = function (e, t) {\n  for (var i = t.target, r = null; i && i != this.element;) {\n    if (i.hasAttribute && i.hasAttribute(FamilyTree.attr.node_id)) {\n      r = i.getAttribute(FamilyTree.attr.node_id);\n      break;\n    }\n    i = i.parentNode;\n  }\n  if (i) {\n    var a = r ? this.getNode(r) : null,\n      n = {\n        node: a,\n        data: r ? this.get(r) : null,\n        event: t\n      };\n    if (!1 !== FamilyTree.events.publish(\"key-down\", [this, n]) && a) if (\"KeyF\" == t.code) this.searchUI.find(\"\");else if (\"ArrowRight\" == t.code || a.isAssistant && \"ArrowDown\" == t.code || a.isPartner && \"ArrowDown\" == t.code) {\n      if (s = this.getNode(a.pid)) {\n        var o = s.childrenIds.indexOf(a.id);\n        if (++o < s.childrenIds.length) {\n          var l = s.childrenIds[o];\n          this._keyNavigationActiveNodeId = l, this.center(l);\n        }\n      }\n    } else if (\"ArrowLeft\" == t.code) {\n      if (s = this.getNode(a.pid)) {\n        o = s.childrenIds.indexOf(a.id);\n        if (--o >= 0) {\n          l = s.childrenIds[o];\n          this._keyNavigationActiveNodeId = l, this.center(l);\n        }\n      }\n    } else if (\"ArrowUp\" == t.code) {\n      var s;\n      if (s = this.getNode(a.pid)) {\n        l = s.id;\n        if (a.isAssistant || s.hasAssistants || a.isPartner || s.hasPartners) {\n          o = s.childrenIds.indexOf(a.id);\n          --o >= 0 && (l = s.childrenIds[o]);\n        }\n        this._keyNavigationActiveNodeId = l, this.center(l);\n      }\n    } else if (\"ArrowDown\" == t.code) a.childrenIds.length && (this._keyNavigationActiveNodeId = a.childrenIds[0], this.center(a.childrenIds[0]));else if (\"Space\" == t.code) {\n      var d = i.getAttribute(FamilyTree.attr.node_id);\n      return void this.toggleExpandCollapse(d, t);\n    }\n  }\n}, FamilyTree.events.on(\"redraw\", function (e, t) {\n  e.config.keyNavigation && FamilyTree._keyNavigation(e);\n}), FamilyTree.events.on(\"click\", function (e, t) {\n  e.config && e.config.keyNavigation && (e._keyNavigationActiveNodeId = t.node.id, e.center(t.node.id));\n}), FamilyTree._keyNavigation = function (e) {\n  var t = e.element.querySelector(\":focus\");\n  if (t && t.parentElement && t.parentElement.hasAttribute(FamilyTree.attr.node_id)) {\n    var i = t.parentElement;\n    (a = (r = t).querySelector(\"title\")) && a.parentNode.removeChild(a), r.removeAttribute(\"tabindex\");\n  }\n  if (!FamilyTree.isNEU(e._keyNavigationActiveNodeId) && (i = e.getNodeElement(e._keyNavigationActiveNodeId)) && i.children.length) {\n    var r;\n    (r = i.children[0]).setAttribute(\"tabindex\", 2);\n    var a,\n      n = {\n        text: \"\",\n        id: e._keyNavigationActiveNodeId\n      };\n    if (FamilyTree.events.publish(\"screen-reader-text\", [e, n]), !FamilyTree.isNEU(n.text)) (a = document.createElementNS(\"http://www.w3.org/2000/svg\", \"title\")).innerHTML = n.text, r.appendChild(a);\n    FamilyTree.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE && e.searchUI.hide(), r.focus();\n  }\n}, FamilyTree.elements = {}, FamilyTree.elements.textbox = function (e, t, i, r) {\n  var a = FamilyTree.elements._vidrf(e, t, r);\n  if (a.doNotRender) return {\n    html: \"\"\n  };\n  var n = \"\";\n  return t.btn && (n = `<a href=\"#\" data-input-btn=\"\" class=\"bft-link bft-link-bft-button\">${t.btn}</a>`), {\n    html: `<div class=\"bft-form-field\" style=\"min-width: ${i};\">\\n                    <div class=\"bft-input\" data-bft-input=\"\" ${a.disabledAttribute} ${a.vlidators}>\\n                        <label for=\"${a.id}\">${FamilyTree._escapeGreaterLessSign(a.label)}</label>\\n                        <input ${a.readOnlyAttribute} data-binding=\"${FamilyTree._escapeDoubleQuotes(a.binding)}\" maxlength=\"256\" id=\"${a.id}\" name=\"${a.id}\" type=\"text\" value=\"${FamilyTree._escapeDoubleQuotes(a.value)}\" autocomplete=\"off\">\\n                        ${n}\\n                    </div>\\n                </div>`,\n    id: a.id,\n    value: a.value\n  };\n}, FamilyTree.elements.checkbox = function (e, t, i, r) {\n  var a = FamilyTree.elements._vidrf(e, t, r);\n  if (a.doNotRender) return {\n    html: \"\"\n  };\n  var n = a.value ? \"checked\" : \"\",\n    o = r ? 'onclick=\"return false;\"' : \"\";\n  return {\n    html: `<div class=\"bft-form-field\"  style=\"min-width: ${i};\" >\\n                        <label class=\"bft-checkbox\" data-bft-input=\"\" ${a.disabledAttribute}>\\n                            <input ${n} ${o} data-binding=\"${FamilyTree._escapeDoubleQuotes(a.binding)}\" type=\"checkbox\"><span class=\"bft-checkbox-checkmark\" type=\"checkbox\"></span>${FamilyTree._escapeGreaterLessSign(a.label)}\\n                        </label>\\n                    </div>`,\n    id: a.id,\n    value: n\n  };\n}, FamilyTree.elements.select = function (e, t, i, r) {\n  if (r) return FamilyTree.elements.textbox(e, t, i, r);\n  var a = FamilyTree.elements._vidrf(e, t, r);\n  return a.doNotRender ? {\n    html: \"\"\n  } : {\n    html: `<div class=\"bft-form-field\" style=\"min-width: ${i};\">\\n                    <div class=\"bft-input\" data-bft-input=\"\" ${a.disabledAttribute} ${a.vlidators}>\\n                        <label for=\"${a.id}\">${FamilyTree._escapeGreaterLessSign(a.label)}</label>\\n                        <select data-binding=\"${FamilyTree._escapeDoubleQuotes(a.binding)}\" ${a.readOnlyAttribute} id=\"${a.id}\" name=\"${a.id}\">\\n                            ${function () {\n      for (var e = \"\", t = 0; t < a.options.length; t++) {\n        var i = a.options[t];\n        e += `<option ${i.value == a.value ? \"selected\" : \"\"} value=\"${FamilyTree._escapeDoubleQuotes(i.value)}\">${FamilyTree._escapeGreaterLessSign(i.text)}</option>`;\n      }\n      return e;\n    }()}                           \\n                        </select>\\n                    </div>\\n                </div>`,\n    id: a.id,\n    value: a.value\n  };\n}, FamilyTree.elements.date = function (e, t, i, r) {\n  var a = FamilyTree.elements._vidrf(e, t, r);\n  return a.doNotRender ? {\n    html: \"\"\n  } : {\n    html: `<div class=\"bft-form-field\" style=\"min-width: ${i};\">\\n                    <div class=\"bft-input\" data-bft-input=\"\" ${a.disabledAttribute} ${a.vlidators}>\\n                        <label for=\"${a.id}\" class=\"hasval\">${FamilyTree._escapeGreaterLessSign(a.label)}</label>\\n                        <input data-binding=\"${FamilyTree._escapeDoubleQuotes(a.binding)}\" ${a.readOnlyAttribute} maxlength=\"256\" id=\"${a.id}\" name=\"${a.id}\" type=\"date\" value=\"${FamilyTree._escapeDoubleQuotes(a.value)}\" autocomplete=\"off\">\\n                    </div>\\n                </div>`,\n    id: a.id,\n    value: a.value\n  };\n}, FamilyTree.elements._vidrf = function (e, t, i) {\n  var r = {};\n  if (t.binding || (t.binding = \"\"), t.label || (t.label = \"\"), \"select\" != t.type || Array.isArray(t.options) ? r.options = t.options : r.options = [], r.value = e && !FamilyTree.isNEU(e[t.binding]) ? e[t.binding] : \"\", i && r.options) for (var a = 0; a < r.options.length; a++) if (r.options[a].value == r.value) {\n    r.value = r.options[a].text;\n    break;\n  }\n  if (r.id = FamilyTree.elements.generateId(), r.disabledAttribute = i ? \"data-bft-input-disabled\" : \"\", r.readOnlyAttribute = i ? \"readonly\" : \"\", r.id = r.id, i && FamilyTree.isNEU(r.value) && (r.doNotRender = !0), i && \"photo\" == t.binding && (r.id = null, r.doNotRender = !0), r.binding = t.binding, r.label = t.label, r.vlidators = \"\", t.vlidators) for (var n in t.vlidators) r.vlidators += `data-v-${n}=\"${t.vlidators[n]}\" `;\n  return r;\n}, FamilyTree.elements.ids = [], FamilyTree.elements.generateId = function () {\n  for (;;) {\n    var e = \"_\" + (\"0000\" + (Math.random() * Math.pow(36, 4) | 0).toString(36)).slice(-4);\n    if (!FamilyTree.elements.ids.has(e)) return FamilyTree.elements.ids.push(e), e;\n  }\n}, FamilyTree.input = {}, FamilyTree.input._timeout = null, FamilyTree.input.initWithTimeout = function () {\n  FamilyTree.input._timeout && (clearTimeout(FamilyTree.input._timeout), FamilyTree.input._timeout = null), FamilyTree.input._timeout = setTimeout(FamilyTree.input.init, 200);\n}, FamilyTree.input.init = function (e) {\n  var t;\n  t = e ? e.querySelectorAll(\"[data-bft-input]\") : document.querySelectorAll(\"[data-bft-input]\");\n  for (var i = 0; i < t.length; i++) {\n    var r = t[i],\n      a = null;\n    r.type && \"hidden\" == r.type.toLowerCase() && (a = r), a || (a = r.querySelector(\"input\")), a || (a = r.querySelector(\"select\"));\n    var n = r.querySelector(\"label\");\n    n && (a.value || \"select-one\" == a.type && a.selectedOptions && a.selectedOptions.length && \"\" == a.selectedOptions[0].value && a.selectedOptions[0].innerHTML) && n.classList.add(\"hasval\"), \"checkbox\" != a.type.toLowerCase() && a.addEventListener(\"focus\", function () {\n      this.classList.remove(\"bft-validation-error\");\n      var e = this.parentNode.querySelector(\"label\");\n      e.classList.add(\"focused\");\n      var t = e.querySelector(\".bft-validation-error-message\");\n      t && t.parentNode.removeChild(t);\n    }), \"checkbox\" != a.type.toLowerCase() && a.addEventListener(\"blur\", function () {\n      FamilyTree.input.blurHandler(this);\n    });\n  }\n}, FamilyTree.input.blurHandler = function (e) {\n  var t = e.parentNode.querySelector(\"label\");\n  t.classList.remove(\"focused\"), e.value || \"date\" == e.type ? t.classList.add(\"hasval\") : t.classList.remove(\"hasval\");\n}, FamilyTree.input.validate = function (e) {\n  var t = null;\n  e.type && \"hidden\" == e.type.toLowerCase() && (t = e), t || (t = e.querySelector(\"input\")), t || (t = e.querySelector(\"select\"));\n  var i = e.querySelector(\"label\");\n  if (t.classList.remove(\"bft-validation-error\"), i) {\n    var r = i.querySelector(\".bft-validation-error-message\");\n    r && r.parentNode.removeChild(r);\n  }\n  t.value && (t.value = t.value.trim());\n  var a = e.getAttribute(\"data-v-required\"),\n    n = e.getAttribute(\"data-v-password\"),\n    o = e.getAttribute(\"data-v-email\"),\n    l = e.getAttribute(\"data-v-emails\");\n  return a && \"\" == t.value ? (i.innerHTML += '<span class=\"bft-validation-error-message\">&nbsp;' + a + \"</span>\", t.classList.add(\"bft-validation-error\"), !1) : n && !FamilyTree.input.validatePassword(t.value) ? (i.innerHTML += '<span class=\"bft-validation-error-message\">&nbsp;' + n + \"</span>\", t.classList.add(\"bft-validation-error\"), !1) : o && !FamilyTree.input.isValidEmail(t.value) ? (i.innerHTML += '<span class=\"bft-validation-error-message\">&nbsp;' + o + \"</span>\", t.classList.add(\"bft-validation-error\"), !1) : !(l && !FamilyTree.input.isValidEmails(t.value)) || (i.innerHTML += '<span class=\"bft-validation-error-message\">&nbsp;' + l + \"</span>\", t.classList.add(\"bft-validation-error\"), !1);\n}, FamilyTree.input.validateAndGetData = function (e) {\n  for (var t = e.querySelectorAll(\"[data-bft-input]\"), i = !0, r = 0; r < t.length; r++) {\n    var a = t[r];\n    FamilyTree.input.validate(a) || (i = !1);\n  }\n  if (!i) return !1;\n  var n = e.querySelectorAll(\"[data-binding]\"),\n    o = {};\n  for (r = 0; r < n.length; r++) {\n    var l = n[r],\n      s = l.getAttribute(\"data-binding\");\n    \"checkbox\" == l.type.toLowerCase() ? o[s] = l.checked : o[s] = l.value;\n  }\n  return o;\n}, FamilyTree.input.validatePassword = function (e) {\n  return e && (e = e.trim()), !(e.length < 5) && !(e.length > 18) && -1 == e.indexOf(\" \");\n}, FamilyTree.input.isValidEmails = function (e) {\n  if (e) for (var t = e.split(\",\"), i = 0; i < t.length; i++) {\n    var r = t[i].trim();\n    if (!FamilyTree.input.isValidEmail(r)) return !1;\n  }\n  return !0;\n}, FamilyTree.input.isValidEmail = function (e) {\n  e && (e = e.trim());\n  return /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase());\n}, FamilyTree.prototype.hideTreeMenu = function (e, t) {\n  if (this._tree_menu_temp) {\n    var i = this._tree_menu_temp;\n    if (this.manager.oldNodes = this.nodes, this.nodes = i.nodes, this.manager.maxX = i.maxX, this.manager.maxY = i.maxY, this.manager.minX = i.minX, this.manager.minY = i.minY, this.manager.roots = i.roots, this.manager.nodes = i.nodes, this.manager.rootList = i.rootList, this.manager.visibleNodeIds = i.visibleNodeIds, this.manager.bordersByRootIdAndLevel = i.bordersByRootIdAndLevel, this.config.roots = i.config.roots, this.config.nodes = i.config.nodes, this._tree_menu_temp = null, e) {\n      var r = {\n        id: i.id,\n        animFromClickedNode: !1\n      };\n      this._draw(!0, FamilyTree.action.update, r, function () {\n        t && t();\n      });\n    }\n  }\n}, FamilyTree.prototype.showTreeMenu = function (e) {\n  this.editUI.hide(), null == e && console.error(\"Call addNode without id\");\n  var t = this.getNode(e);\n  t || console.error(\"Cannot get node id: \" + e);\n  var i = this.getNode(t.fid),\n    r = this.getNode(t.mid),\n    a = null,\n    n = null,\n    o = [],\n    l = [];\n  i && (a = this.get(i.id)), r && (n = this.get(r.id));\n  for (var s = 0; s < t.pids.length; s++) {\n    var d = this.get(t.pids[s]);\n    d && o.push(d);\n  }\n  for (s = 0; s < t.ftChildrenIds.length; s++) l.push(this.get(t.ftChildrenIds[s]));\n  var c = this.get(e);\n  this._tree_menu_temp = {\n    maxX: this.manager.maxX,\n    maxY: this.manager.maxY,\n    minX: this.manager.minX,\n    minY: this.manager.minY,\n    roots: this.manager.roots,\n    nodes: this.manager.nodes,\n    rootList: this.manager.rootList,\n    visibleNodeIds: this.manager.visibleNodeIds,\n    bordersByRootIdAndLevel: this.manager.bordersByRootIdAndLevel,\n    id: e,\n    config: {\n      roots: this.config.roots,\n      nodes: this.config.nodes\n    }\n  }, this.config.nodes = [];\n  var m = [];\n  if (n) m.push(n);else {\n    var p = {\n      id: \"_ft_mother\",\n      templateName: \"mother\",\n      _ft_method: \"addParentNode\",\n      _ft_childId: e,\n      _ft_type: \"mid\",\n      _ft_data: {\n        gender: \"female\"\n      }\n    };\n    c.mid = p.id, a ? (a.pids = [p.id], p.pids = [a.id], p._ft_data.pids = [a.id]) : p.pids = [\"_ft_father\"], m.push(p);\n  }\n  if (a) m.push(a);else {\n    var h = {\n      id: \"_ft_father\",\n      templateName: \"father\",\n      _ft_method: \"addParentNode\",\n      _ft_childId: e,\n      _ft_type: \"fid\",\n      _ft_data: {\n        gender: \"male\"\n      }\n    };\n    c.fid = h.id, n ? (n.pids = [h.id], h.pids = [n.id], h._ft_data.pids = [n.id]) : h.pids = [\"_ft_mother\"], m.push(h);\n  }\n  for (s = 0; s < o.length; s++) m.push(o[s]);\n  c.pids || (c.pids = []);\n  var f = {\n    id: \"_ft_partner\",\n    pids: [e],\n    templateName: \"partner\",\n    _ft_method: \"addPartnerNode\",\n    _ft_data: {\n      pids: [e]\n    }\n  };\n  if (\"male\" == c.gender ? (f.templateName = \"wife\", f._ft_data.gender = \"female\") : \"female\" == c.gender && (f.templateName = \"husband\", f._ft_data.gender = \"male\"), c.pids.push(f.id), m.push(f), c.pids) for (s = 0; s < c.pids.length; s++) {\n    if (m.push({\n      id: \"_ft_child_group_\" + s,\n      mid: e,\n      fid: c.pids[s],\n      tags: [\"children-group\"]\n    }), \"_ft_partner\" == c.pids[s]) {\n      var u = {\n          id: \"_ft_son_\" + s,\n          stpid: \"_ft_child_group_\" + s,\n          templateName: \"son\",\n          _ft_method: \"addChildAndPartnerNodes\",\n          _ft_childData: {\n            mid: t.id,\n            fid: f.id,\n            gender: \"male\"\n          },\n          _ft_partnerData: {\n            pids: [e]\n          },\n          _ft_id: e\n        },\n        y = {\n          id: \"_ft_daughter_\" + s,\n          stpid: \"_ft_child_group_\" + s,\n          templateName: \"daughter\",\n          _ft_method: \"addChildAndPartnerNodes\",\n          _ft_childData: {\n            mid: t.id,\n            fid: f.id,\n            gender: \"female\"\n          },\n          _ft_partnerData: {\n            pids: [e]\n          },\n          _ft_id: e\n        };\n      \"male\" == c.gender && \"female\" == f._ft_data.gender ? (u._ft_childData.mid = f.id, u._ft_childData.fid = c.id, u._ft_partnerData.gender = f._ft_data.gender, y._ft_childData.mid = f.id, y._ft_childData.fid = c.id, y._ft_partnerData.gender = f._ft_data.gender) : \"female\" == c.gender && \"male\" == f._ft_data.gender && (u._ft_childData.mid = c.id, u._ft_childData.fid = f.id, u._ft_partnerData.gender = f._ft_data.gender, y._ft_childData.mid = c.id, y._ft_childData.fid = f.id, y._ft_partnerData.gender = f._ft_data.gender), m.push(u), m.push(y);\n    } else m.push({\n      id: \"_ft_son_\" + s,\n      stpid: \"_ft_child_group_\" + s,\n      templateName: \"son\",\n      _ft_method: \"addChildNode\",\n      _ft_data: {\n        mid: e,\n        fid: c.pids[s],\n        gender: \"male\"\n      }\n    }), m.push({\n      id: \"_ft_daughter_\" + s,\n      stpid: \"_ft_child_group_\" + s,\n      templateName: \"daughter\",\n      _ft_method: \"addChildNode\",\n      _ft_data: {\n        mid: e,\n        fid: c.pids[s],\n        gender: \"female\"\n      }\n    });\n    for (var g = 0; g < l.length; g++) l[g].mid != c.pids[s] && l[g].fid != c.pids[s] || (l[g].mid = void 0, l[g].fid = void 0, l[g].stpid = \"_ft_child_group_\" + s, m.push(l[g]));\n  }\n  var v = [];\n  for (g = 0; g < l.length; g++) (l[g].fid == c.id && FamilyTree.isNEU(l[g].mid) || l[g].mid == c.id && FamilyTree.isNEU(l[g].fid)) && (l[g].fid == c.id ? l[g].mid = \"_ft_partner_for_single_child\" : l[g].mid == c.id && (l[g].fid = \"_ft_partner_for_single_child\"), m.push(l[g]), v.push(l[g].id));\n  if (v.length) {\n    var T = {\n      id: \"_ft_partner_for_single_child\",\n      pids: [e],\n      templateName: \"partner\",\n      _ft_method: \"addPartnerAndParentNodes\",\n      _ft_childIds: v,\n      _ft_partnerData: {\n        pids: [e]\n      },\n      _ft_id: e\n    };\n    \"male\" == c.gender ? (T.templateName = \"wife\", T._ft_partnerData.gender = \"female\") : \"female\" == c.gender && (T.templateName = \"husband\", T._ft_partnerData.gender = \"male\"), c.pids.push(T.id), m.push(T);\n  }\n  var b = {\n    nodes: m,\n    node: c\n  };\n  FamilyTree.events.publish(\"node-tree-menu-show\", [this, b]), b.nodes.push(b.node), this.config.nodes = b.nodes, c = this.get(e);\n  var F = this;\n  FamilyTree.isNEU(c.mid) ? FamilyTree.isNEU(c.fid) || (this.config.roots = [c.fid]) : this.config.roots = [c.mid];\n  var x = {\n    id: e,\n    treeMenuMode: !0\n  };\n  this._draw(!1, FamilyTree.action.update, x, function () {\n    FamilyTree._moveToBoundaryArea(F.getSvg(), F.getViewBox(), F.response.boundary);\n  });\n}, FamilyTree.ui.css = function () {\n  return '<style data-bft-styles>.bft-button{background-color:#039be5;cursor:pointer;width:calc(100%);height:50px;color:#fff;padding-top:5px;padding-left:7px;padding-right:7px;text-align:center;text-transform:uppercase;border:1px solid #3fc0ff;display:inline-block;border-radius:5px}.bft-button.orange{background-color:#f57c00;border:1px solid #ffa03e}.bft-button.yellow{background-color:#ffca28;border:1px solid #ffdf7c}.bft-button.lower{text-transform:unset}.bft-button.transparent{background-color:transparent}.bft-button:hover{background-color:#35afea}.bft-button.orange:hover{background-color:#f79632}.bft-button.yellow:hover{background-color:#ffd452}.bft-button:active{transform:matrix(.98,0,0,.98,0,0)}.bft-button-icon{text-align:initial;cursor:pointer;margin-bottom:15px;color:#039be5}.bft-dark .bft-button-icon:hover{background-color:#2d2d2d}.bft-light .bft-button-icon:hover{background-color:#ececec}.bft-button-icon>img{height:24px;width:24px;vertical-align:middle;padding:7px}.bft-button:focus{outline:0}.bft-button-icon>img{filter:invert(46%) sepia(66%) saturate(2530%) hue-rotate(171deg) brightness(95%) contrast(98%)}.bft-light .bft-button.transparent{color:#039be5}.bft-light .bft-button.transparent:hover{color:#fff}.bft-button-loading{background-color:transparent;cursor:pointer;width:calc(100% - 2px);height:50px;color:#fff;text-align:center;text-transform:uppercase;border:1px solid #027cb7;display:inline-block;display:flex;justify-content:center;align-items:center;display:none}.bft-button-loading .bft-loading-dots div{margin:0 10px}.bft-link-bft-button{position:absolute;right:10px;top:-1px}@media screen and (max-width:1000px){.bft-link-bft-button{right:50px}}[data-bft-input-disabled] .bft-link-bft-button{display:none}[dir=rtl] .bft-link-bft-button{left:10px;right:unset}.bft-img-button{width:48px;height:48px;cursor:pointer;border-radius:50%;background-color:#039be5;background-repeat:no-repeat;background-size:24px 24px;background-position:center center;margin:3px;display:inline-block}.bft-img-button:hover{background-color:#f57c00}.bft-checkbox{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}.bft-checkbox input{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.bft-checkbox-checkmark{position:absolute;top:0;left:0;height:25px;width:25px;border-radius:5px}.bft-dark [data-bft-input-disabled] .bft-checkbox-checkmark,.bft-dark [data-bft-input-disabled].bft-checkbox input:checked~.bft-checkbox-checkmark,.bft-light [data-bft-input-disabled] .bft-checkbox-checkmark,.bft-light [data-bft-input-disabled].bft-checkbox input:checked~.bft-checkbox-checkmark{background-color:#aeaeae!important}[data-bft-input-disabled].bft-checkbox{cursor:default}[dir=rtl] .bft-checkbox-checkmark{right:0}[dir=rtl] .bft-checkbox{padding-left:unset;padding-right:35px}.bft-dark .bft-checkbox-checkmark{background-color:#333;border:1px solid #5b5b5b}.bft-light .bft-checkbox-checkmark{background-color:#fff;border:1px solid #c7c7c7}.bft-dark .bft-checkbox:hover input~.bft-checkbox-checkmark{background-color:#3c3c3c}.bft-light .bft-checkbox:hover input~.bft-checkbox-checkmark{background-color:#f8f9f9}.bft-dark .bft-checkbox input:checked~.bft-checkbox-checkmark{background-color:#039be5}.bft-light .bft-checkbox input:checked~.bft-checkbox-checkmark{background-color:#039be5}.bft-checkbox-checkmark:after{content:\"\";position:absolute;display:none}.bft-checkbox input:checked~.bft-checkbox-checkmark:after{display:block}.bft-checkbox .bft-checkbox-checkmark:after{left:9px;top:5px;width:5px;height:10px;border:solid #fff;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.bft-filter{user-select:none}.bft-light .bft-filter{color:#757575}.bft-dark .bft-filter{color:#ccc}.bft-filter>div>div{display:inline-block;padding:3px 10px;cursor:pointer}.bft-filter-menu fieldset,.bft-filter>div,.filter-field-selected{border-radius:5px}.bft-filter-menu fieldset{overflow-y:auto;max-height:300px}.bft-filter>div.bft-filter-menu{padding:10px}.bft-light .bft-filter>div.bft-filter-menu,.bft-light .filter-field-selected{background-color:#f8f9f9}.bft-dark .bft-filter>div.bft-filter-menu,.bft-dark .filter-field-selected{background-color:#3c3c3c}.bft-light .bft-filter>div{background-color:#eee}.bft-dark .bft-filter>div{background-color:#333}.bft-form-perspective{transform-style:preserve-3d;perspective:500px;position:absolute;top:32px}.bft-form{box-shadow:rgba(0,0,0,.2) 0 6px 6px 0,rgba(0,0,0,.19) 0 13px 20px 0;padding:14px;transform-origin:top center;user-select:none;display:none;position:relative;max-height:calc(100vh - 100px);overflow-y:auto;border-bottom-left-radius:5px;border-bottom-right-radius:5px}.bft-form-bottom{border-bottom-left-radius:unset;border-bottom-right-radius:unset;border-top-left-radius:5px;border-top-right-radius:5px}.bft-form .separator{margin:0 10px}@media screen and (max-width:1000px){.bft-form-perspective{min-width:100%;max-height:calc(100% - 32px);left:unset!important;right:unset!important;transform:none!important}.bft-form .set{max-height:calc(100vh - 74px)}.bft-form-fieldset{max-width:unset!important}}.bft-light .bft-form .separator{border-bottom:1px solid #c7c7c7}.bft-dark .bft-form .separator{border-bottom:1px solid #5b5b5b}.bft-light .bft-form{background-color:#fff}.bft-dark .bft-form{background-color:#252526}.bft-item{padding:6px 12px 6px 12px;display:flex;flex-direction:row}.bft-light .bft-form .bft-item.selected,.bft-light .bft-form .bft-item:hover{background-color:#0074e8;color:#fff}.bft-dark .bft-form .bft-item.selected,.bft-dark .bft-form .bft-item:hover{background-color:#094771;color:#fff}.bft-item.selected img,.bft-item:hover img{filter:invert(100%)}.bft-item.selected img{visibility:visible!important}.bft-form-fieldset{display:flex;flex-wrap:wrap;margin:0!important}.bft-form-field{flex:1 0 21%;margin:3px;min-width:200px}.bft-form-field-100{flex:1 0 96%;margin:3px;min-width:200px}.bft-input{position:relative}.bft-input>input,.bft-input>select{height:50px;padding:18px 10px 2px 9px;width:100%;box-sizing:border-box;border-style:solid;border-width:1px}.bft-input select{height:50px;padding:20px 5px 4px 5px}[data-bft-input-disabled].bft-input>input,[data-bft-input-disabled].bft-input>select{border-color:transparent!important}.bft-light [data-bft-input-disabled]>input,.bft-light [data-bft-input-disabled]>select{background-color:#fff!important}.bft-dark [data-bft-input-disabled]>input,.bft-dark [data-bft-input-disabled]>select{background-color:#252526!important}[data-bft-input-disabled]>select{appearance:none;padding-left:8px}.bft-input>label{display:inline-block;position:absolute;padding-left:10px;padding-right:10px;color:#acacac;cursor:text;-webkit-transition:all .1s ease-out;-moz-transition:all .1s ease-out;-ms-transition:all .1s ease-out;-o-transition:all .1s ease-out;transition:all .1 ease-out;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:initial;text-align:initial;white-space:nowrap}.bft-input>label{top:12px;overflow:hidden;text-overflow:ellipsis;max-width:calc(100% - 14px)}.bft-input>label.focused,.bft-input>label.hasval{top:-1px}.bft-input>input,.bft-input>select{outline:0;border-radius:5px}.bft-dark .bft-input>label.focused,.bft-light .bft-input>label.focused{color:#039be5}.bft-dark .bft-input>input,.bft-dark .bft-input>select{color:#ccc;background-color:#333;border-color:#5b5b5b}.bft-light .bft-input>input,.bft-light .bft-input>select{color:#757575;background-color:#fff;border-color:#c7c7c7}.bft-light .bft-input>input:focus,.bft-light .bft-input>select:focus{border-color:#039be5;background-color:#f8f9f9}.bft-dark .bft-input>input:focus,.bft-dark .bft-input>select:focus{border-color:#039be5;background-color:#3c3c3c}.bft-dark .bft-input>input.bft-validation-error,.bft-dark .bft-input>select.bft-validation-error,.bft-light .bft-input>input.bft-validation-error,.bft-light .bft-input>select.bft-validation-error{border-color:#ca2a2a}.bft-dark .bft-validation-error-message,.bft-light .bft-validation-error-message{color:#ca2a2a}.bft-link{color:#039be5;cursor:pointer;text-decoration:underline}.bft-link:hover{color:#f57c00}.bft-dark ::-webkit-scrollbar,.bft-light ::-webkit-scrollbar{width:15px;height:15px}.bft-dark ::-webkit-scrollbar-corner{background:#1e1e1e}.bft-dark ::-webkit-scrollbar-track{background:#1e1e1e;border-left:1px solid #333;border-top:1px solid #333}.bft-dark ::-webkit-scrollbar-thumb{background:#424242}.bft-dark ::-webkit-scrollbar-thumb:hover{background:#4f4f4f}.bft-dark ::-webkit-scrollbar-thumb:active{background:#5e5e5e}.bft-light ::-webkit-scrollbar-corner{background:#fff}.bft-light ::-webkit-scrollbar-track{background:#fff;border-left:1px solid #ddd;border-top:1px solid #ddd}.bft-light ::-webkit-scrollbar-thumb{background:#c1c1c1}.bft-light ::-webkit-scrollbar-thumb:hover{background:#929292}.bft-light ::-webkit-scrollbar-thumb:active{background:#666}.bft-edit-form{position:fixed;top:0;right:0;height:100%;width:100%;box-shadow:rgba(0,0,0,.2) 0 6px 6px 0,rgba(0,0,0,.19) 0 13px 20px 0;display:flex;flex-direction:column;height:100%;width:400px}@media screen and (max-width:1000px){.bft-edit-form{width:100%}}.bft-dark .bft-edit-form{background-color:#252526}.bft-light .bft-edit-form{background-color:#fff}.bft-edit-form-header{height:200px;text-align:center;border-radius:10px}.export-service .bft-edit-form-header{border-radius:unset}.bft-edit-form-title{color:#fff;margin:0;padding:14px 17px 7px 17px}.bft-edit-form-avatar{border-radius:50%;width:150px;height:150px;position:absolute;top:75px;border:5px solid #fff;left:50%;transform:translateX(-50%);background-color:#cacaca;box-shadow:rgba(0,0,0,.2) 0 6px 6px 0,rgba(0,0,0,.19) 0 13px 20px 0}.bft-edit-form-close{position:absolute;right:14px;top:14px;width:34px;height:34px;cursor:pointer}.bft-edit-form-fields{flex-grow:1;overflow-y:auto;overflow-x:hidden}.bft-edit-form-fields-inner{margin:0 7px 20px 7px}.bft-family-menu{opacity:0;display:inline-block;position:absolute;text-align:left;user-select:none;min-width:270px;box-shadow:rgba(0,0,0,.2) 0 4px 8px 0,rgba(0,0,0,.19) 0 6px 20px 0;font:13px/28px Helvetica,\"Segoe UI\",Arial,sans-serif;border-radius:10px}.bft-family-menu>div:hover img{filter:invert(100%)}.bft-family-menu [data-item]{text-align:start;padding:7px 10px}.bft-dark .bft-family-menu [data-item]{background-color:#252526;color:#acacac;border-bottom:1px solid #333}.bft-dark .bft-family-menu [data-item]:hover{background-color:#094771!important;color:#fff!important}.bft-dark .bft-family-menu [data-item]:hover svg{filter:brightness(0) invert(1)}.bft-light .bft-family-menu [data-item]{background-color:#fff;color:#333;border-bottom:1px solid #c7c7c7}.bft-light .bft-family-menu [data-item]:hover{background-color:#0074e8!important;color:#fff!important}.bft-light .bft-family-menu [data-item]:hover svg{filter:brightness(0) invert(1)}.bft-family-menu [data-item] svg{vertical-align:middle}.bft-family-menu [data-item]:first-child{border-top-left-radius:7px;border-top-right-radius:7px}.bft-family-menu [data-item]:last-child{border-bottom-width:0;border-bottom-style:none;border-bottom-left-radius:7px;border-bottom-right-radius:7px}.bft-search{position:absolute}@media screen and (max-width:500px){.bft-search{width:calc(100% - 30px);left:15px}}.bft-search .bft-input{margin-bottom:0}.bft-search-input{color:#7a7a7a;width:100%;border:none;outline:0;padding-top:10px;padding-right:47px}.bft-search-image-td{width:43px}.bft-search-text-td{padding-inline-end:7px;line-height:15px;text-align:start}.bft-search table{box-shadow:rgba(0,0,0,.2) 0 4px 8px 0,rgba(0,0,0,.19) 0 6px 20px 0;margin:0 3.5px 0 3.5px;width:calc(100% - 7px);border-radius:7px}.bft-search table tr:first-child td:first-child{border-top-left-radius:7px}.bft-search table tr:first-child td:last-child{border-top-right-radius:7px}[dir=rtl] .bft-search table tr:first-child td:first-child{border-top-left-radius:unset;border-top-right-radius:7px}[dir=rtl] .bft-search table tr:first-child td:last-child{border-top-right-radius:unset;border-top-left-radius:7px}.bft-search table tr:last-child td:first-child{border-bottom-left-radius:7px}.bft-search table tr:last-child td:last-child{border-bottom-right-radius:7px}[dir=rtl] .bft-search table tr:last-child td:first-child{border-bottom-left-radius:unset;border-bottom-right-radius:7px}[dir=rtl] .bft-search table tr:last-child td:last-child{border-bottom-right-radius:unset;border-bottom-left-radius:7px}.bft-dark .bft-search table{background-color:#252526;color:#acacac}.bft-search [data-search-item-id]{cursor:pointer}.bft-search-photo{margin:7px 7px 0 7px;width:32px;height:32px;background-size:cover;background-position:top center;border-radius:50%;display:inline-block;border:1px solid #8c8c8c}.bft-search [data-search-item-id]:hover .bft-link{color:#ffca28}.bft-search [data-search-item-id]:hover .bft-link:hover{color:#f57c00}.bft-dark .bft-search [data-search-item-id] td{border-top:1px solid #333}.bft-dark .bft-search [data-search-item-id]:hover,.bft-dark .bft-search [data-selected=yes]{background-color:#094771;color:#fff}.bft-light .bft-search table{background-color:#fff;color:#333}.bft-light .bft-search [data-search-item-id] td{border-top:1px solid #c7c7c7}.bft-light .bft-search [data-search-item-id]:hover,.bft-light .bft-search [data-selected=yes]{background-color:#0074e8;color:#fff}.bft-search [data-search-item-id]:first-child td{border-top:unset}.bft-ripple-container{position:absolute;top:0;right:0;bottom:0;left:0}.bft-drag-over rect{opacity:.5}.bft-ripple-container span{transform:scale(0);border-radius:100%;position:absolute;opacity:.75;background-color:#fff;animation:bft-ripple 1s}@-moz-keyframes bft-ripple{to{opacity:0;transform:scale(2)}}@-webkit-keyframes bft-ripple{to{opacity:0;transform:scale(2)}}@-o-keyframes bft-ripple{to{opacity:0;transform:scale(2)}}@keyframes bft-ripple{to{opacity:0;transform:scale(2)}}.bft-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;-webkit-transition:.4s;transition:.4s}.bft-slider:before{position:absolute;content:\"\";height:16px;width:16px;left:4px;bottom:4px;background-color:#fff;-webkit-transition:.4s;transition:.4s}.bft-slider.round{border-radius:24px}.bft-slider.round:before{border-radius:50%}svg text:hover{cursor:default}svg.bft-cursor-grab,svg.bft-cursor-grab text:hover{cursor:grab}svg.bft-cursor-nodrop,svg.bft-cursor-nodrop text:hover{cursor:no-drop}svg.bft-cursor-copy,svg.bft-cursor-copy text:hover{cursor:copy}svg.bft-cursor-move,svg.bft-cursor-move text:hover{cursor:move}#bft-close-btn:focus,#bft-close-btn:hover{color:#000;text-decoration:none;cursor:pointer}#bft-id-select:focus{outline:.5px solid #aeaeae}#bft-sampleDialog #title:hover{cursor:default;background:gray}.bft-light{background-color:#fff;font:13px/28px Helvetica,\"Segoe UI\",Arial,sans-serif}.bft-dark{background-color:#1e1e1e;font:13px/28px Helvetica,\"Segoe UI\",Arial,sans-serif}.bft-light .bft-fill{fill:#fff}.bft-dark .bft-fill{fill:#1e1e1e}.bft-dark input,.bft-dark select,.bft-light input,.bft-light select{font:16px Helvetica,\"Segoe UI\",Arial,sans-serif}.bft-dark h1,.bft-light h1{font-size:30px;line-height:1}.bft-edit-form{position:absolute;border-radius:10px}.export-service .bft-edit-form{border-radius:unset}.bft-dark .bft-edit-form{color:#acacac}.bft-light .bft-edit-form{color:#333}.bft-dark ::-webkit-calendar-picker-indicator{filter:invert(70%)}.bft-light ::-webkit-calendar-picker-indicator{filter:invert(50%)}.bft-edit-form-instruments{margin:42px 10px 0 10px;text-align:center;min-height:70px}.bft-img-button svg{position:relative;top:12px}.bft-light .bft-toolbar-container svg circle,.bft-light .bft-toolbar-container svg line,.bft-light .bft-toolbar-container svg path{stroke:#8c8c8c!important}.bft-dark .bft-toolbar-container svg circle,.bft-dark .bft-toolbar-container svg line,.bft-dark .bft-toolbar-container svg path{stroke:#8c8c8c!important}.bft-dark .bft-toolbar-container svg rect{fill:#252526!important}.bft-dark .bft-toolbar-container [data-tlbr=minus] svg{border-left:1px solid #5b5b5b!important;border-right:1px solid #5b5b5b!important;border-bottom:1px solid #5b5b5b!important}.bft-dark .bft-toolbar-container [data-tlbr=plus] svg{border-left:1px solid #5b5b5b!important;border-right:1px solid #5b5b5b!important;border-top:1px solid #5b5b5b!important}.bft-dark .bft-toolbar-container [data-tlbr]>svg{border:1px solid #5b5b5b!important;background-color:#252526!important}.bft-toolbar-layout{height:123px;padding-top:20px;position:absolute;width:100%;left:\"0\";bottom:\"-145px\"}.bft-light .bft-toolbar-layout{border-top:1px solid #c7c7c7;background-color:#f9f9f9}.bft-dark .bft-toolbar-layout{border-top:1px solid #5b5b5b;background-color:#2b2b2b}.bft-dotted-connector path{stroke-dasharray:7}.bft-undo-redo{position:absolute;top:23px;left:23px}@media screen and (max-width:500px){.bft-undo-redo{position:absolute;top:83px;left:23px}}.bft-light .bft-undo-redo path{fill:#cacaca}.bft-dark .bft-undo-redo path{fill:#5b5b5b}.bft-light .bft-undo-redo .bft-ur-clickable path{fill:#9c9c9c}.bft-dark .bft-undo-redo .bft-ur-clickable path{fill:#8c8c8c}.bft-undo-redo .bft-ur-clickable rect{cursor:pointer}.bft-undo-redo>span{position:relative;display:inline-block;user-select:none}.bft-undo-redo .bft-undo-i{left:-6px;top:-6px}.bft-undo-redo .bft-redo-i{right:-6px;bottom:6px}.bft-undo-redo>span>span{color:#fff;position:absolute;display:inline-block;min-width:20px;min-height:20px;border-radius:50%;line-height:20px;text-align:center;padding:1px;user-select:none;cursor:pointer}.bft-light .bft-undo-redo>span>span{background-color:#9c9c9c}.bft-dark .bft-undo-redo>span>span{background-color:#8c8c8c}</style>';\n}, FamilyTree.events.on(\"render\", function (e, t) {\n  if (e.recentRoots || (e.recentRoots = []), e.config.roots) for (var i = 0; i < e.config.roots.length; i++) {\n    var r = e.recentRoots.indexOf(e.config.roots[i]);\n    -1 != r && e.recentRoots.splice(r, 1), e.recentRoots.unshift(e.config.roots[i]);\n  }\n}), FamilyTree.events.on(\"show\", function (e, t) {\n  if (e instanceof FamilyTree.editUI && e.obj._tree_menu_temp) return !1;\n}), FamilyTree.events.on(\"render-link\", function (e, t) {\n  null != t.cnode.ppid && t.cnode.layout != FamilyTree.mixed && (t.html += '<use xlink:href=\"#dot\" x=\"' + t.p.xa + '\" y=\"' + t.p.ya + '\"/>');\n}), FamilyTree.events.on(\"click\", function (e, t) {\n  if (e instanceof FamilyTree) {\n    var i = e._get(t.node.id);\n    if (i._ft_method) return \"addParentNode\" == i._ft_method ? e[i._ft_method](i._ft_childId, i._ft_type, i._ft_data, null, !0) : \"addChildAndPartnerNodes\" == i._ft_method ? e[i._ft_method](i._ft_id, i._ft_childData, i._ft_partnerData, null, !0) : \"addPartnerAndParentNodes\" == i._ft_method ? e[i._ft_method](i._ft_id, i._ft_childIds, i._ft_partnerData, null, !0) : e[i._ft_method](i._ft_data, null, !0), !1;\n    for (var r = t.event.target; r;) {\n      if (r.getAttribute && (r.hasAttribute(\"data-ctrl-n-t-menu-id\") || r.hasAttribute(\"data-ctrl-n-t-menu-c\"))) {\n        var a = r.getAttribute(\"data-ctrl-n-t-menu-id\");\n        return FamilyTree.isNEU(a) ? e.hideTreeMenu(!0) : e.showTreeMenu(a), t.event.stopPropagation(), t.event.preventDefault(), !1;\n      }\n      r = r.parentNode;\n    }\n  }\n}), void 0 === FamilyTree && (FamilyTree = {}), FamilyTree.prototype.onField = function (e) {\n  return this.on(\"field\", function (t, i) {\n    return e.call(t, i);\n  });\n}, FamilyTree.prototype.onInit = function (e) {\n  return this.on(\"init\", function (t) {\n    return e.call(t);\n  });\n}, FamilyTree.prototype.onRedraw = function (e) {\n  return this.on(\"redraw\", function (t) {\n    return e.call(t);\n  });\n}, FamilyTree.prototype.onUpdateNode = function (e) {\n  return this.on(\"update\", function (t, i, r) {\n    var a = {\n      oldData: i,\n      newData: r\n    };\n    return e.call(t, a);\n  });\n}, FamilyTree.prototype.onUpdated = function (e) {\n  return this.on(\"updated\", function (t) {\n    return e.call(t);\n  });\n}, FamilyTree.prototype.onRemoveNode = function (e) {\n  return this.on(\"remove\", function (t, i, r) {\n    var a = {\n      id: i,\n      newPidsAndStpidsForIds: r\n    };\n    return e.call(t, a);\n  });\n}, FamilyTree.prototype.onAddNode = function (e) {\n  return this.on(\"add\", function (t, i) {\n    var r = {\n      data: i\n    };\n    return e.call(t, r);\n  });\n}, FamilyTree.prototype.onDrop = function (e) {\n  return this.on(\"drop\", function (t, i, r, a, n) {\n    var o = {\n      dragId: i,\n      dropId: r,\n      dragNodeElement: a,\n      event: n\n    };\n    return e.call(t, o);\n  });\n}, FamilyTree.prototype.onDrag = function (e) {\n  return this.on(\"drag\", function (t, i, r, a) {\n    var n = {\n      dragId: i,\n      event: r,\n      nodeIds: a\n    };\n    return e.call(t, n);\n  });\n}, FamilyTree.prototype.onExpandCollpaseButtonClick = function (e) {\n  return this.on(\"expcollclick\", function (t, i, r, a) {\n    var n = {\n      collapsing: i,\n      id: r,\n      ids: a\n    };\n    return e.call(t, n);\n  });\n}, FamilyTree.prototype.onExportStart = function (e) {\n  return this.on(\"exportstart\", function (t, i) {\n    return e.call(t, i);\n  });\n}, FamilyTree.prototype.onExportEnd = function (e) {\n  return this.on(\"exportend\", function (t, i) {\n    return e.call(t, i);\n  });\n}, FamilyTree.prototype.onNodeClick = function (e) {\n  return this.on(\"click\", function (t, i) {\n    return e.call(t, i);\n  });\n}, FamilyTree.prototype.onNodeDoubleClick = function (e) {\n  return this.on(\"dbclick\", function (t, i) {\n    var r = {\n      data: i\n    };\n    return e.call(t, r);\n  });\n}, FamilyTree.prototype.onUpdateNode = function (e) {\n  return this.on(\"update\", function (t, i) {\n    return e.call(t, i);\n  });\n}, FamilyTree.prototype.onNodeTreeMenuShow = function (e) {\n  return this.on(\"node-tree-menu-show\", function (t, i) {\n    return e.call(t, i);\n  });\n}, FamilyTree.prototype.onRemoveNode = null, FamilyTree.prototype.onAddNode = null, FamilyTree.filterUI = function () {}, FamilyTree.filterUI.prototype.init = function (e) {\n  this.instance = e, this.element = null, this.filterBy = null, this._event_id = FamilyTree._guid();\n}, FamilyTree.filterUI.prototype.addFilterTag = function (e) {\n  if (!this.instance.config.filterBy) return !1;\n  if (FamilyTree.isNEU(e)) return !1;\n  if (null !== this.filterBy || \"object\" != typeof this.instance.config.filterBy || Array.isArray(this.instance.config.filterBy) || (this.filterBy = JSON.parse(JSON.stringify(this.instance.config.filterBy))), null != this.filterBy) for (var t in this.filterBy) {\n    var i = e[t];\n    if (null != i) {\n      var r = this.filterBy[t];\n      if (null != r) {\n        var a = r[i];\n        if (null != a && !1 === a.checked) return !0;\n      }\n    }\n  }\n  return !1;\n}, FamilyTree.filterUI.prototype.show = function (e) {\n  var t = this.element.querySelector('[data-filter-field=\"' + e + '\"]');\n  t && t.click();\n}, FamilyTree.filterUI.prototype.hide = function () {\n  var e = this.instance.element.querySelector(\"[data-filter-close]\");\n  e && e.click();\n}, FamilyTree.filterUI.prototype.update = function () {\n  if (this.instance.config.filterBy) {\n    var e = {};\n    if (\"all\" == this.instance.config.filterBy) for (var t = FamilyTree.manager.getAllFields(this.instance.config), i = 0; i < t.length; i++) {\n      var r = t[i];\n      \"tags\" != r && \"id\" != r && \"pid\" != r && \"ppid\" != r && \"stpid\" != r && (e[r] = {});\n    } else if (Array.isArray(this.instance.config.filterBy)) for (i = 0; i < this.instance.config.filterBy.length; i++) e[this.instance.config.filterBy[i]] = {};else if (\"object\" == typeof this.instance.config.filterBy) for (var a in this.instance.config.filterBy) e[a] = {};\n    for (var n in e) {\n      var o = e[n];\n      for (i = 0; i < this.instance.config.nodes.length; i++) {\n        var l = this.instance.config.nodes[i][n];\n        null != l && (o[l] || (o[l] = {\n          checked: !0,\n          text: l\n        }));\n      }\n    }\n    if (null != this.filterBy) for (var s in e) if (this.filterBy[s]) for (var d in e[s]) this.filterBy[s][d] && (e[s][d] = this.filterBy[s][d]);\n    this.filterBy = e;\n    var c = this;\n    this.element = this.instance.element.querySelector(\"[data-filter]\"), this.element && this.element.parentNode.removeChild(this.element), this.element = document.createElement(\"div\"), this.element.setAttribute(\"data-filter\", \"\"), this.element.style.position = \"absolute\", this.element.setAttribute(\"class\", \"bft-filter\"), this.instance.config.undoRedoStorageName ? (this.element.style.top = 0, this.element.style.left = \"50%\", this.element.style.transform = \"translate(-50%)\") : (this.element.style.top = this.instance.config.padding + \"px\", this.element.style.left = this.instance.config.padding + \"px\");\n    var m = \"\";\n    for (var s in this.filterBy) {\n      var p = {\n        name: s,\n        html: `<div data-filter-field=\"${s}\">${s}</div>`\n      };\n      FamilyTree.events.publish(\"add-filter\", [c, p]), m += p.html;\n    }\n    this.element.innerHTML = `<div>${m}</div>`, this.element.addEventListener(\"click\", function (e) {\n      if (e.target.hasAttribute(\"data-filter-close\") || e.target.hasAttribute(\"data-filter-field\")) {\n        for (var t = e.target.getAttribute(\"data-filter-field\"), i = c.instance.element.querySelectorAll(\"[data-filter-menu]\"), r = 0; r < i.length; r++) i[r].style.display = \"none\";\n        var a = c.instance.element.querySelectorAll(\".filter-field-selected\");\n        for (r = 0; r < a.length; r++) a[r].classList.remove(\"filter-field-selected\");\n        var n = c.instance.element.querySelector(\"[data-filter-close]\");\n        if (n && n.parentNode.removeChild(n), e.target.hasAttribute(\"data-filter-close\")) return;\n        if (!e.target.hasAttribute(\"data-filter-field\")) return;\n        var o = c.instance.element.querySelector(`[data-filter-menu=\"${t}\"]`);\n        if (!o) {\n          var l = {\n            name: t,\n            text: \"[All]\",\n            value: t,\n            checked: !0,\n            html: `<div>\\n                        <input data-all type=\"checkbox\" id=\"${t}\" name=\"${t}\" checked>\\n                        <label for=\"${t}\">[All]</label>\\n                    </div>`\n          };\n          FamilyTree.events.publish(\"add-item\", [c, l]);\n          var s = l.html;\n          for (var d in c.filterBy[t]) {\n            var m = c.filterBy[t][d],\n              p = m.text;\n            null == p && (p = d), l = {\n              name: t,\n              text: p,\n              value: d,\n              checked: m.checked,\n              html: `<div>\\n                            <input  type=\"checkbox\" id=\"${d}\" name=\"${d}\" ${m.checked ? \"checked\" : \"\"}>\\n                            <label for=\"${d}\">${p}</label>\\n                        </div>`\n            }, FamilyTree.events.publish(\"add-item\", [c, l]), s += l.html;\n          }\n          (o = document.createElement(\"div\")).innerHTML = `<fieldset>\\n                                                    <legend>Filter by ${t}:</legend>\\n                                                    ${s}\\n                                                </fieldset>`, o.setAttribute(\"data-filter-menu\", t), o.classList.add(\"bft-filter-menu\"), e.target.parentNode.parentNode.appendChild(o);\n          var h = o.querySelectorAll(\"input\");\n          for (r = 0; r < h.length; r++) h[r].addEventListener(\"change\", function (e) {\n            for (var t = e.target; t && !t.hasAttribute(\"data-filter-menu\");) t = t.parentNode;\n            if (t) {\n              var i = t.getAttribute(\"data-filter-menu\");\n              if (e.target.hasAttribute(\"data-all\")) {\n                for (var r = e.target.parentNode.parentNode.querySelectorAll(\"input\"), a = 0; a < r.length; a++) if (r[a] != e.target) for (var n in r[a].checked = e.target.checked, c.filterBy[i]) c.filterBy[i][n].checked = e.target.checked;\n              } else if (null != c.filterBy[i][this.name] && (c.filterBy[i][this.name].checked = this.checked), this.checked) for (var o = c.instance.config.nodes, l = 0; l < o.length; l++) if (o[l][i] == this.name) for (var s = o[l]; s;) if (FamilyTree.isNEU(s.stpid)) s = FamilyTree.isNEU(s.pid) ? null : c.instance._get(s.pid);else if ((s = c.instance._get(s.stpid))[i]) {\n                var d = e.target.parentNode.parentNode.querySelector('[name=\"' + s[i] + '\"]');\n                d ? (d.checked = this.checked, c.filterBy[i][s[i]].checked = this.checked) : console.error('Cannot find element with selector: [name=\"' + s[i] + '\"]');\n              }\n              c.instance.draw();\n            }\n          });\n        }\n        o.style.display = \"block\", e.target.classList.add(\"filter-field-selected\"), (n = document.createElement(\"div\")).classList.add(\"close\"), n.innerHTML = \"x\", n.setAttribute(\"data-filter-close\", \"\"), e.target.parentNode.appendChild(n), FamilyTree.events.publish(\"show-items\", [c, {\n          name: t\n        }]);\n      }\n    }), this.instance.element.appendChild(this.element), FamilyTree.events.publish(\"update\", [this, {}]);\n  }\n}, FamilyTree.filterUI.prototype.on = function (e, t) {\n  return FamilyTree.events.on(e, t, this._event_id), this;\n}, void 0 === FamilyTree && (FamilyTree = {}), void 0 === FamilyTree.remote && (FamilyTree.remote = {}), FamilyTree.LIMIT_NODES = !0, FamilyTree.remote._fromResDTO = function (e, t, i, r, a) {\n  var n = t[e.id];\n  e.x = n.p[0], e.y = n.p[1], e.w = n.p[2], e.h = n.p[3], null != n.ln && (e.leftNeighbor = a[n.ln]), null != n.rn && (e.rightNeighbor = a[n.rn]);\n  for (var o = 0; o < e.stChildren.length; o++) FamilyTree.remote._fromResDTO(e.stChildren[o], t, i, r, a);\n  for (o = 0; o < e.children.length; o++) FamilyTree.remote._fromResDTO(e.children[o], t, i, r, a);\n}, FamilyTree.remote._toReqDTO = function (e, t) {\n  var i = {\n    p: [e.id, null != e.parent ? e.parent.id : null, null != e.stParent ? e.stParent.id : null, e.w, e.h]\n  };\n  e.children.length > 0 && (i.c = FamilyTree.remote._convertToIdArray(e.children)), e.stChildren.length > 0 && (i.v = FamilyTree.remote._convertToIdArray(e.stChildren)), null != e.layout && 0 != e.layout && (i.l = e.layout), e.isAssistant && (i.a = 1), e.isSplit && (i.s = e.isSplit), e.isMirror && (i.im = e.isMirror), e.padding && (i.q = e.padding), e.lcn && (i.k = e.lcn), e.stContainerNodes && (i.b = FamilyTree.remote._convertToIdArray(e.stContainerNodes)), e.isPartner && (i.i = e.isPartner), e.hasPartners && (i.g = e.hasPartners), e.partnerSeparation && (i.e = e.partnerSeparation), t.push(i);\n  for (var r = 0; r < e.stChildren.length; r++) FamilyTree.remote._toReqDTO(e.stChildren[r], t);\n  for (r = 0; r < e.children.length; r++) FamilyTree.remote._toReqDTO(e.children[r], t);\n}, FamilyTree.remote._toReqLayoutConfigsDTO = function (e) {\n  var t = {};\n  for (var i in e) {\n    var r = e[i];\n    t[i] || (t[i] = []), t[i][0] = r.orientation, t[i][1] = r.levelSeparation, t[i][2] = r.mixedHierarchyNodesSeparation, t[i][3] = r.subtreeSeparation, t[i][4] = r.siblingSeparation, t[i][5] = r.layout, t[i][6] = r.columns, t[i][7] = r.collapse, t[i][8] = r.assistantSeparation, t[i][9] = r.partnerNodeSeparation;\n  }\n  return t;\n}, FamilyTree.remote._convertToIdArray = function (e) {\n  for (var t = [], i = 0; i < e.length; i++) t.push(e[i].id);\n  return t;\n}, FamilyTree.remote._setPositions = function (e, t, i, r) {\n  for (var a = [], n = [], o = FamilyTree.remote._toReqLayoutConfigsDTO(t), l = 0; l < e.length; l++) n.push(e[l].id), FamilyTree.remote._toReqDTO(e[l], a);\n  var s = {\n    n: a,\n    c: o,\n    r: n,\n    v: \"8.12.02\"\n  };\n  if (FamilyTree.LIMIT_NODES || (s.l = !0), null != FamilyTree.remote._fromReqDTO) FamilyTree.remote._fromReqDTO(s.n, s.r, s.c, function (t) {\n    for (var a = 0; a < e.length; a++) FamilyTree.remote._fromResDTO(e[a], t, 0, e, r);\n    i();\n  });else {\n    s = JSON.stringify(s);\n    var d = FamilyTree.localStorage.getItem(s);\n    d && (d = JSON.parse(d)), d && !d.limit ? FamilyTree.remote._proceed(e, d, r, i) : FamilyTree.remote._findRegion(function (t) {\n      FamilyTree._ajax(t, \"post\", s, \"json\", function (t) {\n        t.error ? i(2) : (FamilyTree.remote._proceed(e, t, r, i), FamilyTree.localStorage.setItem(s, JSON.stringify(t)));\n      });\n    });\n  }\n}, FamilyTree.remote._proceed = function (e, t, i, r) {\n  if (\"string\" == typeof t && (t = JSON.parse(t)), t.limit && 1 == t.limit) r(t.limit);else {\n    for (var a = 0; a < e.length; a++) FamilyTree.remote._fromResDTO(e[a], t, 0, e, i);\n    r();\n  }\n}, FamilyTree.remote._findRegion = function (e) {\n  var t = FamilyTree.localStorage.getItem(\"funcUrl\");\n  if (t) e(t);else {\n    for (var i = [\"au-e\", \"au-se\", \"brs\", \"ca\", \"ca-e\", \"easia\", \"eus-2\", \"eus\", \"fr\", \"ind\", \"jp-e\", \"jp-w\", \"kr\", \"n-eu\", \"se-asia\", \"s-ind\", \"uk-s\", \"uk-w\", \"us\", \"us-n-c\", \"us-s-c\", \"w-c-us\", \"w-eu\", \"w-ind\", \"w-us-2\", \"wus\"], r = [], a = 0; a < i.length; a++) r.push(new XMLHttpRequest());\n    for (a = 0; a < i.length; a++) !function () {\n      var t = \"https://\" + i[a] + \"-balkangraph.azurewebsites.net/api/OrgChartJS\",\n        n = r[a];\n      n.onreadystatechange = function () {\n        if (4 == this.readyState && 200 == this.status) {\n          FamilyTree.localStorage.setItem(\"funcUrl\", t), e(t);\n          for (var i = 0; i < r.length; i++) r[i].abort();\n        }\n      }, n.open(\"GET\", t, !0), n.send();\n    }();\n  }\n};\nvar _c;\n$RefreshReg$(_c, \"FamilyTree\");","map":{"version":3,"names":["FamilyTree","e","t","i","String","document","querySelector","element","config","mergeDeep","_defaultConfig","_layoutConfigs","base","orientation","levelSeparation","mixedHierarchyNodesSeparation","assistantSeparation","subtreeSeparation","siblingSeparation","layout","columns","collapse","partnerNodeSeparation","tags","r","a","subTreeConfig","_event_id","_guid","_validateConfig","_vScroll","ui","editUI","init","filterUI","manager","searchUI","nodeMenuUI","menuUI","nodeMenu","nodeCircleMenuUI","circleMenuUI","nodeCircleMenu","nodeContextMenuUI","nodeContextMenu","toolbarUI","notifierUI","menu","xScrollUI","boundary","response","scale","getScale","viewBox","getViewBox","padding","setViewBox","_draw","action","xScroll","yScrollUI","undoRedoUI","classList","add","mode","_gragStartedId","_timeout","_touch","_initialized","_loaded","_moveInterval","_movePosition","nodes","isVisible","_intersectionObserver","events","publish","LAZY_LOADING","update","_setInitialSizeIfNotSet","_c","interactive","lazyLoading","enableDragDrop","enableSearch","enableTouch","enablePan","keyNavigation","miniMap","toolbar","sticky","nodeMouseClick","details","nodeMouseDbClick","none","mouseScrool","zoom","showXScroll","showYScroll","template","min","nodeBinding","linkBinding","searchFields","searchDisplayField","searchFieldsWeight","searchFieldsAbbreviation","clinks","slinks","groupDottedLines","dottedLines","undoRedoStorageName","minPartnerSeparation","partnerChildrenSplitSeparation","top","normal","scaleInitial","draggable","scaleMin","scaleMax","orderBy","exportUrl","expand","align","CENTER","UI","anim","func","outPow","duration","speed","smooth","roots","state","editForm","readOnly","titleBinding","photoBinding","addMore","addMoreBtn","addMoreFieldName","saveAndCloseBtn","cancelBtn","generateElementsFromFields","focusBinding","buttons","edit","icon","text","hideIfEditMode","hideIfDetailsMode","share","pdf","remove","elements","prototype","load","loadXML","_xml2json","getXML","_json2xml","on","removeListener","draw","width","height","_hideBeforeAnimationCompleted","n","read","show","notif","exporting","visibleNodeIds","fields","allFields","defs","o","l","pointer","s","d","content","res","c","length","m","p","_get","id","RENDER_LINKS_BEFORE_NODES","link","bordersByRootIdAndLevel","node","animations","expandCollapseBtn","lonely","centerNode","insert","b","svg","h","getSvg","f","parentNode","removeChild","insertAdjacentHTML","_attachEventHandlers","addListener","setPosition","innerHTML","css","menuButton","_attachInitEventHandlers","create","u","y","_hideBeforeAnimation","getNodeElement","animate","_showAfterAnimation","viewbox","ripple","options","rippleId","Object","keys","g","v","maxX","minX","T","maxY","minY","console","error","style","overflow","position","offsetHeight","offsetWidth","_getViewBox","setAttribute","toString","setScale","slice","getNode","w","getBoundingClientRect","left","createElementNS","randomId","templateName","rect","x","radius","color","appendChild","opacity","center","parentState","childrenState","vertical","horizontal","fit","match","method","toggleFullScreen","attr","tlbr","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","openFullScreenIcon","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","closeFullScreenIcon","setLayout","setOrientation","_moveToBoundaryArea","pan","search","isNEU","_searchFields","_search","_searchFieldsAbbreviation","ANIM_THRESHOLD","getElementsByTagName","TEXT_THRESHOLD","display","IMAGES_THRESHOLD","querySelectorAll","link_id","LINKS_THRESHOLD","control_expcoll_id","BUTTONS_THRESHOLD","control_up_id","isChild","parent","stParent","getCollapsedIds","childrenIds","collapsed","push","stateToUrl","exp","join","adjustify","URLSearchParams","generateId","Math","random","pow","hasOwnProperty","moveNodesToVisibleArea","ceil","firstRoot","_getNodeWidth","right","right_top","bottom_left","top_left","left_top","bottom","_nodeHasHiddenParent","pid","destroy","_removeEvent","window","removeForEventId","__defaultConfig","nodeTreeMenu","male","female","getRecentRootsByNodeId","recentRoots","rids","sort","indexOf","isPartner","mid","fid","pids","_center","Array","isArray","_changeRootOption","rootList","localStorage","getItem","Date","key","startsWith","removeItem","setDate","getDate","toISOString","setItem","code","QUOTA_EXCEEDED_ERR","warn","clear","canUpdateLink","hasPartners","isAssistant","hasAssistants","_canUpdateLink","updateNode","get","stpid","_putInUndoStack","clearRedo","removeNode","canRemove","_getNewPidsAndStpidsForIds","splice","newPidsForIds","newStpidsForIds","addNode","insertedNodeId","movex","movey","replaceIds","_replaceIds","from","to","ppid","oldNodes","__get","replace","substring","JSON","parse","stringify","addChildNode","hideTreeMenu","addNodesData","updateNodesData","removeNodeId","_fireUpdate_addUpdateRemove","addChildAndPartnerNodes","addPartnerAndParentNodes","addPartnerNode","addParentNode","has","ftChildrenIds","compare","__replaceIds","_ajax","XMLHttpRequest","onload","readyState","status","target","onerror","open","responseType","setRequestHeader","send","setInterval","_arrayContains","toLowerCase","getAttribute","transform","hasAttribute","F","parseInt","scrollTo","clearInterval","inPow","inOutPow","inSin","cos","PI","outSin","sin","inOutSin","inExp","outExp","inOutExp","inCirc","sqrt","outCirc","inOutCirc","rebound","inBack","outBack","inOutBack","impulse","expPulse","_addEvent","_resizeHandler","isMobile","_globalMouseDownHandler","_globalClickHandler","_globalContextHandler","_globalDbClickHandler","_mouseScrollHandler","getMenuButton","_menuClickHandler","getListenerList","apply","arguments","addEventListener","passive","attachEvent","call","event","returnValue","cancelBubble","stopPropagation","preventDefault","removeEventListener","VERSION","ORIENTATION","sl","lbl","val","item","node_id","field_name","c_link_to","c_link_from","s_link_to","s_link_from","control_add","control_export_menu","control_node_menu_id","control_node_circle_menu_id","control_node_circle_menu_name","control_node_circle_menu_wrraper_id","text_overflow","ID","PID","STPID","TAGS","NODES","ELASTIC","ASSISTANT","maximize","minimize","expandCollapse","ctrlZoom","scroll","yScroll","move","resize","insertfirst","visible","safari","tree","mixed","treeLeftOffset","treeRightOffset","treeLeft","treeRight","nodeOpenTag","linkOpenTag","expcollOpenTag","upOpenTag","linkFieldsOpenTag","grCloseTag","A5w","A5h","A4w","A4h","A3w","A3h","A2w","A2h","A1w","A1h","Letterw","Letterh","Legalw","Legalh","COLLAPSE_PARENT_NEIGHBORS","COLLAPSE_SUB_CHILDRENS","COLLAPSE_PARENT_SUB_CHILDREN_EXCEPT_CLICKED","IT_IS_LONELY_HERE","RES","IT_IS_LONELY_HERE_LINK","FIRE_DRAG_NOT_CLICK_IF_MOVE","STRING_TAGS","MAX_NODES_MESS","OFFLINE_MESS","SEARCH_PLACEHOLDER","SEARCH_HELP_SYMBOL","SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE","SEARCH_RESULT_LIMIT","IMPORT_MESSAGE","FIXED_POSITION_ON_CLICK","RENDER_CLINKS_BEFORE_NODES","MIXED_LAYOUT_ALL_NODES","MIXED_LAYOUT_FOR_NODES_WITH_COLLAPSED_CHILDREN","MIXED_LAYOUT_IF_NUMBER_OF_CHILDREN_IS_MORE_THEN","LINK_ROUNDED_CORNERS","MOVE_STEP","CLINK_CURVE","MAX_DEPTH","SCALE_FACTOR","LAZY_LOADING_FACTOR","HIDE_EDIT_FORM_ON_PAN","ARRAY_FIELDS","CSV_DELIMITER","EDITFORM_CLOSE_BTN","ESCAPE_HTML","VERTICAL_CHILDREN_ASSISTANT","module","exports","OC_VERSION","_intersects","q","_addPoint","_addPointTop","_addPointBottom","_addPointLeft","_addPointRight","leftNeighbor","rightNeighbor","obj","hide","input","_focusElement","focusId","interval","validateAndGetData","data","nodeId","textbox","type","label","btn","html","previousSibling","getElementById","focus","nextElementSibling","value","_escapeDoubleQuotes","binding","button","name","exportPDFProfile","filename","title","exportPNGProfile","shareProfile","setSelectionRange","setAvatar","user","_","k","S","C","editFormHeaderColor","I","createElement","_defsIds","N","A","renderHeaderContent","shareText","_escapeGreaterLessSign","getPointerElement","wrapper","showStickIn","_show","firstNodeId","secondNodeId","className","_menuPosition","onClick","exportSVG","expandChildren","exportPDF","exportPNG","exportCSV","exportXML","exportJSON","_menu","_buttonsInterval","_linesInterval","nodeCircleMenuButton","_getTransform","cursor","stroke","L","E","M","menuItem","menuItemName","x1","y1","x2","y2","parentElement","idb","version","dbName","tableName","keyPath","db","_open","_browser","msie","navigator","userAgent","location","indexedDB","onsuccess","result","onupgradeneeded","objectStoreNames","contains","deleteObjectStore","createObjectStore","transaction","objectStore","write","put","delete","expandAllIcon","fitIcon","zoomInIcon","zoomOutIcon","layoutIcon","_visible","div","assign","expandAll","layouts","fullScreen","layoutBtn","hideLayout","showLayout","_interceptions","_getTags","split","_centerPointInPercent","_trim","isObject","fileUploadDialog","onchange","files","body","click","_lblIsImg","_getFistImgField","_fieldIsImg","floor","htmlRipple","head","pageX","pageY","rippleContainer","firstChild","clearTimeout","setTimeout","_getClientXY","clientX","clientY","changedTouches","_getClientTouchesXY","touches","_getOffset","offsetLeft","offsetTop","offsetParent","_getTopLeft","_getOffsetXY","offsetX","offsetY","_pinchMiddlePointInPercent","opr","addons","opera","InstallTrigger","test","HTMLElement","pushNotification","documentMode","StyleMedia","chrome","webstore","runtime","firefox","edge","blink","CSS","_getTemplate","_getMin","_getSubLevels","subLevels","_isHTML","DOMParser","parseFromString","childNodes","some","nodeType","_getTestDiv","_getLabelSize","wrapText","_escapeHtml","str","replaceAll","parseFloat","textContent","getComputedTextLength","getBBox","createTextNode","setAttributeNS","children","XMLSerializer","serializeToString","_downloadFile","Blob","URL","createObjectURL","msSaveBlob","download","endsWith","visibility","_getPosition","_getOpacity","templates","scaleLessThen","setNodeSize","size","_imgs2base64","_getDataUri","success","readAsDataURL","FileReader","onloadend","_convertStringToArray","_convertArrayToString","_csvToArray","RegExp","exec","implementation","createDocument","documentElement","attributes","convertNodesToCsv","_json2csv","toLocaleString","accentFold","copy","constructor","isActiveClone","_getScrollSensitivity","ie","isTrial","remote","childrenCount","childrenTotalCount","collapsedChildrenCount","collapsedChildrenTotalCount","_setMinMaxXY","getStParentNodes","getRootOf","gradientCircleForDefs","IntersectionObserver","forEach","intersectionRatio","isIntersecting","observe","convertCsvToNodes","trim","roundPathCorners","reduce","origPoint","_isMoved","_convertStringToArrayOnImport","png","csv","json","excel","xml","happy","sad","close","undo","redo","ft","addUser","daughter","son","wife","husband","father","mother","teddy","_defaultExportProfileOptions","_exportProfile","exportPDFPreview","pdfPrevUI","href","searchParams","append","url","_defaultExportOptions","_export","ext","mime","margin","landscape","format","header","footer","openInNewTab","styles","outerHTML","_pages","pages","loading","_defaultExportProfileOptionsForCSV_SVG_JSON","_exportIterateForJSON_XML_CSV","stChildrenIds","stChildren","_pagesA100","_pagesAfit","_pagesFit","vb","innerSize","nodeName","listener","event_id","removeAll","importCSV","_importSetColumnNames","columnNames","readAsText","background","border","zIndex","backgroundColor","fontWeight","_importCenter","_overlay","fontSize","textAlign","onclick","selectedIndex","onmousedown","_dragging","_originalLeft","_originalTop","_mouseLeft","_mouseTop","onmousemove","onmouseup","innerWidth","innerHeight","importXML","importJSON","__importJSON","__importCSV","__importXML","ids","expandIds","collapseIds","concat","changeRoots","all","_expCollHandler","_upHandler","_upHandlerCreateArgs","abs","substr","unique","defineProperty","writable","configurable","enumerable","TypeError","up","leave","touchstart","_mouseDownHandler","_nodeMouseDownHandler","_nodeCircleNodeMenuItemMouseDownHandler","_nodeClickHandler","_nodeMenuClickHandler","_nodeCircleMenuClickHandler","_nodeCircleMenuItemClickHandler","_lonelyButtonHandler","_nodeContextHandler","_nodeDbClickHandler","__mouseScrollHandler","ctrlKey","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","delta","wheelDelta","detail","max","_dragEventFired","mozUserSelect","webkitUserSelect","userSelect","cloneNode","insertBefore","elementFromPoint","down","moveStart","xWithoutScale","yWithoutScale","moveEnd","_draggableHandler","_dragDropHandler","childId","U","O","B","R","P","D","H","z","$","family","dragNodeIdList","_commonClickHandler","toggleExpandCollapse","_menuHandlerMouseDownHandler","_move","diffX","diffY","x0","y0","viewBoxLeft","viewBoxTop","dist","_changeCursorOnPanStart","_changeCursorOnPanEnd","lastSearch","_searchAfterEnterPress","instance","_initSearchFields","xBtn","searchTableWrapper","nextSibling","_enterHandler","removeAttribute","__search","find","activeElement","addMatchTag","helpView","__searchField","__searchMarks","img","first","second","searchItem","createItem","blur","blurHandler","layoutConfigs","actionParams","vbIsInitializedFromState","_fixAdjustForExport","_getResponse","_read","limit","_createNodes","local","_setPositions","_doNotChangePositionOfClickedNodeIfAny","_setMinMaxXYAdjustifyIterate","_initDinamicNode","lcn","isSplit","isMirror","isSubLevel","_setCollpasedProperty","allChildren","level","_initNode","parentPartner","_iterate","stContainerNodes","__createNodes","_addDottedLines","addFilterTag","unshift","order","_getOrderFieldValue","desc","localeCompare","ue","_addExpandedNodeIdsIterate","re","isChildOfPartner","partnerSeparation","j","getOwnPropertyDescriptor","X","Y","V","W","G","J","K","Z","Q","ee","te","ae","ne","oe","le","se","de","ce","me","pnode","lastChildrenPidIds","pe","he","fe","ye","ge","ve","Te","_verticalAssistantIterate","field","_isVisible","getAllFields","_getMostDeepChild","visId","_iterate2","_verticalAssistantLevelCountIterate","rootId","gender","_iterateSetRootIds","_iterateFT","linkAdjuster","fromX","fromY","toX","toY","expandCollapseSize","assistanseLink","nodeMenuButton","nodeTreeMenuButton","nodeTreeMenuCloseButton","img_0","link_field_0","dot","john","field_0","field_1","john_male","john_female","tommy","tommy_male","tommy_female","hugo","hugo_male","hugo_female","partner","pet","cgroup","mirror","nodeBtns","plus","minus","indexes","ppnodes","lastLeft","firstRight","maxSidePartnersWithChildren","rightIds","leftIds","xa","ya","xb","yb","xc","yc","xd","yd","rotate","_linkTopToBottom","_linkBottomToTop","_linkRightToLeft","_linkLeftToRight","_linkPpTop","_linkPpBottom","_linkPpRight","_linkPpLeft","_draggableLinkPath","_roundedEdge","qx1","qy1","qx2","qy2","x3","y3","cnode","__linkPpBottomTop","__linkPpLeftRight","_base_nodeBtns","_tree_menu_temp","_base_expandCollapseBtn","requestParams","onSetViewBoxCallback","onDrawCallback","bar","scrollLeft","deltaX","wheelDeltaX","deltaY","wheelDeltaY","shiftKey","innerBar","clientWidth","ignore","isScrollBarVisible","scrollTop","clientHeight","loc","ppdfCmdTitle","ppdfSave","ppdfCancel","ppdfFormat","ppdfFitToDrwaing","ppdfA4","ppdfA3","ppdfA2","ppdfA1","ppdfLetter","ppdfLegal","ppdfLayout","ppdfPortrait","ppdfLandscape","ppdfFittopagewidth","ppdfMargin","ppdfHeader","ppdfFooter","ppdfScale","_handler","_showHide","contentWindow","_exportHtml","clinkTemplates","_clink","clinkLabelPosition","clinkCurve","addClink","removeClink","orange","blue","yellow","slinkTemplates","_slinks","labelPosition","reverse","addSlink","removeSlink","nodeGroupDottedOpenButton","nodeGroupDottedCloseButton","undoStepsCount","_putInRedoStack","sessionStorage","refresh","redoStepsCount","clearUndo","onChange","_settings","_scale","_translateX","_translateY","_init","_drawMainCanvas","_drawRectSelectorCanvas","onmouseout","getContext","_initCtx","fillStyle","colors","beginPath","lineWidth","fillRect","strokeRect","includes","strokeStyle","focusStroke","globalAlpha","clearRect","selectorBackgroundColor","translate","filter","searchAndComputeScore","__score","addNodeToResult","searchIndexesOf","searchPhrase","start","round","_put","_buildStateNames","paramScale","paramX","paramY","paramExp","paramMin","paramRoots","paramAdjustify","writeToUrlParams","set","history","replaceState","writeToIndexedDB","writeToLocalStorage","readFromUrlParams","readFromIndexedDB","readFromLocalStorage","_magnify","magnify","timer","timerBack","transformStart","nodeElement","front","magnifyBack","_windowKeyDownHandler","_keyNavigationActiveNodeId","_keyNavigation","_vidrf","doNotRender","disabledAttribute","vlidators","readOnlyAttribute","checkbox","select","date","initWithTimeout","selectedOptions","validate","validatePassword","isValidEmail","isValidEmails","checked","animFromClickedNode","showTreeMenu","_ft_method","_ft_childId","_ft_type","_ft_data","_ft_childData","_ft_partnerData","_ft_id","_ft_childIds","treeMenuMode","onField","onInit","onRedraw","onUpdateNode","oldData","newData","onUpdated","onRemoveNode","newPidsAndStpidsForIds","onAddNode","onDrop","dragId","dropId","dragNodeElement","onDrag","nodeIds","onExpandCollpaseButtonClick","collapsing","onExportStart","onExportEnd","onNodeClick","onNodeDoubleClick","onNodeTreeMenuShow","filterBy","LIMIT_NODES","_fromResDTO","ln","rn","_toReqDTO","_convertToIdArray","im","_toReqLayoutConfigsDTO","_fromReqDTO","_proceed","_findRegion","onreadystatechange","abort","$RefreshReg$"],"sources":["/Users/survive/Desktop/EEATO/24Spring/CSC380/Family_Thread/DisplayFamilyTree/src/familytree.js"],"sourcesContent":["var FamilyTree = function (e, t) {\n    var i = this;\n    if ((\"string\" == typeof e || e instanceof String) && (e = document.querySelector(e)), this.element = e, this.config = FamilyTree.mergeDeep(FamilyTree._defaultConfig(t), t), this._layoutConfigs = {\n        base: {\n            orientation: this.config.orientation,\n            levelSeparation: this.config.levelSeparation,\n            mixedHierarchyNodesSeparation: this.config.mixedHierarchyNodesSeparation,\n            assistantSeparation: this.config.assistantSeparation,\n            subtreeSeparation: this.config.subtreeSeparation,\n            siblingSeparation: this.config.siblingSeparation,\n            layout: this.config.layout,\n            columns: this.config.columns,\n            collapse: this.config.collapse,\n            partnerNodeSeparation: this.config.partnerNodeSeparation\n        }\n    }, this.config.tags) for (var r in this.config.tags) {\n        var a = this.config.tags[r];\n        null != a.subTreeConfig && (this._layoutConfigs[r] = {\n            orientation: null != a.subTreeConfig.orientation ? a.subTreeConfig.orientation : this.config.orientation,\n            levelSeparation: null != a.subTreeConfig.levelSeparation ? a.subTreeConfig.levelSeparation : this.config.levelSeparation,\n            mixedHierarchyNodesSeparation: null != a.subTreeConfig.mixedHierarchyNodesSeparation ? a.subTreeConfig.mixedHierarchyNodesSeparation : this.config.mixedHierarchyNodesSeparation,\n            assistantSeparation: null != a.subTreeConfig.assistantSeparation ? a.subTreeConfig.assistantSeparation : this.config.assistantSeparation,\n            subtreeSeparation: null != a.subTreeConfig.subtreeSeparation ? a.subTreeConfig.subtreeSeparation : this.config.subtreeSeparation,\n            siblingSeparation: null != a.subTreeConfig.siblingSeparation ? a.subTreeConfig.siblingSeparation : this.config.siblingSeparation,\n            layout: null != a.subTreeConfig.layout ? a.subTreeConfig.layout : this.config.layout,\n            columns: null != a.subTreeConfig.columns ? a.subTreeConfig.columns : this.config.columns,\n            collapse: null != a.subTreeConfig.collapse ? a.subTreeConfig.collapse : this.config.collapse,\n            partnerNodeSeparation: null != a.subTreeConfig.partnerNodeSeparation ? a.subTreeConfig.partnerNodeSeparation : this.config.partnerNodeSeparation\n        })\n    }\n    this._event_id = FamilyTree._guid(), FamilyTree._validateConfig(this.config) && (this._vScroll = {}, this.config.ui || (this.ui = FamilyTree.ui), this.config.editUI ? this.editUI = this.config.editUI : this.editUI = new FamilyTree.editUI, this.editUI.init(this), this.config.filterUI ? this.filterUI = this.config.filterUI : this.filterUI = new FamilyTree.filterUI, this.filterUI.init(this), this.manager = new FamilyTree.manager(this), this.config.searchUI ? this.searchUI = this.config.searchUI : this.searchUI = new FamilyTree.searchUI, this.config.nodeMenuUI ? this.nodeMenuUI = this.config.nodeMenuUI : this.nodeMenuUI = new FamilyTree.menuUI, this.nodeMenuUI.init(this, this.config.nodeMenu), this.config.nodeCircleMenuUI ? this.nodeCircleMenuUI = this.config.nodeCircleMenuUI : this.nodeCircleMenuUI = new FamilyTree.circleMenuUI, this.nodeCircleMenuUI.init(this, this.config.nodeCircleMenu), this.config.nodeContextMenuUI ? this.nodeContextMenuUI = this.config.nodeContextMenuUI : this.nodeContextMenuUI = new FamilyTree.menuUI, this.nodeContextMenuUI.init(this, this.config.nodeContextMenu), this.config.toolbarUI ? this.toolbarUI = this.config.toolbarUI : this.toolbarUI = new FamilyTree.toolbarUI, this.config.notifierUI ? this.notifierUI = this.config.notifierUI : this.notifierUI = new FamilyTree.notifierUI, this.notifierUI.init(this), this.config.menuUI ? this.menuUI = this.config.menuUI : this.menuUI = new FamilyTree.menuUI, this.menuUI.init(this, this.config.menu), this.config.xScrollUI || (this.xScrollUI = new FamilyTree.xScrollUI(this.element, this.config, (function () {\n        return {boundary: i.response.boundary, scale: i.getScale(), viewBox: i.getViewBox(), padding: i.config.padding}\n    }), (function (e) {\n        i.setViewBox(e)\n    }), (function () {\n        i._draw(!0, FamilyTree.action.xScroll)\n    }))), this.config.yScrollUI || (this.yScrollUI = new FamilyTree.yScrollUI(this.element, this.config, (function () {\n        return {boundary: i.response.boundary, scale: i.getScale(), viewBox: i.getViewBox(), padding: i.config.padding}\n    }), (function (e) {\n        i.setViewBox(e)\n    }), (function () {\n        i._draw(!0, FamilyTree.action.xScroll)\n    }))), this.config.undoRedoUI ? this.undoRedoUI = this.config.undoRedoUI : this.undoRedoUI = new FamilyTree.undoRedoUI, this.element.classList.add(\"bft-\" + this.config.mode), this._gragStartedId = null, this._timeout = null, this._touch = null, this._initialized = !1, this._loaded = !1, this._moveInterval = null, this._movePosition = null, this.response = null, this.nodes = null, this.isVisible = null, FamilyTree._intersectionObserver(this.element, (function (e) {\n        i.isVisible = e, !1 !== FamilyTree.events.publish(\"visibility-change\", [i]) && FamilyTree.LAZY_LOADING && i.isVisible && (i._loaded ? i._draw(!1, FamilyTree.action.update) : (i._setInitialSizeIfNotSet(), i._draw(!1, FamilyTree.action.init)))\n    })))\n};\nFamilyTree._defaultConfig = function (e) {\n    return {\n        interactive: !0,\n        mode: \"light\",\n        lazyLoading: !0,\n        enableDragDrop: !1,\n        enableSearch: !0,\n        enableTouch: !1,\n        enablePan: !0,\n        keyNavigation: !1,\n        miniMap: !1,\n        nodeMenu: null,\n        nodeCircleMenu: null,\n        nodeContextMenu: null,\n        menu: null,\n        toolbar: !1,\n        sticky: !0,\n        nodeMouseClick: FamilyTree.action.details,\n        nodeMouseDbClick: FamilyTree.none,\n        mouseScrool: FamilyTree.action.zoom,\n        showXScroll: FamilyTree.none,\n        showYScroll: FamilyTree.none,\n        template: \"ana\",\n        tags: {},\n        min: !1,\n        nodeBinding: {},\n        linkBinding: {},\n        searchFields: null,\n        searchDisplayField: null,\n        searchFieldsWeight: null,\n        searchFieldsAbbreviation: null,\n        nodes: [],\n        clinks: [],\n        slinks: [],\n        groupDottedLines: [],\n        dottedLines: [],\n        undoRedoStorageName: null,\n        levelSeparation: 60,\n        siblingSeparation: 20,\n        subtreeSeparation: 40,\n        mixedHierarchyNodesSeparation: 15,\n        assistantSeparation: 100,\n        minPartnerSeparation: 50,\n        partnerChildrenSplitSeparation: 20,\n        partnerNodeSeparation: 15,\n        columns: 10,\n        padding: 30,\n        orientation: FamilyTree.orientation.top,\n        layout: FamilyTree.layout.normal,\n        scaleInitial: 1,\n        draggable: null,\n        scaleMin: .1,\n        scaleMax: 5,\n        orderBy: null,\n        editUI: null,\n        filterUI: null,\n        searchUI: null,\n        xScrollUI: null,\n        yScrollUI: null,\n        nodeMenuUI: null,\n        nodeCircleMenuUI: null,\n        nodeContextMenuUI: null,\n        toolbarUI: null,\n        notifierUI: null,\n        menuUI: null,\n        undoRedoUI: null,\n        exportUrl: \"https://balkan.app/export\",\n        collapse: {},\n        expand: {},\n        align: FamilyTree.CENTER,\n        UI: null,\n        anim: {func: FamilyTree.anim.outPow, duration: 200},\n        zoom: {speed: 120, smooth: 12},\n        roots: null,\n        state: null,\n        editForm: {\n            readOnly: !1,\n            titleBinding: \"name\",\n            photoBinding: \"img\",\n            addMore: \"Add more fields\",\n            addMoreBtn: \"Add\",\n            addMoreFieldName: \"Field name\",\n            saveAndCloseBtn: \"Save and close\",\n            cancelBtn: \"Cancel\",\n            generateElementsFromFields: !0,\n            focusBinding: null,\n            buttons: {\n                edit: {\n                    icon: FamilyTree.icon.edit(24, 24, \"#fff\"),\n                    text: \"Edit\",\n                    hideIfEditMode: !0,\n                    hideIfDetailsMode: !1\n                },\n                share: {icon: FamilyTree.icon.share(24, 24, \"#fff\"), text: \"Share\"},\n                pdf: {icon: FamilyTree.icon.pdf(24, 24, \"#fff\"), text: \"Save as PDF\"},\n                remove: {icon: FamilyTree.icon.remove(24, 24, \"#fff\"), text: \"Remove\", hideIfDetailsMode: !0}\n            },\n            elements: []\n        }\n    }\n}, FamilyTree.prototype.load = function (e, t) {\n    var i = this;\n    return this.config.nodes = e, this._draw(!1, FamilyTree.action.init, void 0, (function () {\n        i.filterUI.update(), t && t()\n    })), this\n}, FamilyTree.prototype.loadXML = function (e, t) {\n    var i = FamilyTree._xml2json(e);\n    return this.load(i, t)\n}, FamilyTree.prototype.getXML = function () {\n    return FamilyTree._json2xml(this.config.nodes)\n}, FamilyTree.prototype.on = function (e, t) {\n    return FamilyTree.events.on(e, t, this._event_id), this\n}, FamilyTree.prototype.removeListener = function (e, t) {\n    return FamilyTree.events.remove(e, t, this._event_id)\n}, FamilyTree.prototype.draw = function (e, t, i) {\n    null == e && (e = FamilyTree.action.update), this._draw(!1, e, t, i)\n}, FamilyTree.prototype._draw = function (e, t, i, r) {\n    var a = this;\n    if (!FamilyTree.LAZY_LOADING || this.isVisible) if (FamilyTree.LAZY_LOADING || this._initialized || (this._setInitialSizeIfNotSet(), 0 != this.width() && 0 != this.height())) {\n        this._hideBeforeAnimationCompleted = !1;\n        var n = t == FamilyTree.action.init ? null : this.getViewBox();\n        this.manager.read(e, this.width(), this.height(), n, t, i, (function (e) {\n            if (!a.notifierUI.show(e.notif)) {\n                t != FamilyTree.action.exporting && (a.nodes = e.nodes, a.visibleNodeIds = e.visibleNodeIds, a.roots = e.roots), a.editUI.fields = e.allFields;\n                var n = {defs: \"\"};\n                FamilyTree.events.publish(\"renderdefs\", [a, n]);\n                var o = a.ui.defs(n.defs), l = a.getScale(e.viewBox);\n                o += a.ui.pointer(a.config, t, l);\n                var s = a.getViewBox(), d = e.viewBox;\n                n = {content: o, res: e};\n                FamilyTree.events.publish(\"prerender\", [a, n]), o = n.content;\n                for (var c = 0; c < e.visibleNodeIds.length; c++) {\n                    var m = e.nodes[e.visibleNodeIds[c]], p = a._get(m.id);\n                    FamilyTree.RENDER_LINKS_BEFORE_NODES && (o += a.ui.link(m, a, l, e.bordersByRootIdAndLevel, e.nodes, t)), o += a.ui.node(m, p, e.animations, a.config, void 0, void 0, void 0, t, l, a)\n                }\n                for (c = 0; c < e.visibleNodeIds.length; c++) {\n                    m = e.nodes[e.visibleNodeIds[c]];\n                    FamilyTree.RENDER_LINKS_BEFORE_NODES || (o += a.ui.link(m, a, l, e.bordersByRootIdAndLevel, e.nodes, t)), o += a.ui.expandCollapseBtn(a, m, a._layoutConfigs, t, l)\n                }\n                n = {content: o, res: e};\n                if (FamilyTree.events.publish(\"render\", [a, n]), o = n.content, e = n.res, o += a.ui.lonely(a.config), t !== FamilyTree.action.exporting) {\n                    t !== FamilyTree.action.centerNode && t !== FamilyTree.action.insert && t !== FamilyTree.action.expand && t !== FamilyTree.action.collapse && t !== FamilyTree.action.update || (d = s), t === FamilyTree.action.init && null != s && (d = s), a.response = e;\n                    b = a.ui.svg(a.width(), a.height(), d, a.config, o);\n                    if (a._initialized) {\n                        var h = a.getSvg(), f = h.parentNode;\n                        f.removeChild(h), f.insertAdjacentHTML(\"afterbegin\", b), a._attachEventHandlers(), a.xScrollUI.addListener(a.getSvg()), a.yScrollUI.addListener(a.getSvg()), a.xScrollUI.setPosition(), a.yScrollUI.setPosition()\n                    } else a.element.innerHTML = a.ui.css() + b + a.ui.menuButton(a.config), a._attachInitEventHandlers(), a._attachEventHandlers(), a.xScrollUI.create(a.width(), a.config.padding), a.xScrollUI.setPosition(), a.xScrollUI.addListener(a.getSvg()), a.yScrollUI.create(a.height(), a.config.padding), a.yScrollUI.setPosition(), a.yScrollUI.addListener(a.getSvg()), a.config.enableSearch && a.searchUI.init(a), a.toolbarUI.init(a, a.config.toolbar), a.undoRedoUI.init(a);\n                    var u = !1, y = a.response.animations;\n                    if (y[0].length > 0) {\n                        a._hideBeforeAnimation(y[0].length);\n                        for (c = 0; c < y[0].length; c++) y[0][c] = a.getNodeElement(y[0][c]);\n                        FamilyTree.animate(y[0], y[1], y[2], a.config.anim.duration, a.config.anim.func, (function () {\n                            u || (r && r(), FamilyTree.events.publish(\"redraw\", [a]), a._showAfterAnimation(), u = !0)\n                        }))\n                    }\n                    t === FamilyTree.action.centerNode ? FamilyTree.animate(a.getSvg(), {viewbox: s}, {viewbox: a.response.viewBox}, a.config.anim.duration, a.config.anim.func, (function () {\n                        a.ripple(i.options.rippleId), u || (r && r(), FamilyTree.events.publish(\"redraw\", [a]), a._showAfterAnimation(), u = !0)\n                    }), (function () {\n                        a.xScrollUI.setPosition(), a.yScrollUI.setPosition()\n                    })) : !s || !a.response || s[0] == a.response.viewBox[0] && s[1] == a.response.viewBox[1] && s[2] == a.response.viewBox[2] && s[3] == a.response.viewBox[3] || t !== FamilyTree.action.insert && t !== FamilyTree.action.expand && t !== FamilyTree.action.collapse && t !== FamilyTree.action.update && t !== FamilyTree.action.init ? 0 == y[0].length && (u || (r && r(), FamilyTree.events.publish(\"redraw\", [a]), u = !0)) : FamilyTree.animate(a.getSvg(), {viewbox: s}, {viewbox: a.response.viewBox}, 2 * a.config.anim.duration, a.config.anim.func, (function () {\n                        a.xScrollUI.setPosition(), a.yScrollUI.setPosition(), u || (r && r(), FamilyTree.events.publish(\"redraw\", [a]), u = !0)\n                    })), a._initialized || (a._initialized = !0, a.filterUI.update(), FamilyTree.events.publish(\"init\", [a])), !a._loaded && e && e.nodes && Object.keys(e.nodes).length && (a._loaded = !0)\n                } else {\n                    var g = e.boundary, v = g.maxX - g.minX, T = g.maxY - g.minY,\n                        b = a.ui.svg(v, T, [g.minX, g.minY, v, T], a.config, o, l);\n                    r(b)\n                }\n            }\n        }), (function (e) {\n            FamilyTree.events.publish(\"ready\", [a, e])\n        }))\n    } else console.error(\"Cannot load the family with size 0! If you are using the FamilyTree within tabs set FamilyTree.LAZY_LOADING to true! \")\n}, FamilyTree.prototype._setInitialSizeIfNotSet = function () {\n    this.element.style.overflow = \"hidden\", this.element.style.position = \"relative\", 0 == this.element.offsetHeight && (this.element.style.height = \"100%\", 0 == this.element.offsetHeight && (this.element.style.height = \"700px\")), 0 == this.element.offsetWidth && (this.element.style.width = \"100%\", 0 == this.element.offsetWidth && (this.element.style.width = \"700px\"))\n}, FamilyTree.prototype.width = function () {\n    return this.element.offsetWidth\n}, FamilyTree.prototype.height = function () {\n    return this.element.offsetHeight\n}, FamilyTree.prototype.getViewBox = function () {\n    var e = this.getSvg();\n    return FamilyTree._getViewBox(e)\n}, FamilyTree.prototype.setViewBox = function (e) {\n    this.getSvg().setAttribute(\"viewBox\", e.toString())\n}, FamilyTree.prototype.getScale = function (e) {\n    return e || (e = this.getViewBox()), FamilyTree.getScale(e, this.width(), this.height(), this.config.scaleInitial, this.config.scaleMax, this.config.scaleMin)\n}, FamilyTree.prototype.setScale = function (e) {\n    e > this.config.scaleMax && (e = this.config.scaleMax), e < this.config.scaleMin && (e = this.config.scaleMin);\n    var t = this.getViewBox().slice(0), i = this.width(), r = this.height(), a = i / t[2], n = r / t[3],\n        o = a > n ? n : a, l = t, s = t[2], d = t[3];\n    return t[2] = t[2] / (e / o), t[3] = t[3] / (e / o), t[0] = l[0] - (t[2] - s) / 2, t[1] = l[1] - (t[3] - d) / 2, this.setViewBox(t), FamilyTree.events.publish(\"redraw\", [this]), e\n}, FamilyTree.prototype.ripple = function (e, t, i) {\n    var r = this.getNode(e);\n    if (null != r) {\n        var a = this.getNodeElement(e);\n        if (null != a) {\n            var n = this.getScale(), o = r.w / 2, l = r.h / 2;\n            if (void 0 !== t && void 0 !== i) {\n                var s = a.getBoundingClientRect();\n                o = t / n - s.left / n, l = i / n - s.top / n\n            }\n            var d = r.w, c = r.h, m = d - o > o ? d - o : o, p = c - l > l ? c - l : l, h = m > p ? m : p,\n                f = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\"),\n                u = document.createElementNS(\"http://www.w3.org/2000/svg\", \"clipPath\"),\n                y = document.createElementNS(\"http://www.w3.org/2000/svg\", \"rect\"),\n                g = document.createElementNS(\"http://www.w3.org/2000/svg\", \"circle\"), v = FamilyTree.randomId();\n            u.setAttribute(\"id\", v);\n            var T = {ripple: FamilyTree.t(r.templateName, r.min, this.getScale()).ripple, node: r};\n            FamilyTree.events.publish(\"ripple\", [this, T]), y.setAttribute(\"x\", T.ripple.rect ? T.ripple.rect.x : 0), y.setAttribute(\"y\", T.ripple.rect ? T.ripple.rect.y : 0), y.setAttribute(\"width\", T.ripple.rect ? T.ripple.rect.width : r.w), y.setAttribute(\"height\", T.ripple.rect ? T.ripple.rect.height : r.h), y.setAttribute(\"rx\", T.ripple.radius), y.setAttribute(\"ry\", T.ripple.radius), g.setAttribute(\"clip-path\", \"url(#\" + v + \")\"), g.setAttribute(\"cx\", o), g.setAttribute(\"cy\", l), g.setAttribute(\"r\", 0), g.setAttribute(\"fill\", T.ripple.color), g.setAttribute(\"class\", \"bft-ripple\"), u.appendChild(y), f.appendChild(u), f.appendChild(g), a.appendChild(f), FamilyTree.animate(g, {\n                r: 0,\n                opacity: 1\n            }, {r: h, opacity: 0}, 500, FamilyTree.anim.outPow, (function () {\n                a.removeChild(f)\n            }))\n        }\n    }\n}, FamilyTree.prototype.center = function (e, t, i) {\n    var r, a, n = e, o = !0, l = !0;\n    t && null != t.parentState && (r = t.parentState), t && null != t.childrenState && (a = t.childrenState), t && null != t.rippleId && (n = t.rippleId), t && null != t.vertical && (o = t.vertical), t && null != t.horizontal && (l = t.horizontal);\n    var s = {parentState: r, childrenState: a, rippleId: n, vertical: o, horizontal: l};\n    this._draw(!1, FamilyTree.action.centerNode, {id: e, options: s}, i)\n}, FamilyTree.prototype.fit = function (e) {\n    this.config.scaleInitial = FamilyTree.match.boundary, this._draw(!0, FamilyTree.action.init, {method: \"fit\"}, e)\n}, FamilyTree.prototype.toggleFullScreen = function () {\n    var e = document.querySelector(\"[\" + FamilyTree.attr.tlbr + \"r='fullScreen']\");\n    document.fullscreenElement == this.element || document.webkitFullscreenElement == this.element || document.mozFullScreenElement == this.element || document.msFullscreenElement == this.element ? (document.exitFullscreen ? document.exitFullscreen() : document.mozCancelFullScreen ? document.mozCancelFullScreen() : document.webkitExitFullscreen ? document.webkitExitFullscreen() : document.msExitFullscreen && document.msExitFullscreen(), e && (e.innerHTML = FamilyTree.toolbarUI.openFullScreenIcon)) : (this.element.requestFullscreen ? this.element.requestFullscreen() : this.element.mozRequestFullScreen ? this.element.mozRequestFullScreen() : this.element.webkitRequestFullscreen ? this.element.webkitRequestFullscreen() : this.element.msRequestFullscreen && this.element.msRequestFullscreen(), e && (e.innerHTML = FamilyTree.toolbarUI.closeFullScreenIcon))\n}, FamilyTree.prototype.getNode = function (e) {\n    return this.nodes[e]\n}, FamilyTree.prototype.setLayout = function (e, t) {\n    t || (t = \"base\"), this._layoutConfigs[t].layout = e, \"base\" == t && (this.config.layout = e), this._draw(!1, FamilyTree.action.update)\n}, FamilyTree.prototype.setOrientation = function (e, t, i) {\n    var r = this;\n    t || (t = \"base\"), this._layoutConfigs[t].orientation = e, \"base\" == t && (this.config.orientation = e), this._draw(!1, FamilyTree.action.update, void 0, (function () {\n        FamilyTree._moveToBoundaryArea(r.getSvg(), r.getViewBox(), r.response.boundary, (function () {\n            r._draw(!0, FamilyTree.action.pan), i && i()\n        }))\n    }))\n}, FamilyTree.prototype.search = function (e, t, i) {\n    return FamilyTree.isNEU(t) && (t = this.searchUI._searchFields), FamilyTree.isNEU(i) && (i = t), FamilyTree._search.search(this.config.nodes, e, t, i, this.config.searchDisplayField, this.config.searchFieldsWeight, this.searchUI._searchFieldsAbbreviation)\n}, FamilyTree.prototype._hideBeforeAnimation = function (e) {\n    if (1 != this._hideBeforeAnimationCompleted && !(e && e < FamilyTree.ANIM_THRESHOLD)) {\n        var t = this.element.getElementsByTagName(\"text\");\n        if (t.length > FamilyTree.TEXT_THRESHOLD) for (var i = 0; i < t.length; i++) t[i].style.display = \"none\";\n        var r = this.element.getElementsByTagName(\"image\");\n        if (r.length > FamilyTree.IMAGES_THRESHOLD) for (i = 0; i < r.length; i++) r[i].style.display = \"none\";\n        var a = this.element.querySelectorAll(\"[\" + FamilyTree.attr.link_id + \"]\");\n        if (a.length > FamilyTree.LINKS_THRESHOLD) for (i = 0; i < a.length; i++) a[i].style.display = \"none\";\n        var n = this.element.querySelectorAll(\"[\" + FamilyTree.attr.control_expcoll_id + \"]\");\n        if (n.length > FamilyTree.BUTTONS_THRESHOLD) for (i = 0; i < n.length; i++) n[i].style.display = \"none\";\n        var o = this.element.querySelectorAll(\"[\" + FamilyTree.attr.control_up_id + \"]\");\n        if (o.length > FamilyTree.BUTTONS_THRESHOLD) for (i = 0; i < o.length; i++) o[i].style.display = \"none\";\n        this._hideBeforeAnimationCompleted = !0\n    }\n}, FamilyTree.prototype._showAfterAnimation = function () {\n    for (var e = this.element.getElementsByTagName(\"text\"), t = 0; t < e.length; t++) e[t].style.display = \"\";\n    var i = this.element.getElementsByTagName(\"image\");\n    for (t = 0; t < i.length; t++) i[t].style.display = \"\";\n    var r = this.element.querySelectorAll(\"[\" + FamilyTree.attr.link_id + \"]\");\n    for (t = 0; t < r.length; t++) r[t].style.display = \"\";\n    var a = this.element.querySelectorAll(\"[\" + FamilyTree.attr.control_expcoll_id + \"]\");\n    for (t = 0; t < a.length; t++) a[t].style.display = \"\";\n    var n = this.element.querySelectorAll(\"[\" + FamilyTree.attr.control_up_id + \"]\");\n    for (t = 0; t < n.length; t++) n[t].style.display = \"\";\n    this._hideBeforeAnimationCompleted = !1\n}, FamilyTree.prototype.isChild = function (e, t) {\n    for (var i = this.getNode(t); i;) {\n        if (i.id == e) return !0;\n        i = i.parent ? i.parent : i.stParent\n    }\n    return !1\n}, FamilyTree.prototype.getCollapsedIds = function (e) {\n    for (var t = [], i = 0; i < e.childrenIds.length; i++) {\n        var r = this.getNode(e.childrenIds[i]);\n        1 == r.collapsed && t.push(r.id)\n    }\n    return t\n}, FamilyTree.prototype.stateToUrl = function () {\n    if (this.manager.state) {\n        var e = {};\n        return e.exp = this.manager.state.exp.join(\"*\"), e.min = this.manager.state.min.join(\"*\"), e.adjustify = this.manager.state.adjustify.x + \"*\" + this.manager.state.adjustify.y, e.scale = this.manager.state.scale, e.y = this.manager.state.x, e.x = this.manager.state.y, new URLSearchParams(e).toString()\n    }\n    return \"\"\n}, FamilyTree.prototype.generateId = function () {\n    for (; ;) {\n        var e = \"_\" + (\"0000\" + (Math.random() * Math.pow(36, 4) | 0).toString(36)).slice(-4);\n        if (null == this.nodes || !this.nodes.hasOwnProperty(e)) return e\n    }\n}, FamilyTree.prototype.moveNodesToVisibleArea = function (e, t) {\n    for (var i = this, r = this.getSvg(), a = this.getViewBox(), n = null, o = null, l = null, s = null, d = 0; d < e.length; d++) {\n        var c = this.nodes[e[d]];\n        (null === n || n < c.x + c.w) && (n = c.x + c.w), (null === o || o < c.y + c.h) && (o = c.y + c.h), (null === l || l > c.x) && (l = c.x), (null === s || s > c.y) && (s = c.y)\n    }\n    var m = this.width(), p = this.height(), h = m / (v = n - l + 2 * this.config.padding),\n        f = p / (T = o - s + 2 * this.config.padding), u = h > f ? f : h, y = Math.ceil(m / u), g = Math.ceil(p / u),\n        v = 0, T = 0;\n    if (y - 2 * this.config.padding >= n - l) v = (n + l) / 2 - y / 2; else switch (v = firstRoot.x - y / 2 + FamilyTree.manager._getNodeWidth(firstRoot, this.config) / 2, this.config.orientation) {\n        case FamilyTree.orientation.right:\n        case FamilyTree.orientation.right_top:\n            (v = -(y / 2 - (l - n) / 2)) < this.config.padding - y && (v = this.config.padding - y);\n            break;\n        case FamilyTree.orientation.left:\n        case FamilyTree.orientation.bottom_left:\n        case FamilyTree.orientation.top_left:\n        case FamilyTree.orientation.left_top:\n            (v = -(y / 2 - (n - l) / 2)) > -this.config.padding && (v = -this.config.padding)\n    }\n    if (g - 2 * this.config.padding >= o - s) T = (o + s) / 2 - g / 2; else switch ((T = -(g / 2 - (o - s) / 2)) > -this.config.padding && (T = -this.config.padding), this.config.orientation) {\n        case FamilyTree.orientation.bottom:\n        case FamilyTree.orientation.bottom_left:\n            (T = -(g / 2 - (s - o) / 2)) < this.config.padding - g && (T = this.config.padding - g);\n            break;\n        case FamilyTree.orientation.left:\n        case FamilyTree.orientation.right:\n            T = firstRoot.y - g / 2 + FamilyTree.manager._getNodeWidth(firstRoot, this.config) / 2\n    }\n    var b = [v, T, y, g];\n    a[0] !== b[0] || a[1] !== b[1] ? FamilyTree.animate(r, {viewBox: a}, {viewBox: b}, this.config.anim.duration, this.config.anim.func, (function () {\n        i.draw(FamilyTree.action.update, void 0, t)\n    })) : t && t()\n}, FamilyTree.prototype._nodeHasHiddenParent = function (e) {\n    return !e.parent && !FamilyTree.isNEU(e.pid) && this.getNode(e.pid)\n}, FamilyTree.prototype.destroy = function () {\n    this._removeEvent(window, \"resize\"), FamilyTree.events.removeForEventId(this._event_id), this.element.innerHTML = null\n}, FamilyTree.__defaultConfig = FamilyTree._defaultConfig, FamilyTree._defaultConfig = function (e) {\n    var t = FamilyTree.__defaultConfig();\n    return t.nodeTreeMenu = null, t.template = \"tommy\", t.mode = \"light\", t.minPartnerSeparation = 30, t.partnerChildrenSplitSeparation = 10, t.siblingSeparation = 35, t.tags[\"children-group\"] = {\n        template: \"cgroup\",\n        subTreeConfig: {siblingSeparation: 7, columns: 1}\n    }, e && e.template ? (t.tags.male = {template: e.template + \"_male\"}, t.tags.female = {template: e.template + \"_female\"}) : (t.tags.male = {template: t.template + \"_male\"}, t.tags.female = {template: t.template + \"_female\"}), t\n}, FamilyTree.prototype.getRecentRootsByNodeId = function (e) {\n    this.recentRoots || (this.recentRoots = []);\n    var t = this.recentRoots, i = this.getNode(e);\n    return i ? (i.rids.sort((function (e, i) {\n        var r = t.indexOf(e), a = t.indexOf(i);\n        return -1 == r ? 1e3 : -1 == a ? -1e3 : r - a\n    })), i.rids) : []\n}, FamilyTree.prototype._nodeHasHiddenParent = function (e) {\n    return !(e.parent || FamilyTree.isNEU(e.pid) || !this.getNode(e.pid)) || (!(!e.isPartner || FamilyTree.isNEU(e.mid) || !this.getNode(e.mid)) || (!(!e.isPartner || FamilyTree.isNEU(e.fid) || !this.getNode(e.fid)) || !!(e.isPartner && e.pids.length > 1)))\n}, FamilyTree.prototype._center = FamilyTree.prototype.center, FamilyTree.prototype.center = function (e, t, i) {\n    var r = this.getRecentRootsByNodeId(e);\n    Array.isArray(this.config.roots) || (roots = []), FamilyTree._changeRootOption(this.config.roots, r, this.manager.rootList), this._center(e, t, i)\n}, FamilyTree.localStorage = {}, FamilyTree.localStorage.getItem = function (e) {\n    var t = localStorage.getItem(\"to_date\");\n    if (t) {\n        if ((t = new Date(t)) < new Date) {\n            for (var i = 0, r = localStorage.length; i < r; ++i) {\n                var a = localStorage.key(i);\n                a && a.startsWith && a.startsWith('{\"n\"') && localStorage.removeItem(a)\n            }\n            localStorage.removeItem(\"to_date\")\n        }\n    } else (t = new Date).setDate(t.getDate() + 5), t = t.toISOString(), localStorage.setItem(\"to_date\", t);\n    return localStorage.getItem(e)\n}, FamilyTree.localStorage.setItem = function (e, t) {\n    try {\n        localStorage.setItem(e, t)\n    } catch (e) {\n        e.code == e.QUOTA_EXCEEDED_ERR ? (console.warn(\"Local storage quota exceeded\"), localStorage.clear()) : (console.error(\"Local storage error code:\" + e.code), console.error(e))\n    }\n}, FamilyTree.prototype.canUpdateLink = function (e, t) {\n    if (null == t || null == t) return !1;\n    if (null == e || null == e) return !1;\n    if (e == t) return !1;\n    var i = this.getNode(t), r = this.getNode(e);\n    return !(i && r && (i.isPartner || i.hasPartners && r.isAssistant || i.hasAssistants && r.isPartner)) && !this.isChild(e, t)\n}, FamilyTree.prototype._canUpdateLink = FamilyTree.prototype.canUpdateLink, FamilyTree.prototype.updateNode = function (e, t, i) {\n    var r = this, a = this.get(e.id);\n    if (!0 === i && !1 === FamilyTree.events.publish(\"update\", [this, a, e])) return !1;\n    this.update(e), FamilyTree.events.publish(\"updated\", [this]), this.filterUI.update();\n    var n = this.getNode(e.id), o = n.pid;\n    null == o && (o = n.stpid), this._draw(!1, FamilyTree.action.update, {id: o}, (function () {\n        r.ripple(e.id), t && t()\n    }))\n}, FamilyTree.prototype.update = function (e) {\n    for (var t = 0; t < this.config.nodes.length; t++) if (this.config.nodes[t].id == e.id) {\n        this._putInUndoStack(), this.clearRedo(), this.config.nodes[t] = e;\n        break\n    }\n    return this\n}, FamilyTree.prototype.removeNode = function (e, t, i) {\n    var r = this;\n    if (!this.canRemove(e)) return !1;\n    var a = this._getNewPidsAndStpidsForIds(e);\n    if (!0 === i && !1 === FamilyTree.events.publish(\"remove\", [this, e, a])) return !1;\n    return this.remove(e), FamilyTree.events.publish(\"updated\", [this]), this.filterUI.update(), this._draw(!1, FamilyTree.action.update, null, (function () {\n        r.config.sticky && FamilyTree._moveToBoundaryArea(r.getSvg(), r.getViewBox(), r.response.boundary), t && t()\n    })), !0\n}, FamilyTree.prototype.remove = function (e) {\n    var t = this.get(e);\n    if (t) {\n        this._putInUndoStack(), this.clearRedo();\n        for (var i = this.config.nodes.length - 1; i >= 0; i--) this.config.nodes[i].pid != e && this.config.nodes[i].stpid != e || (this.config.nodes[i].pid = t.pid, this.config.nodes[i].stpid = t.stpid), this.config.nodes[i].id == e && this.config.nodes.splice(i, 1)\n    }\n    return this\n}, FamilyTree.prototype._getNewPidsAndStpidsForIds = function (e) {\n    var t = this.get(e), i = {}, r = {};\n    if (t) for (var a = this.config.nodes.length - 1; a >= 0; a--) this.config.nodes[a].pid == e ? i[this.config.nodes[a].id] = t.pid : this.config.nodes[a].stpid == e && (r[this.config.nodes[a].id] = t.stpid);\n    return {newPidsForIds: i, newStpidsForIds: r}\n}, FamilyTree.prototype.addNode = function (e, t, i) {\n    var r = this;\n    if (!0 === i && !1 === FamilyTree.events.publish(\"add\", [this, e])) return !1;\n    this.add(e), FamilyTree.events.publish(\"updated\", [this]), this.filterUI.update(), r._draw(!1, FamilyTree.action.insert, {\n        id: e.pid,\n        insertedNodeId: e.id\n    }, (function () {\n        r.ripple(e.id), t && t()\n    }))\n}, FamilyTree.prototype.add = function (e) {\n    if (null == e.id && console.error(\"Call addNode without id\"), this._putInUndoStack(), this.clearRedo(), this.config.draggable && !FamilyTree.isNEU(e.pid)) {\n        var t = this._get(e.pid);\n        t && (null != t.movex && (e.movex = t.movex), null != t.movey && (e.movey = t.movey))\n    }\n    return this.config.nodes.push(e), this\n}, FamilyTree.prototype.replaceIds = function (e, t) {\n    this._replaceIds(e), this._draw(!1, FamilyTree.action.update, void 0, t)\n}, FamilyTree.prototype._replaceIds = function (e) {\n    for (var t = function (t) {\n        for (var i = 0; i < t.length; i++) {\n            var r = t[i];\n            for (var a in e) {\n                var n = e[a];\n                r.from == a && (r.from = n), r.to == a && (r.to = n)\n            }\n        }\n    }, i = 0; i < this.config.nodes.length; i++) {\n        var r = this.config.nodes[i];\n        for (var a in e) {\n            var n = e[a];\n            r.id == a && (r.id = n), r.pid == a && (r.pid = n), r.stpid == a && (r.stpid = n), r.ppid == a && (r.ppid = n)\n        }\n    }\n    if (Array.isArray(this.config.roots)) for (i = 0; i < this.config.roots.length; i++) FamilyTree.isNEU(e[this.config.roots[i]]) || (this.config.roots[i] = e[this.config.roots[i]]);\n    if (this.nodes) for (var o in this.nodes) if (!FamilyTree.isNEU(e[o])) {\n        n = e[o];\n        (l = this.nodes[o]).id = n, this.nodes[n] = l\n    }\n    if (this.manager.oldNodes) for (var o in this.manager.oldNodes) if (!FamilyTree.isNEU(e[o])) {\n        n = e[o];\n        (l = this.manager.oldNodes[o]).id = n, this.manager.oldNodes[n] = l\n    }\n    if (this.roots) for (var o in this.roots) if (!FamilyTree.isNEU(e[o])) {\n        var l;\n        n = e[o];\n        (l = this.roots[o]).id = n, this.roots[n] = l\n    }\n    t(this.config.clinks), t(this.config.slinks), t(this.config.groupDottedLines), t(this.config.dottedLines)\n}, FamilyTree.prototype._get = function (e) {\n    var t = this.__get(e);\n    if (t) return t;\n    if ((this.config.groupDottedLines.length || this.config.dottedLines.length) && !FamilyTree.isNEU(e) && \"string\" == typeof e && (-1 != e.indexOf(\"balkan_group_dotted_\") || -1 != e.indexOf(\"balkan_dotted_\"))) {\n        var i = (e = (e = e.replace(\"balkan_group_dotted_\", \"\")).replace(\"balkan_dotted_\", \"\")).indexOf(\"_balkan_id_\");\n        if (e = e.substring(i + \"_balkan_id_\".length), t = this.__get(e)) return t\n    }\n    return null\n}, FamilyTree.prototype.__get = function (e) {\n    for (var t = 0; t < this.config.nodes.length; t++) if (this.config.nodes[t].id == e) return this.config.nodes[t];\n    return null\n}, FamilyTree.prototype.get = function (e) {\n    var t = this._get(e);\n    return null == t ? null : JSON.parse(JSON.stringify(t))\n}, FamilyTree.prototype.canRemove = function (e) {\n    var t = this.getNode(e);\n    return !!t && (!t.hasPartners && !t.hasAssistants)\n}, FamilyTree.prototype.addChildNode = function (e, t, i) {\n    this.hideTreeMenu(!1);\n    var r = this;\n    if (!e || FamilyTree.isNEU(e.mid) && FamilyTree.isNEU(e.fid)) console.error(\"addSonNode invalid data\"); else {\n        FamilyTree.isNEU(e.id) && (e.id = this.generateId());\n        var a = {addNodesData: [e], updateNodesData: [], removeNodeId: null};\n        if (!0 === i) if (!1 === FamilyTree.events.publish(\"update\", [this, a])) return !1;\n        r._fireUpdate_addUpdateRemove(a, i);\n        var n = \"\";\n        FamilyTree.isNEU(a.addNodesData[0].pid) ? FamilyTree.isNEU(a.addNodesData[0].mid) ? FamilyTree.isNEU(a.addNodesData[0].fid) || (n = a.addNodesData[0].fid) : n = a.addNodesData[0].mid : n = a.addNodesData[0].pid, r._draw(!1, FamilyTree.action.insert, {\n            id: n,\n            insertedNodeId: a.addNodesData[0].id\n        }, (function () {\n            r.ripple(a.addNodesData[0].id), t && t(), !0 === i && FamilyTree.events.publish(\"updated\", [r, a]), r.filterUI.update()\n        }))\n    }\n}, FamilyTree.prototype.addChildAndPartnerNodes = function (e, t, i, r, a) {\n    this.hideTreeMenu(!1);\n    var n = this;\n    if (!t || FamilyTree.isNEU(t.mid) && FamilyTree.isNEU(t.fid)) console.error(\"addChildAndPartnerNodes invalid childData\"); else if (i) {\n        FamilyTree.isNEU(t.id) && (t.id = this.generateId()), FamilyTree.isNEU(i.id) && (i.id = this.generateId()), \"_ft_partner\" == t.mid ? t.mid = i.id : \"_ft_partner\" == t.fid && (t.fid = i.id);\n        var o = [], l = null;\n        Array.isArray(i.pids) && (1 != i.pids.length && console.error(\"addChildAndPartnerNodes partnerData.pids has to have one partner\"), l = this.get(i.pids[0]), Array.isArray(l.pids) || (l.pids = []), l.pids.push(i.id), o.push(l));\n        var s = {addNodesData: [t, i], updateNodesData: o, removeNodeId: null};\n        if (!0 === a) if (!1 === FamilyTree.events.publish(\"update\", [this, s])) return !1;\n        n._fireUpdate_addUpdateRemove(s, a);\n        var d = n.getRecentRootsByNodeId(e);\n        FamilyTree._changeRootOption(n.config.roots, d, n.manager.rootList);\n        var c = \"\";\n        l ? c = l.id : FamilyTree.isNEU(t.pid) ? FamilyTree.isNEU(t.mid) ? FamilyTree.isNEU(t.fid) || (c = t.fid) : c = t.mid : c = t.pid, n._draw(!1, FamilyTree.action.update, {id: c}, (function () {\n            n.ripple(t.id), n.ripple(i.id), r && r(), !0 === a && FamilyTree.events.publish(\"updated\", [n, s]), n.filterUI.update()\n        })), !0 === a && FamilyTree.events.publish(\"updating\", [n, s])\n    } else console.error(\"addChildAndPartnerNodes invalid data\")\n}, FamilyTree.prototype.addPartnerAndParentNodes = function (e, t, i, r, a) {\n    this.hideTreeMenu(!1);\n    var n = this;\n    if (!FamilyTree.isNEU(t) && t.length) if (i) {\n        FamilyTree.isNEU(i.id) && (i.id = this.generateId());\n        for (var o = [], l = 0; l < t.length; l++) {\n            var s = this.get(t[l]);\n            if (!FamilyTree.isNEU(s.mid) && !FamilyTree.isNEU(s.fid)) return void console.error(\"father id (fid) or mather id (mid) has to be null or undefined\");\n            FamilyTree.isNEU(s.mid) ? s.mid = i.id : FamilyTree.isNEU(s.mid) || (s.fid = i.id), o.push(s)\n        }\n        var d = null;\n        Array.isArray(i.pids) && (1 != i.pids.length && console.error(\"addChildAndPartnerNodes partnerData.pids has to have one partner\"), d = this.get(i.pids[0]), Array.isArray(d.pids) || (d.pids = []), d.pids.push(i.id), o.push(d));\n        var c = {addNodesData: [i], updateNodesData: o, removeNodeId: null};\n        if (!0 === a) if (!1 === FamilyTree.events.publish(\"update\", [this, c])) return !1;\n        n._fireUpdate_addUpdateRemove(c, a);\n        var m = n.getRecentRootsByNodeId(e);\n        FamilyTree._changeRootOption(n.config.roots, m, n.manager.rootList);\n        var p = \"\";\n        d && (p = d.id), n._draw(!1, FamilyTree.action.update, {id: p}, (function () {\n            n.ripple(i.id), r && r(), !0 === a && FamilyTree.events.publish(\"updated\", [n, c]), n.filterUI.update()\n        })), !0 === a && FamilyTree.events.publish(\"updating\", [n, c])\n    } else console.error(\"addPartnerAndParentNodes invalid data\"); else console.error(\"addPartnerAndParentNodes invalid data\")\n}, FamilyTree.prototype.addPartnerNode = function (e, t, i) {\n    this.hideTreeMenu(!1);\n    var r = this;\n    if (e && Array.isArray(e.pids) && 1 == e.pids.length) {\n        FamilyTree.isNEU(e.id) && (e.id = this.generateId());\n        var a = this.get(e.pids[0]);\n        Array.isArray(a.pids) || (a.pids = []), a.pids.push(e.id);\n        var n = {removeNodeId: null, updateNodesData: [a], addNodesData: [e]};\n        if (!0 === i) if (!1 === FamilyTree.events.publish(\"update\", [this, n])) return !1;\n        r._fireUpdate_addUpdateRemove(n, i);\n        var o = r.getRecentRootsByNodeId(n.updateNodesData[0].id);\n        FamilyTree._changeRootOption(r.config.roots, o, r.manager.rootList);\n        var l = n.updateNodesData[0].id;\n        r._draw(!1, FamilyTree.action.insert, {id: l, insertedNodeId: n.addNodesData[0].id}, (function () {\n            r.ripple(n.addNodesData[0].id), t && t(), !0 === i && FamilyTree.events.publish(\"updated\", [r, n]), r.filterUI.update()\n        })), !0 === i && FamilyTree.events.publish(\"updating\", [r, n])\n    } else console.error(\"addPartnerNode invalid data\")\n}, FamilyTree.prototype.addParentNode = function (e, t, i, r, a) {\n    this.hideTreeMenu(!1);\n    var n = this;\n    if (i) {\n        if ([\"mid\", \"fid\"].has(t)) if (FamilyTree.isNEU(e)) console.error(\"addParentNode invalid childId\"); else {\n            FamilyTree.isNEU(i.id) && (i.id = this.generateId());\n            var o = [], l = this.get(e);\n            l[t] = i.id, o.push(l);\n            var s = null;\n            Array.isArray(i.pids) && (1 != i.pids.length && console.error(\"addParentNode: data has to have one partner\"), s = this.get(i.pids[0]), Array.isArray(s.pids) || (s.pids = []), s.pids.push(i.id), o.push(s));\n            var d = {removeNodeId: null, updateNodesData: o, addNodesData: [i]};\n            if (!0 === a) if (!1 === FamilyTree.events.publish(\"update\", [this, d])) return !1;\n            n._fireUpdate_addUpdateRemove(d, a);\n            var c = e;\n            n.config.roots = [d.addNodesData[0].id], n._draw(!1, FamilyTree.action.insert, {\n                id: c,\n                insertedNodeId: d.addNodesData[0].id\n            }, (function () {\n                n.ripple(d.addNodesData[0].id), r && r(), !0 === a && FamilyTree.events.publish(\"updated\", [n, d]), n.filterUI.update()\n            })), !0 === a && FamilyTree.events.publish(\"updating\", [n, d])\n        } else console.error(\"addParentNode invalid type\")\n    } else console.error(\"addParentNode invalid data\")\n}, FamilyTree.prototype.canRemove = function (e) {\n    var t = this.getNode(e);\n    if (!t) return !1;\n    var i = this.getNode(t.mid), r = this.getNode(t.fid), a = t.ftChildrenIds.length > 0, n = !1, o = t.pids.length > 0,\n        l = t.pids.length > 1;\n    if (1 == t.pids.length) {\n        var s = this.getNode(t.pids[0]);\n        n = t.ftChildrenIds.compare(s.ftChildrenIds)\n    }\n    return !(!i && !r || a || o) || (!(i || r || a || l || !o || n) || (!(i || r || !a || !n) || (!(i || r || !a || n) || !(i || r || a || !n))))\n}, FamilyTree.prototype.removeNode = function (e, t, i) {\n    var r = this;\n    if (this.canRemove(e)) {\n        var a = this.getNode(e), n = [];\n        if (Array.isArray(a.pids)) for (var o = 0; o < a.pids.length; o++) {\n            var l = this.get(a.pids[o]);\n            if (l) -1 != (d = l.pids.indexOf(a.id)) && (l.pids.splice(d, 1), n.push(l))\n        }\n        if (Array.isArray(a.ftChildrenIds)) for (o = 0; o < a.ftChildrenIds.length; o++) {\n            var s = this.get(a.ftChildrenIds[o]);\n            s && (s.mid == a.id ? (s.mid = void 0, n.push(s)) : s.fid == a.id && (s.fid = void 0, n.push(s)))\n        }\n        var d, c = {removeNodeId: e, updateNodesData: n, addNodesData: []};\n        if (!0 === i) if (!1 === FamilyTree.events.publish(\"update\", [this, c])) return !1;\n        r._fireUpdate_addUpdateRemove(c, i), -1 != (d = r.config.roots.indexOf(e)) && r.config.roots.splice(d, 1), r._draw(!1, FamilyTree.action.update, null, (function () {\n            r.config.sticky && FamilyTree._moveToBoundaryArea(r.getSvg(), r.getViewBox(), r.response.boundary), t && t(), !0 === i && FamilyTree.events.publish(\"updated\", [r, c]), r.filterUI.update()\n        })), !0 === i && FamilyTree.events.publish(\"updating\", [r, c])\n    }\n}, FamilyTree.prototype.updateNode = function (e, t, i) {\n    var r = this, a = this.getNode(e.id);\n    e.pids || (e.pids = []);\n    var n = [];\n    n.push(e);\n    for (var o = 0; o < a.pids.length; o++) {\n        if (!e.pids.has(a.pids[o])) if ((s = this._get(a.pids[o])) && s.pids) {\n            var l = s.pids.indexOf(e.id);\n            -1 != l && (s.pids.splice(l, 1), n.push(e)), a.pids.splice(o, 1), n.push(s)\n        }\n    }\n    for (o = 0; o < e.pids.length; o++) {\n        var s;\n        if (!a.pids || !a.pids.has(e.pids[o])) (s = this._get(e.pids[o])).pids || (s.pids = []), s.pids.push(e.pids[o]), n.push(s)\n    }\n    var d = {removeNodeId: null, updateNodesData: n, addNodesData: []};\n    if (!0 === i && !1 === FamilyTree.events.publish(\"update\", [this, d])) return !1;\n    r._fireUpdate_addUpdateRemove(d, i), r._draw(!1, FamilyTree.action.update, null, (function () {\n        r.config.sticky && FamilyTree._moveToBoundaryArea(r.getSvg(), r.getViewBox(), r.response.boundary), t && t(), !0 === i && FamilyTree.events.publish(\"updated\", [r, d]), r.filterUI.update()\n    }))\n}, FamilyTree.prototype._fireUpdate_addUpdateRemove = function (e, t) {\n    for (var i = 0; i < e.addNodesData.length; i++) this.add(e.addNodesData[i]);\n    for (i = 0; i < e.updateNodesData.length; i++) this.update(e.updateNodesData[i]);\n    FamilyTree.isNEU(e.removeNodeId) || this.remove(e.removeNodeId), !0 === t && FamilyTree.events.publish(\"updating\", [this, e])\n}, FamilyTree.prototype.__replaceIds = FamilyTree.prototype._replaceIds, FamilyTree.prototype._replaceIds = function (e) {\n    this.__replaceIds(e);\n    for (var t = 0; t < this.config.nodes.length; t++) {\n        var i = this.config.nodes[t];\n        for (var r in e) {\n            var a = e[r];\n            if (i.fid == r && (i.fid = a), i.mid == r && (i.mid = a), Array.isArray(i.pids)) for (var n = 0; n < i.pids.length; n++) i.pids[n] == r && (i.pids[n] = a)\n        }\n    }\n}, void 0 === FamilyTree && (FamilyTree = {}), FamilyTree._ajax = function (e, t, i, r, a) {\n    null == r && (r = \"arraybuffer\");\n    var n = new XMLHttpRequest;\n    n.onload = function (e) {\n        4 == n.readyState && 200 === this.status && (null == e.target ? a(this.response) : a(e.target.response))\n    }, n.onerror = function (e) {\n        a({error: e})\n    }, n.open(t, e), n.responseType = r, n.setRequestHeader(\"Content-Type\", \"application/json\"), null == i ? n.send() : n.send(i)\n}, void 0 === FamilyTree && (FamilyTree = {}), FamilyTree.animate = function (e, t, i, r, a, n, o) {\n    var l, s = 10, d = 1, c = r / s + 1;\n    document.getElementsByTagName(\"g\");\n    return Array.isArray(e) || (e = [e]), Array.isArray(t) || (t = [t]), Array.isArray(i) || (i = [i]), l = setInterval((function () {\n        for (var m = 0; m < e.length; m++) for (var p in i[m]) {\n            var h = FamilyTree._arrayContains([\"top\", \"left\", \"right\", \"bottom\", \"width\", \"height\"], p.toLowerCase()) ? \"px\" : \"\";\n            switch (p.toLowerCase()) {\n                case\"d\":\n                    var f = a((d * s - s) / r) * (i[m][p][0] - t[m][p][0]) + t[m][p][0],\n                        u = a((d * s - s) / r) * (i[m][p][1] - t[m][p][1]) + t[m][p][1];\n                    e[m].setAttribute(\"d\", e[m].getAttribute(\"d\") + \" L\" + f + \" \" + u);\n                    break;\n                case\"r\":\n                    var y = a((d * s - s) / r) * (i[m][p] - t[m][p]) + t[m][p];\n                    e[m].setAttribute(\"r\", y);\n                    break;\n                case\"x1\":\n                    y = a((d * s - s) / r) * (i[m][p] - t[m][p]) + t[m][p];\n                    e[m].setAttribute(\"x1\", y);\n                    break;\n                case\"x2\":\n                    y = a((d * s - s) / r) * (i[m][p] - t[m][p]) + t[m][p];\n                    e[m].setAttribute(\"x2\", y);\n                    break;\n                case\"y1\":\n                    y = a((d * s - s) / r) * (i[m][p] - t[m][p]) + t[m][p];\n                    e[m].setAttribute(\"y1\", y);\n                    break;\n                case\"y2\":\n                    y = a((d * s - s) / r) * (i[m][p] - t[m][p]) + t[m][p];\n                    e[m].setAttribute(\"y2\", y);\n                    break;\n                case\"rotate3d\":\n                    if (i[m][p]) {\n                        var g = t[m][p], v = i[m][p], T = [0, 0, 0, 0];\n                        for (var b in g) T[b] = a((d * s - s) / r) * (v[b] - g[b]) + g[b];\n                        e[m].style.transform = \"rotate3d(\" + T.toString() + \"deg)\"\n                    }\n                    break;\n                case\"transform\":\n                    if (i[m][p]) {\n                        g = t[m][p], v = i[m][p], T = [0, 0, 0, 0, 0, 0];\n                        for (var b in g) T[b] = a((d * s - s) / r) * (v[b] - g[b]) + g[b];\n                        e[m].hasAttribute(\"transform\") ? e[m].setAttribute(\"transform\", \"matrix(\" + T.toString() + \")\") : e[m].style.transform = \"matrix(\" + T.toString() + \")\"\n                    }\n                    break;\n                case\"viewbox\":\n                    if (i[m][p]) {\n                        g = t[m][p], v = i[m][p], T = [0, 0, 0, 0];\n                        for (var b in g) T[b] = a((d * s - s) / r) * (v[b] - g[b]) + g[b];\n                        e[m].setAttribute(\"viewBox\", T.toString())\n                    }\n                    break;\n                case\"margin\":\n                    if (i[m][p]) {\n                        g = t[m][p], v = i[m][p], T = [0, 0, 0, 0];\n                        for (var b in g) T[b] = a((d * s - s) / r) * (v[b] - g[b]) + g[b];\n                        var F = \"\";\n                        for (b = 0; b < T.length; b++) F += parseInt(T[b]) + \"px \";\n                        e[m] && e[m].style && (e[m].style[p] = F)\n                    }\n                    break;\n                case\"scrolly\":\n                    y = a((d * s - s) / r) * (i[m][p] - t[m][p]) + t[m][p];\n                    e[m].scrollTo(0, y);\n                    break;\n                default:\n                    y = a((d * s - s) / r) * (i[m][p] - t[m][p]) + t[m][p];\n                    e[m] && e[m].style && (e[m].style[p] = y + h)\n            }\n        }\n        o && o(), (d += 1) > c + 1 && (clearInterval(l), n && n(e))\n    }), s)\n}, FamilyTree.anim = {}, FamilyTree.anim.inPow = function (e) {\n    return e < 0 ? 0 : e > 1 ? 1 : Math.pow(e, 2)\n}, FamilyTree.anim.outPow = function (e) {\n    if (e < 0) return 0;\n    if (e > 1) return 1;\n    return -1 * (Math.pow(e - 1, 2) + -1)\n}, FamilyTree.anim.inOutPow = function (e) {\n    if (e < 0) return 0;\n    if (e > 1) return 1;\n    if ((e *= 2) < 1) return FamilyTree.anim.inPow(e, 2) / 2;\n    return -.5 * (Math.pow(e - 2, 2) + -2)\n}, FamilyTree.anim.inSin = function (e) {\n    return e < 0 ? 0 : e > 1 ? 1 : 1 - Math.cos(e * (Math.PI / 2))\n}, FamilyTree.anim.outSin = function (e) {\n    return e < 0 ? 0 : e > 1 ? 1 : Math.sin(e * (Math.PI / 2))\n}, FamilyTree.anim.inOutSin = function (e) {\n    return e < 0 ? 0 : e > 1 ? 1 : -.5 * (Math.cos(Math.PI * e) - 1)\n}, FamilyTree.anim.inExp = function (e) {\n    return e < 0 ? 0 : e > 1 ? 1 : Math.pow(2, 10 * (e - 1))\n}, FamilyTree.anim.outExp = function (e) {\n    return e < 0 ? 0 : e > 1 ? 1 : 1 - Math.pow(2, -10 * e)\n}, FamilyTree.anim.inOutExp = function (e) {\n    return e < 0 ? 0 : e > 1 ? 1 : e < .5 ? .5 * Math.pow(2, 10 * (2 * e - 1)) : .5 * (2 - Math.pow(2, 10 * (-2 * e + 1)))\n}, FamilyTree.anim.inCirc = function (e) {\n    return e < 0 ? 0 : e > 1 ? 1 : -(Math.sqrt(1 - e * e) - 1)\n}, FamilyTree.anim.outCirc = function (e) {\n    return e < 0 ? 0 : e > 1 ? 1 : Math.sqrt(1 - (e - 1) * (e - 1))\n}, FamilyTree.anim.inOutCirc = function (e) {\n    return e < 0 ? 0 : e > 1 ? 1 : e < 1 ? -.5 * (Math.sqrt(1 - e * e) - 1) : .5 * (Math.sqrt(1 - (2 * e - 2) * (2 * e - 2)) + 1)\n}, FamilyTree.anim.rebound = function (e) {\n    return e < 0 ? 0 : e > 1 ? 1 : e < 1 / 2.75 ? 1 - 7.5625 * e * e : e < 2 / 2.75 ? 1 - (7.5625 * (e - 1.5 / 2.75) * (e - 1.5 / 2.75) + .75) : e < 2.5 / 2.75 ? 1 - (7.5625 * (e - 2.25 / 2.75) * (e - 2.25 / 2.75) + .9375) : 1 - (7.5625 * (e - 2.625 / 2.75) * (e - 2.625 / 2.75) + .984375)\n}, FamilyTree.anim.inBack = function (e) {\n    return e < 0 ? 0 : e > 1 ? 1 : e * e * (2.70158 * e - 1.70158)\n}, FamilyTree.anim.outBack = function (e) {\n    return e < 0 ? 0 : e > 1 ? 1 : (e - 1) * (e - 1) * (2.70158 * (e - 1) + 1.70158) + 1\n}, FamilyTree.anim.inOutBack = function (e) {\n    return e < 0 ? 0 : e > 1 ? 1 : e < .5 ? 4 * e * e * (7.1898 * e - 2.5949) * .5 : .5 * ((2 * e - 2) * (2 * e - 2) * (3.5949 * (2 * e - 2) + 2.5949) + 2)\n}, FamilyTree.anim.impulse = function (e) {\n    var t = 2 * e;\n    return t * Math.exp(1 - t)\n}, FamilyTree.anim.expPulse = function (e) {\n    return Math.exp(-2 * Math.pow(e, 2))\n}, void 0 === FamilyTree && (FamilyTree = {}), FamilyTree.prototype._attachInitEventHandlers = function (e) {\n    this._addEvent(window, \"resize\", this._resizeHandler)\n}, FamilyTree.prototype._attachEventHandlers = function (e) {\n    if (this.config.interactive) {\n        e = this.getSvg();\n        this.config.enableTouch || FamilyTree.isMobile() ? (this._addEvent(e, \"touchstart\", this._globalMouseDownHandler), this._addEvent(e, \"touchend\", this._globalClickHandler)) : (this._addEvent(e, \"mousedown\", this._globalMouseDownHandler), this._addEvent(e, \"click\", this._globalClickHandler), this._addEvent(e, \"contextmenu\", this._globalContextHandler), this._addEvent(e, \"dblclick\", this._globalDbClickHandler), this.config.mouseScrool != FamilyTree.action.none && this._addEvent(e, \"wheel\", this._mouseScrollHandler));\n        var t = this.getMenuButton();\n        t && this._addEvent(t, \"click\", this._menuClickHandler)\n    }\n}, FamilyTree.prototype._addEvent = function (e, t, i, r) {\n    var a, n;\n    (r || (r = \"\"), e.getListenerList || (e.getListenerList = {}), e.getListenerList[t + r]) || (a = this, n = i, i = function () {\n        if (n) return n.apply(a, [this, arguments[0]])\n    }, e.addEventListener ? \"mousewheel\" == t ? e.addEventListener(t, o, {passive: !1}) : e.addEventListener(t, o, !1) : e.attachEvent(\"on\" + t, (function () {\n        var t = i.call(e, window.event);\n        return !1 === t && (window.event.returnValue = !1, window.event.cancelBubble = !0), t\n    })), e.getListenerList[t + r] = o);\n\n    function o(e) {\n        var t = i.apply(this, arguments);\n        return !1 === t && (e.stopPropagation(), e.preventDefault()), t\n    }\n}, FamilyTree.prototype._removeEvent = function (e, t) {\n    if (e.getListenerList[t]) {\n        var i = e.getListenerList[t];\n        e.removeEventListener(t, i, !1), delete e.getListenerList[t]\n    }\n}, void 0 === FamilyTree && (FamilyTree = {}), FamilyTree.VERSION = \"8.13.33\", FamilyTree.orientation = {}, FamilyTree.orientation.top = 0, FamilyTree.orientation.bottom = 1, FamilyTree.orientation.right = 2,FamilyTree.orientation.left = 3,FamilyTree.orientation.top_left = 4,FamilyTree.orientation.bottom_left = 5,FamilyTree.orientation.right_top = 6,FamilyTree.orientation.left_top = 7,FamilyTree.align = {},FamilyTree.align.center = FamilyTree.CENTER = 8,FamilyTree.align.orientation = FamilyTree.ORIENTATION = 9,FamilyTree.attr = {},FamilyTree.attr.l = \"data-l\",FamilyTree.attr.id = \"data-id\",FamilyTree.attr.sl = \"data-sl\",FamilyTree.attr.lbl = \"data-lbl\",FamilyTree.attr.val = \"data-val\",FamilyTree.attr.tlbr = \"data-tlbr\",FamilyTree.attr.item = \"data-item\",FamilyTree.attr.layout = \"data-layout\",FamilyTree.attr.node_id = \"data-n-id\",FamilyTree.attr.link_id = \"data-l-id\",FamilyTree.attr.field_name = \"data-f-name\",FamilyTree.attr.c_link_to = \"data-c-l-to\",FamilyTree.attr.c_link_from = \"data-c-l-from\",FamilyTree.attr.s_link_to = \"data-s-l-to\",FamilyTree.attr.s_link_from = \"data-s-l-from\",FamilyTree.attr.control_add = \"data-ctrl-add\",FamilyTree.attr.control_expcoll_id = \"data-ctrl-ec-id\",FamilyTree.attr.control_up_id = \"data-ctrl-up-id\",FamilyTree.attr.control_export_menu = \"data-ctrl-menu\",FamilyTree.attr.control_node_menu_id = \"data-ctrl-n-menu-id\",FamilyTree.attr.control_node_circle_menu_id = \"data-ctrl-n-c-menu-id\",FamilyTree.attr.control_node_circle_menu_name = \"data-ctrl-n-c-menu-name\",FamilyTree.attr.control_node_circle_menu_wrraper_id = \"data-ctrl-n-c-menu-wrapper-id\",FamilyTree.attr.width = \"data-width\",FamilyTree.attr.text_overflow = \"data-text-overflow\",FamilyTree.ID = \"id\",FamilyTree.PID = \"pid\",FamilyTree.STPID = \"stpid\",FamilyTree.TAGS = \"tags\",FamilyTree.NODES = \"nodes\",FamilyTree.ELASTIC = \"elastic\",FamilyTree.ASSISTANT = \"Assistant\",FamilyTree.action = {},FamilyTree.action.expand = 0,FamilyTree.action.collapse = 1,FamilyTree.action.maximize = 101,FamilyTree.action.minimize = 102,FamilyTree.action.expandCollapse = 501,FamilyTree.action.edit = 1,FamilyTree.action.zoom = 2,FamilyTree.action.ctrlZoom = 22,FamilyTree.action.scroll = 41,FamilyTree.action.xScroll = 3,FamilyTree.action.yScroll = 4,FamilyTree.action.none = 5,FamilyTree.action.init = 6,FamilyTree.action.update = 7,FamilyTree.action.move = 70,FamilyTree.action.pan = 8,FamilyTree.action.centerNode = 9,FamilyTree.action.resize = 10,FamilyTree.action.insert = 11,FamilyTree.action.insertfirst = 12,FamilyTree.action.details = 13,FamilyTree.action.exporting = 14,FamilyTree.none = 400001,FamilyTree.scroll = {},FamilyTree.scroll.visible = !0,FamilyTree.scroll.smooth = 12,FamilyTree.scroll.speed = 120,FamilyTree.scroll.safari = {\n    smooth: 12,\n    speed: 250\n},FamilyTree.match = {},FamilyTree.match.height = 100001,FamilyTree.match.width = 100002,FamilyTree.match.boundary = 100003,FamilyTree.draggable = {},FamilyTree.draggable.node = \"node\",FamilyTree.draggable.tree = \"tree\",FamilyTree.layout = {},FamilyTree.layout.normal = FamilyTree.normal = 0,FamilyTree.layout.mixed = FamilyTree.mixed = 1,FamilyTree.layout.tree = FamilyTree.tree = 2,FamilyTree.layout.treeLeftOffset = FamilyTree.treeLeftOffset = 3,FamilyTree.layout.treeRightOffset = FamilyTree.treeRightOffset = 4,FamilyTree.layout.treeLeft = 5,FamilyTree.layout.treeRight = 6,FamilyTree.nodeOpenTag = \"<g \" + FamilyTree.attr.node_id + '=\"{id}\" style=\"opacity: {opacity}\" transform=\"matrix(1,0,0,1,{x},{y})\" class=\"{class}\" ' + FamilyTree.attr.sl + '=\"{sl}\" ' + FamilyTree.attr.l + \"={level} {lcn}>\",FamilyTree.linkOpenTag = \"<g \" + FamilyTree.attr.link_id + '=\"[{id}][{child-id}]\" class=\"{class}\">',FamilyTree.expcollOpenTag = \"<g \" + FamilyTree.attr.control_expcoll_id + '=\"{id}\" transform=\"matrix(1,0,0,1,{x},{y})\"  style=\"cursor:pointer;\">',FamilyTree.upOpenTag = \"<g \" + FamilyTree.attr.control_up_id + '=\"{id}\" transform=\"matrix(1,0,0,1,{x},{y})\" style=\"cursor:pointer;\">',FamilyTree.linkFieldsOpenTag = '<g transform=\"matrix(1,0,0,1,{x},{y}) rotate({rotate})\">',FamilyTree.grCloseTag = \"</g>\",FamilyTree.A5w = 420,FamilyTree.A5h = 595,FamilyTree.A4w = 595,FamilyTree.A4h = 842,FamilyTree.A3w = 842,FamilyTree.A3h = 1191,FamilyTree.A2w = 1191,FamilyTree.A2h = 1684,FamilyTree.A1w = 1684,FamilyTree.A1h = 2384,FamilyTree.Letterw = 612,FamilyTree.Letterh = 791,FamilyTree.Legalw = 612,FamilyTree.Legalh = 1009,FamilyTree.COLLAPSE_PARENT_NEIGHBORS = 1,FamilyTree.COLLAPSE_SUB_CHILDRENS = 2,FamilyTree.COLLAPSE_PARENT_SUB_CHILDREN_EXCEPT_CLICKED = 3,FamilyTree.TEXT_THRESHOLD = 400,FamilyTree.IMAGES_THRESHOLD = 100,FamilyTree.LINKS_THRESHOLD = 200,FamilyTree.BUTTONS_THRESHOLD = 70,FamilyTree.ANIM_THRESHOLD = 50,FamilyTree.IT_IS_LONELY_HERE = '<g transform=\"translate(-100, 0)\" style=\"cursor:pointer;\"  ' + FamilyTree.attr.control_add + '=\"control-add\"><text fill=\"#039be5\">{link}</text></g>',FamilyTree.RES = {},FamilyTree.RES.IT_IS_LONELY_HERE_LINK = \"It's lonely here, add your first node\",FamilyTree.FIRE_DRAG_NOT_CLICK_IF_MOVE = 3,FamilyTree.STRING_TAGS = !1,FamilyTree.MAX_NODES_MESS = \"The trial has expired or 200 nodes limit was reached! <br /><a style='color: #039BE5;' target='_blank' href='https://balkan.app/FamilyTreeJS/Docs/Evaluation'>See more</a>\",FamilyTree.OFFLINE_MESS = \"The evaluation version requires internet connection! <br /><a style='color: #039BE5;' target='_blank' href='https://balkan.app/FamilyTreeJS/Docs/Evaluation'>See more</a>\",FamilyTree.SEARCH_PLACEHOLDER = \"Search... type ? to get help.\",FamilyTree.SEARCH_HELP_SYMBOL = \"?\",FamilyTree.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE = !1,FamilyTree.SEARCH_RESULT_LIMIT = 10,FamilyTree.IMPORT_MESSAGE = \"Choose the columns (fields) in your data file that contain the required information.\",FamilyTree.FIXED_POSITION_ON_CLICK = !1,FamilyTree.RENDER_LINKS_BEFORE_NODES = !1,FamilyTree.RENDER_CLINKS_BEFORE_NODES = !1,FamilyTree.MIXED_LAYOUT_ALL_NODES = !0,FamilyTree.MIXED_LAYOUT_FOR_NODES_WITH_COLLAPSED_CHILDREN = !1,FamilyTree.MIXED_LAYOUT_IF_NUMBER_OF_CHILDREN_IS_MORE_THEN = 1,FamilyTree.LINK_ROUNDED_CORNERS = 5,FamilyTree.MOVE_STEP = 5,FamilyTree.CLINK_CURVE = 1,FamilyTree.MAX_DEPTH = 200,FamilyTree.SCALE_FACTOR = 1.44,FamilyTree.LAZY_LOADING_FACTOR = 500,FamilyTree.HIDE_EDIT_FORM_ON_PAN = !0,FamilyTree.LAZY_LOADING = !0,FamilyTree.ARRAY_FIELDS = [\"tags\"],FamilyTree.CSV_DELIMITER = \",\",FamilyTree.EDITFORM_CLOSE_BTN = '<svg data-edit-from-close class=\"bft-edit-form-close\"><path style=\"fill:#ffffff;\" d=\"M21.205,5.007c-0.429-0.444-1.143-0.444-1.587,0c-0.429,0.429-0.429,1.143,0,1.571l8.047,8.047H1.111 C0.492,14.626,0,15.118,0,15.737c0,0.619,0.492,1.127,1.111,1.127h26.554l-8.047,8.032c-0.429,0.444-0.429,1.159,0,1.587 c0.444,0.444,1.159,0.444,1.587,0l9.952-9.952c0.444-0.429,0.444-1.143,0-1.571L21.205,5.007z\"></path></svg>',FamilyTree.ESCAPE_HTML = !1,FamilyTree.VERTICAL_CHILDREN_ASSISTANT = !1,\"undefined\" != typeof module && (module.exports = FamilyTree),FamilyTree.OC_VERSION = FamilyTree.VERSION,FamilyTree.VERSION = \"1.09.16\",FamilyTree.RENDER_LINKS_BEFORE_NODES = !0,FamilyTree.ARRAY_FIELDS = [\"tags\", \"pids\"],FamilyTree._intersects = function (e, t, i) {\n    var r = e.x - i.siblingSeparation / 4, a = e.y, n = e.x + e.w + i.siblingSeparation / 4, o = e.y;\n    switch (i.orientation) {\n        case FamilyTree.orientation.right:\n        case FamilyTree.orientation.right_top:\n        case FamilyTree.orientation.left:\n        case FamilyTree.orientation.left_top:\n            r = e.x, a = e.y - i.siblingSeparation / 4, n = e.x, o = e.y + e.h + i.siblingSeparation / 4\n    }\n    var l, s, d, c = t.p, m = t.q, p = t.r, h = t.s;\n    return 0 !== (l = (n - r) * (h - m) - (p - c) * (o - a)) && (s = ((a - o) * (p - r) + (n - r) * (h - a)) / l, 0 < (d = ((h - m) * (p - r) + (c - p) * (h - a)) / l) && d < 1 && 0 < s && s < 1)\n},FamilyTree._addPoint = function (e, t, i, r, a) {\n    switch (i.orientation) {\n        case FamilyTree.orientation.top:\n        case FamilyTree.orientation.top_left:\n            return FamilyTree._addPointTop(e, t, i, r, a);\n        case FamilyTree.orientation.bottom:\n        case FamilyTree.orientation.bottom_left:\n            return FamilyTree._addPointBottom(e, t, i, r, a);\n        case FamilyTree.orientation.left:\n        case FamilyTree.orientation.left_top:\n            return FamilyTree._addPointLeft(e, t, i, r, a);\n        case FamilyTree.orientation.right:\n        case FamilyTree.orientation.right_top:\n            return FamilyTree._addPointRight(e, t, i, r, a)\n    }\n},FamilyTree._addPointTop = function (e, t, i, r, a) {\n    var n, o, l;\n    return \"left\" == a ? n = e.leftNeighbor ? e.x + (e.leftNeighbor.x + e.leftNeighbor.w - e.x) / 2 : e.x - i.siblingSeparation / 2 : \"right\" == a && (n = e.rightNeighbor ? e.x + e.w + (e.rightNeighbor.x - (e.x + e.w)) / 2 : e.x + e.w + i.siblingSeparation / 2), t.push([n, t[t.length - 1][1]]), t.push([n, e.y - i.levelSeparation / 3]), o = t[t.length - 1][1], l = n, r.p = n, r.q = o, r.r = l, r\n},FamilyTree._addPointBottom = function (e, t, i, r, a) {\n    var n, o, l;\n    return \"left\" == a ? n = e.leftNeighbor ? e.x + (e.leftNeighbor.x + e.leftNeighbor.w - e.x) / 2 : e.x - i.siblingSeparation / 2 : \"right\" == a && (n = e.rightNeighbor ? e.x + e.w + (e.rightNeighbor.x - (e.x + e.w)) / 2 : e.x + e.w + i.siblingSeparation / 2), t.push([n, t[t.length - 1][1]]), t.push([n, e.y + e.h + i.levelSeparation / 3]), o = t[t.length - 1][1], l = n, r.p = n, r.q = o, r.r = l, r\n},FamilyTree._addPointLeft = function (e, t, i, r, a) {\n    var n, o = t[t.length - 1][0];\n    \"bottom\" == a ? n = e.rightNeighbor ? e.y + e.h + (e.rightNeighbor.y - (e.y + e.h)) / 2 : e.y + e.h + i.siblingSeparation / 2 : \"top\" == a && (n = e.leftNeighbor ? e.y + (e.leftNeighbor.y + e.leftNeighbor.h - e.y) / 2 : e.y - i.siblingSeparation / 2), t.push([t[t.length - 1][0], n]), t.push([e.x - i.levelSeparation / 3, n]), o = t[t.length - 1][0];\n    var l = n;\n    return r.p = o, r.q = n, r.s = l, r\n},FamilyTree._addPointRight = function (e, t, i, r, a) {\n    var n, o = t[t.length - 1][0];\n    \"bottom\" == a ? n = e.rightNeighbor ? e.y + e.h + (e.rightNeighbor.y - (e.y + e.h)) / 2 : e.y + e.h + i.siblingSeparation / 2 : \"top\" == a && (n = e.leftNeighbor ? e.y + (e.leftNeighbor.y + e.leftNeighbor.h - e.y) / 2 : e.y - i.siblingSeparation / 2), t.push([t[t.length - 1][0], n]), t.push([e.x + e.w + i.levelSeparation / 3, n]), o = t[t.length - 1][0];\n    var l = n;\n    return r.p = o, r.q = n, r.s = l, r\n},FamilyTree.editUI = function () {\n},FamilyTree.editUI.prototype.init = function (e) {\n    this.obj = e, this.fields = null, this._event_id = FamilyTree._guid()\n},FamilyTree.editUI.prototype.on = function (e, t) {\n    return FamilyTree.events.on(e, t, this._event_id), this\n},FamilyTree.editUI.prototype.show = function (e, t, i) {\n    if (this.hide(), !1 === FamilyTree.events.publish(\"show\", [this, e])) return !1;\n    var r = this, a = this.content(e, t, i);\n    this.obj.element.appendChild(a.element), FamilyTree.input.init(this.obj.element), i ? t || this._focusElement(a.focusId) : this.interval = FamilyTree.animate(a.element, {\n        right: -20,\n        opacity: 0\n    }, {right: 0, opacity: 1}, 300, FamilyTree.anim.outSin, (function () {\n        t || r._focusElement(a.focusId)\n    })), this.obj.element.querySelector(\"[data-edit-from-close]\").addEventListener(\"click\", (function (t) {\n        t.preventDefault(), !1 !== FamilyTree.events.publish(\"cancel\", [r, {id: e}]) && r.hide()\n    })), this.obj.element.querySelector(\"[data-edit-from-cancel]\").addEventListener(\"click\", (function (t) {\n        t.preventDefault(), !1 !== FamilyTree.events.publish(\"cancel\", [r, {id: e}]) && r.hide()\n    })), this.obj.element.querySelector(\"[data-edit-from-save]\").addEventListener(\"click\", (function (t) {\n        t.preventDefault();\n        var i = FamilyTree.input.validateAndGetData(a.element);\n        if (!1 !== i) {\n            var n = r.obj.get(e), o = {data: FamilyTree.mergeDeep(n, i)};\n            if (!1 === FamilyTree.events.publish(\"save\", [r, o])) return;\n            r.obj.updateNode(o.data, null, !0), r.hide()\n        }\n    }));\n    for (var n = this.obj.element.querySelectorAll(\"[data-input-btn]\"), o = 0; o < n.length; o++) {\n        n[o].addEventListener(\"click\", (function (t) {\n            t.preventDefault(), FamilyTree.events.publish(\"element-btn-click\", [r, {\n                input: this.parentNode.querySelector(\"input\"),\n                nodeId: e,\n                event: t\n            }])\n        }))\n    }\n    this.obj.element.querySelector(\"[data-add-more-fields-btn]\").addEventListener(\"click\", (function (e) {\n        e.stopPropagation(), e.preventDefault();\n        var t = this, i = FamilyTree.elements.textbox({}, {\n            type: \"textbox\",\n            label: r.obj.config.editForm.addMoreFieldName,\n            btn: r.obj.config.editForm.addMoreBtn\n        }, \"280px\");\n        t.parentNode.insertAdjacentHTML(\"beforebegin\", i.html), t.style.display = \"none\", FamilyTree.input.init(t.parentNode.previousSibling);\n        var a = document.getElementById(i.id);\n        a.focus(), a.nextElementSibling.addEventListener(\"click\", (function (e) {\n            e.stopPropagation(), e.preventDefault();\n            var i = a.value,\n                n = r.obj.element.querySelector('[data-binding=\"' + FamilyTree._escapeDoubleQuotes(a.value) + '\"]');\n            if (FamilyTree.isNEU(i) || n) a.focus(); else {\n                var o = FamilyTree.elements.textbox({}, {type: \"textbox\", label: i, binding: i}, \"280px\");\n                a.parentNode.parentNode.parentNode.removeChild(a.parentNode.parentNode), t.parentNode.insertAdjacentHTML(\"beforebegin\", o.html), t.style.display = \"\", FamilyTree.input.init(t.parentNode.previousSibling), document.getElementById(o.id).focus()\n            }\n        }))\n    })), this.obj.element.querySelector(\"[data-bft-edit-from-btns]\").addEventListener(\"click\", (function (t) {\n        for (var i = t.target; i && i.hasAttribute && !i.hasAttribute(\"data-edit-from-btn\");) i = i.parentNode;\n        if (i && i.hasAttribute) {\n            var n = i.getAttribute(\"data-edit-from-btn\"),\n                o = {button: r.obj.config.editForm.buttons[n], name: n, nodeId: e, event: t};\n            if (!1 === FamilyTree.events.publish(\"button-click\", [r, o])) return !1;\n            switch (n) {\n                case\"edit\":\n                    r.obj.editUI.show(e, !1, !0);\n                    break;\n                case\"pdf\":\n                    r.obj.exportPDFProfile({id: e, filename: a.title}), r.hide();\n                    break;\n                case\"png\":\n                    r.obj.exportPNGProfile({id: e, filename: a.title}), r.hide();\n                    break;\n                case\"share\":\n                    r.obj.shareProfile(e);\n                    break;\n                case\"remove\":\n                    r.obj.removeNode(e, null, !0), r.hide()\n            }\n        }\n    }))\n},FamilyTree.editUI.prototype._focusElement = function (e) {\n    var t = null;\n    FamilyTree.isNEU(this.obj.config.editForm.focusBinding) ? FamilyTree.isNEU(e) || (t = document.getElementById(e)) : t = this.obj.element.querySelector('[data-binding=\"' + this.obj.config.editForm.focusBinding + '\"]'), t && (t.value && t.value.length && t.setSelectionRange(t.value.length, t.value.length), t.focus())\n},FamilyTree.editUI.prototype.setAvatar = function (e) {\n    var t = this.obj.element.querySelector(\"#bft-avatar\");\n    FamilyTree.isNEU(e) ? t.innerHTML = FamilyTree.icon.user(150, 150, \"#8C8C8C\", 0, 0) : t.innerHTML = `<img style=\"width: 100%;height:100%;border-radius: 50%;\" src=\"${e}\"></img>`\n},FamilyTree.editUI.prototype.content = function (e, t, i, r, a) {\n    var n, o = this.obj.config.editForm.readOnly, l = JSON.parse(JSON.stringify(this.obj.config.editForm.elements)),\n        s = this.obj.config.editForm.addMore, d = this.obj.config.editForm.saveAndCloseBtn,\n        c = this.obj.config.editForm.cancelBtn, m = this.obj.config.editForm.buttons,\n        p = this.obj.config.editForm.titleBinding, h = this.obj.config.editForm.photoBinding, f = this.obj.getNode(e),\n        u = this.obj._get(e), y = FamilyTree.t(f.templateName, f.min, this.obj.getScale()), g = u[p], v = u[h];\n    if (this.obj.config.editForm.generateElementsFromFields) for (var T = 0; T < this.fields.length; T++) {\n        var b = this.fields[T];\n        if (\"tags\" != b) {\n            for (var F = !1, x = 0; x < l.length; x++) {\n                if (Array.isArray(l[x])) {\n                    for (var _ = 0; _ < l[x].length; _++) if (b == l[x][_].binding) {\n                        F = !0;\n                        break\n                    }\n                } else if (b == l[x].binding) {\n                    F = !0;\n                    break\n                }\n                if (F) break\n            }\n            F || l.push({type: \"textbox\", label: b, binding: b})\n        }\n    }\n    FamilyTree.isNEU(g) && (g = \"\"), v = FamilyTree.isNEU(v) ? FamilyTree.icon.user(150, 150, \"#8C8C8C\", 0, 0) : `<img style=\"width: 100%;height:100%;border-radius: 50%;\" src=\"${v}\"></img>`;\n    var w = !t, k = t ? \"display:none;\" : \"\", S = t || !s ? \"display:none;\" : \"\",\n        C = y.editFormHeaderColor ? `style=\"background-color:${y.editFormHeaderColor};\"` : \"\",\n        I = document.createElement(\"form\");\n    if (I.setAttribute(\"data-bft-edit-form\", \"\"), I.classList.add(\"bft-edit-form\"), I.classList.add(this.obj.config.mode), I.classList.add(f.templateName), I.classList.add(FamilyTree.ui._defsIds[f.templateName]), Array.isArray(f.tags) && f.tags.length) for (T = 0; T < f.tags.length; T++) I.classList.add(f.tags[T]);\n    I.style.display = \"flex\", I.style.opacity = i ? 1 : 0, I.style.right = i ? 0 : \"-20px\", r && (I.style.width = r);\n    var N = [], A = a ? \"\" : FamilyTree.EDITFORM_CLOSE_BTN;\n    return I.innerHTML = `<div>\\n                        <div class=\"bft-edit-form-header\" ${C}>\\n                            ${A}\\n                            ${FamilyTree.editUI.renderHeaderContent(g, v, f, u)}\\n                        </div>\\n                        <div data-bft-edit-from-btns class=\"bft-edit-form-instruments\">\\n                        ${function () {\n        if (a) return \"\";\n        var e = \"\";\n        for (var i in m) {\n            var r = m[i];\n            FamilyTree.isNEU(r) || (w && r.hideIfEditMode || t && r.hideIfDetailsMode || o && \"Edit\" == r.text || (e += `<div data-edit-from-btn='${i}' class=\"bft-img-button\" ${C} title=\"${r.text}\">${r.icon}</div>`))\n        }\n        return e\n    }()}    \\n                        </div>\\n                    </div>\\n                    <div class=\"bft-edit-form-fields\">\\n                        <div class=\"bft-edit-form-fields-inner\">\\n                            <div class=\"bft-form-fieldset\">\\n                                ${function () {\n        for (var e = \"\", i = 0; i < l.length; i++) {\n            var r = l[i];\n            if (Array.isArray(r)) {\n                e += '<div class=\"bft-form-field-100 bft-form-fieldset\">';\n                for (var a = 0; a < r.length; a++) {\n                    var o = r[a], s = FamilyTree.elements[o.type](u, o, \"unset\", t);\n                    !FamilyTree.isNEU(s.id) && FamilyTree.isNEU(n) && FamilyTree.isNEU(s.value) && (n = s.id), FamilyTree.isNEU(s.value) || N.push(`${o.label}: ${s.value}`), e += s.html\n                }\n                e += \"</div>\"\n            } else {\n                s = FamilyTree.elements[r.type](u, r, \"280px\", t);\n                !FamilyTree.isNEU(s.id) && FamilyTree.isNEU(n) && FamilyTree.isNEU(s.value) && (n = s.id), FamilyTree.isNEU(s.value) || N.push(`${r.label}: ${s.value}`), e += s.html\n            }\n        }\n        return e\n    }()}\\n\\n                                <div class=\"bft-form-field\" style=\"min-width: 280px; text-align:center; ${S}\">\\n                                    <a data-add-more-fields-btn href=\"#\" class=\"bft-link\">${s}</a>\\n                                </div>\\n                            </div>        \\n                        </div>\\n                    </div>\\n                    <div class=\"bft-form-fieldset\" style=\"padding: 14px 10px; ${k}\">\\n                        <div class=\"bft-form-field\" style=\"min-width: initial;\">\\n                            <button data-edit-from-cancel type=\"button\" class=\"bft-button transparent\">${c}</button>\\n                        </div>\\n                        <div class=\"bft-form-field\" style=\"min-width: initial;\">\\n                            <button type=\"submit\" data-edit-from-save type=\"button\" class=\"bft-button\">${d}</button>\\n                        </div>\\n                    </div>`, {\n        element: I,\n        focusId: n,\n        title: g,\n        shareText: N.join(\"\\n\")\n    }\n},FamilyTree.editUI.prototype.hide = function () {\n    if (!1 === FamilyTree.events.publish(\"hide\", [this])) return !1;\n    FamilyTree.isNEU(this.interval) && (clearInterval(this.interval), this.interval = null);\n    var e = this.obj.element.querySelector(\"[data-bft-edit-form]\");\n    e && e.parentNode && e.parentNode.removeChild(e)\n},FamilyTree.editUI.renderHeaderContent = function (e, t, i, r) {\n    return `<h1 class=\"bft-edit-form-title\">${FamilyTree._escapeGreaterLessSign(e)}</h1>\\n                <div id=\"bft-avatar\" class=\"bft-edit-form-avatar\">${t}</div>`\n},FamilyTree.prototype.getSvg = function () {\n    var e = this.element.getElementsByTagName(\"svg\");\n    return e && e.length ? e[0] : null\n},FamilyTree.prototype.getPointerElement = function () {\n    return this.element.querySelector(\"g[data-pointer]\")\n},FamilyTree.prototype.getNodeElement = function (e) {\n    return this.element.querySelector(\"[\" + FamilyTree.attr.node_id + \"='\" + e + \"']\")\n},FamilyTree.prototype.getMenuButton = function () {\n    return this.element.querySelector(\"[\" + FamilyTree.attr.control_export_menu + \"]\")\n},FamilyTree.menuUI = function () {\n},FamilyTree.menuUI.prototype.init = function (e, t) {\n    this.obj = e, this.wrapper = null, this.menu = t, this._event_id = FamilyTree._guid()\n},FamilyTree.menuUI.prototype.showStickIn = function (e, t, i, r) {\n    this._show(e, null, t, i, r)\n},FamilyTree.menuUI.prototype.show = function (e, t, i, r, a) {\n    this._show(e, t, i, r, a)\n},FamilyTree.menuUI.prototype._show = function (e, t, i, r, a) {\n    var n = this;\n    this.hide();\n    var o = \"\";\n    a || (a = this.menu);\n    var l = {firstNodeId: i, secondNodeId: r, menu: a};\n    if (!1 === FamilyTree.events.publish(\"show\", [this, l])) return !1;\n    for (var s in a = l.menu) {\n        var d = a[s].icon, c = a[s].text;\n        void 0 === d && (d = FamilyTree.icon[s] ? FamilyTree.icon[s](24, 24, \"#7A7A7A\") : \"\"), \"function\" == typeof c && (c = c()), \"function\" == typeof d && (d = d()), o += \"<div \" + FamilyTree.attr.item + '=\"' + s + '\">' + d + \"<span>&nbsp;&nbsp;\" + c + \"</span></div>\"\n    }\n    if (\"\" != o) {\n        if (this.wrapper = document.createElement(\"div\"), this.wrapper.className = \"bft-family-menu\", this.wrapper.style.left = \"-99999px\", this.wrapper.style.top = \"-99999px\", this.wrapper.innerHTML = o, this.obj.element.appendChild(this.wrapper), null == t) {\n            var m = FamilyTree._menuPosition(e, this.wrapper, this.obj.getSvg());\n            e = m.x, t = m.y\n        }\n        var p = e + 45;\n        this.wrapper.style.left = p + \"px\", this.wrapper.style.top = t + \"px\", this.wrapper.style.left = p - this.wrapper.offsetWidth + \"px\";\n        var h = e - this.wrapper.offsetWidth;\n        FamilyTree.animate(this.wrapper, {opacity: 0, left: p - this.wrapper.offsetWidth}, {\n            opacity: 1,\n            left: h\n        }, 300, FamilyTree.anim.inOutPow);\n        for (var f = this.wrapper.getElementsByTagName(\"div\"), u = 0; u < f.length; u++) {\n            (s = f[u]).addEventListener(\"click\", (function (e) {\n                var t, o = this.getAttribute(FamilyTree.attr.item);\n                if (void 0 === a[o].onClick) if (\"add\" === o) {\n                    var l = {id: n.obj.generateId(), pid: i};\n                    n.obj.addNode(l, null, !0)\n                } else if (\"edit\" === o) {\n                    var s = n.obj.getNode(i);\n                    n.obj.editUI.show(s.id)\n                } else if (\"details\" === o) {\n                    s = n.obj.getNode(i);\n                    n.obj.editUI.show(s.id, !0)\n                } else \"remove\" === o ? n.obj.removeNode(i, null, !0) : \"svg\" === o ? n.obj.exportSVG({\n                    filename: \"FamilyTree.svg\",\n                    expandChildren: !1,\n                    nodeId: i\n                }) : \"pdf\" === o ? n.obj.exportPDF({\n                    filename: \"FamilyTree.pdf\",\n                    expandChildren: !1,\n                    nodeId: i\n                }) : \"png\" === o ? n.obj.exportPNG({\n                    filename: \"FamilyTree.png\",\n                    expandChildren: !1,\n                    nodeId: i\n                }) : \"csv\" === o ? n.obj.exportCSV({nodeId: i}) : \"xml\" === o ? n.obj.exportXML({nodeId: i}) : \"json\" === o && n.obj.exportJSON({nodeId: i}); else t = a[o].onClick.call(n.obj, i, r);\n                0 != t && n.hide()\n            }))\n        }\n    }\n},FamilyTree.menuUI.prototype.isVisible = function () {\n    return null != this.wrapper\n},FamilyTree.menuUI.prototype.hide = function () {\n    null != this.wrapper && (this.obj.element.removeChild(this.wrapper), this.wrapper = null)\n},FamilyTree.menuUI.prototype.on = function (e, t) {\n    return FamilyTree.events.on(e, t, this._event_id), this\n},FamilyTree.circleMenuUI = function () {\n},FamilyTree.circleMenuUI.prototype.init = function (e, t) {\n    this.obj = e, this.menu = t, this._menu = null, this._buttonsInterval = [], this._linesInterval = [], this._event_id = FamilyTree._guid()\n},FamilyTree.circleMenuUI.prototype.show = function (e, t) {\n    this._show(e, t)\n},FamilyTree.circleMenuUI.prototype._show = function (e, t) {\n    var i = this, r = this.obj.getNode(e), a = FamilyTree.t(r.templateName, r.min, this.obj.getScale());\n    if (!FamilyTree.isNEU(a.nodeCircleMenuButton)) {\n        var n = this.obj.getSvg(),\n            o = this.obj.element.querySelector(\"[\" + FamilyTree.attr.control_node_circle_menu_id + '=\"' + e + '\"]'),\n            l = this.obj.getNodeElement(e), s = FamilyTree._getTransform(o), d = FamilyTree._getTransform(l),\n            c = s[4] + d[4], m = s[5] + d[5], p = o.querySelectorAll(\"line\"),\n            h = this.obj.element.querySelector(\"[\" + FamilyTree.attr.control_node_circle_menu_wrraper_id + \"]\");\n        if (FamilyTree.isNEU(h) || h.getAttribute(FamilyTree.attr.control_node_circle_menu_wrraper_id) != e) {\n            this.hide(), t || (t = this.menu);\n            var f = {nodeId: e, menu: t}, u = FamilyTree.events.publish(\"show\", [this, f]);\n            if (this._menu = t, !1 === u) return !1;\n            for (var y = 0, g = Object.keys(f.menu).length, v = 2 * a.nodeCircleMenuButton.radius + 4, T = 2 * Math.PI * v, b = T / g - (2 * a.nodeCircleMenuButton.radius + 2); b < 0;) v += 8, b = (T = 2 * Math.PI * v) / g - (2 * a.nodeCircleMenuButton.radius + 2);\n            for (var F in (h = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\")).setAttribute(FamilyTree.attr.control_node_circle_menu_wrraper_id, e), h.setAttribute(\"transform\", \"matrix(1,0,0,1,\" + c + \",\" + m + \")\"), n.appendChild(h), f.menu) {\n                var x = f.menu[F].icon, _ = f.menu[F].color, w = f.menu[F].text;\n                \"function\" == typeof x && (x = x()), \"function\" == typeof _ && (_ = _()), \"function\" == typeof w && (w = w());\n                var k = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n                k.setAttribute(\"transform\", \"matrix(1,0,0,1,0,0)\"), k.setAttribute(FamilyTree.attr.control_node_circle_menu_name, F), k.style.cursor = \"pointer\";\n                var S = document.createElementNS(\"http://www.w3.org/2000/svg\", \"title\");\n                FamilyTree.isNEU(w) || (S.innerHTML = w);\n                var C = document.createElementNS(\"http://www.w3.org/2000/svg\", \"circle\");\n                C.setAttribute(\"cx\", 0), C.setAttribute(\"cy\", 0), C.setAttribute(\"r\", a.nodeCircleMenuButton.radius), C.setAttribute(\"fill\", _), C.setAttribute(\"stroke-width\", \"1\"), C.setAttribute(\"stroke\", a.nodeCircleMenuButton.stroke), k.appendChild(C), k.appendChild(S), k.innerHTML += x, h.appendChild(k);\n                var I = k.getElementsByTagName(\"svg\")[0];\n                if (I.setAttribute(\"pointer-events\", \"none\"), I) {\n                    var N = parseInt(I.getAttribute(\"width\")), A = parseInt(I.getAttribute(\"height\"));\n                    I.setAttribute(\"x\", -N / 2), I.setAttribute(\"y\", -A / 2)\n                }\n                var L = y * Math.PI / (g / 2);\n                y++;\n                var E = Math.cos(L) * v, M = Math.sin(L) * v;\n                this._buttonsInterval.push(FamilyTree.animate(k, {transform: [1, 0, 0, 1, 0, 0]}, {transform: [1, 0, 0, 1, E, M]}, 250, FamilyTree.anim.outBack, (function (e) {\n                    var t = e[0].getAttribute(FamilyTree.attr.control_node_circle_menu_name),\n                        r = e[0].parentNode.getAttribute(FamilyTree.attr.control_node_circle_menu_wrraper_id);\n                    e[0].addEventListener(\"mouseenter\", (function (e) {\n                        FamilyTree.events.publish(\"mouseenter\", [i, {\n                            from: r,\n                            menuItem: f.menu[t],\n                            menuItemName: t,\n                            event: e\n                        }])\n                    })), e[0].addEventListener(\"mouseout\", (function (e) {\n                        FamilyTree.events.publish(\"mouseout\", [i, {\n                            from: r,\n                            menuItem: f.menu[t],\n                            menuItemName: t,\n                            event: e\n                        }])\n                    }))\n                })))\n            }\n            this._linesInterval.push(FamilyTree.animate(p[0], {\n                x1: -a.nodeCircleMenuButton.radius / 2,\n                y1: -6,\n                x2: a.nodeCircleMenuButton.radius / 2,\n                y2: -6\n            }, {\n                x1: -7,\n                y1: -7,\n                x2: 7,\n                y2: 7\n            }, 500, FamilyTree.anim.inOutSin)), this._linesInterval.push(FamilyTree.animate(p[1], {\n                x1: -a.nodeCircleMenuButton.radius / 2,\n                y1: 0,\n                x2: a.nodeCircleMenuButton.radius / 2,\n                y2: 0\n            }, {\n                x1: 0,\n                y1: 0,\n                x2: 0,\n                y2: 0\n            }, 500, FamilyTree.anim.inOutSin)), this._linesInterval.push(FamilyTree.animate(p[2], {\n                x1: -a.nodeCircleMenuButton.radius / 2,\n                y1: 6,\n                x2: a.nodeCircleMenuButton.radius / 2,\n                y2: 6\n            }, {x1: -7, y1: 7, x2: 7, y2: -7}, 500, FamilyTree.anim.inOutSin))\n        } else this.hide()\n    }\n},FamilyTree.circleMenuUI.prototype.hide = function () {\n    for (var e = this._buttonsInterval.length - 1; e >= 0; e--) clearInterval(this._buttonsInterval[e]), this._buttonsInterval.splice(e, 1);\n    this._buttonsInterval = [];\n    for (e = this._linesInterval.length - 1; e >= 0; e--) clearInterval(this._linesInterval[e]), this._linesInterval.splice(e, 1);\n    this._linesInterval = [];\n    var t = this.obj.element.querySelector(\"[\" + FamilyTree.attr.control_node_circle_menu_wrraper_id + \"]\");\n    if (null != t) {\n        var i = t.getAttribute(FamilyTree.attr.control_node_circle_menu_wrraper_id), r = this.obj.getNode(i),\n            a = FamilyTree.t(r.templateName, r.min, this.obj.getScale()),\n            n = this.obj.element.querySelector(\"[\" + FamilyTree.attr.control_node_circle_menu_id + '=\"' + i + '\"]').querySelectorAll(\"line\");\n        n[0].setAttribute(\"x1\", -a.nodeCircleMenuButton.radius / 2), n[0].setAttribute(\"x2\", a.nodeCircleMenuButton.radius / 2), n[0].setAttribute(\"y1\", -6), n[0].setAttribute(\"y2\", -6), n[1].setAttribute(\"x1\", -a.nodeCircleMenuButton.radius / 2), n[1].setAttribute(\"x2\", a.nodeCircleMenuButton.radius / 2), n[1].setAttribute(\"y1\", 0), n[1].setAttribute(\"y2\", 0), n[2].setAttribute(\"x1\", -a.nodeCircleMenuButton.radius / 2), n[2].setAttribute(\"x2\", a.nodeCircleMenuButton.radius / 2), n[2].setAttribute(\"y1\", 6), n[2].setAttribute(\"y2\", 6), t.parentElement.removeChild(t), t = null\n    }\n},FamilyTree.circleMenuUI.prototype.on = function (e, t) {\n    return FamilyTree.events.on(e, t, this._event_id), this\n},void 0 === FamilyTree && (FamilyTree = {}),FamilyTree.idb = {\n    version: 1,\n    dbName: \"BALKAN\",\n    tableName: \"familytree-js\",\n    keyPath: \"id\"\n},FamilyTree.idb.db = null,FamilyTree.idb._open = function (e) {\n    if (FamilyTree._browser().msie) e && e(!1); else if ((navigator.userAgent.toLowerCase().indexOf(\"safari\") > 0 || navigator.userAgent.toLowerCase().indexOf(\"firefox\") > 0) && window.location !== window.parent.location) e && e(!1); else {\n        if (!window.indexedDB) return console.error(\"Your browser doesn't support a stable version of IndexedDB.\"), void (e && e(!1));\n        if (null == FamilyTree.idb.db) {\n            var t = indexedDB.open(FamilyTree.idb.dbName, FamilyTree.idb.version);\n            t.onerror = function (t) {\n                console.error(\"Cannot open database!\"), e && e(!1)\n            }, t.onsuccess = function (t) {\n                FamilyTree.idb.db = t.target.result, e && e(!0)\n            }, t.onupgradeneeded = function (e) {\n                var t = e.target.result;\n                t.objectStoreNames.contains(FamilyTree.idb.tableName) && t.deleteObjectStore(FamilyTree.idb.tableName);\n                t.createObjectStore(FamilyTree.idb.tableName, {keyPath: FamilyTree.idb.keyPath})\n            }\n        } else e && e(!0)\n    }\n},FamilyTree.idb.read = function (e, t) {\n    FamilyTree.idb._open((function (i) {\n        if (i) {\n            var r = FamilyTree.idb.db.transaction([FamilyTree.idb.tableName]).objectStore(FamilyTree.idb.tableName).get(e);\n            r.onerror = function (e) {\n                console.error(\"Unable to retrieve data from database!\"), t && t(!1)\n            }, r.onsuccess = function (e) {\n                r.result ? t && t(!0, r.result) : t && t(null)\n            }\n        } else t && t(!1)\n    }))\n},FamilyTree.idb.write = function (e, t) {\n    FamilyTree.idb.read(e.id, (function (i) {\n        if (null == i) {\n            var r = FamilyTree.idb.db.transaction([FamilyTree.idb.tableName], \"readwrite\").objectStore(FamilyTree.idb.tableName).add(e);\n            r.onerror = function (e) {\n                console.error(\"Unable to add data to database!\"), t && t(!1)\n            }, r.onsuccess = function (e) {\n                t && t(!0)\n            }\n        } else t && t(i)\n    }))\n},FamilyTree.idb.put = function (e, t) {\n    FamilyTree.idb._open((function (i) {\n        if (i) {\n            var r = FamilyTree.idb.db.transaction([FamilyTree.idb.tableName], \"readwrite\").objectStore(FamilyTree.idb.tableName).put(e);\n            r.onerror = function (e) {\n                console.error(\"Unable to put data to database!\"), t && t(!1)\n            }, r.onsuccess = function (e) {\n                t && t(!0)\n            }\n        } else t && t(!1)\n    }))\n},FamilyTree.idb.delete = function (e, t) {\n    FamilyTree.idb._open((function (i) {\n        if (i) {\n            var r = FamilyTree.idb.db.transaction([FamilyTree.idb.tableName], \"readwrite\").objectStore(FamilyTree.idb.tableName).delete(e);\n            r.onerror = function (e) {\n                console.error(\"Unable to retrieve data from database!\"), t && t(!1)\n            }, r.onsuccess = function (e) {\n                r.error ? t && t(!1) : t && t(!0)\n            }\n        } else t && t(!1)\n    }))\n},FamilyTree.toolbarUI = function () {\n},FamilyTree.toolbarUI.expandAllIcon = '<svg style=\"margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;\" width=\"32px\" height=\"32px\"><marker id=\"arrow\" viewBox=\"0 0 10 10\" refX=\"5\" refY=\"5\" markerWidth=\"4\" markerHeight=\"4\" orient=\"auto-start-reverse\"><path d=\"M 0 0 L 10 5 L 0 10 z\" fill=\"#757575\" /></marker><line x1=\"11\" y1=\"11\" x2=\"6\" y2=\"6\" stroke=\"#757575\" stroke-width=\"2\" marker-end=\"url(#arrow)\" /><line x1=\"21\" y1=\"11\" x2=\"26\" y2=\"6\" stroke=\"#757575\" stroke-width=\"2\" marker-end=\"url(#arrow)\" /><line x1=\"21\" y1=\"21\" x2=\"26\" y2=\"26\" stroke=\"#757575\" stroke-width=\"2\" marker-end=\"url(#arrow)\" /><line x1=\"11\" y1=\"21\" x2=\"6\" y2=\"26\" stroke=\"#757575\" stroke-width=\"2\" marker-end=\"url(#arrow)\" /><rect x=\"12\" y=\"12\" width=\"8\" height=\"8\" fill=\"#757575\"></rect></svg>',FamilyTree.toolbarUI.fitIcon = '<svg  style=\"margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;\" width=\"32px\" height=\"32px\"><path stroke-width=\"3\" fill=\"none\" stroke=\"#757575\" d=\"M4,11 L4,4 L11,4\"></path><path stroke-width=\"3\" fill=\"none\" stroke=\"#757575\" d=\"M28,11 L28,4 L21,4\"></path><path stroke-width=\"3\" fill=\"none\" stroke=\"#757575\" d=\"M28,21 L28,28 L21,28\"></path><path stroke-width=\"3\" fill=\"none\" stroke=\"#757575\" d=\"M4,21 L4,28 L11,28\"></path><circle cx=\"16\" cy=\"16\" r=\"5\" fill=\"#757575\"></circle></svg>',FamilyTree.toolbarUI.openFullScreenIcon = '<svg  style=\"margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;\" width=\"32px\" height=\"32px\"><path stroke-width=\"3\" fill=\"none\" stroke=\"#757575\" d=\"M4,11 L4,4 L11,4\"></path><path stroke-width=\"3\" fill=\"none\" stroke=\"#757575\" d=\"M28,11 L28,4 L21,4\"></path><path stroke-width=\"3\" fill=\"none\" stroke=\"#757575\" d=\"M28,21 L28,28 L21,28\"></path><path stroke-width=\"3\" fill=\"none\" stroke=\"#757575\" d=\"M4,21 L4,28 L11,28\"></path><line x1=\"5\" y1=\"5\" x2=\"27\" y2=\"27\" stroke-width=\"3\" stroke=\"#757575\"></line><line x1=\"5\" y1=\"27\" x2=\"27\" y2=\"5\" stroke-width=\"3\" stroke=\"#757575\"></line></svg>',FamilyTree.toolbarUI.closeFullScreenIcon = '<svg  style=\"margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;\" width=\"32px\" height=\"32px\"><path stroke-width=\"3\" fill=\"none\" stroke=\"#757575\" d=\"M4,11 L4,4 L11,4\"></path><path stroke-width=\"3\" fill=\"none\" stroke=\"#757575\" d=\"M28,11 L28,4 L21,4\"></path><path stroke-width=\"3\" fill=\"none\" stroke=\"#757575\" d=\"M28,21 L28,28 L21,28\"></path><path stroke-width=\"3\" fill=\"none\" stroke=\"#757575\" d=\"M4,21 L4,28 L11,28\"></path><rect x=\"11\" y=\"11\" width=\"10\" height=\"10\" stroke-width=\"3\" fill=\"none\" stroke=\"#757575\" ></rect></svg>',FamilyTree.toolbarUI.zoomInIcon = '<svg style=\"box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border-left: 1px solid #cacaca; border-right: 1px solid #cacaca; border-top: 1px solid #cacaca; background-color: #f9f9f9;display: block; cursor: pointer;\" width=\"32px\" height=\"32px\" ><g><rect fill=\"#f9f9f9\" x=\"0\" y=\"0\" width=\"32\" height=\"32\" ></rect><line x1=\"8\" y1=\"16\" x2=\"24\" y2=\"16\" stroke-width=\"3\" stroke=\"#757575\"></line><line x1=\"16\" y1=\"8\" x2=\"16\" y2=\"24\" stroke-width=\"3\" stroke=\"#757575\"></line></g><line x1=\"4\" y1=\"32\" x2=\"28\" y2=\"32\" stroke-width=\"1\" stroke=\"#cacaca\"></line></svg>',FamilyTree.toolbarUI.zoomOutIcon = '<svg style=\"box-shadow: 0px 1px 4px rgba(0,0,0,0.3); margin-bottom:7px; border-left: 1px solid #cacaca; border-right: 1px solid #cacaca; border-bottom: 1px solid #cacaca; background-color: #f9f9f9;display: block; cursor: pointer;\" width=\"32px\" height=\"32px\" ><g><rect fill=\"#f9f9f9\" x=\"0\" y=\"0\" width=\"32\" height=\"32\" ></rect><line x1=\"8\" y1=\"16\" x2=\"24\" y2=\"16\" stroke-width=\"3\" stroke=\"#757575\"></line></g></svg>',FamilyTree.toolbarUI.layoutIcon = \"<svg \" + FamilyTree.attr.tlbr + '=\"layout\" style=\"box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;\" width=\"32px\" height=\"32px\"><path stroke-width=\"3\" fill=\"none\" stroke=\"#757575\" d=\"M8,24 L16,14 L24,24\"></path><path stroke-width=\"3\" fill=\"none\" stroke=\"#757575\" d=\"M8,16 L16,8 L24,16\"></path></svg>',FamilyTree.toolbarUI.prototype.init = function (e, t) {\n    if (t) {\n        this.obj = e, this.toolbar = t, this._visible = !1, this.div = document.createElement(\"div\"), this.div.classList.add(\"bft-toolbar-container\"), Object.assign(this.div.style, {\n            position: \"absolute\",\n            padding: \"3px\",\n            right: this.obj.config.padding - 10 + \"px\",\n            bottom: this.obj.config.padding - 10 + \"px\"\n        }), t.expandAll && (this.div.innerHTML += \"<div \" + FamilyTree.attr.tlbr + '=\"expand\">' + FamilyTree.toolbarUI.expandAllIcon + \"</div>\"), t.fit && (this.div.innerHTML += \"<div \" + FamilyTree.attr.tlbr + '=\"fit\">' + FamilyTree.toolbarUI.fitIcon + \"</div>\"), t.zoom && (this.div.innerHTML += \"<div \" + FamilyTree.attr.tlbr + '=\"plus\">' + FamilyTree.toolbarUI.zoomInIcon + \"</div>\", this.div.innerHTML += \"<div \" + FamilyTree.attr.tlbr + '=\"minus\">' + FamilyTree.toolbarUI.zoomOutIcon + \"</div>\"), t.layout && (this.div.innerHTML += \"<div \" + FamilyTree.attr.tlbr + '=\"layout\">' + FamilyTree.toolbarUI.layoutIcon + \"</div>\", this.layouts = document.createElement(\"div\"), this.layouts.classList.add(\"bft-toolbar-layout\"), this.layouts.innerHTML = \"<svg \" + FamilyTree.attr.layout + '=\"normal\" style=\"cursor: pointer;\" width=\"110\" height=\"100\"><rect fill=\"#039BE5\" x=\"35\" y=\"0\" width=\"50\" height=\"27\"></rect><rect fill=\"#F57C00\" x=\"7\" y=\"41\" width=\"50\" height=\"27\"></rect><rect fill=\"#F57C00\" x=\"63\" y=\"41\" width=\"50\" height=\"27\"></rect><line stroke=\"#000000\" x1=\"60\" x2=\"60\" y1=\"27\" y2=\"35\" stroke-width=\"1\"></line><line stroke=\"#000000\" x1=\"32\" x2=\"88\" y1=\"35\" y2=\"35\" stroke-width=\"1\"></line><line stroke=\"#000000\" x1=\"32\" x2=\"32\" y1=\"35\" y2=\"41\" stroke-width=\"1\"></line><line stroke=\"#000000\" x1=\"88\" x2=\"88\" y1=\"35\" y2=\"41\" stroke-width=\"1\"></line></svg><svg ' + FamilyTree.attr.layout + '=\"treeRightOffset\" style=\"cursor: pointer;\" width=\"110\" height=\"100\"><rect fill=\"#039BE5\" x=\"35\" y=\"0\" width=\"50\" height=\"27\"></rect><rect fill=\"#F57C00\" x=\"40\" y=\"41\" width=\"50\" height=\"27\"></rect><rect fill=\"#F57C00\" x=\"40\" y=\"73\" width=\"50\" height=\"27\"></rect><line stroke=\"#000000\" x1=\"60\" x2=\"60\" y1=\"27\" y2=\"35\" stroke-width=\"1\"></line><line stroke=\"#000000\" x1=\"60\" x2=\"35\" y1=\"35\" y2=\"35\" stroke-width=\"1\"></line><line stroke=\"#000000\" x1=\"35\" x2=\"35\" y1=\"35\" y2=\"86\" stroke-width=\"1\"></line><line stroke=\"#000000\" x1=\"35\" x2=\"40\" y1=\"86\" y2=\"86\" stroke-width=\"1\"></line><line stroke=\"#000000\" x1=\"35\" x2=\"40\" y1=\"54\" y2=\"54\" stroke-width=\"1\"></line></svg><svg ' + FamilyTree.attr.layout + '=\"treeLeftOffset\" style=\"cursor: pointer;\" width=\"110\" height=\"100\"><rect fill=\"#039BE5\" x=\"35\" y=\"0\" width=\"50\" height=\"27\"></rect><rect fill=\"#F57C00\" x=\"30\" y=\"41\" width=\"50\" height=\"27\"></rect><rect fill=\"#F57C00\" x=\"30\" y=\"73\" width=\"50\" height=\"27\"></rect><line stroke=\"#000000\" x1=\"60\" x2=\"60\" y1=\"27\" y2=\"35\" stroke-width=\"1\"></line><line stroke=\"#000000\" x1=\"60\" x2=\"85\" y1=\"35\" y2=\"35\" stroke-width=\"1\"></line><line stroke=\"#000000\" x1=\"85\" x2=\"85\" y1=\"35\" y2=\"86\" stroke-width=\"1\"></line><line stroke=\"#000000\" x1=\"80\" x2=\"85\" y1=\"86\" y2=\"86\" stroke-width=\"1\"></line><line stroke=\"#000000\" x1=\"80\" x2=\"85\" y1=\"54\" y2=\"54\" stroke-width=\"1\"></line></svg><svg ' + FamilyTree.attr.layout + '=\"mixed\" style=\"cursor: pointer;\" width=\"110\" height=\"100\"><rect fill=\"#039BE5\" x=\"35\" y=\"0\" width=\"50\" height=\"27\"></rect><rect fill=\"#F57C00\" x=\"35\" y=\"41\" width=\"50\" height=\"27\"></rect><rect fill=\"#F57C00\" x=\"35\" y=\"73\" width=\"50\" height=\"27\"></rect><line stroke=\"#000000\" x1=\"60\" x2=\"60\" y1=\"27\" y2=\"41\" stroke-width=\"1\"></line><line stroke=\"#000000\" x1=\"60\" x2=\"60\" y1=\"68\" y2=\"73\" stroke-width=\"1\"></line></svg><svg ' + FamilyTree.attr.layout + '=\"tree\" style=\"cursor: pointer;\" width=\"110\" height=\"100\"><rect fill=\"#039BE5\" x=\"35\" y=\"0\" width=\"50\" height=\"27\"></rect><rect fill=\"#F57C00\" x=\"7\" y=\"41\" width=\"50\" height=\"27\"></rect><rect fill=\"#F57C00\" x=\"7\" y=\"73\" width=\"50\" height=\"27\"></rect><rect fill=\"#F57C00\" x=\"63\" y=\"41\" width=\"50\" height=\"27\"></rect><rect fill=\"#F57C00\" x=\"63\" y=\"73\" width=\"50\" height=\"27\"></rect><line stroke=\"#000000\" x1=\"60\" x2=\"60\" y1=\"27\" y2=\"86\" stroke-width=\"1\"></line><line stroke=\"#000000\" x1=\"57\" x2=\"63\" y1=\"54\" y2=\"54\" stroke-width=\"1\"></line><line stroke=\"#000000\" x1=\"57\" x2=\"63\" y1=\"86\" y2=\"86\" stroke-width=\"1\"></line></svg>', this.obj.element.appendChild(this.layouts)), t.fullScreen && (this.div.innerHTML += \"<div \" + FamilyTree.attr.tlbr + '=\"fullScreen\">' + FamilyTree.toolbarUI.openFullScreenIcon + \"</div>\"), this.obj.element.appendChild(this.div), this.layoutBtn = this.div.querySelector(\"[\" + FamilyTree.attr.tlbr + '=\"layout\"]');\n        var i = this.div.querySelector(\"[\" + FamilyTree.attr.tlbr + '=\"plus\"]'),\n            r = this.div.querySelector(\"[\" + FamilyTree.attr.tlbr + '=\"minus\"]'),\n            a = this.div.querySelector(\"[\" + FamilyTree.attr.tlbr + '=\"fit\"]'),\n            n = this.div.querySelector(\"[\" + FamilyTree.attr.tlbr + '=\"fullScreen\"]'),\n            o = this.div.querySelector(\"[\" + FamilyTree.attr.tlbr + '=\"expand\"]'), l = this;\n        i && i.addEventListener(\"click\", (function () {\n            l.obj.zoom(!0, null, !0)\n        })), r && r.addEventListener(\"click\", (function () {\n            l.obj.zoom(!1, null, !0)\n        })), a && a.addEventListener(\"click\", (function () {\n            l.obj.fit()\n        })), n && n.addEventListener(\"click\", (function () {\n            l.obj.toggleFullScreen()\n        })), o && o.addEventListener(\"click\", (function () {\n            l.obj.expand(null, \"all\")\n        })), this.layoutBtn && this.layoutBtn.addEventListener(\"click\", (function () {\n            l._visible ? l.hideLayout() : l.showLayout()\n        })), this.layouts && this.layouts.addEventListener(\"click\", (function (e) {\n            for (var t = e.target; t;) {\n                if (t.hasAttribute && t.hasAttribute(FamilyTree.attr.layout)) {\n                    t = t.getAttribute(FamilyTree.attr.layout), l.obj.setLayout(FamilyTree[t]);\n                    break\n                }\n                t = t.parentNode\n            }\n        }))\n    }\n},FamilyTree.toolbarUI.prototype.showLayout = function () {\n    this._visible = !0, this.layoutBtn.style.transform = \"rotate(180deg) translateX(0px) translateY(0px)\", FamilyTree.animate(this.div, {bottom: this.obj.config.padding - 10}, {bottom: this.obj.config.padding + 135}, this.obj.config.anim.duration, this.obj.config.anim.func), FamilyTree.animate(this.layouts, {bottom: -145}, {bottom: 0}, this.obj.config.anim.duration, this.obj.config.anim.func)\n},FamilyTree.toolbarUI.prototype.hideLayout = function () {\n    this._visible = !1, this.layoutBtn.style.transform = \"rotate(0deg) translateX(0px) translateY(0px)\", FamilyTree.animate(this.div, {bottom: this.obj.config.padding + 135}, {bottom: this.obj.config.padding - 10}, this.obj.config.anim.duration, this.obj.config.anim.func), FamilyTree.animate(this.layouts, {bottom: 0}, {bottom: -145}, this.obj.config.anim.duration, this.obj.config.anim.func)\n},FamilyTree.notifierUI = function () {\n},FamilyTree.notifierUI.prototype.init = function (e) {\n    this.obj = e\n},FamilyTree.notifierUI.prototype.show = function (e, t) {\n    if (null == e) return !1;\n    1 == e && (e = FamilyTree.MAX_NODES_MESS, t = \"#FFCA28\"), 2 == e && (e = FamilyTree.OFFLINE_MESS, t = \"#FFCA28\");\n    var i = document.createElement(\"div\");\n    i.innerHTML = e, Object.assign(i.style, {\n        position: \"absolute\",\n        \"background-color\": t,\n        color: \"#ffffff\",\n        padding: \"15px\",\n        \"border-radius\": \"40px\",\n        opacity: 0,\n        overflow: \"hidden\",\n        \"white-space\": \"nowrap\",\n        \"text-align\": \"center\"\n    }), this.obj.element.appendChild(i);\n    var r = this.obj.width() / 2 - i.offsetWidth / 2, a = this.obj.height() / 2 - i.offsetHeight / 2;\n    i.style.left = r + \"px\", i.style.top = a + \"px\";\n    var n = i.offsetWidth;\n    return i.style.width = \"20px\", FamilyTree.animate(i, {opacity: 0, width: 10}, {\n        opacity: 1,\n        width: n\n    }, this.obj.config.anim.duration, this.obj.config.anim.func), !0\n},void 0 === FamilyTree && (FamilyTree = {}),FamilyTree._validateConfig = function (e) {\n    return !!e || (console.error(\"config is not defined\"), !1)\n},FamilyTree._arrayContains = function (e, t) {\n    if (e && Array.isArray(e)) for (var i = e.length; i--;) if (e[i] === t) return !0;\n    return !1\n},FamilyTree._interceptions = function (e, t) {\n    if (!e) return [];\n    if (!t) return [];\n    var i = [];\n    if (Array.isArray(e) && Array.isArray(t)) for (var r in e) for (var a in t) e[r] == t[a] && i.push(e[r]); else if (Array.isArray(e) && !Array.isArray(t)) for (var r in e) for (var a in t) e[r] == a && i.push(e[r]); else if (!Array.isArray(e) && Array.isArray(t)) for (var r in e) for (var a in t) r == t[a] && i.push(t[a]);\n    return i\n},FamilyTree._getTags = function (e) {\n    return e.tags && !Array.isArray(e.tags) ? e.tags.split(\",\") : e.tags && Array.isArray(e.tags) ? e.tags : []\n},FamilyTree._centerPointInPercent = function (e, t, i) {\n    var r = e.getBoundingClientRect(), a = t - r.left, n = i - r.top;\n    return [a / (r.width / 100), n / (r.height / 100)]\n},FamilyTree._trim = function (e) {\n    return e.replace(/^\\s+|\\s+$/g, \"\")\n},FamilyTree._getTransform = function (e) {\n    var t = e.getAttribute(\"transform\");\n    return t = t.replace(\"matrix\", \"\").replace(\"(\", \"\").replace(\")\", \"\"), FamilyTree._browser().msie && (t = t.replace(/ /g, \",\")), t = \"[\" + (t = FamilyTree._trim(t)) + \"]\", t = JSON.parse(t)\n},FamilyTree.getScale = function (e, t, i, r, a, n, o, l) {\n    var s = 1;\n    if (e || r !== FamilyTree.match.boundary) if (e || r !== FamilyTree.match.width) if (e || r !== FamilyTree.match.height) if (e) {\n        var d, c;\n        s = (d = t / e[2]) > (c = i / e[3]) ? c : d\n    } else s = r; else s = i / l; else s = t / o; else s = (d = t / o) > (c = i / l) ? c : d;\n    return s && s > a && (s = a), s && s < n && (s = n), s\n},FamilyTree.isObject = function (e) {\n    return e && \"object\" == typeof e && !Array.isArray(e) && null !== e\n},FamilyTree.fileUploadDialog = function (e) {\n    var t = document.createElement(\"INPUT\");\n    t.setAttribute(\"type\", \"file\"), t.style.display = \"none\", t.onchange = function () {\n        var t = this.files[0];\n        e(t)\n    }, document.body.appendChild(t), t.click()\n},FamilyTree.mergeDeep = function (e, t) {\n    if (FamilyTree.isObject(e) && FamilyTree.isObject(t)) for (var i in t) FamilyTree.isObject(t[i]) ? (e[i] || Object.assign(e, {[i]: {}}), FamilyTree.mergeDeep(e[i], t[i])) : Object.assign(e, {[i]: t[i]});\n    return e\n},FamilyTree._lblIsImg = function (e, t) {\n    return !(!e.nodeBinding || \"string\" != typeof t || -1 == t.indexOf(\"img\") || !e.nodeBinding[t])\n},FamilyTree._getFistImgField = function (e) {\n    if (e.nodeBinding) for (var t in e.nodeBinding) if (-1 != t.indexOf(\"img\")) return e.nodeBinding[t];\n    return !1\n},FamilyTree._fieldIsImg = function (e, t) {\n    if (e.nodeBinding) for (var i in e.nodeBinding) if (e.nodeBinding[i] == t) return FamilyTree._lblIsImg(e, i);\n    return !1\n},FamilyTree._guid = function () {\n    function e() {\n        return Math.floor(65536 * (1 + Math.random())).toString(16).substring(1)\n    }\n\n    return e() + e() + \"-\" + e() + \"-\" + e() + \"-\" + e() + \"-\" + e() + e() + e()\n},FamilyTree.htmlRipple = function (e) {\n    var t = document.createElement(\"style\");\n    t.type = \"text/css\", t.innerHTML = \" .bft-ripple-container {position: absolute; top: 0; right: 0; bottom: 0; left: 0; } .bft-ripple-container span {transform: scale(0);border-radius:100%;position:absolute;opacity:0.75;background-color:#fff;animation: bft-ripple 1000ms; }@-moz-keyframes bft-ripple {to {opacity: 0;transform: scale(2);}}@-webkit-keyframes bft-ripple {to {opacity: 0;transform: scale(2);}}@-o-keyframes bft-ripple {to {opacity: 0;transform: scale(2);}}@keyframes bft-ripple {to {opacity: 0;transform: scale(2);}}\", document.head.appendChild(t);\n    var i, r, a, n = document.createElement(\"div\");\n    n.className = \"bft-ripple-container\", e.addEventListener(\"mousedown\", (function (t) {\n        var i, r, a, n, o;\n        return this, r = document.createElement(\"span\"), a = this.offsetWidth, i = this.getBoundingClientRect(), o = t.pageX - i.left - a / 2, n = \"top:\" + (t.pageY - i.top - a / 2) + \"px; left: \" + o + \"px; height: \" + a + \"px; width: \" + a + \"px;\", e.rippleContainer.appendChild(r), r.setAttribute(\"style\", n)\n    })), e.addEventListener(\"mouseup\", (i = function () {\n        for (; this.rippleContainer.firstChild;) this.rippleContainer.removeChild(this.rippleContainer.firstChild)\n    }, r = 2e3, a = void 0, function () {\n        var e, t;\n        return t = this, e = arguments, clearTimeout(a), a = setTimeout((function () {\n            return i.apply(t, e)\n        }), r)\n    })), e.rippleContainer = n, e.appendChild(n)\n},FamilyTree._moveToBoundaryArea = function (e, t, i, r) {\n    var a = t.slice(0);\n    t[0] < i.left && t[0] < i.right && (a[0] = i.left > i.right ? i.right : i.left), t[0] > i.right && t[0] > i.left && (a[0] = i.left > i.right ? i.left : i.right), t[1] < i.top && t[1] < i.bottom && (a[1] = i.top > i.bottom ? i.bottom : i.top), t[1] > i.bottom && t[1] > i.top && (a[1] = i.top > i.bottom ? i.top : i.bottom), t[0] !== a[0] || t[1] !== a[1] ? FamilyTree.animate(e, {viewBox: t}, {viewBox: a}, 300, FamilyTree.anim.outPow, (function () {\n        r && r()\n    })) : r && r()\n},FamilyTree.randomId = function () {\n    return \"_\" + (\"0000\" + (Math.random() * Math.pow(36, 4) | 0).toString(36)).slice(-4)\n},FamilyTree._getClientXY = function (e) {\n    return -1 == e.type.indexOf(\"touch\") ? {\n        x: e.clientX,\n        y: e.clientY\n    } : e.changedTouches.length ? {x: e.changedTouches[0].clientX, y: e.changedTouches[0].clientY} : void 0\n},FamilyTree._getClientTouchesXY = function (e, t) {\n    return -1 != e.type.indexOf(\"touch\") ? e.touches.length < t + 1 ? {x: null, y: null} : {\n        x: e.touches[t].clientX,\n        y: e.touches[t].clientY\n    } : {x: e.clientX, y: e.clientY}\n},FamilyTree._getOffset = function (e, t) {\n    e && (t.x += e.offsetLeft, t.y += e.offsetTop, FamilyTree._getOffset(e.offsetParent, t))\n},FamilyTree._getTopLeft = function (e) {\n    var t = {x: 0, y: 0};\n    return FamilyTree._getOffset(e, t), t\n},FamilyTree._getOffsetXY = function (e, t) {\n    if (-1 == t.type.indexOf(\"touch\")) return {x: t.offsetX, y: t.offsetY};\n    if (t.touches.length) {\n        var i = FamilyTree._getTopLeft(e);\n        return {x: t.touches[0].pageX - i.x, y: t.touches[0].pageY - i.y}\n    }\n    if (t.changedTouches.length) {\n        i = FamilyTree._getTopLeft(e);\n        return {x: t.changedTouches[0].pageX - i.x, y: t.changedTouches[0].pageY - i.y}\n    }\n},FamilyTree._pinchMiddlePointInPercent = function (e, t, i, r) {\n    var a = FamilyTree._getTopLeft(e), n = r.touches[0].pageX - a.x, o = r.touches[0].pageY - a.y,\n        l = r.touches[1].pageX - a.x, s = r.touches[1].pageY - a.y;\n    return [((n - l) / 2 + l) / (t / 100), ((o - s) / 2 + s) / (i / 100)]\n},FamilyTree._browser = function () {\n    var e = !!window.opr && !!window.opr.addons || !!window.opera || navigator.userAgent.indexOf(\" OPR/\") >= 0,\n        t = \"undefined\" != typeof InstallTrigger,\n        i = /constructor/i.test(window.HTMLElement) || \"[object SafariRemoteNotification]\" === (!window.safari || void 0 !== window.safari && safari.pushNotification).toString(),\n        r = !!document.documentMode, a = !r && !!window.StyleMedia,\n        n = !(!window.chrome || !window.chrome.webstore && !window.chrome.runtime);\n    return {opera: e, firefox: t, safari: i, msie: r, edge: a, chrome: n, blink: (n || e) && !!window.CSS}\n},FamilyTree._menuPosition = function (e, t, i) {\n    var r = e.getBoundingClientRect(), a = i.getBoundingClientRect(), n = t.getBoundingClientRect(),\n        o = r.left - a.left, l = r.top - a.top;\n    return r.top + n.height > a.top + a.height && (l -= n.height), r.left - n.width < a.left && (o += n.width), {\n        x: o,\n        y: l\n    }\n},FamilyTree._getTemplate = function (e, t, i) {\n    if (Array.isArray(e)) for (var r = 0; r < e.length; r++) {\n        var a = t[e[r]];\n        if (a && a.template) return a.template\n    }\n    return i\n},FamilyTree._getMin = function (e, t) {\n    if (e.tags && e.tags.length && t.tags) for (var i = 0; i < e.tags.length; i++) {\n        var r = t.tags[e.tags[i]];\n        if (r && !0 === r.min) return !0\n    }\n    return t.min\n},FamilyTree._getSubLevels = function (e, t) {\n    if (e && e.length) for (var i = 0; i < e.length; i++) {\n        var r = t[e[i]];\n        if (r && r.subLevels) return r.subLevels\n    }\n    return 0\n},FamilyTree._isHTML = function (e) {\n    var t = (new DOMParser).parseFromString(e, \"text/html\");\n    return Array.from(t.body.childNodes).some((e => 1 === e.nodeType))\n},FamilyTree._getTestDiv = function () {\n    var e = document.getElementById(\"orgfamily_js_test_div\");\n    return e || ((e = document.createElement(\"div\")).id = \"orgfamily_js_test_div\", e.style.position = \"fixed\", e.style.top = \"-10000px\", e.style.left = \"-10000px\", document.body.appendChild(e)), e\n},FamilyTree._getLabelSize = function (e) {\n    var t = FamilyTree._getTestDiv();\n    return t.innerHTML = \"<svg>\" + e + \"</svg>\", t.querySelector(\"text\").getBoundingClientRect()\n},FamilyTree.wrapText = function (e, t) {\n    var i = t.toLowerCase();\n    if (-1 == i.indexOf(\"<text\")) return FamilyTree._escapeHtml(e);\n    if (-1 == i.indexOf(FamilyTree.attr.width)) return FamilyTree._escapeHtml(e);\n    if (-1 != i.indexOf(\"foreignobject\")) return FamilyTree._escapeHtml(e);\n    if (-1 == t.indexOf(FamilyTree.attr.width)) return FamilyTree._escapeHtml(e);\n    if (FamilyTree.ESCAPE_HTML && \"string\" == typeof str && FamilyTree._isHTML(e)) return FamilyTree._escapeHtml(e);\n    if (!FamilyTree.ESCAPE_HTML && FamilyTree._isHTML(e)) return e;\n    var r = FamilyTree._getTestDiv();\n    t = t.replaceAll(\"{cw}\", 0), r.innerHTML = \"<svg>\" + t + \"</svg>\";\n    var a, n, o = (new DOMParser).parseFromString(t, \"text/xml\").getElementsByTagName(\"text\")[0],\n        l = parseFloat(o.getAttribute(\"x\")), s = parseFloat(o.getAttribute(\"y\")), d = o.getAttribute(\"text-anchor\"),\n        c = o.getAttribute(FamilyTree.attr.width), m = o.getAttribute(FamilyTree.attr.text_overflow),\n        p = \"http://www.w3.org/2000/svg\", h = r.getElementsByTagName(\"svg\")[0].getElementsByTagName(\"text\")[0];\n    m || (m = \"ellipsis\");\n    var f = m.split(\"-\");\n    if (f.length > 1 && (a = parseInt(m.split(\"-\")[1]), f.length > 2 && \"ellipsis\" == f[2] && (n = !0)), !c) return FamilyTree._escapeHtml(e);\n    if (c = parseFloat(c), l || (l = 0), s || (s = 0), l || (d = \"start\"), \"ellipsis\" == m) {\n        h.removeChild(h.firstChild), h.textContent = e;\n        for (var u = h.getComputedTextLength(), y = 2; u > c;) h.textContent = e.substring(0, e.length - y), h.textContent += \"...\", u = h.getComputedTextLength(), y++;\n        return y > 2 ? `<title>${FamilyTree._escapeHtml(e)}</title>${h.textContent}` : FamilyTree._escapeHtml(e)\n    }\n    if (-1 != m.indexOf(\"multiline\")) {\n        var g = e.split(\" \"), v = h.getBBox().height;\n        h.textContent = \"\";\n        var T = document.createElementNS(p, \"tspan\"), b = document.createTextNode(g[0]);\n        T.setAttributeNS(null, \"x\", l), T.setAttributeNS(null, \"y\", s), T.setAttributeNS(null, \"text-anchor\", d), T.appendChild(b), h.appendChild(T);\n        y = 1;\n        for (var F = 1, x = 1; x < g.length; x++) {\n            var _ = T.firstChild.data.length;\n            if (T.firstChild.data += \" \" + g[x], T.getComputedTextLength() > c) {\n                if (T.firstChild.data = T.firstChild.data.slice(0, _), F++, a && F > a) {\n                    if (n && h.children.length == a) {\n                        var w = h.children[a - 1].textContent;\n                        h.children[a - 1].textContent = w.substring(0, w.length - 3) + \"...\"\n                    }\n                    break\n                }\n                (T = document.createElementNS(p, \"tspan\")).setAttributeNS(null, \"x\", l), T.setAttributeNS(null, \"y\", s + v * y), T.setAttributeNS(null, \"text-anchor\", d), b = document.createTextNode(g[x]), T.appendChild(b), h.appendChild(T), y++\n            }\n        }\n        var k = \"\";\n        if (null != h.innerHTML) k = h.innerHTML, h.innerHTML = \"\"; else {\n            var S = \"\";\n            for (x = h.childNodes.length - 1; x >= 0; x--) S = XMLSerializer().serializeToString(h.childNodes[x]) + S, h.removeChild(h.childNodes[x]);\n            k = S\n        }\n        return k\n    }\n},FamilyTree._downloadFile = function (e, t, i, r, a) {\n    var n = new Blob([t], {type: e});\n    if (1 == r) {\n        var o = URL.createObjectURL(n);\n        window.open(o, \"_blank\").focus()\n    } else if (navigator.msSaveBlob) navigator.msSaveBlob(n, i); else {\n        var l = document.createElement(\"a\");\n        if (void 0 !== l.download) {\n            o = URL.createObjectURL(n);\n            l.setAttribute(\"href\", o);\n            var s = i;\n            s.toLowerCase().endsWith(a.toLowerCase()) || (s = s + \".\" + a), l.setAttribute(\"download\", s), l.style.visibility = \"hidden\", document.body.appendChild(l), l.click(), document.body.removeChild(l)\n        }\n    }\n},FamilyTree._getPosition = function (e, t, i, r) {\n    var a = {x: t.x, y: t.y};\n    if (null != i && (a.x = i), null != r && (a.y = i), e && 3 == e.length) {\n        var n = e[0].indexOf(t.id);\n        -1 != n && null != e[1][n].transform && (null == i && (a.x = e[1][n].transform[4]), null == r && (a.y = e[1][n].transform[5]))\n    }\n    return a\n},FamilyTree._getOpacity = function (e, t) {\n    var i = 1;\n    if (e && 3 == e.length) {\n        var r = e[0].indexOf(t.id);\n        -1 != r && null != e[1][r].opacity && (i = e[1][r].opacity)\n    }\n    return i\n},FamilyTree.t = function (e, t, i) {\n    var r = FamilyTree.templates[e];\n    null == r && console.error(`Template \"${e}\" does not exist!`);\n    var a = null;\n    if (null != i && r.scaleLessThen) {\n        var n = [];\n        for (var o in r.scaleLessThen) {\n            var l = parseFloat(o);\n            i < l && n.push(l)\n        }\n        if (n.length > 0) {\n            n.sort((function (e, t) {\n                return e - t\n            }));\n            var s = r.scaleLessThen[n[0]];\n            for (var d in s) null == a && (a = Object.assign({}, r)), a[d] = s[d]\n        }\n    }\n    return t ? null == a ? r.min ? r.min : r : a.min ? a.min : a : null == a ? r : a\n},FamilyTree.setNodeSize = function (e) {\n    var t = FamilyTree.t(e.templateName, e.min);\n    e.w = t && t.size ? t.size[0] : 0, e.h = t && t.size ? t.size[1] : 0\n},FamilyTree._imgs2base64 = function (e, t, i, r) {\n    var a = e.getElementsByTagName(t), n = a.length;\n    0 == n && r();\n    for (var o = 0; o < n; o++) !function () {\n        var e = o, t = a[e];\n        FamilyTree._getDataUri(t.getAttribute(i), (function (a) {\n            a.success && t.setAttribute(i, a.result), e == n - 1 && r()\n        }))\n    }()\n},FamilyTree._getDataUri = function (e, t) {\n    if (-1 != e.indexOf(\"base64\")) t({success: !1}); else {\n        var i = new XMLHttpRequest;\n        i.open(\"GET\", e), i.responseType = \"blob\", i.onload = function () {\n            200 === i.status ? r.readAsDataURL(i.response) : 404 === i.status && t({success: !1, result: i.status})\n        };\n        var r = new FileReader;\n        r.onloadend = function () {\n            t({success: !0, result: r.result})\n        }, i.send()\n    }\n},FamilyTree._convertStringToArray = function (e, t) {\n    return -1 != FamilyTree.ARRAY_FIELDS.indexOf(e) ? FamilyTree.isNEU(t) ? [] : t.split(\",\") : t\n},FamilyTree._convertArrayToString = function (e) {\n    return !FamilyTree.isNEU(e) && Array.isArray(e) ? e.join() : e\n},FamilyTree._csvToArray = function (e, t) {\n    t = t || FamilyTree.CSV_DELIMITER;\n    for (var i = new RegExp(\"(\\\\\" + t + '|\\\\r?\\\\n|\\\\r|^)(?:\"([^\"]*(?:\"\"[^\"]*)*)\"|([^\"\\\\' + t + \"\\\\r\\\\n]*))\", \"gi\"), r = [[]], a = null; a = i.exec(e);) {\n        var n, o = a[1];\n        o.length && o !== t && r.push([]), n = a[2] ? a[2].replace(new RegExp('\"\"', \"g\"), '\"') : a[3], r[r.length - 1].push(n)\n    }\n    return r\n},FamilyTree._json2xml = function (e) {\n    for (var t = document.implementation.createDocument(\"\", \"\", null), i = t.createElement(\"nodes\"), r = 0; r < e.length; r++) {\n        var a = t.createElement(\"node\"), n = e[r];\n        for (var o in n) {\n            var l = n[o];\n            a.setAttribute(o, FamilyTree._convertArrayToString(l))\n        }\n        i.appendChild(a)\n    }\n    return t.appendChild(i), '<?xml version=\"1.0\" encoding=\"utf-8\" ?>' + (new XMLSerializer).serializeToString(t.documentElement)\n},FamilyTree._xml2json = function (e) {\n    for (var t = (new DOMParser).parseFromString(e, \"text/xml\").getElementsByTagName(\"node\"), i = [], r = 0; r < t.length; r++) {\n        for (var a = t[r], n = {}, o = 0; o < a.attributes.length; o++) {\n            var l = a.attributes[o];\n            n[l.name] = FamilyTree._convertStringToArray(l.name, l.value)\n        }\n        i.push(n)\n    }\n    return i\n},FamilyTree.convertNodesToCsv = function (e) {\n    return FamilyTree._json2csv(e)\n},FamilyTree._json2csv = function (e) {\n    for (var t = [], i = function (e) {\n        for (var i = \"\", r = 0; r < t.length; r++) {\n            var a;\n            (a = \"reportsTo\" == t[r] ? null : null == e[t[r]] ? \"\" : e[t[r]]) instanceof Date && (a = a.toLocaleString());\n            var n = (a = null === a ? \"\" : a.toString()).replace(/\"/g, '\"\"'), o = new RegExp('(\"|;|\\n)', \"g\");\n            n.search(o) >= 0 && (n = '\"' + n + '\"'), r > 0 && (i += FamilyTree.CSV_DELIMITER), i += n\n        }\n        return i + \"\\n\"\n    }, r = \"\", a = 0; a < e.length; a++) for (var n in e[a]) FamilyTree._arrayContains(t, n) || (t.push(n), r += n + FamilyTree.CSV_DELIMITER);\n    r = r.substring(0, r.length - 1), r += \"\\n\";\n    for (a = 0; a < e.length; a++) r += i(e[a]);\n    return r = r.substring(0, r.length - 1)\n},FamilyTree.accentFold = function (e) {\n    return (e = e.toString().toLowerCase()).replace(/([àáâãäå])|([ç])|([èéêë])|([ìíîï])|([ñ])|([òóôõöø])|([ß])|([ùúûü])|([ÿ])|([æ])/g, (function (e, t, i, r, a, n, o, l, s, d, c) {\n        return t ? \"a\" : i ? \"c\" : r ? \"e\" : a ? \"i\" : n ? \"n\" : o ? \"o\" : l ? \"s\" : s ? \"u\" : d ? \"y\" : c ? \"ae\" : void 0\n    }))\n},FamilyTree.copy = function (e) {\n    if (null === e || \"object\" != typeof e || \"isActiveClone\" in e) return e;\n    if (e instanceof Date) var t = new e.constructor; else t = e.constructor();\n    for (var i in e) Object.prototype.hasOwnProperty.call(e, i) && (e.isActiveClone = null, t[i] = FamilyTree.copy(e[i]), delete e.isActiveClone);\n    return t\n},FamilyTree._getScrollSensitivity = function () {\n    var e = FamilyTree._browser();\n    return e.msie && FamilyTree.scroll.ie ? FamilyTree.scroll.ie : e.edge && FamilyTree.scroll.edge ? FamilyTree.scroll.edge : e.safari && FamilyTree.scroll.safari ? FamilyTree.scroll.safari : e.chrome && FamilyTree.scroll.chrome ? FamilyTree.scroll.chrome : e.firefox && FamilyTree.scroll.firefox ? FamilyTree.scroll.firefox : e.opera && FamilyTree.scroll.opera ? FamilyTree.scroll.opera : {\n        smooth: FamilyTree.scroll.smooth,\n        speed: FamilyTree.scroll.speed\n    }\n},FamilyTree.isMobile = function () {\n    return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)\n},FamilyTree.isTrial = function () {\n    return void 0 !== FamilyTree.remote\n},FamilyTree.childrenCount = function (e, t) {\n    for (var i = 0, r = 0; r < t.childrenIds.length; r++) {\n        e.nodes[t.childrenIds[r]] && i++\n    }\n    return i\n},FamilyTree.childrenTotalCount = function (e, t) {\n    for (var i = 0, r = 0; r < t.childrenIds.length; r++) {\n        var a = e.nodes[t.childrenIds[r]];\n        a && (i++, i += FamilyTree.childrenTotalCount(e, a))\n    }\n    return i\n},FamilyTree.collapsedChildrenCount = function (e, t) {\n    for (var i = 0, r = 0; r < t.childrenIds.length; r++) {\n        var a = e.nodes[t.childrenIds[r]];\n        a && !0 === a.collapsed && i++\n    }\n    return i\n},FamilyTree.collapsedChildrenTotalCount = function (e, t, i) {\n    for (var r = 0, a = 0; a < t.childrenIds.length; a++) {\n        var n = e.nodes[t.childrenIds[a]];\n        n && ((i || !0 === n.collapsed) && r++, r += FamilyTree.collapsedChildrenTotalCount(e, n, !0))\n    }\n    return r\n},FamilyTree._setMinMaxXY = function (e, t) {\n    (null == t.minX || null != e.x && e.x < t.minX) && (t.minX = e.x), (null == t.minY || null != e.y && e.y < t.minY) && (t.minY = e.y), (null == t.maxX || null != e.x && e.x + e.w > t.maxX) && (t.maxX = e.x + e.w), (null == t.maxY || null != e.y && e.y + e.h > t.maxY) && (t.maxY = e.y + e.h)\n},FamilyTree.getStParentNodes = function (e, t) {\n    for (t || (t = []); e.parent;) e = e.parent;\n    return e.stParent && (t.push(e.stParent), FamilyTree.getStParentNodes(e.stParent, t)), t\n},FamilyTree.getRootOf = function (e) {\n    for (; e && e.parent;) e = e.parent;\n    return e\n},FamilyTree._getViewBox = function (e) {\n    var t = null;\n    return e ? (t = (t = \"[\" + (t = e.getAttribute(\"viewBox\")) + \"]\").replace(/\\ /g, \",\"), t = JSON.parse(t)) : null\n},FamilyTree.isNEU = function (e) {\n    return null == e || \"\" === e\n},FamilyTree.gradientCircleForDefs = function (e, t, i, r) {\n    function a(e, t, i, r) {\n        var a = (r - 90) * Math.PI / 180;\n        return {x: e + i * Math.cos(a), y: t + i * Math.sin(a)}\n    }\n\n    function n(e, t, i, r, n) {\n        var o = a(e, t, i, n), l = a(e, t, i, r), s = n - r <= 180 ? \"0\" : \"1\";\n        return [\"M\", o.x, o.y, \"A\", i, i, 0, s, 0, l.x, l.y].join(\" \")\n    }\n\n    return Array.isArray(t) || (t = [t, t, t, t, t, t]), `<linearGradient id=\"${e}_linearColors1\" x1=\"0\" y1=\"0\" x2=\"1\" y2=\"1\">\\n            <stop offset=\"0%\" stop-color=\"${t[0]}\"></stop>\\n            <stop offset=\"100%\" stop-color=\"${t[1]}\"></stop>\\n        </linearGradient>\\n        <linearGradient id=\"${e}_linearColors2\" x1=\"0.5\" y1=\"0\" x2=\"0.5\" y2=\"1\">\\n            <stop offset=\"0%\" stop-color=\"${t[1]}\"></stop>\\n            <stop offset=\"100%\" stop-color=\"${t[2]}\"></stop>\\n        </linearGradient>\\n        <linearGradient id=\"${e}_linearColors3\" x1=\"1\" y1=\"0\" x2=\"0\" y2=\"1\">\\n            <stop offset=\"0%\" stop-color=\"${t[2]}\"></stop>\\n            <stop offset=\"100%\" stop-color=\"${t[3]}\"></stop>\\n        </linearGradient>\\n        <linearGradient id=\"${e}_linearColors4\" x1=\"1\" y1=\"1\" x2=\"0\" y2=\"0\">\\n            <stop offset=\"0%\" stop-color=\"${t[3]}\"></stop>\\n            <stop offset=\"100%\" stop-color=\"${t[4]}\"></stop>\\n        </linearGradient>\\n        <linearGradient id=\"${e}_linearColors5\" x1=\"0.5\" y1=\"1\" x2=\"0.5\" y2=\"0\">\\n            <stop offset=\"0%\" stop-color=\"${t[4]}\"></stop>\\n            <stop offset=\"100%\" stop-color=\"${t[5]}\"></stop>\\n        </linearGradient>\\n        <linearGradient id=\"${e}_linearColors6\" x1=\"0\" y1=\"1\" x2=\"1\" y2=\"0\">\\n            <stop offset=\"0%\" stop-color=\"${t[5]}\"></stop>\\n            <stop offset=\"100%\" stop-color=\"${t[0]}\"></stop>\\n        </linearGradient>        \\n        <g id=\"${e}\">\\n            <path stroke-width=\"${r}\" fill=\"none\" stroke=\"url(#${e}_linearColors1)\" d=\"${n(i, i, i, 1, 60)}\"  />\\n            <path stroke-width=\"${r}\" fill=\"none\" stroke=\"url(#${e}_linearColors2)\" d=\"${n(i, i, i, 60, 120)}\"/>\\n            <path stroke-width=\"${r}\" fill=\"none\" stroke=\"url(#${e}_linearColors3)\" d=\"${n(i, i, i, 120, 180)}\" />\\n            <path stroke-width=\"${r}\" fill=\"none\" stroke=\"url(#${e}_linearColors4)\" d=\"${n(i, i, i, 180, 240)}\" />\\n            <path stroke-width=\"${r}\" fill=\"none\" stroke=\"url(#${e}_linearColors5)\" d=\"${n(i, i, i, 240, 300)}\" />\\n            <path stroke-width=\"${r}\" fill=\"none\" stroke=\"url(#${e}_linearColors6)\" d=\"${n(i, i, i, 300, 1)}\"/>\\n        </g>`\n},FamilyTree._intersectionObserver = function (e, t) {\n    \"function\" == typeof IntersectionObserver ? new IntersectionObserver((function (e, i) {\n        e.forEach((function (e) {\n            var i = e.intersectionRatio > 0;\n            0 == e.intersectionRatio && (i = e.isIntersecting), t(i)\n        }))\n    })).observe(e) : t(!0)\n},FamilyTree.convertCsvToNodes = function (e) {\n    for (var t = FamilyTree._csvToArray(e), i = t[0], r = [], a = 1; a < t.length; a++) {\n        for (var n = {}, o = 0; o < t[a].length; o++) {\n            var l = i[o], s = t[a][o];\n            n[i[o]] = FamilyTree._convertStringToArray(l, s)\n        }\n        \"\" != n.id.trim() && r.push(n)\n    }\n    return r\n},FamilyTree._escapeHtml = function (e) {\n    return FamilyTree.ESCAPE_HTML && \"string\" == typeof e ? e.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#039;\") : e\n},FamilyTree._escapeDoubleQuotes = function (e) {\n    return \"string\" == typeof e ? e.replace(/\"/g, \"&quot;\") : e\n},FamilyTree._escapeGreaterLessSign = function (e) {\n    return \"string\" == typeof e ? e.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\") : e\n},FamilyTree.roundPathCorners = function (e, t, i) {\n    function r(e, t, i) {\n        var r = t.x - e.x, n = t.y - e.y, o = Math.sqrt(r * r + n * n);\n        return a(e, t, Math.min(1, i / o))\n    }\n\n    function a(e, t, i) {\n        return {x: e.x + (t.x - e.x) * i, y: e.y + (t.y - e.y) * i}\n    }\n\n    function n(e, t) {\n        e.length > 2 && (e[e.length - 2] = t.x, e[e.length - 1] = t.y)\n    }\n\n    function o(e) {\n        return {x: parseFloat(e[e.length - 2]), y: parseFloat(e[e.length - 1])}\n    }\n\n    Array.isArray(e) || (e = (e = e.split(/[,\\s]/).reduce((function (e, t) {\n        var i = t.match(\"([a-zA-Z])(.+)\");\n        return i ? (e.push(i[1]), e.push(i[2])) : e.push(t), e\n    }), [])).reduce((function (e, t) {\n        return parseFloat(t) == t && e.length ? e[e.length - 1].push(t) : e.push([t]), e\n    }), []));\n    var l = [];\n    if (e.length > 1) {\n        var s = o(e[0]), d = null;\n        \"Z\" == e[e.length - 1][0] && e[0].length > 2 && (d = [\"L\", s.x, s.y], e[e.length - 1] = d), l.push(e[0]);\n        for (var c = 1; c < e.length; c++) {\n            var m = l[l.length - 1], p = e[c], h = p == d ? e[1] : e[c + 1];\n            if (h && m && m.length > 2 && \"L\" == p[0] && h.length > 2 && \"L\" == h[0]) {\n                var f, u, y = o(m), g = o(p), v = o(h);\n                i ? (f = a(g, m.origPoint || y, t), u = a(g, h.origPoint || v, t)) : (f = r(g, y, t), u = r(g, v, t)), n(p, f), p.origPoint = g, l.push(p);\n                var T = a(f, g, .5), b = a(g, u, .5), F = [\"C\", T.x, T.y, b.x, b.y, u.x, u.y];\n                F.origPoint = g, l.push(F)\n            } else l.push(p)\n        }\n        if (d) {\n            var x = o(l[l.length - 1]);\n            l.push([\"Z\"]), n(l[0], x)\n        }\n    } else l = e;\n    return l.reduce((function (e, t) {\n        return e + t.join(\" \") + \" \"\n    }), \"\")\n},FamilyTree._isMoved = function (e) {\n    return null != e.movex || null != e.movey\n},FamilyTree._changeRootOption = function (e, t, i) {\n    for (var r = [], a = 0; a < t.length; a++) for (var n = 0; n < i.length; n++) if (i[n].has(t[a])) {\n        r = i[n];\n        break\n    }\n    for (a = 0; a < r.length; a++) {\n        var o = e.indexOf(r[a]);\n        -1 != o && e.splice(o, 1)\n    }\n    t.length && e.push(t[0])\n},FamilyTree._convertStringToArrayOnImport = function (e, t) {\n    return \"tags\" == e || \"pids\" == e ? FamilyTree.isNEU(t) ? [] : t.split(\",\") : t\n},void 0 === FamilyTree && (FamilyTree = {}),FamilyTree.icon = {},FamilyTree.icon.png = function (e, t, i) {\n    return '<svg width=\"' + e + '\" height=\"' + t + '\" viewBox=\"0 0 550.801 550.801\"><path fill=\"' + i + '\" d=\"M146.747,276.708c0-13.998-9.711-22.352-26.887-22.352c-6.99,0-11.726,0.675-14.204,1.355v44.927 c2.932,0.676,6.539,0.896,11.52,0.896C135.449,301.546,146.747,292.28,146.747,276.708z\"/><path fill=\"' + i + '\" d=\"M488.426,197.019H475.2v-63.816c0-0.398-0.063-0.799-0.116-1.202c-0.021-2.534-0.827-5.023-2.562-6.995L366.325,3.694 c-0.032-0.031-0.063-0.042-0.085-0.076c-0.633-0.707-1.371-1.295-2.151-1.804c-0.231-0.155-0.464-0.285-0.706-0.419 c-0.676-0.369-1.393-0.675-2.131-0.896c-0.2-0.056-0.38-0.138-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.873v160.545 c0,17.043,13.824,30.87,30.873,30.87h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87v-160.54C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.513c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M234.344,335.86v45.831h-31.601V229.524h40.184 l31.611,55.759c9.025,16.031,18.064,34.983,24.825,52.154h0.675c-2.257-20.103-2.933-40.643-2.933-63.44v-44.473h31.614v152.167 h-36.117l-32.516-58.703c-9.049-16.253-18.971-35.892-26.438-53.727l-0.665,0.222C233.906,289.58,234.344,311.027,234.344,335.86z M71.556,381.691V231.56c10.613-1.804,25.516-3.159,46.506-3.159c21.215,0,36.353,4.061,46.509,12.192 c9.698,7.673,16.255,20.313,16.255,35.219c0,14.897-4.959,27.549-13.999,36.123c-11.738,11.063-29.123,16.031-49.441,16.031 c-4.522,0-8.593-0.231-11.736-0.675v54.411H71.556V381.691z M453.601,523.353H97.2V419.302h356.4V523.353z M485.652,374.688 c-10.61,3.607-30.713,8.585-50.805,8.585c-27.759,0-47.872-7.003-61.857-20.545c-13.995-13.1-21.684-32.97-21.452-55.318 c0.222-50.569,37.03-79.463,86.917-79.463c19.644,0,34.783,3.829,42.219,7.446l-7.214,27.543c-8.369-3.617-18.752-6.55-35.458-6.55 c-28.656,0-50.341,16.256-50.341,49.22c0,31.382,19.649,49.892,47.872,49.892c7.895,0,14.218-0.901,16.934-2.257v-31.835h-23.493 v-26.869h56.679V374.688z\"/></svg>'\n},FamilyTree.icon.pdf = function (e, t, i) {\n    return '<svg width=\"' + e + '\" height=\"' + t + '\" viewBox=\"0 0 550.801 550.801\"><path fill=\"' + i + '\" d=\"M160.381,282.225c0-14.832-10.299-23.684-28.474-23.684c-7.414,0-12.437,0.715-15.071,1.432V307.6 c3.114,0.707,6.942,0.949,12.192,0.949C148.419,308.549,160.381,298.74,160.381,282.225z\"/><path fill=\"' + i + '\" d=\"M272.875,259.019c-8.145,0-13.397,0.717-16.519,1.435v105.523c3.116,0.729,8.142,0.729,12.69,0.729 c33.017,0.231,54.554-17.946,54.554-56.474C323.842,276.719,304.215,259.019,272.875,259.019z\"/><path fill=\"' + i + '\" d=\"M488.426,197.019H475.2v-63.816c0-0.398-0.063-0.799-0.116-1.202c-0.021-2.534-0.827-5.023-2.562-6.995L366.325,3.694 c-0.032-0.031-0.063-0.042-0.085-0.076c-0.633-0.707-1.371-1.295-2.151-1.804c-0.231-0.155-0.464-0.285-0.706-0.419 c-0.676-0.369-1.393-0.675-2.131-0.896c-0.2-0.056-0.38-0.138-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.873v160.545 c0,17.043,13.824,30.87,30.873,30.87h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87v-160.54C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.513c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M362.359,309.023c0,30.876-11.243,52.165-26.82,65.333 c-16.971,14.117-42.82,20.814-74.396,20.814c-18.9,0-32.297-1.197-41.401-2.389V234.365c13.399-2.149,30.878-3.346,49.304-3.346 c30.612,0,50.478,5.508,66.039,17.226C351.828,260.69,362.359,280.547,362.359,309.023z M80.7,393.499V234.365 c11.241-1.904,27.042-3.346,49.296-3.346c22.491,0,38.527,4.308,49.291,12.928c10.292,8.131,17.215,21.534,17.215,37.328 c0,15.799-5.25,29.198-14.829,38.285c-12.442,11.728-30.865,16.996-52.407,16.996c-4.778,0-9.1-0.243-12.435-0.723v57.67H80.7 V393.499z M453.601,523.353H97.2V419.302h356.4V523.353z M484.898,262.127h-61.989v36.851h57.913v29.674h-57.913v64.848h-36.593 V232.216h98.582V262.127z\"/></svg>'\n},FamilyTree.icon.svg = function (e, t, i) {\n    return '<svg width=\"' + e + '\" height=\"' + t + '\" viewBox=\"0 0 550.801 550.801\"><path fill=\"' + i + '\" d=\"M488.426,197.019H475.2v-63.816c0-0.398-0.063-0.799-0.116-1.202c-0.021-2.534-0.827-5.023-2.562-6.995L366.325,3.694 c-0.032-0.031-0.063-0.042-0.085-0.076c-0.633-0.707-1.371-1.295-2.151-1.804c-0.231-0.155-0.464-0.285-0.706-0.419 c-0.676-0.369-1.393-0.675-2.131-0.896c-0.2-0.056-0.38-0.138-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.873v160.545 c0,17.043,13.824,30.87,30.873,30.87h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87v-160.54C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.513c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M338.871,225.672L284.545,386.96h-42.591 l-51.69-161.288h39.967l19.617,68.196c5.508,19.143,10.531,37.567,14.36,57.67h0.717c4.061-19.385,9.089-38.527,14.592-56.953 l20.585-68.918h38.77V225.672z M68.458,379.54l7.415-30.153c9.811,5.021,24.888,10.051,40.439,10.051 c16.751,0,25.607-6.935,25.607-17.465c0-10.052-7.662-15.795-27.05-22.734c-26.8-9.328-44.263-24.168-44.263-47.611 c0-27.524,22.971-48.579,61.014-48.579c18.188,0,31.591,3.823,41.159,8.131l-8.126,29.437c-6.465-3.116-17.945-7.657-33.745-7.657 c-15.791,0-23.454,7.183-23.454,15.552c0,10.296,9.089,14.842,29.917,22.731c28.468,10.536,41.871,25.365,41.871,48.094 c0,27.042-20.812,50.013-65.09,50.013C95.731,389.349,77.538,384.571,68.458,379.54z M453.601,523.353H97.2V419.302h356.4V523.353z M488.911,379.54c-11.243,3.823-32.537,9.103-53.831,9.103c-29.437,0-50.73-7.426-65.57-21.779 c-14.839-13.875-22.971-34.942-22.738-58.625c0.253-53.604,39.255-84.235,92.137-84.235c20.81,0,36.852,4.073,44.74,7.896 l-7.657,29.202c-8.859-3.829-19.849-6.95-37.567-6.95c-30.396,0-53.357,17.233-53.357,52.173c0,33.265,20.81,52.882,50.73,52.882 c8.375,0,15.072-0.96,17.94-2.395v-33.745h-24.875v-28.471h60.049V379.54L488.911,379.54z\" /></svg>'\n},FamilyTree.icon.csv = function (e, t, i) {\n    return '<svg width=\"' + e + '\" height=\"' + t + '\" viewBox=\"0 0 548.29 548.291\" ><path fill=\"' + i + '\" d=\"M486.2,196.121h-13.164V132.59c0-0.399-0.064-0.795-0.116-1.2c-0.021-2.52-0.824-5-2.551-6.96L364.656,3.677 c-0.031-0.034-0.064-0.044-0.085-0.075c-0.629-0.707-1.364-1.292-2.141-1.796c-0.231-0.157-0.462-0.286-0.704-0.419 c-0.672-0.365-1.386-0.672-2.121-0.893c-0.199-0.052-0.377-0.134-0.576-0.188C358.229,0.118,357.4,0,356.562,0H96.757 C84.893,0,75.256,9.649,75.256,21.502v174.613H62.093c-16.972,0-30.733,13.756-30.733,30.73v159.81 c0,16.966,13.761,30.736,30.733,30.736h13.163V526.79c0,11.854,9.637,21.501,21.501,21.501h354.777 c11.853,0,21.502-9.647,21.502-21.501V417.392H486.2c16.966,0,30.729-13.764,30.729-30.731v-159.81 C516.93,209.872,503.166,196.121,486.2,196.121z M96.757,21.502h249.053v110.006c0,5.94,4.818,10.751,10.751,10.751h94.973v53.861 H96.757V21.502z M258.618,313.18c-26.68-9.291-44.063-24.053-44.063-47.389c0-27.404,22.861-48.368,60.733-48.368 c18.107,0,31.447,3.811,40.968,8.107l-8.09,29.3c-6.43-3.107-17.862-7.632-33.59-7.632c-15.717,0-23.339,7.149-23.339,15.485 c0,10.247,9.047,14.769,29.78,22.632c28.341,10.479,41.681,25.239,41.681,47.874c0,26.909-20.721,49.786-64.792,49.786 c-18.338,0-36.449-4.776-45.497-9.77l7.38-30.016c9.772,5.014,24.775,10.006,40.264,10.006c16.671,0,25.488-6.908,25.488-17.396 C285.536,325.789,277.909,320.078,258.618,313.18z M69.474,302.692c0-54.781,39.074-85.269,87.654-85.269 c18.822,0,33.113,3.811,39.549,7.149l-7.392,28.816c-7.38-3.084-17.632-5.939-30.491-5.939c-28.822,0-51.206,17.375-51.206,53.099 c0,32.158,19.051,52.4,51.456,52.4c10.947,0,23.097-2.378,30.241-5.238l5.483,28.346c-6.672,3.34-21.674,6.919-41.208,6.919 C98.06,382.976,69.474,348.424,69.474,302.692z M451.534,520.962H96.757v-103.57h354.777V520.962z M427.518,380.583h-42.399 l-51.45-160.536h39.787l19.526,67.894c5.479,19.046,10.479,37.386,14.299,57.397h0.709c4.048-19.298,9.045-38.352,14.526-56.693 l20.487-68.598h38.599L427.518,380.583z\" /></svg>'\n},FamilyTree.icon.json = function (e, t, i) {\n    return '<svg width=\"' + e + '\" height=\"' + t + '\" viewBox=\"0 0 32 32\" ><polygon fill=\"' + i + '\"  points=\"31 11 31 21 29 21 27 15 27 21 25 21 25 11 27 11 29 17 29 11 31 11\"/><path fill=\"' + i + '\"  d=\"M21.3335,21h-2.667A1.6684,1.6684,0,0,1,17,19.3335v-6.667A1.6684,1.6684,0,0,1,18.6665,11h2.667A1.6684,1.6684,0,0,1,23,12.6665v6.667A1.6684,1.6684,0,0,1,21.3335,21ZM19,19h2V13H19Z\"/><path fill=\"' + i + '\"  d=\"M13.3335,21H9V19h4V17H11a2.002,2.002,0,0,1-2-2V12.6665A1.6684,1.6684,0,0,1,10.6665,11H15v2H11v2h2a2.002,2.002,0,0,1,2,2v2.3335A1.6684,1.6684,0,0,1,13.3335,21Z\"/><path fill=\"' + i + '\"  d=\"M5.3335,21H2.6665A1.6684,1.6684,0,0,1,1,19.3335V17H3v2H5V11H7v8.3335A1.6684,1.6684,0,0,1,5.3335,21Z\"/><rect fill=\"' + i + '\"  id=\"_Transparent_Rectangle_\" data-name=\"&lt;Transparent Rectangle&gt;\" style=\"fill: none;\" width=\"32\" height=\"32\"/></svg>'\n},FamilyTree.icon.excel = function (e, t, i) {\n    return '<svg width=\"' + e + '\" height=\"' + t + '\" viewBox=\"0 0 512 512\"><path fill=\"#ECEFF1\" d=\"M496,432.011H272c-8.832,0-16-7.168-16-16s0-311.168,0-320s7.168-16,16-16h224 c8.832,0,16,7.168,16,16v320C512,424.843,504.832,432.011,496,432.011z\" /><path fill=\"' + i + '\" d=\"M336,176.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,176.011,336,176.011z\" /><path fill=\"' + i + '\" d=\"M336,240.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,240.011,336,240.011z\" /><path fill=\"' + i + '\" d=\"M336,304.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,304.011,336,304.011z\" /><path fill=\"' + i + '\" d=\"M336,368.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,368.011,336,368.011z\" /><path fill=\"' + i + '\" d=\"M432,176.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,176.011,432,176.011z\" /><path fill=\"' + i + '\" d=\"M432,240.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,240.011,432,240.011z\" /><path fill=\"' + i + '\" d=\"M432,304.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,304.011,432,304.011z\" /><path fill=\"' + i + '\" d=\"M432,368.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,368.011,432,368.011z\" /><path fill=\"' + i + '\"  d=\"M282.208,19.691c-3.648-3.04-8.544-4.352-13.152-3.392l-256,48C5.472,65.707,0,72.299,0,80.011v352 c0,7.68,5.472,14.304,13.056,15.712l256,48c0.96,0.192,1.952,0.288,2.944,0.288c3.712,0,7.328-1.28,10.208-3.68 c3.68-3.04,5.792-7.584,5.792-12.32v-448C288,27.243,285.888,22.731,282.208,19.691z\" /><path fill=\"#FAFAFA\" d=\"M220.032,309.483l-50.592-57.824l51.168-65.792c5.44-6.976,4.16-17.024-2.784-22.464 c-6.944-5.44-16.992-4.16-22.464,2.784l-47.392,60.928l-39.936-45.632c-5.856-6.72-15.968-7.328-22.56-1.504 c-6.656,5.824-7.328,15.936-1.504,22.56l44,50.304L83.36,310.187c-5.44,6.976-4.16,17.024,2.784,22.464 c2.944,2.272,6.432,3.36,9.856,3.36c4.768,0,9.472-2.112,12.64-6.176l40.8-52.48l46.528,53.152 c3.168,3.648,7.584,5.504,12.032,5.504c3.744,0,7.488-1.312,10.528-3.968C225.184,326.219,225.856,316.107,220.032,309.483z\" /></svg>'\n},FamilyTree.icon.edit = function (e, t, i) {\n    return '<svg width=\"' + e + '\" height=\"' + t + '\" viewBox=\"0 0 528.899 528.899\"><path fill=\"' + i + '\" d=\"M328.883,89.125l107.59,107.589l-272.34,272.34L56.604,361.465L328.883,89.125z M518.113,63.177l-47.981-47.981 c-18.543-18.543-48.653-18.543-67.259,0l-45.961,45.961l107.59,107.59l53.611-53.611 C532.495,100.753,532.495,77.559,518.113,63.177z M0.3,512.69c-1.958,8.812,5.998,16.708,14.811,14.565l119.891-29.069 L27.473,390.597L0.3,512.69z\" /></svg>'\n},FamilyTree.icon.details = function (e, t, i) {\n    return '<svg width=\"' + e + '\" height=\"' + t + '\" viewBox=\"0 0 512 512\"><path fill=\"' + i + '\" d=\"M447.933,103.629c-0.034-3.076-1.224-6.09-3.485-8.352L352.683,3.511c-0.004-0.004-0.007-0.005-0.011-0.008 C350.505,1.338,347.511,0,344.206,0H89.278C75.361,0,64.04,11.32,64.04,25.237v461.525c0,13.916,11.32,25.237,25.237,25.237 h333.444c13.916,0,25.237-11.32,25.237-25.237V103.753C447.96,103.709,447.937,103.672,447.933,103.629z M356.194,40.931 l50.834,50.834h-49.572c-0.695,0-1.262-0.567-1.262-1.262V40.931z M423.983,486.763c0,0.695-0.566,1.261-1.261,1.261H89.278 c-0.695,0-1.261-0.566-1.261-1.261V25.237c0-0.695,0.566-1.261,1.261-1.261h242.94v66.527c0,13.916,11.322,25.239,25.239,25.239 h66.527V486.763z\"/><path fill=\"' + i + '\" d=\"M362.088,164.014H149.912c-6.62,0-11.988,5.367-11.988,11.988c0,6.62,5.368,11.988,11.988,11.988h212.175 c6.62,0,11.988-5.368,11.988-11.988C374.076,169.381,368.707,164.014,362.088,164.014z\"/><path fill=\"' + i + '\" d=\"M362.088,236.353H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.62,5.368,11.988,11.988,11.988h212.175 c6.62,0,11.988-5.368,11.988-11.988C374.076,241.721,368.707,236.353,362.088,236.353z\"/><path fill=\"' + i + '\" d=\"M362.088,308.691H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.621,5.368,11.988,11.988,11.988h212.175 c6.62,0,11.988-5.367,11.988-11.988C374.076,314.06,368.707,308.691,362.088,308.691z\"/><path fill=\"' + i + '\" d=\"M256,381.031H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.621,5.368,11.988,11.988,11.988H256 c6.62,0,11.988-5.367,11.988-11.988C267.988,386.398,262.62,381.031,256,381.031z\"/></svg>'\n},FamilyTree.icon.remove = function (e, t, i) {\n    return '<svg width=\"' + e + '\" height=\"' + t + '\"  viewBox=\"0 0 900.5 900.5\"><path fill=\"' + i + '\" d=\"M176.415,880.5c0,11.046,8.954,20,20,20h507.67c11.046,0,20-8.954,20-20V232.487h-547.67V880.5L176.415,880.5z M562.75,342.766h75v436.029h-75V342.766z M412.75,342.766h75v436.029h-75V342.766z M262.75,342.766h75v436.029h-75V342.766z\"/><path fill=\"' + i + '\" d=\"M618.825,91.911V20c0-11.046-8.954-20-20-20h-297.15c-11.046,0-20,8.954-20,20v71.911v12.5v12.5H141.874 c-11.046,0-20,8.954-20,20v50.576c0,11.045,8.954,20,20,20h34.541h547.67h34.541c11.046,0,20-8.955,20-20v-50.576 c0-11.046-8.954-20-20-20H618.825v-12.5V91.911z M543.825,112.799h-187.15v-8.389v-12.5V75h187.15v16.911v12.5V112.799z\"/></svg>'\n},FamilyTree.icon.add = function (e, t, i) {\n    return '<svg width=\"' + e + '\" height=\"' + t + '\"   viewBox=\"0 0 922 922\"><path fill=\"' + i + '\" d=\"M922,453V81c0-11.046-8.954-20-20-20H410c-11.045,0-20,8.954-20,20v149h318c24.812,0,45,20.187,45,45v198h149 C913.046,473.001,922,464.046,922,453z\" /><path fill=\"' + i + '\" d=\"M557,667.001h151c11.046,0,20-8.954,20-20v-174v-198c0-11.046-8.954-20-20-20H390H216c-11.045,0-20,8.954-20,20v149h194 h122c24.812,0,45,20.187,45,45v4V667.001z\" /><path fill=\"' + i + '\" d=\"M0,469v372c0,11.046,8.955,20,20,20h492c11.046,0,20-8.954,20-20V692v-12.501V667V473v-4c0-11.046-8.954-20-20-20H390H196 h-12.5H171H20C8.955,449,0,457.955,0,469z\" /></svg>'\n},FamilyTree.icon.search = function (e, t, i) {\n    return '<svg width=\"' + e + '\" height=\"' + t + '\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 485.213 485.213\"><path fill=\"' + i + '\" d=\"M471.882,407.567L360.567,296.243c-16.586,25.795-38.536,47.734-64.331,64.321l111.324,111.324 c17.772,17.768,46.587,17.768,64.321,0C489.654,454.149,489.654,425.334,471.882,407.567z\" /><path fill=\"' + i + '\" d=\"M363.909,181.955C363.909,81.473,282.44,0,181.956,0C81.474,0,0.001,81.473,0.001,181.955s81.473,181.951,181.955,181.951 C282.44,363.906,363.909,282.437,363.909,181.955z M181.956,318.416c-75.252,0-136.465-61.208-136.465-136.46 c0-75.252,61.213-136.465,136.465-136.465c75.25,0,136.468,61.213,136.468,136.465 C318.424,257.208,257.206,318.416,181.956,318.416z\" /><path fill=\"' + i + '\" d=\"M75.817,181.955h30.322c0-41.803,34.014-75.814,75.816-75.814V75.816C123.438,75.816,75.817,123.437,75.817,181.955z\" /></svg>'\n},FamilyTree.icon.xml = function (e, t, i) {\n    return '<svg width=\"' + e + '\" height=\"' + t + '\" viewBox=\"0 0 550.801 550.801\"><path fill=\"' + i + '\"  d=\"M488.426,197.019H475.2v-63.816c0-0.401-0.063-0.799-0.116-1.205c-0.021-2.534-0.827-5.023-2.562-6.992L366.325,3.691 c-0.032-0.031-0.063-0.042-0.085-0.073c-0.633-0.707-1.371-1.298-2.151-1.804c-0.231-0.158-0.464-0.287-0.706-0.422 c-0.676-0.366-1.393-0.675-2.131-0.896c-0.2-0.053-0.38-0.135-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.87v160.542 c0,17.044,13.824,30.876,30.873,30.876h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87V227.89C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.51c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M369.531,374.53h-32.058l-2.156-55.519 c-0.644-17.434-1.298-38.518-1.298-59.611h-0.633c-4.514,18.516-10.547,39.166-16.137,56.162l-17.645,56.601h-25.618 l-15.494-56.157c-4.725-16.996-9.671-37.658-13.123-56.6h-0.43c-0.854,19.585-1.508,41.961-2.586,60.038l-2.576,55.086h-30.343 l9.26-145.035h43.677l14.207,48.421c4.517,16.774,9.041,34.847,12.258,51.843h0.654c4.081-16.77,9.038-35.923,13.774-52.064 l15.493-48.199h42.82L369.531,374.53z M69.992,374.53l41.955-73.385l-40.444-71.65h37.655l12.688,26.465 c4.316,8.828,7.533,15.928,10.99,24.092h0.422c3.438-9.242,6.23-15.694,9.893-24.092l12.274-26.465h37.434l-40.89,70.796 l43.044,74.239h-37.866l-13.134-26.257c-5.376-10.108-8.817-17.639-12.909-26.04h-0.433c-3.009,8.401-6.674,15.932-11.19,26.04 l-12.042,26.257H69.992z M453.601,523.353H97.2V419.302h356.4V523.353z M485.325,374.53h-90.608V229.495h32.933v117.497h57.682 v27.538H485.325z\"/></svg>'\n},FamilyTree.icon.link = function (e, t, i) {\n    return '<svg width=\"' + e + '\" height=\"' + t + '\" viewBox=\"0 0 512.092 512.092\"  ><path fill=\"' + i + '\" d=\"M312.453,199.601c-6.066-6.102-12.792-11.511-20.053-16.128c-19.232-12.315-41.59-18.859-64.427-18.859 c-31.697-0.059-62.106,12.535-84.48,34.987L34.949,308.23c-22.336,22.379-34.89,52.7-34.91,84.318 c-0.042,65.98,53.41,119.501,119.39,119.543c31.648,0.11,62.029-12.424,84.395-34.816l89.6-89.6 c1.628-1.614,2.537-3.816,2.524-6.108c-0.027-4.713-3.87-8.511-8.583-8.484h-3.413c-18.72,0.066-37.273-3.529-54.613-10.581 c-3.195-1.315-6.867-0.573-9.301,1.877l-64.427,64.512c-20.006,20.006-52.442,20.006-72.448,0 c-20.006-20.006-20.006-52.442,0-72.448l108.971-108.885c19.99-19.965,52.373-19.965,72.363,0 c13.472,12.679,34.486,12.679,47.957,0c5.796-5.801,9.31-13.495,9.899-21.675C322.976,216.108,319.371,206.535,312.453,199.601z\" /><path fill=\"' + i + '\" d=\"M477.061,34.993c-46.657-46.657-122.303-46.657-168.96,0l-89.515,89.429c-2.458,2.47-3.167,6.185-1.792,9.387 c1.359,3.211,4.535,5.272,8.021,5.205h3.157c18.698-0.034,37.221,3.589,54.528,10.667c3.195,1.315,6.867,0.573,9.301-1.877 l64.256-64.171c20.006-20.006,52.442-20.006,72.448,0c20.006,20.006,20.006,52.442,0,72.448l-80.043,79.957l-0.683,0.768 l-27.989,27.819c-19.99,19.965-52.373,19.965-72.363,0c-13.472-12.679-34.486-12.679-47.957,0 c-5.833,5.845-9.35,13.606-9.899,21.845c-0.624,9.775,2.981,19.348,9.899,26.283c9.877,9.919,21.433,18.008,34.133,23.893 c1.792,0.853,3.584,1.536,5.376,2.304c1.792,0.768,3.669,1.365,5.461,2.048c1.792,0.683,3.669,1.28,5.461,1.792l5.035,1.365 c3.413,0.853,6.827,1.536,10.325,2.133c4.214,0.626,8.458,1.025,12.715,1.195h5.973h0.512l5.12-0.597 c1.877-0.085,3.84-0.512,6.059-0.512h2.901l5.888-0.853l2.731-0.512l4.949-1.024h0.939c20.961-5.265,40.101-16.118,55.381-31.403 l108.629-108.629C523.718,157.296,523.718,81.65,477.061,34.993z\" /></svg>'\n},FamilyTree.icon.happy = function (e, t, i) {\n    return '<svg width=\"' + e + '\" height=\"' + t + '\" viewBox=\"0 0 512 512\"><path fill=\"' + i + '\" d=\"M256,0C114.615,0,0,114.615,0,256s114.615,256,256,256s256-114.615,256-256S397.385,0,256,0z M256,480 C132.288,480,32,379.712,32,256S132.288,32,256,32s224,100.288,224,224S379.712,480,256,480z\"/><path fill=\"' + i + '\" d=\"M176,176c17.673,0,32,14.327,32,32h32c0-35.346-28.654-64-64-64c-35.346,0-64,28.654-64,64h32 C144,190.327,158.327,176,176,176z\"/><path fill=\"' + i + '\" d=\"M336,144c-35.346,0-64,28.654-64,64h32c0-17.673,14.327-32,32-32c17.673,0,32,14.327,32,32h32 C400,172.654,371.346,144,336,144z\"/><path fill=\"' + i + '\" d=\"M256,368c-53.019,0-96-42.981-96-96h-32c0,70.692,57.308,128,128,128s128-57.308,128-128h-32 C352,325.019,309.019,368,256,368z\"/></svg>'\n},FamilyTree.icon.sad = function (e, t, i) {\n    return '<svg width=\"' + e + '\" height=\"' + t + '\" viewBox=\"0 0 512 512\"><path fill=\"' + i + '\" d=\"M256,0C114.615,0,0,114.615,0,256s114.615,256,256,256s256-114.615,256-256S397.385,0,256,0z M256,480 C132.288,480,32,379.712,32,256S132.288,32,256,32s224,100.288,224,224S379.712,480,256,480z\"/><path fill=\"' + i + '\" d=\"M336,192c-17.673,0-32-14.327-32-32h-32c0,35.346,28.654,64,64,64c35.346,0,64-28.654,64-64h-32 C368,177.673,353.673,192,336,192z\"/><path fill=\"' + i + '\" d=\"M176,224c35.346,0,64-28.654,64-64h-32c0,17.673-14.327,32-32,32s-32-14.327-32-32h-32C112,195.346,140.654,224,176,224z \"/><path fill=\"' + i + '\" d=\"M256,256c-70.692,0-128,57.308-128,128h32c0-53.019,42.981-96,96-96s96,42.981,96,96h32C384,313.308,326.692,256,256,256 z\"/></svg>'\n},FamilyTree.icon.share = function (e, t, i, r, a) {\n    return null == r && (r = 0), null == a && (a = 0), `<svg width=\"${e}\" height=\"${t}\" x=\"${r}\" y=\"${a}\" viewBox=\"0 0 512 512\">\\n                <path fill=\"${i}\" d=\"M406,332c-29.641,0-55.761,14.581-72.167,36.755L191.99,296.124c2.355-8.027,4.01-16.346,4.01-25.124\\n                    c0-11.906-2.441-23.225-6.658-33.636l148.445-89.328C354.307,167.424,378.589,180,406,180c49.629,0,90-40.371,90-90\\n                    c0-49.629-40.371-90-90-90c-49.629,0-90,40.371-90,90c0,11.437,2.355,22.286,6.262,32.358l-148.887,89.59\\n                    C156.869,193.136,132.937,181,106,181c-49.629,0-90,40.371-90,90c0,49.629,40.371,90,90,90c30.13,0,56.691-15.009,73.035-37.806\\n                    l141.376,72.395C317.807,403.995,316,412.75,316,422c0,49.629,40.371,90,90,90c49.629,0,90-40.371,90-90\\n                    C496,372.371,455.629,332,406,332z\"/>\\n                </svg>`\n},FamilyTree.icon.user = function (e, t, i, r, a) {\n    return FamilyTree.isNEU(r) && (r = 0), FamilyTree.isNEU(a) && (a = 0), `<svg width=\"${e}\" height=\"${t}\" x=\"${r}\" y=\"${a}\" viewBox=\"0 0 24 24\">\\n                <path fill=\"${i}\" d=\"M12 11.796C14.7189 11.796 16.9231 9.60308 16.9231 6.89801C16.9231 4.19294 14.7189 2.00005 12 2.00005C9.28106 2.00005 7.07692 4.19294 7.07692 6.89801C7.07692 9.60308 9.28106 11.796 12 11.796Z\" fill=\"#030D45\"/>\\n                <path fill=\"${i}\" d=\"M14.5641 13.8369H9.4359C6.46154 13.8369 4 16.2859 4 19.245C4 19.9593 4.30769 20.5716 4.92308 20.8777C5.84615 21.3879 7.89744 22.0001 12 22.0001C16.1026 22.0001 18.1538 21.3879 19.0769 20.8777C19.5897 20.5716 20 19.9593 20 19.245C20 16.1838 17.5385 13.8369 14.5641 13.8369Z\" fill=\"#030D45\"/>\\n            </svg>`\n},FamilyTree.icon.close = function (e, t, i, r, a) {\n    return null == r && (r = 0), null == a && (a = 0), `<svg width=\"${e}\" height=\"${t}\" x=\"${r}\" y=\"${a}\" viewBox=\"0 0 512 512\">\\n    <path fill=\"${i}\" d=\"m256 0c-141.49 0-256 114.5-256 256 0 141.49 114.5 256 256 256 141.49 0 256-114.5 256-256 0-141.49-114.5-256-256-256zm-12.284 317.397-58.121 58.132c-6.565 6.553-15.283 10.166-24.557 10.166-19.196 0-34.734-15.526-34.734-34.734 0-9.274 3.612-17.992 10.166-24.557l58.132-58.121c6.785-6.784 6.785-17.783 0-24.568l-58.132-58.121c-6.553-6.565-10.166-15.283-10.166-24.557 0-19.196 15.526-34.734 34.734-34.734 9.274 0 17.992 3.613 24.557 10.166l58.121 58.132c6.785 6.773 17.784 6.773 24.568 0l58.121-58.132c6.565-6.553 15.283-10.166 24.557-10.166 19.196 0 34.734 15.526 34.734 34.734 0 9.274-3.612 17.992-10.166 24.557l-58.132 58.121c-6.785 6.784-6.785 17.783 0 24.568l58.132 58.121c6.553 6.565 10.166 15.283 10.166 24.557 0 19.196-15.526 34.734-34.734 34.734-9.274 0-17.992-3.613-24.557-10.166l-58.121-58.132c-6.784-6.784-17.784-6.773-24.568 0z\"/>\\n    </svg>`\n},FamilyTree.icon.undo = function (e, t, i, r, a) {\n    return null == r && (r = 0), null == a && (a = 0), `<svg width=\"${e}\" height=\"${t}\" x=\"${r}\" y=\"${a}\" viewBox=\"0 0 24 24\">\\n    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" fill=\"${i}\" d=\"M3.46447 3.46447C2 4.92893 2 7.28595 2 12C2 16.714 2 19.0711 3.46447 20.5355C4.92893 22 7.28595 22 12 22C16.714 22 19.0711 22 20.5355 20.5355C22 19.0711 22 16.7141 22 12C22 7.28598 22 4.92893 20.5355 3.46447C19.0711 2 16.714 2 12 2C7.28595 2 4.92893 2 3.46447 3.46447ZM9.25871 7.97395C9.56308 7.693 9.58205 7.21851 9.3011 6.91414C9.02015 6.60978 8.54565 6.5908 8.24129 6.87175L5.99129 8.94867C5.83748 9.09065 5.75 9.29045 5.75 9.49977C5.75 9.7091 5.83748 9.9089 5.99129 10.0509L8.24129 12.1278C8.54565 12.4088 9.02015 12.3898 9.3011 12.0854C9.58205 11.781 9.56308 11.3065 9.25871 11.0256L8.41824 10.2498H14.0385C14.7376 10.2498 15.2069 10.2506 15.5652 10.2862C15.9116 10.3205 16.0724 10.3813 16.1787 10.4501C16.3272 10.5461 16.4537 10.6726 16.5497 10.8211C16.6184 10.9274 16.6793 11.0882 16.7136 11.4345C16.7491 11.7929 16.75 12.2622 16.75 12.9613C16.75 13.6604 16.7491 14.1298 16.7136 14.4881C16.6793 14.8344 16.6185 14.9952 16.5497 15.1015C16.4537 15.2501 16.3272 15.3765 16.1787 15.4726C16.0724 15.5413 15.9116 15.6021 15.5652 15.6365C15.2069 15.672 14.7376 15.6729 14.0385 15.6729H9.5C9.08579 15.6729 8.75 16.0086 8.75 16.4229C8.75 16.8371 9.08579 17.1729 9.5 17.1729H14.0758C14.7279 17.1729 15.2721 17.1729 15.7133 17.1291C16.1748 17.0834 16.6038 16.9839 16.9931 16.7322C17.3199 16.5209 17.5981 16.2427 17.8094 15.916C18.0611 15.5266 18.1605 15.0976 18.2063 14.6361C18.25 14.195 18.25 13.6508 18.25 12.9987V12.924C18.25 12.2718 18.25 11.7276 18.2063 11.2865C18.1605 10.825 18.0611 10.396 17.8093 10.0067C17.5981 9.6799 17.3199 9.40169 16.9931 9.19042C16.6038 8.9387 16.1748 8.83927 15.7133 8.7935C15.2721 8.74975 14.7279 8.74976 14.0758 8.74977L8.41824 8.74977L9.25871 7.97395Z\" />\\n    <rect style=\"opacity: 0\" x=\"2\" y=\"2\" width=\"20\" height=\"20\"></rect>\\n    </svg>`\n},FamilyTree.icon.redo = function (e, t, i, r, a) {\n    return null == r && (r = 0), null == a && (a = 0), `<svg width=\"${e}\" height=\"${t}\" x=\"${r}\" y=\"${a}\" viewBox=\"0 0 24 24\" >\\n    <path fill=\"#f9f9f9\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" fill=\"${i}\" d=\"M3.46447 3.46447C2 4.92893 2 7.28595 2 12C2 16.714 2 19.0711 3.46447 20.5355C4.92893 22 7.28595 22 12 22C16.714 22 19.0711 22 20.5355 20.5355C22 19.0711 22 16.7141 22 12C22 7.28598 22 4.92893 20.5355 3.46447C19.0711 2 16.714 2 12 2C7.28595 2 4.92893 2 3.46447 3.46447ZM15.7587 6.87273C15.4543 6.59177 14.9799 6.61075 14.6989 6.91512C14.4179 7.21948 14.4369 7.69398 14.7413 7.97493L15.5818 8.75075H9.96155C7.63558 8.75075 5.75 10.6363 5.75 12.9623C5.75 15.2883 7.63557 17.1738 9.96154 17.1738H14.5C14.9142 17.1738 15.25 16.838 15.25 16.4238C15.25 16.0096 14.9142 15.6738 14.5 15.6738H9.96154C8.464 15.6738 7.25 14.4598 7.25 12.9623C7.25 11.4647 8.464 10.2508 9.96155 10.2508H15.5818L14.7413 11.0266C14.4369 11.3075 14.4179 11.782 14.6989 12.0864C14.9799 12.3908 15.4543 12.4097 15.7587 12.1288L18.0087 10.0519C18.1625 9.90987 18.25 9.71007 18.25 9.50075C18.25 9.29143 18.1625 9.09163 18.0087 8.94965L15.7587 6.87273Z\"/>\\n    <rect style=\"opacity: 0\" x=\"2\" y=\"2\" width=\"20\" height=\"20\"></rect>    \\n    </svg>`\n},FamilyTree.icon.ft = function (e, t, i, r, a) {\n    return `<svg width=\"${e}\" height=\"${t}\" x=\"${r}\" y=\"${a}\" viewBox=\"0 0 512 512\"  >\\n                <path fill=\"${i}\" d=\"m336.061 377.731c-5.086-6.54-14.511-7.717-21.049-2.631l-44.012 34.231v-200.331c0-8.284-6.716-15-15-15s-15 6.716-15 15v200.331l-44.011-34.231c-6.538-5.086-15.962-3.908-21.049 2.631-5.086 6.539-3.908 15.963 2.631 21.049l62.429 48.556v49.664c0 8.284 6.716 15 15 15s15-6.716 15-15v-49.664l62.429-48.556c6.54-5.086 7.717-14.51 2.632-21.049z\" />\\n                <path fill=\"${i}\" d=\"m271 497v-49.664l62.429-48.556c6.54-5.086 7.717-14.51 2.631-21.049-5.086-6.54-14.511-7.717-21.049-2.631l-44.011 34.231v-200.331c0-8.284-6.716-15-15-15v318c8.284 0 15-6.716 15-15z\" />\\n                <path fill=\"${i}\" d=\"m320 512h-128c-8.284 0-15-6.716-15-15s6.716-15 15-15h128c8.284 0 15 6.716 15 15s-6.716 15-15 15z\" />\\n                <path fill=\"${i}\" d=\"m320 482h-64v30h64c8.284 0 15-6.716 15-15s-6.716-15-15-15z\" />\\n                <path fill=\"${i}\" d=\"m400 439c-61.206 0-111-49.794-111-111s49.794-111 111-111 111 49.794 111 111-49.794 111-111 111z\" />\\n                <path fill=\"${i}\" d=\"m112 439c-61.206 0-111-49.794-111-111s49.794-111 111-111 111 49.794 111 111-49.794 111-111 111z\" />\\n                <path fill=\"${i}\" d=\"m256 222c-61.206 0-111-49.794-111-111s49.794-111 111-111 111 49.794 111 111-49.794 111-111 111z\" />\\n                <path fill=\"${i}\" d=\"m367 111c0-61.206-49.794-111-111-111v222c61.206 0 111-49.794 111-111z\" />\\n            </svg>`\n},FamilyTree.icon.addUser = function (e, t, i, r, a) {\n    return FamilyTree.isNEU(r) && (r = 0), FamilyTree.isNEU(a) && (a = 0), `<svg width=\"${e}\" height=\"${t}\" x=\"${r}\" y=\"${a}\" viewBox=\"0 0 512 512\" >\\n                <path fill=\"${i}\" d=\"M300.434,257.599c-25.945,27.304-60.622,43.875-98.602,43.875c-37.979,0-72.656-16.571-98.602-43.875 c-45.617,28.738-77.826,76.818-85.092,132.736c-1.659,12.77,8.291,24.107,21.201,24.107h225.846 c0-53.371,32.011-99.402,77.838-119.914C330.812,280.165,316.452,267.69,300.434,257.599z\"/>\\n                <ellipse fill=\"${i}\" cx=\"201.828\" cy=\"133.868\" rx=\"112.229\" ry=\"133.868\"/>\\n                <path fill=\"${i}\" d=\"M396.486,316.885c-53.794,0-97.558,43.764-97.558,97.558S342.693,512,396.486,512c53.792,0,97.557-43.764,97.557-97.558 S450.279,316.885,396.486,316.885z M435.199,431.315h-21.841v21.841c0,9.318-7.554,16.872-16.872,16.872 c-9.318,0-16.872-7.554-16.872-16.872v-21.841h-21.842c-9.318,0-16.872-7.554-16.872-16.872c0-9.319,7.554-16.872,16.872-16.872 h21.842v-21.841c0-9.318,7.554-16.872,16.872-16.872c9.318,0,16.872,7.554,16.872,16.872v21.841h21.841 c9.318,0,16.872,7.554,16.872,16.872C452.072,423.761,444.518,431.315,435.199,431.315z\"/>\\n            </svg>`\n},FamilyTree.icon.daughter = function (e, t, i, r, a) {\n    return FamilyTree.isNEU(r) && (r = 0), FamilyTree.isNEU(a) && (a = 0), `<svg width=\"${e}\" height=\"${t}\" x=\"${r}\" y=\"${a}\" viewBox=\"0 0 512.879 512.879\">\\n                <path fill=\"${i}\" d=\"M213.773,238.933c4.71,0,8.533-3.823,8.533-8.533v-5.615c0.546,0.529,0.922,0.964,0.964,1.024 c1.519,2.918,4.497,4.591,7.578,4.591c1.323,0,2.671-0.307,3.934-0.964c4.181-2.176,5.803-7.33,3.627-11.511 c-2.534-4.872-10.581-13.124-24.636-13.124c-14.054,0-22.101,8.252-24.636,13.124c-2.125,4.087-0.555,8.969,3.456,11.23 c4.011,2.287,9.156,0.811,11.563-3.123c0.077-0.128,0.495-0.623,1.084-1.195v5.564 C205.239,235.11,209.062,238.933,213.773,238.933z\"/>\\n                <path fill=\"${i}\" d=\"M256.439,332.8c20.028,0,30.507-9.907,31.633-11.034c3.294-3.294,3.285-8.568,0.043-11.913 c-3.234-3.354-8.61-3.439-12.015-0.247c-0.265,0.247-6.699,6.127-19.661,6.127c-12.774,0-19.209-5.709-19.652-6.118 c-3.336-3.251-8.678-3.217-11.981,0.085c-3.337,3.337-3.337,8.73,0,12.066C225.933,322.893,236.412,332.8,256.439,332.8z\"/>\\n                <path fill=\"${i}\" d=\"M365.666,293.547c-49.826-66.441-75.093-133.623-75.093-199.68c0-4.71-3.823-8.533-8.533-8.533s-8.533,3.823-8.533,8.533 c0,68.369,25.31,137.489,75.255,205.542c-12.228,21.623-50.483,76.058-92.322,76.058c-45.218,0-86.255-63.59-94.763-80.614 c-8.388-16.768-24.704-66.765-24.704-98.586v-25.754c20.378-0.572,73.404-3.405,121.813-17.246 c4.531-1.289,7.151-6.016,5.854-10.547c-1.289-4.531-6.008-7.159-10.547-5.854C196.254,153.387,129.114,153.6,128.439,153.6 c-4.71,0-8.533,3.823-8.533,8.533v34.133c0,34.935,17.254,87.723,26.496,106.214c0.452,0.905,46.797,90.052,110.037,90.052 s109.585-89.148,110.037-90.052C367.919,299.588,367.603,296.132,365.666,293.547z\"/>\\n                <path fill=\"${i}\" d=\"M316.173,392.533c-4.71,0-8.533,3.823-8.533,8.533v17.067c0,0.06,0.034,0.111,0.034,0.171 c0,0.051-0.034,0.094-0.034,0.154c-0.034,5.205-1.749,50.876-51.2,50.876s-51.166-45.986-51.2-51.2v-17.067 c0-4.71-3.823-8.533-8.533-8.533s-8.533,3.823-8.533,8.533v8.687c-116.028,1.638-168.917,35.9-178.765,65.417l-8.533,25.6 c-1.493,4.471,0.93,9.301,5.402,10.795C7.172,511.863,8.085,512,8.973,512c3.575,0,6.903-2.261,8.098-5.837l8.533-25.6 c6.076-18.227,48.034-52.335,163.132-53.845c3.106,24.422,19.721,59.682,67.704,59.682c53.999,0,68.267-44.425,68.267-67.917 c0-0.06-0.034-0.111-0.034-0.171c0-0.068,0.034-0.119,0.034-0.179v-17.067C324.706,396.356,320.883,392.533,316.173,392.533z\"/>\\n                <path fill=\"${i}\" d=\"M256.695,273.067h-0.085c-4.71,0-8.491,3.823-8.491,8.533c0,4.71,3.866,8.533,8.576,8.533 c4.719,0,8.533-3.823,8.533-8.533C265.229,276.89,261.414,273.067,256.695,273.067z\"/>\\n                <path fill=\"${i}\" d=\"M512.004,501.641l-8.533-25.591c-4.659-13.978-22.34-28.228-49.792-40.141c-4.318-1.877-9.352,0.102-11.23,4.429 c-1.869,4.318,0.111,9.353,4.437,11.221c26.266,11.401,38.178,23.219,40.388,29.884l8.533,25.6 c1.195,3.575,4.523,5.837,8.098,5.837c0.887,0,1.801-0.145,2.697-0.444C511.074,510.942,513.498,506.112,512.004,501.641z\"/>\\n                <path fill=\"${i}\" d=\"M256.439,0c-115.558,0-179.2,63.642-179.2,179.2V256c0,66.039-24.909,141.611-25.165,142.37 c-1.485,4.471,0.93,9.301,5.402,10.795c4.48,1.476,9.301-0.93,10.795-5.402c1.058-3.191,26.035-78.908,26.035-147.763v-76.8 c0-134.008,88.175-162.133,162.133-162.133c100.454,0,162.133,94.43,162.133,162.133v17.067 c0,34.458-21.111,74.163-41.532,112.572c-18.133,34.116-35.268,66.338-35.268,92.228c0,54.11,35.14,89.873,36.634,91.366 c1.596,1.604,3.772,2.5,6.033,2.5c2.261,0,4.437-0.896,6.033-2.5c1.493-1.493,36.634-37.257,36.634-91.366 c0-53.197-17.562-72.303-19.567-74.3c-3.285-3.285-8.559-3.285-11.904-0.051c-3.354,3.234-3.439,8.61-0.265,12.015 c0.145,0.154,14.669,16.256,14.669,62.336c0,33.937-16.444,60.16-25.617,72.149c-9.19-11.947-25.583-38.05-25.583-72.149 c0-21.632,16.162-52.036,33.271-84.215c21.402-40.252,43.529-81.869,43.529-120.585V179.2C435.639,94.438,362.04,0,256.439,0z\"/>\\n            </svg>`\n},FamilyTree.icon.son = function (e, t, i, r, a) {\n    return FamilyTree.isNEU(r) && (r = 0), FamilyTree.isNEU(a) && (a = 0), `<svg width=\"${e}\" height=\"${t}\" x=\"${r}\" y=\"${a}\"  viewBox=\"0 0 512.002 512.002\">\\n                <path fill=\"${i}\" d=\"M238.934,213.334c0-4.71-3.823-8.533-8.533-8.533h-34.133c-4.71,0-8.533,3.823-8.533,8.533 c0,4.71,3.823,8.533,8.533,8.533h8.533c0,4.71,3.823,8.533,8.533,8.533c4.71,0,8.533-3.823,8.533-8.533h8.533 C235.111,221.867,238.934,218.044,238.934,213.334z\"/>\\n                <path fill=\"${i}\" d=\"M121.601,255.19c4.565,13.466,17.178,49.98,24.371,64.358c13.551,27.11,51.977,72.986,110.029,72.986 s96.478-45.875,110.037-72.986c7.185-14.379,19.797-50.893,24.371-64.358c11.025-2.85,19.191-12.885,19.191-24.789v-34.133 c0-11.127-7.134-20.617-17.067-24.141v-44.126c0-33.69-17.741-95.923-83.354-101.931c-0.137-4.028-1.476-7.27-2.953-9.668 c-8.38-13.559-31.94-16.401-50.227-16.401c-151.842,0-153.6,143.616-153.6,145.067c0,4.71,3.814,8.525,8.525,8.525h0.009 c4.702,0,8.525-3.806,8.533-8.516c0.017-5.222,1.937-128.009,136.533-128.009c24.132,0,33.801,5.222,35.703,8.311 c0.282,0.435,0.998,1.604-0.666,4.941c-1.323,2.645-1.178,5.786,0.375,8.303c1.553,2.509,4.301,4.045,7.253,4.045 c75.656,0,76.791,81.86,76.8,85.333v51.2c0,4.71,3.823,8.533,8.533,8.533c4.702,0,8.533,3.831,8.533,8.533v34.133 c0,4.702-3.831,8.533-8.533,8.533c-3.669,0-6.929,2.347-8.098,5.837c-0.162,0.503-16.964,50.816-25.131,67.149 c-1.297,2.594-32.495,63.548-94.771,63.548s-93.466-60.954-94.763-63.548c-8.166-16.333-24.977-66.645-25.139-67.149 c-1.161-3.49-4.42-5.837-8.098-5.837c-4.702,0-8.533-3.831-8.533-8.533v-34.133c0-2.313,0.93-4.412,2.423-5.948 c3.396,7.62,10.607,14.481,23.177,14.481c3.234,0,6.187-1.826,7.637-4.719c7.535-15.061,15.283-30.575,17.399-46.652 c43.665-1.758,108.979-17.323,139.742-41.105c8.201,29.764,32.742,54.596,33.988,55.842c3.337,3.337,8.738,3.337,12.066,0 c3.337-3.336,3.337-8.73,0-12.066c-0.316-0.316-31.633-31.983-31.633-62.234c0-3.831-2.56-7.202-6.255-8.226 c-3.703-1.024-7.62,0.546-9.591,3.831c-14.549,24.243-94.746,47.061-146.287,47.061c-4.71,0-8.533,3.823-8.533,8.533 c0,13.295-6.127,27.102-13.286,41.6c-2.901-1.604-3.703-4.753-3.78-7.467c0-4.71-3.823-8.533-8.533-8.533 c-14.114,0-25.6,11.486-25.6,25.6v34.133C102.401,242.305,110.576,252.34,121.601,255.19z\"/>\\n                <path fill=\"${i}\" d=\"M256.001,332.801c20.028,0,30.507-9.907,31.633-11.034c3.294-3.294,3.285-8.567,0.051-11.913 c-3.243-3.354-8.619-3.439-12.023-0.247c-0.265,0.247-6.699,6.127-19.661,6.127c-12.774,0-19.209-5.709-19.652-6.118 c-3.336-3.251-8.678-3.217-11.981,0.085c-3.328,3.337-3.328,8.73,0,12.066C225.503,322.893,235.982,332.801,256.001,332.801z\"/>\\n                <path fill=\"${i}\" d=\"M264.79,281.601c0-4.71-3.814-8.533-8.533-8.533h-0.085c-4.71,0-8.491,3.823-8.491,8.533c0,4.71,3.866,8.533,8.576,8.533 C260.976,290.134,264.79,286.311,264.79,281.601z\"/>\\n                <path fill=\"${i}\" d=\"M511.745,501.394l-8.713-34.756c-4.386-13.158-30.285-55.484-178.765-56.636v-8.934c0-4.71-3.823-8.533-8.533-8.533 s-8.533,3.823-8.533,8.533v17.067c0,0.06,0.034,0.111,0.034,0.171c0,0.051-0.034,0.094-0.034,0.154 c-0.034,5.205-1.749,50.876-51.2,50.876s-51.166-45.986-51.2-51.2v-17.067c0-4.71-3.823-8.533-8.533-8.533 s-8.533,3.823-8.533,8.533v8.619C77.168,410.556,21.786,428.203,8.79,467.26l-8.533,34.133 c-1.143,4.574,1.638,9.207,6.212,10.351c4.557,1.143,9.199-1.638,10.342-6.204l8.354-33.51 c9.916-29.739,63.309-44.595,163.132-45.338c3.098,24.431,19.712,59.708,67.704,59.708c47.983,0,64.597-35.063,67.703-59.366 c116.958,0.862,157.628,28.467,162.953,44.373l8.533,34.133c0.973,3.874,4.446,6.46,8.269,6.46c0.691,0,1.382-0.077,2.082-0.256 C510.115,510.601,512.888,505.968,511.745,501.394z\"/>\\n                <path fill=\"${i}\" d=\"M298.668,230.401c4.71,0,8.533-3.823,8.533-8.533h8.533c4.71,0,8.533-3.823,8.533-8.533c0-4.71-3.823-8.533-8.533-8.533 h-34.133c-4.71,0-8.533,3.823-8.533,8.533c0,4.71,3.823,8.533,8.533,8.533h8.533 C290.134,226.578,293.957,230.401,298.668,230.401z\"/>\\n            </svg>`\n},FamilyTree.icon.wife = function (e, t, i, r, a) {\n    return FamilyTree.isNEU(r) && (r = 0), FamilyTree.isNEU(a) && (a = 0), `<svg width=\"${e}\" height=\"${t}\" x=\"${r}\" y=\"${a}\" viewBox=\"0 0 512 512\" >\\n                <path fill=\"${i}\" d=\"M128,307.2c4.719,0,8.533-3.823,8.533-8.533V281.6c0-4.71-3.814-8.533-8.533-8.533c-4.719,0-8.533,3.823-8.533,8.533 v17.067C119.467,303.377,123.281,307.2,128,307.2z\"/>\\n                <path fill=\"${i}\" d=\"M384,273.067c-4.719,0-8.533,3.823-8.533,8.533v17.067c0,4.71,3.814,8.533,8.533,8.533c4.719,0,8.533-3.823,8.533-8.533 V281.6C392.533,276.89,388.719,273.067,384,273.067z\"/>\\n                <path fill=\"${i}\" d=\"M392.183,433.109c-0.162-0.606-0.418-1.152-0.7-1.715c-0.162-0.299-0.196-0.64-0.384-0.93 c-0.094-0.128-0.23-0.196-0.324-0.324c-0.358-0.469-0.802-0.845-1.254-1.246c-0.418-0.375-0.819-0.742-1.306-1.016 c-0.145-0.094-0.23-0.23-0.392-0.316l-34.133-17.067c-2.748-1.357-6.008-1.161-8.55,0.538l-51.209,34.133 c-2.372,1.587-3.797,4.25-3.797,7.1v30.259c-5.077,4.062-17.545,12.407-34.133,12.407c-16.427,0-29.013-8.388-34.133-12.433 v-30.234c0-2.85-1.425-5.513-3.797-7.1l-51.2-34.133c-2.543-1.698-5.803-1.894-8.55-0.538l-34.133,17.067 c-0.154,0.077-0.239,0.213-0.375,0.299c-0.512,0.29-0.939,0.674-1.374,1.075c-0.435,0.384-0.853,0.734-1.186,1.178 c-0.102,0.137-0.256,0.213-0.35,0.35c-0.205,0.307-0.239,0.657-0.401,0.99c-0.265,0.529-0.521,1.05-0.674,1.63 c-0.137,0.529-0.179,1.05-0.205,1.596c-0.034,0.538-0.06,1.058,0.008,1.604c0.068,0.597,0.265,1.143,0.461,1.707 c0.119,0.341,0.111,0.7,0.273,1.024c0.077,0.154,0.222,0.247,0.307,0.393c0.282,0.495,0.666,0.913,1.058,1.348 c0.384,0.427,0.742,0.853,1.186,1.195c0.137,0.102,0.213,0.256,0.35,0.35l51.2,34.133c1.459,0.973,3.106,1.434,4.727,1.434 c2.756,0,5.47-1.331,7.108-3.797c2.62-3.925,1.562-9.225-2.364-11.836l-38.972-25.975l16.555-8.277l43.281,28.851V486.4 c0,2.261,0.896,4.437,2.5,6.033C208.102,493.235,227.2,512,256,512s47.898-18.765,48.7-19.567c1.604-1.596,2.5-3.772,2.5-6.033 v-29.568l43.29-28.851l16.546,8.277l-38.972,25.975c-3.925,2.611-4.983,7.91-2.364,11.836c1.638,2.466,4.352,3.797,7.108,3.797 c1.621,0,3.268-0.461,4.727-1.434l51.2-34.133c0.137-0.094,0.205-0.239,0.333-0.341c0.478-0.35,0.853-0.794,1.254-1.246 c0.358-0.427,0.725-0.811,0.998-1.289c0.085-0.154,0.239-0.247,0.324-0.41c0.171-0.35,0.171-0.725,0.29-1.084 c0.179-0.538,0.367-1.05,0.435-1.613c0.077-0.58,0.051-1.126,0.009-1.698C392.354,434.108,392.32,433.613,392.183,433.109z\"/>\\n                <path fill=\"${i}\" d=\"M57.037,409.165c0.896,0.29,1.809,0.435,2.697,0.435c3.575,0,6.903-2.261,8.09-5.837 C68.89,400.572,93.867,324.855,93.867,256v-76.8C93.867,45.193,182.033,17.067,256,17.067c25.199,0,77.636,0,85.649,11.128 c0.333,0.452,0.828,1.135,0.128,3.243c-0.956,2.842-0.341,5.965,1.604,8.235c1.946,2.278,4.932,3.362,7.885,2.876 c10.863-1.792,20.412,0.93,29.184,8.354c22.895,19.396,37.683,69.76,37.683,128.299V256c0,77.457,25.071,145.22,26.138,148.062 c1.656,4.412,6.571,6.639,10.991,5.001c4.412-1.655,6.647-6.571,5.001-10.991C460.006,397.406,435.2,330.257,435.2,256v-76.8 c0-50.415-11.486-114.014-43.716-141.321c-9.745-8.243-20.932-12.621-32.836-12.902c-0.683-2.773-1.903-5.035-3.149-6.767 C343.356,1.374,303.258,0,256,0C140.442,0,76.8,63.642,76.8,179.2V256c0,66.039-24.909,141.611-25.156,142.37 C50.15,402.842,52.565,407.672,57.037,409.165z\"/>\\n                <path fill=\"${i}\" d=\"M91.802,426.923C19.814,444.919,1.195,498.492,0.444,500.77c-1.493,4.471,0.922,9.301,5.393,10.795 C6.733,511.864,7.646,512,8.533,512c3.576,0,6.904-2.261,8.09-5.837c0.162-0.469,16.316-46.942,79.309-62.686 c4.574-1.143,7.356-5.777,6.212-10.351C101.001,428.561,96.367,425.771,91.802,426.923z\"/>\\n                <path fill=\"${i}\" d=\"M213.333,238.933c4.719,0,8.533-3.823,8.533-8.533v-5.615c0.546,0.529,0.922,0.964,0.964,1.024 c1.519,2.918,4.497,4.591,7.578,4.591c1.323,0,2.671-0.307,3.934-0.964c4.173-2.176,5.803-7.33,3.627-11.511 c-2.534-4.873-10.59-13.124-24.636-13.124c-14.046,0-22.101,8.252-24.636,13.124c-2.125,4.087-0.546,8.969,3.456,11.23 c3.985,2.261,9.148,0.819,11.554-3.123c0.085-0.128,0.503-0.623,1.092-1.195v5.564C204.8,235.11,208.614,238.933,213.333,238.933 z\"/>\\n                <path fill=\"${i}\" d=\"M511.556,500.77c-0.751-2.278-19.371-55.851-91.358-73.847c-4.574-1.161-9.199,1.638-10.342,6.204 c-1.143,4.574,1.638,9.207,6.212,10.351c62.524,15.633,78.66,60.809,79.309,62.686c1.186,3.576,4.514,5.837,8.09,5.837 c0.888,0,1.801-0.137,2.697-0.435C510.635,510.071,513.05,505.242,511.556,500.77z\"/>\\n                <path fill=\"${i}\" d=\"M256,332.8c20.028,0,30.507-9.907,31.633-11.034c3.294-3.294,3.285-8.567,0.051-11.913 c-3.251-3.345-8.61-3.439-12.015-0.247c-0.273,0.247-6.707,6.127-19.669,6.127c-12.774,0-19.208-5.709-19.652-6.118 c-3.32-3.251-8.67-3.226-11.981,0.085c-3.337,3.337-3.337,8.73,0,12.066C225.493,322.893,235.972,332.8,256,332.8z\"/>\\n                <path fill=\"${i}\" d=\"M298.667,238.933c4.719,0,8.533-3.823,8.533-8.533v-5.615c0.546,0.529,0.922,0.964,0.964,1.024 c1.519,2.918,4.497,4.591,7.578,4.591c1.323,0,2.671-0.307,3.934-0.964c4.173-2.176,5.803-7.33,3.627-11.511 c-2.534-4.873-10.59-13.124-24.636-13.124c-14.046,0-22.101,8.252-24.636,13.124c-2.125,4.087-0.546,8.969,3.456,11.23 c3.994,2.261,9.156,0.819,11.554-3.123c0.085-0.128,0.503-0.623,1.092-1.195v5.564 C290.133,235.11,293.948,238.933,298.667,238.933z\"/>\\n                <path fill=\"${i}\" d=\"M389.129,189.449c-8.542-6.443-30.729-26.957-30.729-44.382c0-4.71-3.814-8.533-8.533-8.533s-8.533,3.823-8.533,8.533 c0,24.678,24.354,47.249,34.014,55.228c-1.835,33.476-24.917,95.223-33.118,111.625c-7.654,15.317-48.154,63.548-86.229,63.548 s-78.575-48.23-86.229-63.548c-8.542-17.084-33.237-83.379-33.237-115.652v-25.728c33.835-0.802,157.321-6.929,218.453-52.779 c3.772-2.825,4.54-8.175,1.707-11.947c-2.825-3.772-8.175-4.54-11.947-1.707C279.561,152.994,129.51,153.6,128,153.6 c-4.719,0-8.533,3.823-8.533,8.533v34.133c0,36.625,26.871,106.965,35.029,123.281c10.385,20.77,55.834,72.986,101.504,72.986 s91.119-52.216,101.504-72.986c8.158-16.316,35.029-86.656,35.029-123.281C392.533,193.587,391.27,191.061,389.129,189.449z\"/>\\n            </svg>`\n},FamilyTree.icon.husband = function (e, t, i, r, a) {\n    return FamilyTree.isNEU(r) && (r = 0), FamilyTree.isNEU(a) && (a = 0), `<svg width=\"${e}\" height=\"${t}\" x=\"${r}\" y=\"${a}\" viewBox=\"0 0 512.007 512.007\" >\\n                <path fill=\"${i}\" d=\"M121.835,255.249c6.229,16.196,26.803,68.42,41.737,90.82l1.348,2.039c10.957,16.614,29.295,44.425,91.085,44.425 c61.79,0,80.128-27.81,91.085-44.425l1.348-2.039c14.933-22.4,35.507-74.624,41.737-90.82c11.145-2.773,19.43-12.86,19.43-24.849 v-34.133c0-11.127-7.134-20.617-17.067-24.141V128c0-33.69-17.741-95.923-83.362-101.931c-0.128-4.028-1.459-7.27-2.944-9.668 C297.844,2.85,274.292,0,256.005,0c-151.842,0-153.6,143.616-153.6,145.067c0,4.71,3.814,8.525,8.516,8.525h0.017 c4.702,0,8.516-3.806,8.533-8.508c0.017-5.231,1.937-128.017,136.533-128.017c24.132,0,33.801,5.222,35.712,8.311 c0.265,0.435,0.99,1.604-0.683,4.941c-1.323,2.645-1.178,5.786,0.375,8.303c1.562,2.509,4.301,4.045,7.262,4.045 c75.657,0,76.791,81.86,76.8,85.333v51.2c0,4.71,3.814,8.533,8.533,8.533c4.71,0,8.533,3.831,8.533,8.533V230.4 c0,4.702-3.823,8.533-8.533,8.533c-3.558,0-6.741,2.21-7.996,5.538c-0.247,0.674-25.446,67.644-41.771,92.126l-1.399,2.116 c-10.223,15.514-24.235,36.753-76.834,36.753c-52.599,0-66.611-21.239-76.834-36.753l-1.399-2.116 c-16.324-24.482-41.523-91.452-41.771-92.126c-1.254-3.328-4.437-5.538-7.996-5.538c-4.71,0-8.533-3.831-8.533-8.533v-34.133 c0-2.313,0.922-4.412,2.423-5.948c3.089,6.955,9.421,13.21,20.053,14.268l29.193,21.897c2.27,16.623,16.418,29.517,33.664,29.517 h17.067c18.825,0,34.133-15.309,34.133-34.133c0,18.825,15.309,34.133,34.133,34.133h17.067 c17.237,0,31.394-12.894,33.664-29.517l31.189-23.39c3.772-2.825,4.54-8.175,1.707-11.947c-2.825-3.772-8.175-4.548-11.947-1.707 l-21.751,16.316c-3.251-10.402-12.86-18.022-24.329-18.022h-34.133c-14.114,0-25.6,11.486-25.6,25.6 c0-14.114-11.486-25.6-25.6-25.6h-34.133c-11.469,0-21.077,7.62-24.328,18.022l-16.282-12.211 c6.716-16.23,12.8-40.235,14.524-57.088c26.897-0.478,104.713-3.763,139.332-25.37c7.851,30.31,33.058,55.817,34.321,57.08 c3.336,3.336,8.73,3.336,12.066,0c3.336-3.337,3.336-8.73,0-12.066c-0.316-0.316-31.633-31.983-31.633-62.234 c0-3.831-2.56-7.202-6.255-8.226c-3.661-1.016-7.629,0.546-9.591,3.831c-12.425,20.693-93.022,29.995-146.287,29.995 c-4.719,0-8.533,3.823-8.533,8.533c0,13.858-6.554,41.515-13.508,58.539c-2.722-1.638-3.49-4.693-3.558-7.339 c0-4.71-3.814-8.533-8.533-8.533c-14.114,0-25.6,11.486-25.6,25.6V230.4C102.405,242.389,110.691,252.476,121.835,255.249z M273.071,213.333c0-4.702,3.823-8.533,8.533-8.533h34.133c4.71,0,8.533,3.831,8.533,8.533v8.533 c0,9.412-7.654,17.067-17.067,17.067h-17.067c-9.412,0-17.067-7.654-17.067-17.067V213.333z M187.738,213.333 c0-4.702,3.823-8.533,8.533-8.533h34.133c4.71,0,8.533,3.831,8.533,8.533v8.533c0,9.412-7.654,17.067-17.067,17.067h-17.067 c-9.412,0-17.067-7.654-17.067-17.067V213.333z\"/>\\n                <path fill=\"${i}\" d=\"M298.663,307.226c0.009-4.702-3.797-8.533-8.499-8.559c-0.162,0-15.42-0.171-30.345-7.629 c-2.398-1.203-5.231-1.203-7.629,0c-14.925,7.458-30.182,7.629-30.319,7.629c-4.719,0-8.533,3.823-8.533,8.533 s3.814,8.533,8.533,8.533c0.725,0,16.853-0.094,34.133-7.646c17.28,7.552,33.408,7.646,34.133,7.646 C294.84,315.733,298.646,311.927,298.663,307.226z\"/>\\n                <path fill=\"${i}\" d=\"M247.471,324.267c-4.719,0-8.533,3.823-8.533,8.533c0,4.71,3.814,8.533,8.533,8.533h17.067 c4.719,0,8.533-3.823,8.533-8.533c0-4.71-3.814-8.533-8.533-8.533H247.471z\"/>\\n                <path fill=\"${i}\" d=\"M511.749,501.393l-8.721-34.756c-12.706-38.135-73.114-56.687-184.67-56.687c-0.879,0-1.758,0-2.645,0.009 c-4.053,0.009-7.544,2.867-8.337,6.852l-17.067,84.975c-0.93,4.625,2.065,9.122,6.682,10.052 c4.608,0.896,9.114-2.074,10.044-6.69l15.693-78.114c97.724,0.452,154.436,15.957,163.934,44.373l8.533,34.133 c0.973,3.874,4.446,6.468,8.269,6.46c0.683,0,1.382-0.077,2.074-0.256C510.11,510.601,512.892,505.976,511.749,501.393z\"/>\\n                <path fill=\"${i}\" d=\"M204.634,416.461c-0.794-3.994-4.292-6.861-8.363-6.861c-116.386,0-174.148,17.596-187.477,57.66l-8.533,34.133 c-1.152,4.582,1.638,9.207,6.212,10.351C7.164,511.923,7.864,512,8.547,512c3.823,0,7.296-2.586,8.269-6.46l8.346-33.51 c9.95-29.841,63.667-44.689,164.122-45.338l15.693,78.447c0.913,4.617,5.367,7.629,10.035,6.699 c4.617-0.93,7.62-5.427,6.69-10.044L204.634,416.461z\"/>\\n                <path fill=\"${i}\" d=\"M256.005,409.6c-14.114,0-25.6,11.486-25.6,25.6c0,11.11,7.159,20.489,17.067,24.021v44.245 c0,4.71,3.814,8.533,8.533,8.533c4.719,0,8.533-3.823,8.533-8.533V459.23c9.907-3.541,17.067-12.919,17.067-24.03 C281.605,421.086,270.119,409.6,256.005,409.6z M256.005,443.733c-4.71,0-8.533-3.831-8.533-8.533 c0-4.702,3.823-8.533,8.533-8.533c4.71,0,8.533,3.831,8.533,8.533C264.538,439.902,260.715,443.733,256.005,443.733z\"/>\\n            </svg>`\n},FamilyTree.icon.father = function (e, t, i, r, a) {\n    return FamilyTree.isNEU(r) && (r = 0), FamilyTree.isNEU(a) && (a = 0), `<svg width=\"${e}\" height=\"${t}\" x=\"${r}\" y=\"${a}\" viewBox=\"0 0 512.002 512.002\" >\\n                <path fill=\"${i}\" d=\"M366.934,128.001c0-4.71-3.814-8.533-8.533-8.533c-2.091,0-51.2-0.683-51.2-59.733c0-4.71-3.814-8.533-8.533-8.533 s-8.533,3.823-8.533,8.533c0,75.921,67.584,76.8,68.267,76.8C363.12,136.534,366.934,132.711,366.934,128.001z\"/>\\n                <path fill=\"${i}\" d=\"M256.001,196.268c0-14.114-11.486-25.6-25.6-25.6h-34.133c-11.46,0-21.069,7.62-24.329,18.022l-21.751-16.316 c-3.772-2.825-9.114-2.048-11.947,1.707c-2.825,3.772-2.065,9.122,1.707,11.947l31.189,23.39 c2.278,16.623,16.418,29.517,33.664,29.517h17.067c18.825,0,34.133-15.309,34.133-34.133c0,18.825,15.309,34.133,34.133,34.133 h17.067c17.237,0,31.394-12.894,33.664-29.517l31.189-23.39c3.772-2.825,4.54-8.175,1.707-11.947 c-2.825-3.772-8.175-4.548-11.947-1.707l-21.751,16.316c-3.251-10.402-12.86-18.022-24.329-18.022h-34.133 C267.487,170.668,256.001,182.153,256.001,196.268z M238.934,204.801c0,9.412-7.654,17.067-17.067,17.067h-17.067 c-9.412,0-17.067-7.654-17.067-17.067v-8.533c0-4.702,3.831-8.533,8.533-8.533h34.133c4.702,0,8.533,3.831,8.533,8.533V204.801z M324.268,196.268v8.533c0,9.412-7.654,17.067-17.067,17.067h-17.067c-9.412,0-17.067-7.654-17.067-17.067v-8.533 c0-4.702,3.823-8.533,8.533-8.533h34.133C320.445,187.734,324.268,191.566,324.268,196.268z\"/>\\n                <path fill=\"${i}\" d=\"M298.659,307.226c0.009-4.702-3.797-8.533-8.499-8.559c-0.162,0-15.42-0.171-30.345-7.629 c-2.398-1.203-5.231-1.203-7.629,0c-14.925,7.458-30.191,7.629-30.319,7.629c-4.71,0-8.533,3.823-8.533,8.533 s3.823,8.533,8.533,8.533c0.725,0,16.845-0.094,34.133-7.646c17.28,7.552,33.408,7.646,34.133,7.646 C294.836,315.734,298.642,311.928,298.659,307.226z\"/>\\n                <path fill=\"${i}\" d=\"M120.986,237.953c4.378,18.611,18.91,76.877,34.048,99.584c10.974,16.452,36.668,54.997,100.966,54.997 s89.993-38.545,100.966-54.997c15.138-22.707,29.67-80.973,34.048-99.584c10.718-3.055,18.586-12.937,18.586-24.619v-34.133 c0-11.127-7.134-20.617-17.067-24.141v-44.126c0-1.109-1.562-110.933-136.533-110.933c-151.842,0-153.6,126.72-153.6,128 c0,4.702,3.806,8.516,8.516,8.525h0.017c4.693,0,8.516-3.806,8.533-8.499c0.017-4.54,2.048-110.959,136.533-110.959 c117.581,0,119.441,90.061,119.467,93.867v51.2c0,4.71,3.814,8.533,8.533,8.533c4.71,0,8.533,3.831,8.533,8.533v34.133 c0,4.702-3.823,8.533-8.533,8.533c-4.002,0-7.458,2.782-8.337,6.682c-0.162,0.751-16.896,75.52-32.896,99.516 c-10.257,15.386-31.599,47.403-86.767,47.403s-76.51-32.017-86.767-47.403c-15.992-23.979-32.734-98.765-32.905-99.516 c-0.87-3.9-4.326-6.682-8.329-6.682c-4.702,0-8.533-3.831-8.533-8.533v-34.133c0-4.702,3.831-8.533,8.533-8.533 c1.323,0,2.637-0.307,3.814-0.896c2.978-1.493,72.986-37.333,72.986-110.037c0-4.71-3.823-8.533-8.533-8.533 s-8.533,3.823-8.533,8.533c0,56.678-52.523,88.636-62.08,93.978c-13.022,1.186-23.253,12.169-23.253,25.489v34.133 C102.401,225.016,110.269,234.898,120.986,237.953z\"/>\\n                <path fill=\"${i}\" d=\"M196.097,416.462c-0.794-3.994-4.292-6.861-8.363-6.861c-140.399,0-168.892,27.409-178.944,57.66l-8.533,34.133 c-1.143,4.582,1.638,9.207,6.204,10.351c0.7,0.179,1.391,0.256,2.082,0.256c3.823,0,7.296-2.586,8.269-6.46l8.354-33.51 c7.339-22.025,31.718-44.527,155.58-45.338l15.693,78.447c0.913,4.617,5.393,7.603,10.035,6.699 c4.625-0.93,7.62-5.427,6.69-10.044L196.097,416.462z\"/>\\n                <path fill=\"${i}\" d=\"M511.745,501.394l-8.721-34.756c-7.117-21.342-39.689-57.216-178.782-56.678c-4.062,0.009-7.544,2.867-8.337,6.852 l-17.067,84.975c-0.93,4.625,2.065,9.122,6.682,10.052c4.591,0.896,9.114-2.074,10.044-6.69l15.693-78.114 c103.714,0.674,148.412,23.484,155.401,44.373l8.533,34.133c0.973,3.874,4.446,6.468,8.269,6.46c0.683,0,1.382-0.077,2.074-0.256 C510.106,510.601,512.888,505.976,511.745,501.394z\"/>\\n                <path fill=\"${i}\" d=\"M256.257,426.668h-0.085c-4.71,0-8.491,3.823-8.491,8.533s3.866,8.533,8.576,8.533c4.71,0,8.533-3.823,8.533-8.533 S260.967,426.668,256.257,426.668z\"/>\\n                <path fill=\"${i}\" d=\"M256.257,494.934h-0.085c-4.71,0-8.491,3.823-8.491,8.533s3.866,8.533,8.576,8.533c4.71,0,8.533-3.823,8.533-8.533 S260.967,494.934,256.257,494.934z\"/>\\n                <path fill=\"${i}\" d=\"M247.468,324.268c-4.71,0-8.533,3.823-8.533,8.533c0,4.71,3.823,8.533,8.533,8.533h17.067 c4.719,0,8.533-3.823,8.533-8.533c0-4.71-3.814-8.533-8.533-8.533H247.468z\"/>\\n                <path fill=\"${i}\" d=\"M256.257,460.801h-0.085c-4.71,0-8.491,3.823-8.491,8.533c0,4.71,3.866,8.533,8.576,8.533 c4.71,0,8.533-3.823,8.533-8.533C264.79,464.624,260.967,460.801,256.257,460.801z\"/>\\n            </svg>`\n},FamilyTree.icon.mother = function (e, t, i, r, a) {\n    return FamilyTree.isNEU(r) && (r = 0), FamilyTree.isNEU(a) && (a = 0), `<svg width=\"${e}\" height=\"${t}\" x=\"${r}\" y=\"${a}\" viewBox=\"0 0 512.011 512.011\" >\\n                <path fill=\"${i}\" d=\"M299.355,445.356c-1.621,1.536-2.56,3.755-2.56,5.973c0,2.304,0.939,4.437,2.56,6.059 c1.536,1.621,3.755,2.475,5.973,2.475c2.304,0,4.523-0.853,6.059-2.475c1.621-1.536,2.475-3.755,2.475-6.059 c0-2.219-0.853-4.437-2.475-5.973C308.23,442.113,302.512,442.199,299.355,445.356z\"/>\\n                <path fill=\"${i}\" d=\"M276.23,458.668c-1.621,1.621-2.475,3.755-2.475,6.059c0,2.219,0.939,4.437,2.475,5.973 c1.621,1.621,3.84,2.56,6.059,2.56c2.219,0,4.437-0.939,5.973-2.56c1.621-1.536,2.56-3.755,2.56-5.973 c0-2.304-0.939-4.437-2.56-6.059C285.104,455.511,279.387,455.511,276.23,458.668z\"/>\\n                <path fill=\"${i}\" d=\"M392.539,196.268c0-2.68-1.263-5.205-3.405-6.818c-8.55-6.443-30.729-26.957-30.729-44.382 c0-4.71-3.823-8.533-8.533-8.533s-8.533,3.823-8.533,8.533c0,24.678,24.354,47.249,34.014,55.228 c-1.835,33.476-24.917,95.223-33.118,111.625c-7.654,15.317-48.154,63.548-86.229,63.548s-78.575-48.23-86.229-63.548 c-8.542-17.084-33.237-83.379-33.237-115.652V170.54c33.835-0.802,157.321-6.929,218.453-52.779 c3.772-2.825,4.531-8.175,1.707-11.947c-2.825-3.763-8.166-4.531-11.947-1.707c-65.186,48.887-215.236,49.493-216.747,49.493 c-4.71,0-8.533,3.823-8.533,8.533v34.133c0,36.625,26.871,106.965,35.029,123.281c10.394,20.77,55.834,72.986,101.504,72.986 s91.11-52.215,101.504-72.986C365.668,303.233,392.539,232.893,392.539,196.268z\"/>\\n                <path fill=\"${i}\" d=\"M249.947,463.276c-1.536,1.621-2.475,3.84-2.475,6.059c0,2.219,0.939,4.437,2.475,6.059 c1.621,1.536,3.84,2.475,6.059,2.475s4.437-0.939,6.059-2.475c1.536-1.621,2.475-3.84,2.475-6.059 c0-2.219-0.939-4.437-2.475-6.059C258.907,460.119,253.104,460.119,249.947,463.276z\"/>\\n                <path fill=\"${i}\" d=\"M34.139,230.401c0,18.85,6.75,36.659,19.098,50.688c-1.348,5.76-2.031,11.648-2.031,17.579 c0,42.342,34.458,76.8,76.8,76.8c6.494,0,12.954-0.819,19.191-2.432c4.565-1.178,7.305-5.828,6.127-10.394 c-1.178-4.565-5.828-7.305-10.394-6.127c-4.847,1.254-9.865,1.886-14.925,1.886c-32.939,0-59.733-26.795-59.733-59.733 c0-5.922,0.879-11.793,2.603-17.459c0.922-3.021,0.102-6.298-2.133-8.525c-11.307-11.298-17.536-26.308-17.536-42.283 c0-19.251,9.421-37.453,25.199-48.674c3.78-2.688,4.719-7.893,2.116-11.742c-6.707-9.89-10.249-21.461-10.249-33.451 c0-28.843,20.591-53.53,48.947-58.701c2.432-0.452,4.557-1.929,5.811-4.053c18.987-32.137,40.892-56.713,133.888-56.713 c71.714,0,128.947,23.484,142.413,58.436c0.888,2.304,2.731,4.105,5.052,4.949c23.535,8.559,39.356,31.095,39.356,56.081 c0,11.989-3.541,23.561-10.249,33.451c-2.603,3.849-1.664,9.054,2.116,11.742c15.778,11.221,25.199,29.423,25.199,48.674 c0,15.974-6.229,30.984-17.536,42.283c-2.236,2.227-3.055,5.504-2.133,8.525c1.724,5.666,2.603,11.537,2.603,17.459 c0,32.939-26.795,59.733-59.733,59.733c-5.018,0-10.001-0.623-14.814-1.852c-4.574-1.186-9.207,1.579-10.377,6.144 c-1.169,4.574,1.587,9.216,6.153,10.385c6.195,1.587,12.595,2.389,19.038,2.389c42.342,0,76.8-34.458,76.8-76.8 c0-5.931-0.683-11.819-2.031-17.579c12.348-14.029,19.098-31.838,19.098-50.688c0-22.11-9.643-43.128-26.138-57.643 c5.956-11.102,9.071-23.475,9.071-36.224c0-30.865-18.748-58.82-47.044-70.733C395.475,25.704,334.598,0.001,256.919,0.001 c-90.172,0-121.984,21.7-146.62,61.85c-34.475,8.115-59.093,38.921-59.093,74.684c0,12.749,3.115,25.122,9.071,36.224 C43.782,187.274,34.139,208.291,34.139,230.401z\"/>\\n                <path fill=\"${i}\" d=\"M316.507,424.876c-1.621,1.621-2.475,3.84-2.475,6.059c0,2.304,0.853,4.437,2.475,6.059 c1.621,1.536,3.755,2.475,5.973,2.475c2.304,0,4.437-0.939,6.059-2.475c1.621-1.621,2.475-3.755,2.475-6.059 c0-2.219-0.853-4.437-2.475-6.059C325.382,421.719,319.664,421.719,316.507,424.876z\"/>\\n                <path fill=\"${i}\" d=\"M223.664,458.668c-1.536,1.621-2.475,3.755-2.475,6.059c0,2.219,0.939,4.437,2.475,6.059 c1.621,1.536,3.84,2.475,6.059,2.475c2.304,0,4.437-0.939,6.059-2.475c1.621-1.621,2.475-3.84,2.475-6.059 c0-2.219-0.853-4.437-2.475-6.059C232.624,455.511,226.907,455.511,223.664,458.668z\"/>\\n                <path fill=\"${i}\" d=\"M337.67,411.905c1.621-1.621,2.475-3.755,2.475-6.059c0-2.219-0.853-4.437-2.475-6.059 c-3.157-3.157-8.875-3.072-12.032,0.085c-1.621,1.536-2.56,3.755-2.56,5.973c0,2.304,0.939,4.437,2.56,6.059 c1.536,1.621,3.755,2.475,5.973,2.475C333.915,414.38,336.048,413.527,337.67,411.905z\"/>\\n                <path fill=\"${i}\" d=\"M213.339,238.935c4.71,0,8.533-3.823,8.533-8.533v-5.615c0.546,0.529,0.922,0.964,0.964,1.024 c1.519,2.918,4.497,4.591,7.578,4.591c1.323,0,2.671-0.307,3.934-0.964c4.181-2.176,5.803-7.33,3.627-11.511 c-2.534-4.873-10.581-13.124-24.636-13.124c-14.054,0-22.101,8.252-24.636,13.124c-2.125,4.087-0.555,8.969,3.456,11.23 c4.011,2.287,9.156,0.811,11.563-3.123c0.077-0.128,0.495-0.623,1.084-1.195v5.564 C204.806,235.112,208.629,238.935,213.339,238.935z\"/>\\n                <path fill=\"${i}\" d=\"M256.006,332.801c20.028,0,30.507-9.907,31.633-11.034c3.294-3.294,3.285-8.567,0.043-11.913 c-3.234-3.345-8.61-3.439-12.015-0.247c-0.265,0.247-6.699,6.127-19.661,6.127c-12.774,0-19.208-5.709-19.652-6.118 c-3.336-3.251-8.678-3.217-11.981,0.085c-3.337,3.336-3.337,8.73,0,12.066C225.499,322.894,235.978,332.801,256.006,332.801z\"/>\\n                <path fill=\"${i}\" d=\"M298.672,238.935c4.71,0,8.533-3.823,8.533-8.533v-5.615c0.546,0.529,0.922,0.964,0.964,1.024 c1.519,2.918,4.497,4.591,7.578,4.591c1.323,0,2.671-0.307,3.934-0.964c4.181-2.176,5.803-7.33,3.627-11.511 c-2.534-4.873-10.581-13.124-24.636-13.124s-22.101,8.252-24.636,13.124c-2.125,4.087-0.555,8.969,3.456,11.23 c4.011,2.287,9.165,0.811,11.563-3.123c0.077-0.128,0.495-0.623,1.084-1.195v5.564 C290.139,235.112,293.962,238.935,298.672,238.935z\"/>\\n                <path fill=\"${i}\" d=\"M511.571,500.771l-8.533-25.6c-8.883-26.658-62.464-65.212-136.098-65.212c-3.482,0-6.613,2.116-7.919,5.333 c-0.316,0.802-33.015,79.642-103.014,79.642c-69.99,0-102.69-79.181-103.014-79.983c-1.306-3.226-4.437-5.35-7.919-5.35 c-106.001,0-130.97,50.185-136.098,65.57l-8.533,25.6c-1.493,4.471,0.93,9.301,5.402,10.795c4.48,1.502,9.301-0.93,10.795-5.402 l8.533-25.6c8.465-25.412,42.974-52.514,114.381-53.845c9.293,19.703,45.577,85.282,116.454,85.282 c70.827,0,107.102-65.229,116.437-84.898c64.051,1.835,108.339,35.294,114.398,53.461l8.533,25.6 c1.195,3.576,4.523,5.837,8.098,5.837c0.887,0,1.801-0.137,2.697-0.435C510.64,510.073,513.064,505.243,511.571,500.771z\"/>\\n                <path fill=\"${i}\" d=\"M375.472,281.601v17.067c0,4.71,3.823,8.533,8.533,8.533c4.71,0,8.533-3.823,8.533-8.533v-17.067 c0-4.71-3.823-8.533-8.533-8.533C379.295,273.068,375.472,276.891,375.472,281.601z\"/>\\n                <path fill=\"${i}\" d=\"M188.934,405.847c0-2.219-0.939-4.437-2.56-5.973c-3.157-3.243-8.875-3.243-12.032,0 c-1.621,1.536-2.475,3.755-2.475,5.973c0,2.304,0.853,4.437,2.475,6.059s3.755,2.475,6.059,2.475 c2.219,0,4.437-0.853,5.973-2.475C187.995,410.284,188.934,408.151,188.934,405.847z\"/>\\n                <path fill=\"${i}\" d=\"M189.531,439.468c2.219,0,4.437-0.939,5.973-2.475c1.621-1.621,2.475-3.755,2.475-6.059c0-2.219-0.853-4.437-2.475-6.059 c-3.157-3.157-8.875-3.157-12.032,0c-1.621,1.621-2.475,3.84-2.475,6.059c0,2.304,0.853,4.437,2.475,6.059 C185.008,438.529,187.227,439.468,189.531,439.468z\"/>\\n                <path fill=\"${i}\" d=\"M200.624,445.356c-1.621,1.621-2.56,3.755-2.56,6.059c0,2.219,0.939,4.437,2.56,5.973c1.621,1.621,3.755,2.56,6.059,2.56 c2.219,0,4.437-0.939,5.973-2.56c1.621-1.536,2.475-3.755,2.475-5.973c0-2.304-0.853-4.523-2.475-6.059 C209.499,442.199,203.782,442.199,200.624,445.356z\"/>\\n                <path fill=\"${i}\" d=\"M119.472,281.601v17.067c0,4.71,3.823,8.533,8.533,8.533s8.533-3.823,8.533-8.533v-17.067 c0-4.71-3.823-8.533-8.533-8.533S119.472,276.891,119.472,281.601z\"/>\\n            </svg>`\n},FamilyTree.icon.teddy = function (e, t, i, r, a) {\n    return FamilyTree.isNEU(r) && (r = 0), FamilyTree.isNEU(a) && (a = 0), `<svg width=\"${e}\" height=\"${t}\" x=\"${r}\" y=\"${a}\" viewBox=\"0 0 512 512\">\\n                <path fill=\"${i}\" d=\"M234.513,246.613c9.378-1.929,16.555-9.02,21.487-15.863c4.932,6.844,12.109,13.935,21.487,15.863 c1.459,0.299,3.089,0.486,4.873,0.486c6.118,0,13.978-2.304,22.34-10.667c3.337-3.337,3.337-8.73,0-12.066s-8.73-3.337-12.066,0 c-4.361,4.369-8.337,6.212-11.699,5.53c-6.912-1.408-13.611-12.203-16.401-18.364c9.523-3.866,17.067-13.577,17.067-23.799 c0-9.353-9.566-14.933-25.6-14.933c-16.026,0-25.6,5.581-25.6,14.933c0,10.223,7.535,19.934,17.067,23.799 c-2.807,6.178-9.498,16.956-16.401,18.364c-3.405,0.666-7.339-1.178-11.699-5.53c-3.336-3.337-8.73-3.337-12.066,0 s-3.337,8.73,0,12.066C218.104,247.236,228.062,247.91,234.513,246.613z M263.748,190.669c-1.502,2.944-4.873,5.598-7.748,5.598\\ts-6.246-2.654-7.748-5.598C251.793,189.833,260.207,189.833,263.748,190.669z\"/>\\n                <path fill=\"${i}\" d=\"M390.033,53.7c1.621,1.613,2.5,3.755,2.5,6.033s-0.879,4.42-2.5,6.025c-3.337,3.337-3.337,8.738,0,12.075 c1.664,1.664,3.849,2.5,6.033,2.5s4.369-0.836,6.033-2.492c4.838-4.838,7.501-11.273,7.501-18.108s-2.662-13.269-7.501-18.099 c-9.984-9.984-26.214-9.984-36.198,0c-3.337,3.328-3.337,8.73,0,12.066s8.73,3.337,12.066,0 C381.303,50.372,386.697,50.372,390.033,53.7z\"/>\\n                <path fill=\"${i}\" d=\"M311.467,136.533c7.057,0,12.8-5.743,12.8-12.8c0-7.057-5.743-12.8-12.8-12.8s-12.8,5.743-12.8,12.8 C298.667,130.79,304.41,136.533,311.467,136.533z\"/>\\n                <path fill=\"${i}\" d=\"M200.533,136.533c7.057,0,12.8-5.743,12.8-12.8c0-7.057-5.743-12.8-12.8-12.8s-12.8,5.743-12.8,12.8 C187.733,130.79,193.476,136.533,200.533,136.533z\"/>\\n                <path fill=\"${i}\" d=\"M115.934,80.333c2.185,0,4.369-0.836,6.042-2.5c3.328-3.337,3.328-8.738-0.009-12.075c-1.613-1.604-2.5-3.746-2.5-6.025 s0.887-4.42,2.509-6.033c3.209-3.226,8.841-3.226,12.058,0c3.328,3.337,8.738,3.328,12.066,0 c3.337-3.328,3.337-8.738,0.009-12.066c-9.677-9.677-26.539-9.668-36.207-0.009c-4.838,4.838-7.501,11.273-7.501,18.108 s2.662,13.269,7.501,18.108C111.565,79.497,113.749,80.333,115.934,80.333z\"/>\\n                <path fill=\"${i}\" d=\"M498.552,286.191c-28.262-23.945-91.742-14.2-98.884-13.005c-4.651,0.768-7.791,5.171-7.014,9.813 c0.777,4.651,5.171,7.799,9.813,7.014c17.246-2.867,66.133-6.827,85.052,9.199c5.06,4.284,7.415,9.54,7.415,16.521 c0,3.977-1.476,6.946-4.779,9.626c-24.098,19.567-114.33,5.982-147.063-0.913c-3.703-0.776-7.441,0.981-9.242,4.275 c-1.801,3.311-1.212,7.424,1.434,10.095c0.12,0.119,8.499,8.755,12.493,19.951c-2.125-0.222-4.267-0.367-6.443-0.367 c-37.641,0-68.267,34.458-68.267,76.8c0,7.629,1.024,14.993,2.884,21.956c-3.823,1.715-10.197,3.644-19.951,3.644 c-10.052,0-16.367-2.082-19.908-3.814c1.826-6.912,2.842-14.217,2.842-21.786c0-42.342-30.626-76.8-68.267-76.8 c-2.176,0-4.318,0.145-6.443,0.367c3.994-11.196,12.373-19.831,12.476-19.934c2.671-2.671,3.268-6.775,1.468-10.095 c-1.792-3.319-5.521-5.069-9.259-4.292c-32.725,6.895-122.974,20.48-147.063,0.913c-3.302-2.68-4.779-5.649-4.779-9.626 c0-6.98,2.355-12.228,7.407-16.512c18.867-15.991,67.806-12.066,85.06-9.208c4.651,0.794,9.045-2.364,9.813-7.014 c0.776-4.651-2.364-9.045-7.006-9.813c-7.151-1.195-70.613-10.957-98.884,13.005C4.651,293.649,0,303.863,0,315.733 c0,9.079,3.831,16.998,11.093,22.886c27.179,22.05,102.818,12.783,140.535,6.426c-2.825,5.47-5.188,11.896-6.11,18.825 c-25.216,11.29-43.119,38.98-43.119,71.33c0,42.342,30.626,76.8,68.267,76.8c25.446,0,47.642-15.778,59.383-39.057 c5.743,2.56,14.174,4.924,25.95,4.924c11.674,0,20.164-2.287,26.035-4.77C293.794,496.29,315.938,512,341.333,512 c37.641,0,68.267-34.458,68.267-76.8c0-32.35-17.903-60.041-43.119-71.33c-0.922-6.929-3.277-13.355-6.101-18.825 c37.717,6.357,113.365,15.633,140.527-6.426c7.262-5.888,11.093-13.807,11.093-22.886 C512,303.863,507.349,293.649,498.552,286.191z M170.667,494.933c-28.237,0-51.2-26.795-51.2-59.733s22.963-59.733,51.2-59.733 s51.2,26.795,51.2,59.733S198.904,494.933,170.667,494.933z M392.533,435.2c0,32.939-22.963,59.733-51.2,59.733 c-20.983,0-39.04-14.814-46.942-35.942c-0.145-0.614-0.324-1.186-0.606-1.766c-2.338-6.818-3.652-14.242-3.652-22.025 c0-32.939,22.963-59.733,51.2-59.733C369.57,375.467,392.533,402.261,392.533,435.2z\"/>\\n                <path fill=\"${i}\" d=\"M307.2,443.733c0,18.825,15.309,34.133,34.133,34.133c18.825,0,34.133-15.309,34.133-34.133 c0-18.825-15.309-34.133-34.133-34.133C322.509,409.6,307.2,424.909,307.2,443.733z M358.4,443.733 c0,9.412-7.654,17.067-17.067,17.067c-9.404,0-17.067-7.654-17.067-17.067c0-9.412,7.663-17.067,17.067-17.067 C350.746,426.667,358.4,434.321,358.4,443.733z\"/>\\n                <path fill=\"${i}\" d=\"M115.541,118.161c-8.619,21.709-13.141,45.525-13.141,69.572c0,67.849,52.762,136.533,153.6,136.533 s153.6-68.685,153.6-136.533c0-24.491-4.412-47.846-13.107-69.581c26.957-5.76,47.24-29.764,47.24-58.419 C443.733,26.795,416.93,0,384,0c-24.67,0-46.14,14.916-55.108,36.745C307.115,23.859,282.368,17.067,256,17.067 c-26.615,0-51.2,6.716-73.259,19.925C174.08,14.754,153.088,0,128,0C95.061,0,68.267,26.795,68.267,59.733 C68.267,88.397,88.559,112.41,115.541,118.161z M128,17.067c19.226,0,35.021,12.177,40.115,30.054 c-11.085,8.61-21.163,18.816-29.901,30.592c-2.807,3.789-2.014,9.131,1.775,11.938c3.789,2.816,9.139,2.022,11.938-1.766 c8.9-12.006,19.26-22.281,30.788-30.507C204.288,41.95,228.949,34.133,256,34.133c41.429,0,78.396,19.098,104.098,53.786 c1.681,2.253,4.25,3.447,6.869,3.447c1.766,0,3.55-0.546,5.077-1.681c3.78-2.799,4.574-8.149,1.775-11.938 c-8.969-12.092-19.157-22.485-30.345-31.104c5.427-17.374,21.632-29.577,40.525-29.577c23.526,0,42.667,19.14,42.667,42.667 S407.526,102.4,384,102.4c-2.935,0-5.658,1.502-7.228,3.985c-1.553,2.483-1.732,5.589-0.461,8.243 c10.761,22.443,16.222,47.044,16.222,73.105C392.533,247.1,345.634,307.2,256,307.2s-136.533-60.1-136.533-119.467 c0-25.617,5.615-50.901,16.23-73.122c1.263-2.637,1.084-5.751-0.478-8.226c-1.562-2.483-4.292-3.985-7.219-3.985 c-23.526,0-42.667-19.14-42.667-42.667S104.474,17.067,128,17.067z\"/>\\n                <path fill=\"${i}\" d=\"M256,290.133c47.053,0,85.333-30.626,85.333-68.267c0-36.258-36.489-76.8-85.333-76.8s-85.333,40.542-85.333,76.8 C170.667,259.507,208.947,290.133,256,290.133z M256,162.133c38.451,0,68.267,32.111,68.267,59.733 c0,28.237-30.626,51.2-68.267,51.2c-37.641,0-68.267-22.963-68.267-51.2C187.733,194.244,217.557,162.133,256,162.133z\"/>\\n                <path fill=\"${i}\" d=\"M170.667,409.6c-18.825,0-34.133,15.309-34.133,34.133c0,18.825,15.309,34.133,34.133,34.133 s34.133-15.309,34.133-34.133C204.8,424.909,189.491,409.6,170.667,409.6z M170.667,460.8c-9.412,0-17.067-7.654-17.067-17.067 c0-9.412,7.654-17.067,17.067-17.067c9.412,0,17.067,7.654,17.067,17.067C187.733,453.146,180.079,460.8,170.667,460.8z\"/>\\n            </svg>`\n},FamilyTree.prototype.exportPDFProfile = function (e, t) {\n    e = this._defaultExportProfileOptions(e, \"pdf\"), this._exportProfile(e, t)\n},FamilyTree.prototype.exportPDFPreview = function (e) {\n    FamilyTree.pdfPrevUI.show(this, e)\n},FamilyTree.prototype.exportPNGProfile = function (e, t) {\n    e = this._defaultExportProfileOptions(e, \"png\"), this._exportProfile(e, t)\n},FamilyTree.prototype.shareProfile = function (e) {\n    var t;\n    \"object\" == typeof e ? e = (t = e).focusId : t = this.editUI.content(e, !0, !0, \"100%\", !0);\n    var i = new URL(window.location.href);\n    i.searchParams.append(\"nodeId\", e);\n    var r = {title: t.title, text: t.shareText, url: i.href};\n    try {\n        navigator.share(r)\n    } catch (e) {\n        console.error(\"error: \" + e)\n    }\n},FamilyTree.prototype.exportPDF = function (e, t) {\n    e = this._defaultExportOptions(e, \"pdf\"), this._export(e, t)\n},FamilyTree.prototype.exportPNG = function (e, t) {\n    e = this._defaultExportOptions(e, \"png\"), this._export(e, t)\n},FamilyTree.prototype.exportSVG = function (e, t) {\n    e = this._defaultExportOptions(e, \"svg\"), this._export(e, t)\n},FamilyTree.prototype._defaultExportOptions = function (e, t) {\n    return null == e && (e = {}), \"svg\" == t ? (e.ext = \"svg\", e.mime = \"image/svg+xml\") : \"pdf\" == t ? (e.mime = \"application/pdf\", e.ext = \"pdf\") : \"png\" == t && (e.mime = \"image/png\", e.ext = \"png\"), null == e.margin && (e.margin = [50, 40, 50, 40]), null == e.padding && (e.padding = 0), null == e.landscape && (e.landscape = !1), null == e.filename && (e.filename = \"FamilyTree.\" + e.ext), null == e.scale && (e.scale = \"fit\"), null == e.format && (e.format = \"fit\"), null == e.header && (e.header = \"\"), \"pdf\" == t && null == e.footer ? e.footer = \"Page {current-page} of {total-pages}\" : null == e.footer && (e.footer = \"\"), null == e.openInNewTab && (e.openInNewTab = !1), null == e.mode && (e.mode = \"bft-\" + this.config.mode), e\n},FamilyTree.prototype._export = function (e, t) {\n    var i = this, r = {id: e.nodeId, expandChildren: e.expandChildren, min: e.min};\n    e.margin && e.margin[0] < 2 && (e.margin[0] = 2), e.margin && e.margin[1] < 2 && (e.margin[1] = 2), e.margin && e.margin[2] < 2 && (e.margin[2] = 2), e.margin && e.margin[3] < 2 && (e.margin[3] = 2), this._draw(!1, FamilyTree.action.exporting, r, (function (r) {\n        var a = document.createElement(\"div\");\n        if (a.innerHTML = r, e.padding > 0) {\n            var n = a.querySelector(\"svg\"), o = FamilyTree._getViewBox(n);\n            o[0] -= e.padding, o[1] -= e.padding, o[2] += 2 * e.padding, o[3] += 2 * e.padding, n.setAttribute(\"viewBox\", o.join()), n.setAttribute(\"width\", o[2]), n.setAttribute(\"height\", o[3])\n        }\n        if (\"svg\" == e.ext) if (t) t(e, a.innerHTML); else {\n            (n = a.querySelector(\"svg\")).classList.add(\"bft-\" + i.config.mode);\n            var l = {content: a.innerHTML, options: e, styles: \"\"},\n                s = FamilyTree.events.publish(\"exportstart\", [i, l]), d = i.element.querySelector(\"[data-bft-styles]\");\n            if (d && (l.styles += d.outerHTML), l.styles && (a.childNodes[0].insertAdjacentHTML(\"afterbegin\", l.styles), l.content = a.innerHTML), !1 === s) return !1;\n            if (!1 === (s = FamilyTree.events.publish(\"exportend\", [i, l]))) return !1;\n            FamilyTree._downloadFile(e.mime, l.content, l.options.filename, l.options.openInNewTab, l.options.ext)\n        } else i._pages(e, a.querySelector(\"svg\"), (function (r) {\n            var n = {content: a.innerHTML, options: e, pages: r, styles: \"\"},\n                o = FamilyTree.events.publish(\"exportstart\", [i, n]), l = i.element.querySelector(\"[data-bft-styles]\");\n            if (l && (n.styles += l.outerHTML), !1 === o) return !1;\n            t || FamilyTree.loading.show(i), t ? t(i, n, a.querySelector(\"svg\")) : (n = JSON.stringify(n), FamilyTree._ajax(i.config.exportUrl + \"/v3\", \"POST\", n, \"arraybuffer\", (function (t) {\n                var r = FamilyTree.events.publish(\"exportend\", [i, t]);\n                if (FamilyTree.loading.hide(i), !1 === r) return !1;\n                FamilyTree._downloadFile(e.mime, t, e.filename, e.openInNewTab, e.ext)\n            })))\n        }))\n    }))\n},FamilyTree.prototype.exportCSV = function (e) {\n    var t = FamilyTree._defaultExportProfileOptionsForCSV_SVG_JSON(e, \"csv\"), i = this.getNode(t.nodeId), r = null;\n    i ? (r = [], FamilyTree._exportIterateForJSON_XML_CSV(this, i, t, r)) : !1 === t.min || !1 === t.expandChildren ? FamilyTree._exportIterateForJSON_XML_CSV(this, this.roots, t, r) : r = JSON.parse(JSON.stringify(this.config.nodes));\n    var a = {ext: \"csv\", filename: e, options: t, nodes: r};\n    if (!1 === FamilyTree.events.publish(\"exportstart\", [this, a])) return !1;\n    var n = FamilyTree._json2csv(a.nodes),\n        o = {ext: a.ext, filename: a.filename, options: t, nodes: a.nodes, content: n};\n    if (!1 === FamilyTree.events.publish(\"exportend\", [this, o])) return !1;\n    FamilyTree._downloadFile(\"text/csv;charset=utf-8;\", \"\\ufeff\" + o.content, o.options.filename, o.options.openInNewTab, o.ext)\n},FamilyTree.prototype.exportXML = function (e) {\n    var t = FamilyTree._defaultExportProfileOptionsForCSV_SVG_JSON(e, \"xml\"), i = this.getNode(t.nodeId), r = null;\n    i ? (r = [], FamilyTree._exportIterateForJSON_XML_CSV(this, i, t, r)) : !1 === t.min || !1 === t.expandChildren ? FamilyTree._exportIterateForJSON_XML_CSV(this, this.roots, t, r) : r = JSON.parse(JSON.stringify(this.config.nodes));\n    var a = {ext: \"xml\", filename: e, options: t, nodes: r};\n    if (!1 === FamilyTree.events.publish(\"exportstart\", [this, a])) return !1;\n    var n = FamilyTree._json2xml(a.nodes),\n        o = {ext: a.ext, filename: a.filename, options: t, nodes: a.nodes, content: n};\n    if (!1 === FamilyTree.events.publish(\"exportend\", [this, o])) return !1;\n    FamilyTree._downloadFile(\"application/xml\", o.content, o.options.filename, o.options.openInNewTab, o.ext)\n},FamilyTree.prototype.exportJSON = function (e) {\n    var t = FamilyTree._defaultExportProfileOptionsForCSV_SVG_JSON(e, \"json\"), i = this.getNode(t.nodeId), r = null;\n    i ? (r = [], FamilyTree._exportIterateForJSON_XML_CSV(this, i, t, r)) : !1 === t.min || !1 === t.expandChildren ? FamilyTree._exportIterateForJSON_XML_CSV(this, this.roots, t, r) : r = JSON.parse(JSON.stringify(this.config.nodes));\n    var a = {ext: \"json\", filename: t.filename, options: t, nodes: r};\n    if (!1 === FamilyTree.events.publish(\"exportstart\", [this, a])) return !1;\n    var n = {ext: a.ext, filename: a.filename, options: t, nodes: a.nodes, content: JSON.stringify(a.nodes)};\n    if (!1 === FamilyTree.events.publish(\"exportend\", [this, n])) return !1;\n    FamilyTree._downloadFile(\"application/json\", n.content, n.options.filename, n.options.openInNewTab, n.ext)\n},FamilyTree._exportIterateForJSON_XML_CSV = function (e, t, i, r) {\n    if (Array.isArray(t)) for (var a = 0; a < t.length; a++) FamilyTree._exportIterateForJSON_XML_CSV(e, t[a], i, r); else {\n        var n = e.get(t.id);\n        if (r.push(n), i.min) for (a = 0; a < t.stChildrenIds.length; a++) FamilyTree._exportIterateForJSON_XML_CSV(e, e.getNode(t.stChildrenIds[a]), i, r); else for (a = 0; a < t.stChildren.length; a++) FamilyTree._exportIterateForJSON_XML_CSV(e, t.stChildren[a], i, r);\n        if (i.expandChildren) for (a = 0; a < t.childrenIds.length; a++) FamilyTree._exportIterateForJSON_XML_CSV(e, e.getNode(t.childrenIds[a]), i, r); else for (a = 0; a < t.children.length; a++) FamilyTree._exportIterateForJSON_XML_CSV(e, t.children[a], i, r)\n    }\n},FamilyTree.prototype._pages = function (e, t, i) {\n    \"A5\" == e.format && \"fit\" != e.scale || \"A4\" == e.format && \"fit\" != e.scale || \"A3\" == e.format && \"fit\" != e.scale || \"A2\" == e.format && \"fit\" != e.scale || \"A1\" == e.format && \"fit\" != e.scale || \"Letter\" == e.format && \"fit\" != e.scale || \"Legal\" == e.format && \"fit\" != e.scale ? i(this._pagesA100(e, t, e.scale)) : \"A5\" == e.format && \"fit\" == e.scale || \"A4\" == e.format && \"fit\" == e.scale || \"A3\" == e.format && \"fit\" == e.scale || \"A2\" == e.format && \"fit\" == e.scale || \"A1\" == e.format && \"fit\" == e.scale || \"Letter\" == e.format && \"fit\" == e.scale || \"Legal\" == e.format && \"fit\" == e.scale ? i(this._pagesAfit(e, t)) : \"fit\" == e.format && i(this._pagesFit(e, t))\n},FamilyTree.prototype._pagesFit = function (e, t) {\n    var i = t.getAttribute(\"width\"), r = t.getAttribute(\"height\"), a = FamilyTree._getViewBox(t),\n        n = {w: parseFloat(i), h: parseFloat(r)};\n    return [{vb: a, size: {w: n.w + (e.margin[1] + e.margin[3]), h: n.h + (e.margin[0] + e.margin[2])}, innerSize: n}]\n},FamilyTree.prototype._pagesAfit = function (e, t) {\n    var i = t.getAttribute(\"width\"), r = 0, a = 0;\n    switch (e.format) {\n        case\"A5\":\n            r = FamilyTree.A5w, a = FamilyTree.A5h;\n            break;\n        case\"A4\":\n            r = FamilyTree.A4w, a = FamilyTree.A4h;\n            break;\n        case\"A3\":\n            r = FamilyTree.A3w, a = FamilyTree.A3h;\n            break;\n        case\"A2\":\n            r = FamilyTree.A2w, a = FamilyTree.A2h;\n            break;\n        case\"A1\":\n            r = FamilyTree.A1w, a = FamilyTree.A1h;\n            break;\n        case\"Letter\":\n            r = FamilyTree.Letterw, a = FamilyTree.Letterh;\n            break;\n        case\"Legal\":\n            r = FamilyTree.Legalw, a = FamilyTree.Legalh\n    }\n    var n = e.landscape ? a - (e.margin[1] + e.margin[3]) : r - (e.margin[1] + e.margin[3]),\n        o = (e.landscape ? (e.margin[0], e.margin[2]) : (e.margin[0], e.margin[2]), n / i);\n    return this._pagesA100(e, t, 100 * o)\n},FamilyTree.prototype._pagesA100 = function (e, t, i) {\n    var r = FamilyTree._getViewBox(t), a = 0, n = 0;\n    switch (e.format) {\n        case\"A5\":\n            a = FamilyTree.A5w, n = FamilyTree.A5h;\n            break;\n        case\"A4\":\n            a = FamilyTree.A4w, n = FamilyTree.A4h;\n            break;\n        case\"A3\":\n            a = FamilyTree.A3w, n = FamilyTree.A3h;\n            break;\n        case\"A2\":\n            a = FamilyTree.A2w, n = FamilyTree.A2h;\n            break;\n        case\"A1\":\n            a = FamilyTree.A1w, n = FamilyTree.A1h;\n            break;\n        case\"Letter\":\n            a = FamilyTree.Letterw, n = FamilyTree.Letterh;\n            break;\n        case\"Legal\":\n            a = FamilyTree.Legalw, n = FamilyTree.Legalh\n    }\n    var o = r[0], l = r[1], s = r[2], d = r[3], c = {\n        w: e.landscape ? n - (e.margin[1] + e.margin[3]) : a - (e.margin[1] + e.margin[3]),\n        h: e.landscape ? a - (e.margin[0] + e.margin[2]) : n - (e.margin[0] + e.margin[2])\n    }, m = {w: e.landscape ? n : a, h: e.landscape ? a : n};\n    t.setAttribute(\"preserveAspectRatio\", \"xMinYMin slice\"), t.setAttribute(\"width\", c.w), t.setAttribute(\"height\", c.h);\n    for (var p = c.w * (100 / i), h = c.h * (100 / i), f = o, u = l, y = []; f < s + o;) {\n        for (; u < d + l;) {\n            var g = [f, u, p, h];\n            g = g.join(), y.push({vb: g, innerSize: c, size: m}), u += h\n        }\n        f += p, u = l\n    }\n    return y\n},FamilyTree.prototype._defaultExportProfileOptions = function (e, t) {\n    return (FamilyTree.isNEU(e) || FamilyTree.isNEU(e.id)) && console.error(\"options.id is not defilned\"), \"svg\" == t ? (e.ext = \"svg\", e.mime = \"image/svg+xml\") : \"pdf\" == t ? (e.mime = \"application/pdf\", e.ext = \"pdf\") : \"png\" == t && (e.mime = \"image/png\", e.ext = \"png\"), null == e.margin && (e.margin = [50, 40, 50, 40]), null == e.padding && (e.padding = 0), null == e.landscape && (e.landscape = !1), null == e.filename && (e.filename = \"Profile.\" + e.ext), null == e.scale && (e.scale = \"fit\"), null == e.format && (e.format = \"A4\"), null == e.header && (e.header = \"\"), null == e.footer && (e.footer = \"\"), null == e.openInNewTab && (e.openInNewTab = !1), null == e.mode && (e.mode = \"bft-\" + this.config.mode), e\n},FamilyTree._defaultExportProfileOptionsForCSV_SVG_JSON = function (e, t) {\n    return FamilyTree.isNEU(e) && (e = {}), \"string\" == typeof e && (e = {filename: e}), FamilyTree.isNEU(e.filename) && (e.filename = `FamilyTree.${t}`), FamilyTree.isNEU(e.expandChildren) && (e.expandChildren = !0), FamilyTree.isNEU(e.min) && (e.min = !0), FamilyTree.isNEU(e.openInNewTab) && (e.openInNewTab = !1), e\n},FamilyTree.prototype._exportProfile = function (e, t) {\n    var i = this, r = 0, a = 0;\n    switch (e.format) {\n        case\"A5\":\n            r = FamilyTree.A5w, a = FamilyTree.A5h;\n            break;\n        case\"A4\":\n            r = FamilyTree.A4w, a = FamilyTree.A4h;\n            break;\n        case\"A3\":\n            r = FamilyTree.A3w, a = FamilyTree.A3h;\n            break;\n        case\"A2\":\n            r = FamilyTree.A2w, a = FamilyTree.A2h;\n            break;\n        case\"A1\":\n            r = FamilyTree.A1w, a = FamilyTree.A1h;\n            break;\n        case\"Letter\":\n            r = FamilyTree.Letterw, a = FamilyTree.Letterh;\n            break;\n        case\"Legal\":\n            r = FamilyTree.Legalw, a = FamilyTree.Legalh\n    }\n    var n = {\n        w: e.landscape ? a - (e.margin[1] + e.margin[3]) : r - (e.margin[1] + e.margin[3]),\n        h: e.landscape ? r - (e.margin[0] + e.margin[2]) : a - (e.margin[0] + e.margin[2])\n    }, o = {w: e.landscape ? a : r, h: e.landscape ? r : a}, l = this.editUI.content(e.id, !0, !0, \"100%\", !0).element;\n    FamilyTree.input.init(l);\n    var s = {content: l.outerHTML, options: e, pages: [{vb: \"\", innerSize: n, size: o}], styles: \"\"};\n    if (!t) {\n        if (!1 === FamilyTree.events.publish(\"exportstart\", [i, s])) return !1;\n        FamilyTree.loading.show(i)\n    }\n    var d = this.element.querySelector(\"[data-bft-styles]\");\n    d && (s.styles += d.outerHTML);\n    var c = this.getSvg().querySelector(\"defs\");\n    if (c) for (var m = 0; m < c.children.length; m++) \"style\" == c.children[m].nodeName.toLowerCase() && (s.styles += c.children[m].outerHTML);\n    s = JSON.stringify(s), FamilyTree._ajax(this.config.exportUrl + \"/v3\", \"POST\", s, \"arraybuffer\", (function (r) {\n        if (t) t(i, r); else {\n            var a = FamilyTree.events.publish(\"exportend\", [i, r]);\n            if (FamilyTree.loading.hide(i), !1 === a) return !1;\n            FamilyTree._downloadFile(e.mime, r, e.filename, e.openInNewTab, e.ext)\n        }\n    }))\n},void 0 === FamilyTree && (FamilyTree = {}),FamilyTree.events = function () {\n    var e = {};\n    return {\n        on: function (t, i, r) {\n            Array.isArray(e[t]) || (e[t] = []), e[t].push({listener: i, event_id: r})\n        }, removeAll: function (t) {\n            Array.isArray(e[t]) || (e[t] = []), e[t] = []\n        }, remove: function (t, i, r) {\n            var a = !1;\n            if (e[t] && Array.isArray(e[t]) && e[t].length > 0) for (var n = e[t].length - 1; n >= 0; n--) (!FamilyTree.isNEU(r) && !FamilyTree.isNEU(i) && e[t][n].event_id == r && e[t][n].listener == i || !FamilyTree.isNEU(r) && FamilyTree.isNEU(i) && e[t][n].event_id == r || FamilyTree.isNEU(r) && !FamilyTree.isNEU(i) && e[t][n].listener == i || FamilyTree.isNEU(r) && FamilyTree.isNEU(i)) && (e[t].splice(n, 1), a = !0);\n            return a\n        }, has: function (t, i) {\n            if (e[t] && Array.isArray(e[t]) && e[t].length > 0) {\n                if (FamilyTree.isNEU(i)) return !0;\n                for (var r = 0; r < e[t].length; r++) if (e[t][r].event_id == i) return !0\n            }\n            return !1\n        }, removeForEventId: function (t) {\n            for (var i in e) if (Array.isArray(e[i])) for (var r = e[i].length - 1; r >= 0; r--) e[i][r].event_id == t && e[i].splice(r, 1)\n        }, publish: function (t, i) {\n            if (e[t]) {\n                for (var r = [], a = 0; a < e[t].length; a++) {\n                    var n = e[t][a];\n                    null != n.event_id && n.event_id != i[0]._event_id || r.push(n.listener)\n                }\n                if (r.length > 0) {\n                    var o = !0;\n                    for (a = 0; a < r.length && (1 == i.length ? o = r[a](i[0]) && o : 2 == i.length ? o = r[a](i[0], i[1]) && o : 3 == i.length ? o = r[a](i[0], i[1], i[2]) && o : 4 == i.length ? o = r[a](i[0], i[1], i[2], i[3]) && o : 5 == i.length && (o = r[a](i[0], i[1], i[2], i[3], i[4]) && o), !1 !== o); a++) ;\n                    return o\n                }\n            }\n        }\n    }\n}(),FamilyTree.prototype.importCSV = function () {\n    var e = this, t = document.createElement(\"INPUT\");\n    t.setAttribute(\"type\", \"file\"), t.setAttribute(\"accept\", \".csv\"), t.style.display = \"none\", t.onchange = function (t) {\n        var i = t.target, r = new FileReader;\n        r.onload = function () {\n            var t = r.result, i = FamilyTree._csvToArray(t), a = [], n = i[0];\n            FamilyTree._importSetColumnNames(n, (function (t) {\n                for (var r = 1; r < i.length; r++) {\n                    for (var n = {}, o = 0; o < i[r].length; o++) {\n                        var l = t[o], s = i[r][o];\n                        n[l] = FamilyTree._convertStringToArray(l, s)\n                    }\n                    \"\" != n.id.trim() && a.push(n)\n                }\n                var d = {nodes: a, columnNames: i[0]};\n                0 != FamilyTree.events.publish(\"import\", [e, d]) && (e._putInUndoStack(), e.clearRedo(), e.config.nodes = d.nodes, FamilyTree.events.publish(\"updated\", [e]), e.filterUI.update(), e.draw())\n            }))\n        }, r.readAsText(i.files[0])\n    }, t.click()\n},FamilyTree._importSetColumnNames = function (e, t) {\n    if (-1 == e.indexOf(\"id\") || -1 == e.indexOf(\"pid\")) {\n        var i = document.createElement(\"DIV\"), r = document.createElement(\"P\");\n        r.style.padding = \"5px\", r.style.color = \"rgb(122, 122, 122)\", r.innerHTML = FamilyTree.IMPORT_MESSAGE, i.appendChild(r);\n        var a = document.createElement(\"div\"), n = document.createElement(\"div\"), o = document.createElement(\"div\"),\n            l = document.createElement(\"span\");\n        a.setAttribute(\"id\", \"bft-sampleDialog\"), a.style.height = \"260px\", a.style.width = \"400px\", a.style.background = \"white\", a.style.border = \"0.5px solid grey\", a.style.position = \"fixed\", a.style.overflow = \"hidden\", a.style.zIndex = \"99\", n.setAttribute(\"id\", \"title\"), n.style.backgroundColor = \"#e5e5e5\", n.style.fontWeight = \"bold\", n.style.color = \"rgb(122, 122, 122)\", n.style.height = \"20px\", n.style.padding = \"3px 0 0 7px\", l.setAttribute(\"id\", \"close\"), l.style.cursor = \"pointer\", l.style.position = \"absolute\", l.style.color = \"rgb(122, 122, 122)\", l.style.fontWeight = \"bold\", l.style.top = \"2px\", l.style.zIndex = 100, o.setAttribute(\"id\", \"content\"), o.style.padding = \"2px\", n.innerHTML = \"Import Organizational Chart Data\", l.innerHTML = \"&times;\";\n        var s = document.createElement(\"HR\");\n        s.style.height = \"0.1px\", s.style.backgroundColor = \"#aeaeae\", s.style.border = \"none\", s.style.margin = \"0\", a.appendChild(n), a.appendChild(s), o.appendChild(i), a.appendChild(o), a.appendChild(l), document.body.appendChild(a), FamilyTree._importCenter(a), l.style.left = a.offsetWidth - 20 + \"px\";\n        var d = document.createElement(\"div\");\n        d.setAttribute(\"id\", \"overlay\"), d.style.width = \"100%\", d.style.height = \"100%\", d.style.left = 0, d.style.top = 0, d.style.position = \"fixed\", d.style.background = \"grey\", d.style.opacity = \"0.5\", d.style.zIndex = 98, document.body.appendChild(d), a._overlay = d;\n        var c = document.createElement(\"LABEL\"), m = document.createTextNode(\"Name:\");\n        c.setAttribute(\"for\", \"bft-id-select\"), c.appendChild(m), c.style.fontSize = \"16px\", c.style.color = \"rgb(122, 122, 122)\", c.style.padding = \"5px\", c.style.margin = \"5px\", c.style.width = \"30%\", c.style.textAlign = \"right\", c.style.display = \"inline-block\", i.appendChild(c);\n        var p = document.createElement(\"SELECT\");\n        p.id = \"bft-id-select\", p.style.fontSize = \"16px\", p.style.color = \"rgb(122, 122, 122)\", p.style.padding = \"5px\", p.style.margin = \"5px\", p.style.width = \"60%\", p.style.border = \"1px solid #aeaeae\", i.appendChild(p);\n        var h = document.createElement(\"BR\");\n        i.appendChild(h);\n        for (var f = 0; f < e.length; f++) {\n            (T = document.createElement(\"option\")).setAttribute(\"value\", e[f]);\n            var u = document.createTextNode(e[f]);\n            T.appendChild(u), p.appendChild(T)\n        }\n        var y = document.createElement(\"LABEL\"), g = document.createTextNode(\"Reports to:\");\n        y.setAttribute(\"for\", \"pid-select\"), y.appendChild(g), y.style.fontSize = \"16px\", y.style.color = \"rgb(122, 122, 122)\", y.style.padding = \"5px\", y.style.margin = \"5px\", y.style.width = \"30%\", y.style.textAlign = \"right\", y.style.display = \"inline-block\", i.appendChild(y);\n        var v = document.createElement(\"SELECT\");\n        v.id = \"pid-select\", v.style.fontSize = \"16px\", v.style.color = \"rgb(122, 122, 122)\", v.style.padding = \"5px\", v.style.margin = \"5px\", v.style.width = \"60%\", v.style.border = \"1px solid #aeaeae\", i.appendChild(v);\n        for (f = 0; f < e.length; f++) {\n            var T;\n            (T = document.createElement(\"option\")).setAttribute(\"value\", e[f]);\n            u = document.createTextNode(e[f]);\n            T.appendChild(u), v.appendChild(T)\n        }\n        var b = document.createElement(\"BUTTON\");\n        b.innerHTML = \"Import\", b.style.fontSize = \"16px\", b.style.color = \"rgb(122, 122, 122)\", b.style.padding = \"5px 20px\", b.style.margin = \"20px auto\", b.style.display = \"block\", b.onclick = function () {\n            a.style.display = \"none\", a._overlay && a._overlay.parentNode.removeChild(a._overlay);\n            var i = p.options[p.selectedIndex].value, r = e.indexOf(i);\n            e[r] = \"id\";\n            var n = v.options[v.selectedIndex].value, o = e.indexOf(n);\n            e[o] = \"pid\", t(e)\n        };\n        var F = document.createElement(\"DIV\");\n        return F.appendChild(b), i.appendChild(F), l.onclick = function (e) {\n            a._overlay && a._overlay.parentNode.removeChild(a._overlay), a.parentNode.removeChild(a), e.stopPropagation()\n        }, n.onmousedown = function (e) {\n            e = e || window.event, a._dragging = !0, a._originalLeft = a.offsetLeft, a._originalTop = a.offsetTop, a._mouseLeft = e.clientX, a._mouseTop = e.clientY\n        }, document.onmousemove = function (e) {\n            e = e || window.event, a._dragging && (a.style.left = a._originalLeft + e.clientX - a._mouseLeft + \"px\", a.style.top = a._originalTop + e.clientY - a._mouseTop + \"px\")\n        }, document.onmouseup = function (e) {\n            e = e || window.event, a._dragging && (a.style.left = a._originalLeft + e.clientX - a._mouseLeft + \"px\", a.style.top = a._originalTop + e.clientY - a._mouseTop + \"px\", a._dragging = !1)\n        }, a\n    }\n    t(e)\n},FamilyTree._importCenter = function (e) {\n    e && (e.style.left = (window.innerWidth - e.offsetWidth) / 2 + \"px\", e.style.top = (window.innerHeight - e.offsetHeight) / 2 + \"px\")\n},FamilyTree.prototype.importXML = function () {\n    var e = this, t = document.createElement(\"INPUT\");\n    t.setAttribute(\"type\", \"file\"), t.setAttribute(\"accept\", \".xml\"), t.style.display = \"none\", t.onchange = function (t) {\n        var i = t.target, r = new FileReader;\n        r.onload = function () {\n            var t = r.result, i = FamilyTree._xml2json(t);\n            0 != FamilyTree.events.publish(\"import\", [e, i]) && (e._putInUndoStack(), e.clearRedo(), e.config.nodes = i, FamilyTree.events.publish(\"updated\", [e]), e.filterUI.update(), e.draw())\n        }, r.readAsText(i.files[0])\n    }, t.click()\n},FamilyTree.prototype.importJSON = function () {\n    var e = this, t = document.createElement(\"INPUT\");\n    t.setAttribute(\"type\", \"file\"), t.setAttribute(\"accept\", \".json\"), t.style.display = \"none\", t.onchange = function (t) {\n        var i = t.target, r = new FileReader;\n        r.onload = function () {\n            var t = r.result, i = JSON.parse(t);\n            0 != FamilyTree.events.publish(\"import\", [e, i]) && (e._putInUndoStack(), e.clearRedo(), e.config.nodes = i, FamilyTree.events.publish(\"updated\", [e]), e.filterUI.update(), e.draw())\n        }, r.readAsText(i.files[0])\n    }, t.click()\n},FamilyTree.prototype.__importJSON = FamilyTree.prototype.importJSON,FamilyTree.prototype.importJSON = function () {\n    this.config.roots = [], this.__importJSON()\n},FamilyTree.prototype.__importCSV = FamilyTree.prototype.importCSV,FamilyTree.prototype.importCSV = function () {\n    this.config.roots = [], this.__importCSV()\n},FamilyTree.prototype.__importXML = FamilyTree.prototype.importXML,FamilyTree.prototype.importXML = function () {\n    this.config.roots = [], this.__importXML()\n},FamilyTree._importSetColumnNames = function (e, t) {\n    t(e)\n},FamilyTree.prototype.expand = function (e, t, i) {\n    var r = {id: e, ids: t};\n    this._draw(!1, FamilyTree.action.expand, r, i)\n},FamilyTree.prototype.collapse = function (e, t, i) {\n    var r = {id: e, ids: t};\n    this._draw(!1, FamilyTree.action.collapse, r, i)\n},FamilyTree.prototype.expandCollapse = function (e, t, i, r) {\n    Array.isArray(t) || (t = []), Array.isArray(i) || (i = []);\n    var a = {id: e, expandIds: t, collapseIds: i, ids: t.concat(i)};\n    this._draw(!1, FamilyTree.action.collapse, a, r)\n},FamilyTree.prototype.changeRoots = function (e, t, i) {\n    this.config.roots = t;\n    var r = {id: e, changeRoots: t};\n    this._draw(!1, FamilyTree.action.update, r, i)\n},FamilyTree.prototype.maximize = function (e, t, i, r) {\n    var a = this, n = {id: e, options: {}};\n    FamilyTree.isNEU(n.id) && (n.id = this.roots[0].id, n.all = !0), n.options.horizontal = !1, n.options.vertical = !1, t && (n.options.horizontal = t), i && (n.options.vertical = i), this._draw(!1, FamilyTree.action.maximize, n, (function () {\n        a.ripple(e), r && r()\n    }))\n},FamilyTree.prototype.minimize = function (e, t) {\n    var i = this, r = {id: e};\n    FamilyTree.isNEU(r.id) && (r.id = this.roots[0].id, r.all = !0), this._draw(!1, FamilyTree.action.minimize, r, (function () {\n        i.ripple(e), t && t()\n    }))\n},FamilyTree.prototype._expCollHandler = function (e) {\n    this.nodeMenuUI.hide(), this.nodeContextMenuUI.hide(), this.menuUI.hide(), this.nodeCircleMenuUI.hide();\n    var t = this.getNode(e), i = this.getCollapsedIds(t);\n    if (i.length) {\n        if (!1 === FamilyTree.events.publish(\"expcollclick\", [this, !1, e, i])) return !1;\n        this.expand(e, i, !1)\n    } else {\n        if (!1 === FamilyTree.events.publish(\"expcollclick\", [this, !0, e, t.childrenIds])) return !1;\n        this.collapse(e, t.childrenIds, !1)\n    }\n},FamilyTree.prototype._upHandler = function (e) {\n    this.nodeMenuUI.hide(), this.nodeContextMenuUI.hide(), this.menuUI.hide(), this.nodeCircleMenuUI.hide();\n    var t = this._upHandlerCreateArgs(e);\n    if (!1 === FamilyTree.events.publish(\"up-click\", [this, t])) return !1;\n    this.changeRoots(t.id, t.roots, !1)\n},FamilyTree.prototype._upHandlerCreateArgs = function (e) {\n    var t, i = this.getNode(e), r = Object.assign([], this.config.roots), a = this.getNode(i.pid);\n    if (a && (t = a), t) {\n        if (Array.isArray(r)) {\n            var n = r.indexOf(i.id);\n            -1 != n && r.splice(n, 1)\n        } else r = [];\n        r.push(t.id)\n    }\n    return {id: i.id, roots: r}\n},FamilyTree.prototype._upHandlerCreateArgs = function (e) {\n    var t = this.getNode(e), i = Object.assign([], this.config.roots), r = this.getRecentRootsByNodeId(e);\n    return Array.isArray(i) || (i = []), FamilyTree._changeRootOption(i, r, this.manager.rootList), {id: t.id, roots: i}\n},String.prototype.replaceAll || (String.prototype.replaceAll = function (e, t) {\n    return this.replace(new RegExp(e, \"g\"), t)\n}),String.prototype.endsWith || (String.prototype.endsWith = function (e) {\n    return -1 !== this.indexOf(e, this.length - e.length)\n}),String.prototype.splice || (String.prototype.splice = function (e, t, i) {\n    return this.slice(0, e) + i + this.slice(e + Math.abs(t))\n}),String.prototype.insert || (String.prototype.insert = function (e, t) {\n    return e > 0 ? this.substring(0, e) + t + this.substr(e) : t + this\n}),Array.prototype.unique || Object.defineProperty(Array.prototype, \"unique\", {\n    value: function () {\n        for (var e = this.concat(), t = 0; t < e.length; ++t) for (var i = t + 1; i < e.length; ++i) e[t] === e[i] && e.splice(i--, 1);\n        return e\n    }, writable: !0, configurable: !0, enumerable: !1\n}),Array.prototype.has || Object.defineProperty(Array.prototype, \"has\", {\n    value: function (e) {\n        for (var t = 0; t < this.length; t++) if (this[t] == e) return !0;\n        return !1\n    }, writable: !0, configurable: !0, enumerable: !1\n}),Array.prototype.compare || Object.defineProperty(Array.prototype, \"compare\", {\n    value: function (e) {\n        if (this.length != e.length) return !1;\n        for (var t = 0; t < this.length; t++) if (!e.has(this[t])) return !1;\n        return !0\n    }, writable: !0, configurable: !0, enumerable: !1\n}),Object.assign || Object.defineProperty(Object, \"assign\", {\n    value: function (e, t) {\n        \"use strict\";\n        if (null == e) throw new TypeError(\"Cannot convert undefined or null to object\");\n        for (var i = Object(e), r = 1; r < arguments.length; r++) {\n            var a = arguments[r];\n            if (null != a) for (var n in a) Object.prototype.hasOwnProperty.call(a, n) && (i[n] = a[n])\n        }\n        return i\n    }, writable: !0, configurable: !0\n}),FamilyTree.prototype._globalMouseDownHandler = function (e, t) {\n    var i = {move: \"mousemove\", up: \"mouseup\", leave: \"mouseleave\"};\n    if (-1 != t.type.indexOf(\"touch\") && (1 == t.touches.length ? this._touch = {\n        x: t.touches[0].clientX,\n        y: t.touches[0].clientY\n    } : this._touch = null, i = {\n        move: \"touchmove\",\n        up: \"touchend\",\n        touchstart: \"touchstart\"\n    }), e == t.target) return t.stopPropagation(), t.preventDefault(), void this._mouseDownHandler(e, t, i);\n    if (this.config.nodeMouseClick == FamilyTree.action.pan) {\n        for (var r = t.target; r != e && !r.hasAttribute(FamilyTree.attr.control_expcoll_id) && !r.hasAttribute(FamilyTree.attr.control_up_id);) r = r.parentNode;\n        if (!r.hasAttribute(FamilyTree.attr.control_expcoll_id) && !r.hasAttribute(FamilyTree.attr.control_up_id)) return t.stopPropagation(), t.preventDefault(), void this._mouseDownHandler(e, t, i)\n    }\n    for (var a = t.target; a != e;) {\n        if (a.hasAttribute(FamilyTree.attr.node_id)) return void this._nodeMouseDownHandler(a, t, i);\n        if (a.hasAttribute(FamilyTree.attr.control_node_circle_menu_name)) return t.stopPropagation(), t.preventDefault(), void this._nodeCircleNodeMenuItemMouseDownHandler(a, t, i);\n        a = a.parentNode\n    }\n},FamilyTree.prototype._globalClickHandler = function (e, t) {\n    if (-1 != t.type.indexOf(\"touch\") && this._touch && 1 == t.changedTouches.length) {\n        if (t.changedTouches.length) {\n            var i = {x: t.changedTouches[0].clientX, y: t.changedTouches[0].clientY},\n                r = FamilyTree.t(this.config.template, !1, this.getScale()).size, a = this.getScale(),\n                n = Math.abs(i.x - this._touch.x) / a, o = Math.abs(i.y - this._touch.y) / a;\n            if (this._touch = null, n > r[0] / 10) return;\n            if (o > r[1] / 10) return\n        }\n    } else if (-1 != t.type.indexOf(\"touch\") && null == this._touch) return;\n    for (var l = t.target; l != e;) {\n        if (l.hasAttribute(FamilyTree.attr.control_expcoll_id)) {\n            var s = l.getAttribute(FamilyTree.attr.control_expcoll_id), d = this.getNode(s);\n            return void this._expCollHandler(d.id)\n        }\n        if (l.hasAttribute(FamilyTree.attr.node_id)) {\n            s = l.getAttribute(FamilyTree.attr.node_id), d = this.getNode(s);\n            return void this._nodeClickHandler(d.id, t)\n        }\n        if (l.hasAttribute(FamilyTree.attr.control_node_menu_id)) {\n            t.stopPropagation(), t.preventDefault();\n            s = l.getAttribute(FamilyTree.attr.control_node_menu_id), d = this.getNode(s);\n            return void this._nodeMenuClickHandler(d.id, l, t)\n        }\n        if (l.hasAttribute(FamilyTree.attr.control_node_circle_menu_id)) {\n            t.stopPropagation(), t.preventDefault();\n            s = l.getAttribute(FamilyTree.attr.control_node_circle_menu_id);\n            return void this._nodeCircleMenuClickHandler(s)\n        }\n        if (l.hasAttribute(FamilyTree.attr.control_node_circle_menu_name)) return t.stopPropagation(), t.preventDefault(), void this._nodeCircleMenuItemClickHandler(l, t);\n        if (l.hasAttribute(FamilyTree.attr.control_add)) return void this._lonelyButtonHandler();\n        if (l.hasAttribute(FamilyTree.attr.control_up_id)) {\n            s = l.getAttribute(FamilyTree.attr.control_up_id);\n            return t.stopPropagation(), t.preventDefault(), void this._upHandler(s)\n        }\n        if (l.hasAttribute(FamilyTree.attr.c_link_from)) return void FamilyTree.events.publish(\"clink-click\", [this, {\n            from: l.getAttribute(FamilyTree.attr.c_link_from),\n            to: l.getAttribute(FamilyTree.attr.c_link_to),\n            event: t\n        }]);\n        if (l.hasAttribute(FamilyTree.attr.s_link_from)) return void FamilyTree.events.publish(\"slink-click\", [this, {\n            from: l.getAttribute(FamilyTree.attr.s_link_from),\n            to: l.getAttribute(FamilyTree.attr.s_link_to),\n            event: t\n        }]);\n        l = l.parentNode\n    }\n},FamilyTree.prototype._globalContextHandler = function (e, t) {\n    for (var i = t.target; i != e;) {\n        if (i.hasAttribute(FamilyTree.attr.node_id)) {\n            var r = i.getAttribute(FamilyTree.attr.node_id), a = this.getNode(r);\n            return void this._nodeContextHandler(a.id, t)\n        }\n        i = i.parentNode\n    }\n},FamilyTree.prototype._nodeContextHandler = function (e, t) {\n    t.preventDefault(), FamilyTree.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE && this.searchUI.hide(), this.nodeMenuUI.hide(), this.nodeContextMenuUI.hide(), this.menuUI.hide(), this.nodeCircleMenuUI.hide();\n    var i = this.get(e), r = null;\n    if (null != i && Array.isArray(i.tags)) for (var a = 0; a < i.tags.length; a++) {\n        var n = i.tags[a];\n        this.config.tags[n] && this.config.tags[n].nodeContextMenu && (r = this.config.tags[n].nodeContextMenu)\n    }\n    var o = this.element.getBoundingClientRect(), l = t.clientX - o.left, s = t.clientY - o.top;\n    this.nodeContextMenuUI.show(l, s, e, null, r)\n},FamilyTree.prototype._globalDbClickHandler = function (e, t) {\n    for (var i = t.target; i != e;) {\n        if (i.hasAttribute(FamilyTree.attr.node_id)) {\n            var r = i.getAttribute(FamilyTree.attr.node_id), a = this.getNode(r);\n            return void this._nodeDbClickHandler(a.id, t)\n        }\n        i = i.parentNode\n    }\n},FamilyTree.prototype._mouseScrollHandler = function (e, t) {\n    this.__mouseScrollHandler(this.getSvg(), t)\n},FamilyTree.prototype.__mouseScrollHandler = function (e, t) {\n    if (t.ctrlKey) {\n        if (this.config.mouseScrool == FamilyTree.action.zoom) return\n    } else {\n        if (this.config.mouseScrool == FamilyTree.action.ctrlZoom) return;\n        if (this.config.mouseScrool != FamilyTree.action.zoom) return\n    }\n    var i = this, r = !1, a = this.config.zoom.speed, n = this.config.zoom.smooth, o = 0, l = this.getScale(),\n        s = FamilyTree._centerPointInPercent(e, t.pageX, t.pageY);\n    var d = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (e) {\n        setTimeout(e, 20)\n    };\n    t.preventDefault();\n    var c = t.delta || t.wheelDelta;\n    void 0 === c && (c = -t.detail), c = Math.max(-1, Math.min(1, c)), o += -c * a, r || function e() {\n        r = !0;\n        var t = (o - l) / n;\n        t > 0 ? t++ : t--, l += t, i.zoom(1 - t / 12 / 50, s), parseInt(l) == parseInt(o) ? r = !1 : d(e)\n    }()\n},FamilyTree.prototype._nodeCircleNodeMenuItemMouseDownHandler = function (e, t, i) {\n    var r = e.parentNode.getAttribute(FamilyTree.attr.control_node_circle_menu_wrraper_id),\n        a = e.getAttribute(FamilyTree.attr.control_node_circle_menu_name), n = this.nodeCircleMenuUI._menu[a];\n    if (n.draggable) {\n        var o = this, l = FamilyTree._getClientXY(t), s = this.getNode(r);\n        e._dragEventFired = !1;\n        var d = o.getScale(), c = null, m = null;\n        this._gragStartedId = r, document.body.style.mozUserSelect = document.body.style.webkitUserSelect = document.body.style.userSelect = \"none\";\n        var p = this.getSvg(), h = {x: l.x, y: l.y}, f = e.cloneNode(!0);\n        p.insertBefore(f, p.firstChild);\n        var u = FamilyTree._getTransform(f), y = u[4], g = u[5], v = function (e) {\n            for (; e && !e.hasAttribute(FamilyTree.attr.control_node_circle_menu_wrraper_id);) e = e.parentNode;\n            if (e) {\n                var t = FamilyTree._getTransform(e);\n                return {x: t[4], y: t[5]}\n            }\n            console.error(\"cannot find parent\" + FamilyTree.attr.control_node_circle_menu_wrraper_id)\n        }(e);\n        f.setAttribute(\"transform\", \"matrix(1,0,0,1,\" + (y + v.x) + \",\" + (g + v.y) + \")\"), f.style.opacity = .7;\n        var T = function (e, t) {\n            if (null != e) {\n                t.classList.remove(\"bft-drag-over\");\n                for (var i = FamilyTree.getStParentNodes(o.getNode(c)), r = 0; r < i.length; r++) {\n                    var a = o.getNodeElement(i[r].id);\n                    a && (a.style.opacity = 1)\n                }\n            }\n        }, b = function (t) {\n            if (h) {\n                var i = FamilyTree._getClientXY(t), r = t.target;\n                FamilyTree.isMobile() && (r = document.elementFromPoint(i.x, i.y)), i.x += v.x * d, i.y += v.y * d;\n                var l = FamilyTree._getOffsetXY(o.element, t), s = {\n                    left: o.width() - (l.x + o.config.padding) < 0,\n                    right: l.x - o.config.padding < 0,\n                    up: o.height() - (l.y + o.config.padding) < 0,\n                    down: l.y - o.config.padding < 0\n                };\n                if (s.left || s.right || s.up || s.down) {\n                    p.classList && (p.classList.remove(\"bft-cursor-grab\"), p.classList.add(\"bft-cursor-move\"), p.classList.remove(\"bft-cursor-nodrop\"), p.classList.remove(\"bft-cursor-copy\"));\n                    var b = u[4], x = u[5], _ = h.x, w = h.y, k = i.x, S = i.y;\n                    o.moveStart(s, (function (e) {\n                        u[4] = b + e.x, u[5] = x + e.y, h.x = _ - e.xWithoutScale, h.y = w - e.yWithoutScale, i.x = k - e.xWithoutScale, i.y = S - e.yWithoutScale, f.setAttribute(\"transform\", \"matrix(\" + u.toString() + \")\")\n                    }))\n                } else {\n                    for (o.moveEnd(), p.classList && (p.classList.add(\"bft-cursor-grab\"), p.classList.remove(\"bft-cursor-move\"), p.classList.remove(\"bft-cursor-nodrop\"), p.classList.remove(\"bft-cursor-copy\")), T(c, m), c = null, m = null; null != r && r != p;) {\n                        if (r.hasAttribute && r.hasAttribute(FamilyTree.attr.node_id)) {\n                            var C = r.getAttribute(FamilyTree.attr.node_id);\n                            c = C, m = r;\n                            break\n                        }\n                        r = r.parentNode\n                    }\n                    if (null != c) {\n                        m.classList.add(\"bft-drag-over\");\n                        for (var I = o.getNode(c), N = FamilyTree.getStParentNodes(I), A = 0; A < N.length; A++) {\n                            var L = o.getNodeElement(N[A].id);\n                            L && (L.style.opacity = .1)\n                        }\n                        p.classList.remove(\"bft-cursor-grab\"), p.classList.remove(\"bft-cursor-move\"), p.classList.add(\"bft-cursor-copy\"), p.classList.remove(\"bft-cursor-nodrop\")\n                    }\n                    var E = (i.x - h.x) / d, M = (i.y - h.y) / d;\n                    if (u[4] = y + E, u[5] = g + M, !e._dragEventFired && (Math.abs(i.x - h.x) > FamilyTree.FIRE_DRAG_NOT_CLICK_IF_MOVE || Math.abs(i.y - h.y) > FamilyTree.FIRE_DRAG_NOT_CLICK_IF_MOVE)) !1 === FamilyTree.events.publish(\"drag\", [o.nodeCircleMenuUI, {\n                        from: C,\n                        menuItem: n,\n                        menuItemName: a\n                    }]) && F(), e._dragEventFired = !0;\n                    f.setAttribute(\"transform\", \"matrix(\" + u.toString() + \")\")\n                }\n            }\n        }, F = function (t) {\n            if (o.moveEnd(), p.classList && (p.classList.remove(\"bft-cursor-grab\"), p.classList.remove(\"bft-cursor-move\"), p.classList.remove(\"bft-cursor-nodrop\"), p.classList.remove(\"bft-cursor-copy\")), p.removeEventListener(i.move, b), p.removeEventListener(i.up, F), i.leave && p.removeEventListener(i.leave, F), s.id == c || null == c) return p.removeChild(f), o._gragStartedId = null, void (e._dragEventFired && FamilyTree.events.publish(\"drop\", [o.nodeCircleMenuUI, {\n                from: s.id,\n                menuItemName: a,\n                menuItem: n,\n                event: t\n            }]));\n            var r = o.getNode(c);\n            FamilyTree.events.publish(\"drop\", [o.nodeCircleMenuUI, {\n                from: s.id,\n                to: r.id,\n                menuItem: n,\n                menuItemName: a,\n                event: t\n            }]), T(c, m), p.removeChild(f), o._gragStartedId = null\n        };\n        p.addEventListener(i.move, b), p.addEventListener(i.up, F), i.leave && p.addEventListener(i.leave, F)\n    }\n},FamilyTree.prototype._nodeMouseDownHandler = function (e, t, i) {\n    this.config.draggable ? this._draggableHandler(e, t, i) : this.config.enableDragDrop && this._dragDropHandler(e, t, i)\n},FamilyTree.prototype._draggableHandler = function (e, t, i) {\n    var r = this, a = e.getAttribute(FamilyTree.attr.node_id);\n    if (this.roots) for (var n = 0; n < this.roots.length; n++) if (this.roots[n].id == a) return;\n    var o = [], l = function (e, t) {\n        if (Array.isArray(e)) for (var i = 0; i < e.length; i++) l(e[i], t); else {\n            t.push(e.id);\n            for (i = 0; i < e.stChildren.length; i++) l(e.stChildren[i], t);\n            for (i = 0; i < e.children.length; i++) l(e.children[i], t)\n        }\n    };\n    l(this.getNode(a), o);\n    for (var s = this.getSvg(), d = FamilyTree._getClientXY(t), c = [], m = [], p = [], h = [], f = [], u = [], y = [], g = [], v = 0; v < o.length; v++) {\n        var T = this.getNode(o[v]);\n        c.push(T), p.push({x: T.x, y: T.y});\n        var b = this.getNodeElement(o[v]);\n        f.push(b);\n        var F = FamilyTree._getTransform(b);\n        h.push({x: F[4], y: F[5]}), m.push(F);\n        var x = this.element.querySelector(`[data-ctrl-ec-id=\"${o[v]}\"]`);\n        if (x) {\n            u.push(x);\n            var _ = FamilyTree._getTransform(x);\n            y.push(_), g.push({x: _[4], y: _[5]})\n        } else u.push(null), y.push(null), g.push(null);\n        if (this.config.draggable == FamilyTree.draggable.node) break\n    }\n    e._dragEventFired = !1;\n    var w = null, k = null;\n    this._gragStartedId = o[0], document.body.style.mozUserSelect = document.body.style.webkitUserSelect = document.body.style.userSelect = \"none\";\n    var S = {x: d.x, y: d.y}, C = r.getScale(), I = function (e, t) {\n        if (null != e) {\n            t.classList.remove(\"bft-drag-over\");\n            for (var i = r.getNode(w), a = FamilyTree.getStParentNodes(i), n = 0; n < a.length; n++) {\n                var o = r.getNodeElement(a[n].id);\n                o && (o.style.opacity = 1)\n            }\n        }\n    }, N = function (t) {\n        if (S) {\n            var i = FamilyTree._getClientXY(t), n = t.target;\n            FamilyTree.isMobile() && (n = document.elementFromPoint(i.x, i.y));\n            var l = FamilyTree._getOffsetXY(r.element, t), d = {\n                left: r.width() - (l.x + r.config.padding) < 0,\n                right: l.x - r.config.padding < 0,\n                up: r.height() - (l.y + r.config.padding) < 0,\n                down: l.y - r.config.padding < 0\n            };\n            if (d.left || d.right || d.up || d.down) {\n                s.classList && (s.classList.remove(\"bft-cursor-grab\"), s.classList.add(\"bft-cursor-move\"), s.classList.remove(\"bft-cursor-nodrop\"), s.classList.remove(\"bft-cursor-copy\"));\n                for (var v = [], T = [], b = [], F = [], x = 0; x < m.length; x++) v.push(m[x][4]), T.push(m[x][5]), y[x] ? (b.push(y[x][4]), F.push(y[x][5])) : (b.push(null), F.push(null));\n                var _ = S.x, N = S.y, L = i.x, E = i.y;\n                r.moveStart(d, (function (e) {\n                    for (var t = 0; t < m.length; t++) {\n                        var a = v[t], n = T[t], o = b[t], l = F[t];\n                        m[t][4] = a + e.x, m[t][5] = n + e.y, S.x = _ - e.xWithoutScale, S.y = N - e.yWithoutScale, i.x = L - e.xWithoutScale, i.y = E - e.yWithoutScale, c[t].x = a + e.x, c[t].y = n + e.y, c[t].movex = e.x, c[t].movey = e.y, y[t] && (y[t][4] = o + e.x, y[t][5] = l + e.y);\n                        for (var s = FamilyTree.ui.link(c[t], r, C, r.response.bordersByRootIdAndLevel, r.nodes, FamilyTree.action.update, !0), d = 0; d < s.length; d++) {\n                            var p = s[d];\n                            (h = r.element.querySelector(`[data-l-id=\"[${p.id}][${p.childId}]\"]`)) && (h.innerHTML = p.html)\n                        }\n                        if (c[t].parent) for (s = FamilyTree.ui.link(c[t].parent, r, C, r.response.bordersByRootIdAndLevel, r.nodes, FamilyTree.action.update, !0), d = 0; d < s.length; d++) {\n                            var h;\n                            p = s[d];\n                            (h = r.element.querySelector(`[data-l-id=\"[${p.id}][${p.childId}]\"]`)) && (h.innerHTML = p.html)\n                        }\n                        f[t].setAttribute(\"transform\", \"matrix(\" + m[t].toString() + \")\"), u[t] && u[t].setAttribute(\"transform\", \"matrix(\" + y[t].toString() + \")\")\n                    }\n                }))\n            } else {\n                if (r.moveEnd(), s.classList && (s.classList.add(\"bft-cursor-grab\"), s.classList.remove(\"bft-cursor-move\"), s.classList.remove(\"bft-cursor-nodrop\"), s.classList.remove(\"bft-cursor-copy\")), I(w, k), w = null, k = null, r.config.enableDragDrop) for (; null != n && n != s;) {\n                    if (n.hasAttribute && n.hasAttribute(FamilyTree.attr.node_id)) {\n                        var M = n.getAttribute(FamilyTree.attr.node_id);\n                        if (r._gragStartedId && M != r._gragStartedId) {\n                            w = M, k = n;\n                            break\n                        }\n                    }\n                    n = n.parentNode\n                }\n                if (null != w) {\n                    k.classList.add(\"bft-drag-over\");\n                    for (var U = r.getNode(w), O = FamilyTree.getStParentNodes(U), B = 0; B < O.length; B++) {\n                        var R = r.getNodeElement(O[B].id);\n                        R && (R.style.opacity = .1)\n                    }\n                    !r.canUpdateLink(c[0].id, w) && s.classList ? (s.classList.remove(\"bft-cursor-grab\"), s.classList.remove(\"bft-cursor-move\"), s.classList.remove(\"bft-cursor-copy\"), s.classList.add(\"bft-cursor-nodrop\")) : s.classList && (s.classList.remove(\"bft-cursor-grab\"), s.classList.remove(\"bft-cursor-move\"), s.classList.add(\"bft-cursor-copy\"), s.classList.remove(\"bft-cursor-nodrop\"))\n                }\n                var P = (i.x - S.x) / C, D = (i.y - S.y) / C;\n                for (x = 0; x < m.length; x++) {\n                    m[x][4] = h[x].x + P, m[x][5] = h[x].y + D, y[x] && (y[x][4] = g[x].x + P, y[x][5] = g[x].y + D), c[x].x = p[x].x + P, c[x].y = p[x].y + D, c[x].movex = P, c[x].movey = D;\n                    var H = FamilyTree.ui.link(c[x], r, C, r.response.bordersByRootIdAndLevel, r.nodes, FamilyTree.action.update, !0);\n                    for (B = 0; B < H.length; B++) {\n                        var z = H[B];\n                        ($ = r.element.querySelector(`[data-l-id=\"[${z.id}][${z.childId}]\"]`)) && ($.innerHTML = z.html)\n                    }\n                    if (c[x].parent) for (H = FamilyTree.ui.link(c[x].parent, r, C, r.response.bordersByRootIdAndLevel, r.nodes, FamilyTree.action.update, !0), B = 0; B < H.length; B++) {\n                        var $;\n                        z = H[B];\n                        ($ = r.element.querySelector(`[data-l-id=\"[${z.id}][${z.childId}]\"]`)) && ($.innerHTML = z.html)\n                    }\n                }\n                if (!e._dragEventFired && (Math.abs(i.x - S.x) > FamilyTree.FIRE_DRAG_NOT_CLICK_IF_MOVE || Math.abs(i.y - S.y) > FamilyTree.FIRE_DRAG_NOT_CLICK_IF_MOVE)) {\n                    if (!1 === FamilyTree.events.publish(\"drag\", [r, a, t, o]) && A(), r.config.enableDragDrop) for (x = 0; x < f.length; x++) s.insertBefore(f[x], s.firstChild);\n                    e._dragEventFired = !0\n                }\n                for (x = 0; x < m.length; x++) f[x].setAttribute(\"transform\", \"matrix(\" + m[x].toString() + \")\"), u[x] && u[x].setAttribute(\"transform\", \"matrix(\" + y[x].toString() + \")\")\n            }\n        }\n    }, A = function (t) {\n        for (var a = 0; a < c.length; a++) c[a].x = p[a].x, c[a].y = p[a].y;\n        if (r.moveEnd(), s.classList && (s.classList.remove(\"bft-cursor-grab\"), s.classList.remove(\"bft-cursor-move\"), s.classList.remove(\"bft-cursor-nodrop\"), s.classList.remove(\"bft-cursor-copy\")), s.removeEventListener(i.move, N), s.removeEventListener(i.up, A), i.leave && s.removeEventListener(i.leave, A), c[0].id != w && null != w) {\n            var n = r.getNode(w);\n            if (!1 === (l = FamilyTree.events.publish(\"drop\", [r, c[0].id, n.id, f[0], t]))) return I(w, k), void (r._gragStartedId = null);\n            if (r.canUpdateLink(c[0].id, w)) (d = r.get(c[0].id)).pid = w, d.stpid = null, r.updateNode(d, null, !0); else I(w, k);\n            r._gragStartedId = null\n        } else {\n            if (e._dragEventFired) {\n                var l = FamilyTree.events.publish(\"drop\", [r, c[0].id, void 0, f[0], t]);\n                if (r.config.draggable && !1 !== l) {\n                    for (a = 0; a < c.length; a++) {\n                        var d;\n                        if (d = family.get(c[a].id)) {\n                            var m = FamilyTree._getTransform(f[a]);\n                            null != d.movex ? d.movex += m[4] - c[a].x : d.movex = m[4] - c[a].x, null != d.movey ? d.movey += m[5] - c[a].y : d.movey = m[5] - c[a].y, family.update(d)\n                        }\n                    }\n                    family.draw(FamilyTree.action.update, {dragNodeIdList: o})\n                }\n            }\n            r._gragStartedId = null\n        }\n    };\n    s.addEventListener(i.move, N), s.addEventListener(i.up, A), i.leave && s.addEventListener(i.leave, A)\n},FamilyTree.prototype._dragDropHandler = function (e, t, i) {\n    var r = FamilyTree._getClientXY(t), a = e.getAttribute(FamilyTree.attr.node_id), n = this.getNode(a);\n    e._dragEventFired = !1;\n    var o = null, l = null;\n    this._gragStartedId = a, this.element.style.mozUserSelect = this.element.style.webkitUserSelect = this.element.style.userSelect = \"none\";\n    var s = this, d = this.getSvg(), c = {x: r.x, y: r.y}, m = FamilyTree._getTransform(e), p = m[4], h = m[5],\n        f = s.getScale(), u = e.cloneNode(!0);\n    u.setAttribute(\"data-n-id\", \"draging\"), d.insertBefore(u, d.firstChild), u.style.opacity = .7;\n    var y = function (e, t) {\n        if (null != e) {\n            t.classList.remove(\"bft-drag-over\");\n            for (var i = s.getNode(o), r = FamilyTree.getStParentNodes(i), a = 0; a < r.length; a++) {\n                var n = s.getNodeElement(r[a].id);\n                n && (n.style.opacity = 1)\n            }\n        }\n    }, g = function (t) {\n        if (c) {\n            var i = FamilyTree._getClientXY(t), r = t.target;\n            FamilyTree.isMobile() && (r = document.elementFromPoint(i.x, i.y));\n            var a = FamilyTree._getOffsetXY(s.element, t), g = {\n                left: s.width() - (a.x + s.config.padding) < 0,\n                right: a.x - s.config.padding < 0,\n                up: s.height() - (a.y + s.config.padding) < 0,\n                down: a.y - s.config.padding < 0\n            };\n            if (g.left || g.right || g.up || g.down) {\n                d.classList && (d.classList.remove(\"bft-cursor-grab\"), d.classList.add(\"bft-cursor-move\"), d.classList.remove(\"bft-cursor-nodrop\"), d.classList.remove(\"bft-cursor-copy\"));\n                var T = m[4], b = m[5], F = c.x, x = c.y, _ = i.x, w = i.y;\n                s.moveStart(g, (function (e) {\n                    m[4] = T + e.x, m[5] = b + e.y, c.x = F - e.xWithoutScale, c.y = x - e.yWithoutScale, i.x = _ - e.xWithoutScale, i.y = w - e.yWithoutScale, u.setAttribute(\"transform\", \"matrix(\" + m.toString() + \")\")\n                }))\n            } else {\n                if (s.moveEnd(), d.classList && (d.classList.add(\"bft-cursor-grab\"), d.classList.remove(\"bft-cursor-move\"), d.classList.remove(\"bft-cursor-nodrop\"), d.classList.remove(\"bft-cursor-copy\")), y(o, l), o = null, l = null, s.config.enableDragDrop) for (; null != r && r != d;) {\n                    if (r.hasAttribute && r.hasAttribute(FamilyTree.attr.node_id)) {\n                        var k = r.getAttribute(FamilyTree.attr.node_id);\n                        if (s._gragStartedId && k != s._gragStartedId) {\n                            o = k, l = r;\n                            break\n                        }\n                    }\n                    r = r.parentNode\n                }\n                if (\"draging\" == o && (o = null, l = null), null != o) {\n                    l.classList.add(\"bft-drag-over\");\n                    for (var S = s.getNode(o), C = FamilyTree.getStParentNodes(S), I = 0; I < C.length; I++) {\n                        var N = s.getNodeElement(C[I].id);\n                        N && (N.style.opacity = .1)\n                    }\n                    !s.canUpdateLink(n.id, o) && d.classList ? (d.classList.remove(\"bft-cursor-grab\"), d.classList.remove(\"bft-cursor-move\"), d.classList.remove(\"bft-cursor-copy\"), d.classList.add(\"bft-cursor-nodrop\")) : d.classList && (d.classList.remove(\"bft-cursor-grab\"), d.classList.remove(\"bft-cursor-move\"), d.classList.add(\"bft-cursor-copy\"), d.classList.remove(\"bft-cursor-nodrop\"))\n                }\n                var A = (i.x - c.x) / f, L = (i.y - c.y) / f;\n                if (m[4] = p + A, m[5] = h + L, !e._dragEventFired && (Math.abs(i.x - c.x) > FamilyTree.FIRE_DRAG_NOT_CLICK_IF_MOVE || Math.abs(i.y - c.y) > FamilyTree.FIRE_DRAG_NOT_CLICK_IF_MOVE)) !1 === FamilyTree.events.publish(\"drag\", [s, k, t]) && v(), e._dragEventFired = !0;\n                u.setAttribute(\"transform\", \"matrix(\" + m.toString() + \")\")\n            }\n        }\n    }, v = function (t) {\n        if (s.moveEnd(), d.classList && (d.classList.remove(\"bft-cursor-grab\"), d.classList.remove(\"bft-cursor-move\"), d.classList.remove(\"bft-cursor-nodrop\"), d.classList.remove(\"bft-cursor-copy\")), d.removeEventListener(i.move, g), d.removeEventListener(i.up, v), i.leave && d.removeEventListener(i.leave, v), n.id == o || null == o) return e._dragEventFired && FamilyTree.events.publish(\"drop\", [s, n.id, void 0, u, t]), d.removeChild(u), void (s._gragStartedId = null);\n        var r = s.getNode(o);\n        if (!1 === FamilyTree.events.publish(\"drop\", [s, n.id, r.id, u, t])) return y(o, l), d.removeChild(u), void (s._gragStartedId = null);\n        if (s.canUpdateLink(n.id, o)) {\n            var a = s.get(n.id);\n            a.pid = o, a.stpid = null, s.updateNode(a, null, !0)\n        } else d.removeChild(u), y(o, l);\n        s._gragStartedId = null\n    };\n    d.addEventListener(i.move, g), d.addEventListener(i.up, v), i.leave && d.addEventListener(i.leave, v)\n},FamilyTree.prototype._resizeHandler = function (e, t) {\n    if (this.isVisible) {\n        var i = this.getViewBox(), r = this.getSvg(), a = r.getAttribute(\"width\"), n = r.getAttribute(\"height\"),\n            o = a / i[2], l = n / i[3], s = o > l ? l : o;\n        r.setAttribute(\"width\", this.width()), r.setAttribute(\"height\", this.height()), i[2] = this.width() / s, i[3] = this.height() / s, this.setViewBox(i), this.xScrollUI.create(this.width()), this.yScrollUI.create(this.height()), this._draw(!1, FamilyTree.action.resize)\n    }\n},FamilyTree.prototype._nodeDbClickHandler = function (e, t) {\n    if (!1 === FamilyTree.events.publish(\"dbclick\", [this, this.get(e)])) return !1;\n    this._commonClickHandler(e, t, this.config.nodeMouseDbClick)\n},FamilyTree.prototype._nodeClickHandler = function (e, t) {\n    var i = this.getNodeElement(e);\n    if (i && i._dragEventFired) i._dragEventFired = !1; else {\n        if (!1 === FamilyTree.events.publish(\"click\", [this, {node: this.getNode(e), event: t}])) return !1;\n        this._commonClickHandler(e, t, this.config.nodeMouseClick)\n    }\n},FamilyTree.prototype._nodeCircleMenuItemClickHandler = function (e, t) {\n    var i = e.parentNode.getAttribute(FamilyTree.attr.control_node_circle_menu_wrraper_id),\n        r = e.getAttribute(FamilyTree.attr.control_node_circle_menu_name), a = this.nodeCircleMenuUI._menu[r];\n    FamilyTree.events.publish(\"click\", [this.nodeCircleMenuUI, {nodeId: i, menuItemName: r, menuItem: a, event: t}])\n},FamilyTree.prototype._nodeCircleMenuClickHandler = function (e) {\n    FamilyTree.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE && this.searchUI.hide(), this.nodeMenuUI.hide(), this.nodeContextMenuUI.hide(), this.menuUI.hide();\n    var t = this.getNode(e), i = null;\n    if (Array.isArray(t.tags)) for (var r = 0; r < t.tags.length; r++) {\n        var a = t.tags[r];\n        this.config.tags[a] && this.config.tags[a].nodeCircleMenu && (i = this.config.tags[a].nodeCircleMenu)\n    }\n    this.nodeCircleMenuUI.show(e, i)\n},FamilyTree.prototype._commonClickHandler = function (e, t, i) {\n    var r;\n    (FamilyTree.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE && this.searchUI.hide(), this.nodeMenuUI.hide(), this.nodeContextMenuUI.hide(), this.menuUI.hide(), this.nodeCircleMenuUI.hide(), i == FamilyTree.action.expandCollapse && this.toggleExpandCollapse(e, t), i == FamilyTree.action.edit) && ((r = this.getNode(e)) && (this.editUI.show(r.id), this.ripple(r.id, t.clientX, t.clientY)));\n    i == FamilyTree.action.details && ((r = this.getNode(e)) && (this.editUI.show(r.id, !0), this.ripple(r.id, t.clientX, t.clientY)))\n},FamilyTree.prototype._menuHandlerMouseDownHandler = function (e, t) {\n    t.stopPropagation(), t.preventDefault()\n},FamilyTree.prototype._nodeMenuClickHandler = function (e, t, i) {\n    FamilyTree.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE && this.searchUI.hide(), this.nodeMenuUI.hide(), this.nodeContextMenuUI.hide(), this.menuUI.hide(), this.nodeCircleMenuUI.hide();\n    var r = this.getNode(e), a = null;\n    if (Array.isArray(r.tags)) for (var n = 0; n < r.tags.length; n++) {\n        var o = r.tags[n];\n        this.config.tags[o] && this.config.tags[o].nodeMenu && (a = this.config.tags[o].nodeMenu)\n    }\n    this.nodeMenuUI.showStickIn(t, e, null, a)\n},FamilyTree.prototype._menuClickHandler = function (e, t) {\n    t.stopPropagation(), t.preventDefault(), this.nodeMenuUI.hide(), this.nodeContextMenuUI.hide(), this.menuUI.show(e.offsetLeft, e.offsetTop)\n},FamilyTree.prototype._lonelyButtonHandler = function () {\n    var e = {id: this.generateId()};\n    !1 !== this.addNode(e, null, !0) && this.center(e.id)\n},FamilyTree.prototype.toggleExpandCollapse = function (e, t) {\n    var i = this.getNode(e), r = this.getCollapsedIds(i);\n    if (r.length) {\n        if (!1 === FamilyTree.events.publish(\"expcollclick\", [this, !1, e, r])) return !1;\n        this.expand(e, r, !1)\n    } else {\n        if (!1 === FamilyTree.events.publish(\"expcollclick\", [this, !0, e, i.childrenIds])) return !1;\n        this.collapse(e, i.childrenIds, !1)\n    }\n    t && this.ripple(i.id, t.clientX, t.clientY)\n},FamilyTree.prototype._move = function (e, t, i) {\n    i[0] = t, i[1] = e, this.setViewBox(i), this.xScrollUI.setPosition(), this.yScrollUI.setPosition()\n},FamilyTree.prototype.moveStart = function (e, t, i, r) {\n    if (e) {\n        if (!this._moveInterval) {\n            var a = this, n = this.getViewBox().slice(0), o = this.getScale(), l = 0, s = 0, d = 1;\n            FamilyTree.isNEU(i) && (i = FamilyTree.anim.inSin), FamilyTree.isNEU(r) && (r = 3e3), this._moveInterval = setInterval((function () {\n                var c = {x: 0, y: 0, xWithoutScale: 0, yWithoutScale: 0};\n                e.left ? (l++, c.x = l * FamilyTree.MOVE_STEP / o, c.xWithoutScale = l * FamilyTree.MOVE_STEP) : e.right && (l++, c.x = -l * FamilyTree.MOVE_STEP / o, c.xWithoutScale = -l * FamilyTree.MOVE_STEP), e.up ? (s++, c.y = s * FamilyTree.MOVE_STEP / o, c.yWithoutScale = s * FamilyTree.MOVE_STEP) : e.down && (s++, c.y = -s * FamilyTree.MOVE_STEP / o, c.yWithoutScale = -s * FamilyTree.MOVE_STEP);\n                var m = i((10 * d - 10) / r);\n                c.x = c.x * m, c.xWithoutScale = c.xWithoutScale * m, c.y = c.y * m, c.yWithoutScale = c.yWithoutScale * m, a.setViewBox([n[0] + c.x, n[1] + c.y, n[2], n[3]]), t && t(c), d += 1\n            }), 10)\n        }\n    } else console.error(\"movePosition parameter not defined\")\n},FamilyTree.prototype.moveEnd = function () {\n    this._moveInterval && (clearInterval(this._moveInterval), this._moveInterval = null)\n},void 0 === FamilyTree && (FamilyTree = {}),FamilyTree.node = function (e, t, i, r) {\n    this.templateName = r, this.id = e, this.pid = t, this.children = [], this.childrenIds = [], this.parent = null, this.stpid = null, this.stParent = null, this.stChildren = [], this.stChildrenIds = [], this.tags = i, this.tags || (this.tags = [])\n},FamilyTree.prototype._mouseDownHandler = function (e, t, i) {\n    var r = this;\n    FamilyTree.HIDE_EDIT_FORM_ON_PAN && this.editUI.hide(), FamilyTree.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE && this.searchUI.hide(), this.nodeMenuUI.hide(), this.nodeContextMenuUI.hide(), this.menuUI.hide(), this.nodeCircleMenuUI.hide();\n    var a = this.getViewBox(), n = this.getScale(), o = FamilyTree._getClientTouchesXY(t, 0),\n        l = FamilyTree._getClientTouchesXY(t, 1),\n        s = {diffX: 0, diffY: 0, x0: o.x, y0: o.y, type: \"pan\", viewBoxLeft: a[0], viewBoxTop: a[1]};\n    t.touches && t.touches.length > 1 && (s.type = \"pinch\", s.dist = Math.sqrt((o.x - l.x) * (o.x - l.x) + (o.y - l.y) * (o.y - l.y))), \"pan\" == s.type && (this._hideBeforeAnimation(), this._changeCursorOnPanStart(a, n, t));\n    var d = function (e) {\n        var t = FamilyTree._getClientTouchesXY(e, 0);\n        if (s && \"pan\" == s.type) {\n            r._hideBeforeAnimation(), s.diffX = t.x - s.x0, s.diffY = t.y - s.y0;\n            var i = -s.diffY / n + s.viewBoxTop, o = -s.diffX / n + s.viewBoxLeft;\n            r._move(i, o, a)\n        } else if (s && \"pinch\" == s.type) {\n            var l = FamilyTree._getClientTouchesXY(e, 1),\n                d = Math.sqrt((t.x - l.x) * (t.x - l.x) + (t.y - l.y) * (t.y - l.y)),\n                c = 1 + (d - s.dist) / (s.dist / 100) / 100;\n            s.dist = d;\n            var m = FamilyTree._pinchMiddlePointInPercent(r.element, r.width(), r.height(), e);\n            r.zoom(c, m)\n        }\n    }, c = function () {\n        \"pan\" == s.type && r.config.sticky ? setTimeout((function () {\n            FamilyTree._moveToBoundaryArea(e, r.getViewBox(), r.response.boundary, (function () {\n                r._draw(!0, FamilyTree.action.pan)\n            }))\n        }), 0) : \"pan\" != s.type || r.config.sticky || setTimeout((function () {\n            r._draw(!0, FamilyTree.action.pan)\n        }), 0), \"pan\" == s.type && r._changeCursorOnPanEnd(), s = null, e.removeEventListener(i.move, d), e.removeEventListener(i.up, c), i.leave && e.removeEventListener(i.leave, c), i.touchstart && e.removeEventListener(i.touchstart, c)\n    };\n    this.config.enablePan && (e.addEventListener(i.move, d), e.addEventListener(i.up, c), i.leave && e.addEventListener(i.leave, c), i.touchstart && e.addEventListener(i.touchstart, c))\n},FamilyTree.prototype._changeCursorOnPanStart = function (e, t, i) {\n    var r = this.getPointerElement(), a = FamilyTree._getOffsetXY(this.element, i), n = a.x / t + e[0] - 16 / t,\n        o = a.y / t + e[1] - 16 / t;\n    r.style.display = \"inherit\", r.setAttribute(\"transform\", \"matrix(0,0,0,0,\" + n + \",\" + o + \")\"), FamilyTree.animate(r, {\n        transform: [0, 0, 0, 0, n, o],\n        opacity: 0\n    }, {transform: [1 / t, 0, 0, 1 / t, n, o], opacity: 1}, 300, FamilyTree.anim.outBack)\n},FamilyTree.prototype._changeCursorOnPanEnd = function () {\n    this.getPointerElement().style.display = \"none\"\n},FamilyTree.searchUI = function () {\n    this.lastSearch = [], this._searchAfterEnterPress = !1, this._event_id = FamilyTree._guid(), this.instance = null\n},FamilyTree.searchUI.prototype.init = function (e) {\n    this.instance = e, this.obj = this.instance, this._initSearchFields();\n    var t = this, i = this.instance.config.padding - 10, r = this.instance.config.padding - 10,\n        a = this.instance.getMenuButton();\n    if (a) {\n        var n = a.getBoundingClientRect(), o = this.instance.getSvg().getBoundingClientRect();\n        i = o.right - n.left + 10, r = n.top - o.top - 10\n    }\n    var l = document.createElement(\"div\");\n    l.classList.add(\"bft-search\"), l.style.right = i + \"px\", l.style.top = r + \"px\";\n    var s = FamilyTree.elements.textbox({}, {label: FamilyTree.SEARCH_PLACEHOLDER, btn: \"X\"}, \"320px\");\n    l.innerHTML += s.html, this.xBtn = l.querySelector(\"[data-input-btn]\"), this.xBtn.style.display = \"none\", this.searchTableWrapper = document.createElement(\"div\"), l.appendChild(this.searchTableWrapper);\n    var d = this.instance.getSvg().nextSibling;\n    this.instance.element.insertBefore(l, d), FamilyTree.input.init(l), this.input = document.getElementById(s.id), this.xBtn.addEventListener(\"click\", (function (e) {\n        e.preventDefault(), t.hide()\n    })), this.input.addEventListener(\"keypress\", (function (e) {\n        \"Enter\" == e.key && e.preventDefault()\n    })), this.input.addEventListener(\"focus\", (function (e) {\n        t.xBtn.style.display = \"\", t._search()\n    })), this.input.addEventListener(\"blur\", (function (e) {\n        FamilyTree.isNEU(t.input.value) && FamilyTree.SEARCH_HELP_SYMBOL != t.input.value && (t.xBtn.style.display = \"none\")\n    })), this.input.addEventListener(\"keydown\", (function (e) {\n        (\"ArrowDown\" == e.key || \"ArrowUp\" == e.key) && e.preventDefault()\n    })), this.input.addEventListener(\"keyup\", (function (e) {\n        \"ArrowDown\" == e.key ? c() : \"ArrowUp\" == e.key ? m() : \"Enter\" == e.key ? t._enterHandler() : \"Escape\" == e.key ? t.hide() : t._search()\n    }));\n    var c = function () {\n        var e = t.instance.element.querySelectorAll(\"[data-search-item-id]\"),\n            i = t.instance.element.querySelector('[data-selected=\"yes\"]');\n        null == i && e.length > 0 ? e[0].setAttribute(\"data-selected\", \"yes\") : e.length > 0 && i.nextSibling && i.nextSibling.setAttribute && (i.removeAttribute(\"data-selected\"), i.nextSibling.setAttribute(\"data-selected\", \"yes\"))\n    }, m = function () {\n        var e = t.instance.element.querySelectorAll(\"[data-search-item-id]\"),\n            i = t.instance.element.querySelector('[data-selected=\"yes\"]');\n        null == i && e.length > 0 ? e[e.length - 1].setAttribute(\"data-selected\", \"yes\") : e.length > 0 && i.previousSibling && i.previousSibling.setAttribute && (i.removeAttribute(\"data-selected\"), i.previousSibling.setAttribute(\"data-selected\", \"yes\"))\n    }\n},FamilyTree.searchUI.prototype._enterHandler = function () {\n    var e = this.instance.element.querySelector('[data-selected=\"yes\"]');\n    if (e) {\n        if (e.hasAttribute(\"data-search-item-id\")) {\n            var t = e.getAttribute(\"data-search-item-id\");\n            if (this.input.value != FamilyTree.SEARCH_HELP_SYMBOL) {\n                var i = FamilyTree.events.publish(\"\", [this.instance, t]),\n                    r = FamilyTree.events.publish(\"searchclick\", [this, {nodeId: t}]);\n                !1 === i && (r = !1), 0 != r && this.instance.center(t)\n            } else this.input.value = t + \" \", this.searchTableWrapper.innerHTML = \"\"\n        }\n    } else this._searchAfterEnterPress = !0, this.__search(), this.searchTableWrapper.innerHTML = \"\", this.instance.draw()\n},FamilyTree.searchUI.prototype._initSearchFields = function () {\n    if (null == this.instance.config.searchFields) {\n        this._searchFields = [];\n        for (var e = 0; e < this.instance.response.allFields.length; e++) {\n            var t = this.instance.response.allFields[e];\n            \"tags\" == t || FamilyTree._fieldIsImg(this.instance.config, t) || this._searchFields.push(t)\n        }\n    } else this._searchFields = this.instance.config.searchFields;\n    if (null == this.instance.config.searchFieldsAbbreviation) {\n        this.searchFieldsAbbreviation = {};\n        for (e = 0; e < this._searchFields.length; e++) {\n            for (var i = this._searchFields[e], r = 0, a = i.slice(0, r + 1).toLowerCase(); this.searchFieldsAbbreviation[a];) r++, a = i.slice(0, r + 1).toLowerCase();\n            this.searchFieldsAbbreviation[a] = i\n        }\n    } else this.searchFieldsAbbreviation = this.instance.config.searchFieldsAbbreviation;\n    this._searchFieldsAbbreviation = this.searchFieldsAbbreviation\n},FamilyTree.searchUI.prototype.find = function (e) {\n    this.input && (this.input.value = e, document.activeElement == this.input ? this._search(e) : this.input.focus())\n},FamilyTree.searchUI.prototype.addMatchTag = function (e) {\n    if (this._searchAfterEnterPress) {\n        for (var t = 0; t < this.lastSearch.length; t++) if (this.lastSearch[t].id == e) return !0;\n        return !1\n    }\n    return null\n},FamilyTree.searchUI.prototype.__search = function () {\n    this.lastSearch = FamilyTree._search.search(this.instance.config.nodes, this.input.value, this._searchFields, this._searchFields, this.instance.config.searchDisplayField, this.instance.config.searchFieldsWeight, this.searchFieldsAbbreviation)\n},FamilyTree.searchUI.prototype._search = function () {\n    var e, t = this;\n    if (this._searchAfterEnterPress = !1, this.input.value == FamilyTree.SEARCH_HELP_SYMBOL) e = this.helpView(); else {\n        this.__search();\n        var i = FamilyTree._getFistImgField(this.instance.config);\n        e = `<table border=\"0\" cellspacing=\"0\" cellpadding=\"0\">\\n                        <tbody>\\n                            ${function () {\n            for (var e = \"\", r = 0; r < t.lastSearch.length && !(r >= FamilyTree.SEARCH_RESULT_LIMIT); r++) {\n                var a = t.lastSearch[r], n = \"\";\n                if (i) {\n                    var o = t.instance._get(a.id);\n                    \"function\" == typeof i ? n = i(t.instance, t.instance.getNode(a.id), o) : o[i] && (n = o[i])\n                }\n                var l = \"\", s = \"\";\n                t.instance.config.searchDisplayField == a.__searchField ? l = a.__searchMarks : t.instance.config.searchDisplayField ? (l = a[t.instance.config.searchDisplayField], FamilyTree.isNEU(l) && (l = \"\"), s = a.__searchMarks) : l = a.__searchMarks;\n                var d = {\n                    img: n,\n                    nodeId: a.id,\n                    first: l,\n                    second: s,\n                    searchItem: a,\n                    html: FamilyTree.searchUI.createItem(n, a.id, l, s)\n                };\n                FamilyTree.events.publish(\"add-item\", [t, d]), e += d.html\n            }\n            return e\n        }()}  \\n                        </tbody>\\n                    </table>`\n    }\n    this.searchTableWrapper.innerHTML = e;\n    for (var r = this.instance.element.querySelectorAll(\"[data-search-item-id]\"), a = 0; a < r.length; a++) r[a].addEventListener(\"click\", (function () {\n        if (this.hasAttribute(\"data-search-item-id\")) {\n            var e = this.getAttribute(\"data-search-item-id\");\n            if (t.input.value != FamilyTree.SEARCH_HELP_SYMBOL) {\n                var i = FamilyTree.events.publish(\"searchclick\", [t.instance, e]),\n                    r = FamilyTree.events.publish(\"searchclick\", [t, {nodeId: e}]);\n                if (!1 === i && (r = !1), !1 !== r) {\n                    t.instance.center(this.getAttribute(\"data-search-item-id\"));\n                    var a = t.instance.element.querySelector('[data-selected=\"yes\"]');\n                    a && a.removeAttribute(\"data-selected\"), this.setAttribute(\"data-selected\", \"yes\"), t.input.focus()\n                }\n            } else t.input.value = e + \" \", t.searchTableWrapper.innerHTML = \"\", t.input.focus()\n        }\n    }));\n    FamilyTree.events.publish(\"show-items\", [this, {}])\n},FamilyTree.searchUI.prototype.helpView = function () {\n    var e = '<table border=\"0\" cellspacing=\"0\" cellpadding=\"0\">';\n    for (var t in this.searchFieldsAbbreviation) e += `<tr data-search-item-id=\"${t}\" style=\"height: 50px;\"><td class=\"bft-search-image-td\" style=\"text-align: center;\">${t}</td><td class=\"bft-search-text-td\">${this.searchFieldsAbbreviation[t]}</td></tr>`;\n    return e += \"</table>\"\n},FamilyTree.searchUI.createItem = function (e, t, i, r) {\n    return i && (i = \"<b>\" + i + \"</b>\"), `<tr data-search-item-id=\"${t}\">\\n                <td class=\"bft-search-image-td\">\\n                    ${e = e ? `<div class=\"bft-search-photo\" style=\"background-image: url(${e})\"></div>` : `<div class=\"bft-search-photo\">${FamilyTree.icon.user(32, 32, \"#aeaeae\")}</div>`}\\n                </td>\\n                <td class=\"bft-search-text-td\">${i} <br/>${r}</td>\\n            </tr>`\n},FamilyTree.searchUI.prototype.hide = function () {\n    if (!1 === FamilyTree.events.publish(\"hide\", [this])) return !1;\n    this._searchAfterEnterPress && (this._searchAfterEnterPress = !1, this.instance.draw()), this.lastSearch = [], this.xBtn && (this.xBtn.style.display = \"none\"), this.searchTableWrapper && (this.searchTableWrapper.innerHTML = \"\"), this.input && (this.input.value = \"\", document.activeElement == this.input && this.input.blur(), document.activeElement == this.xBtn && FamilyTree.input.blurHandler(this.input))\n},FamilyTree.searchUI.prototype.on = function (e, t) {\n    return FamilyTree.events.on(e, t, this._event_id), this\n},void 0 === FamilyTree && (FamilyTree = {}),FamilyTree.manager = function (e) {\n    this.config = e.config, this.layoutConfigs = e._layoutConfigs, this.visibleNodeIds = [], this.viewBox = null, this.action = null, this.actionParams = null, this.nodes = {}, this.oldNodes = {}, this.maxX = null, this.maxY = null, this.minX = null, this.minY = null, this.bordersByRootIdAndLevel = null, this.roots = null, this.state = null, this.vbIsInitializedFromState = !1, this.rootList = [], this.instance = e, this._fixAdjustForExport = {\n        x: 0,\n        y: 0\n    }\n},FamilyTree.manager.prototype.read = function (e, t, i, r, a, n, o, l) {\n    var s = this;\n    FamilyTree.state._get(this.config.state, t, i, (function (d) {\n        s.state = d, s.action = a, s.actionParams = n, a != FamilyTree.action.init || !s.state || n && n.method && \"fit\" == n.method ? (s.viewBox = r, s.vbIsInitializedFromState = !1) : (s.viewBox = s.state.vb, s.vbIsInitializedFromState = !0, Array.isArray(s.state.roots) && (s.config.roots = s.state.roots));\n        var c = s.maxX, m = s.maxY, p = s.minX, h = s.minY, f = s.bordersByRootIdAndLevel, u = s.roots, y = s.nodes;\n        if (e) {\n            var g = FamilyTree.manager._getResponse(t, i, s.visibleNodeIds, s.config, c, m, p, h, s.viewBox, u, s.action, s.actionParams, y, s.oldNodes, s.vbIsInitializedFromState);\n            a != FamilyTree.action.exporting && (s.maxX = c, s.maxY = m, s.minX = p, s.minY = h, s.roots = u, s.nodes = y, s.visibleNodeIds = g.visibleNodeIds), g.bordersByRootIdAndLevel = f, g.roots = u, g.adjustify = {\n                x: 0,\n                y: 0\n            }, s.state && (g.adjustify = s.state.adjustify), o(g)\n        } else s.oldNodes = y || null, s._read((function (e) {\n            c = e.maxX, m = e.maxY, p = e.minX, h = e.minY, f = e.bordersByRootIdAndLevel, u = e.roots, y = e.nodes;\n            var r = FamilyTree.manager._getResponse(t, i, s.visibleNodeIds, s.config, c, m, p, h, s.viewBox, u, s.action, s.actionParams, y, s.oldNodes, s.vbIsInitializedFromState);\n            r.notif = e.limit, r.roots = u, r.bordersByRootIdAndLevel = f, r.adjustify = e.adjustify, a != FamilyTree.action.exporting && (s.maxX = c, s.maxY = m, s.minX = p, s.minY = h, s.roots = u, s.nodes = y, s.visibleNodeIds = r.visibleNodeIds, s.bordersByRootIdAndLevel = f, s.rootList = e.rootList), o(r)\n        }), l)\n    }))\n},FamilyTree.manager.prototype._read = function (e, t) {\n    var i = this, r = FamilyTree.manager._createNodes(this.instance);\n    t(r);\n    var a = r.nodes, n = r.roots, o = FamilyTree.remote;\n    null == o && (o = FamilyTree.local), o._setPositions(n, i.layoutConfigs, (function (t) {\n        var o = FamilyTree.manager._doNotChangePositionOfClickedNodeIfAny(n, a, i.action, i.actionParams, i.oldNodes, i.config.orientation);\n        i.state && i.action == FamilyTree.action.init && (o = i.state.adjustify), i.action == FamilyTree.action.exporting ? o = i._fixAdjustForExport : i._fixAdjustForExport = o;\n        for (var l = {\n            minX: null,\n            minY: null,\n            maxX: null,\n            maxY: null\n        }, s = {}, d = 0; d < n.length; d++) FamilyTree.manager._setMinMaxXYAdjustifyIterate(n[d], n[d], l, 0, s, o, i.config.orientation);\n        e({\n            minX: l.minX,\n            minY: l.minY,\n            maxX: l.maxX,\n            maxY: l.maxY,\n            bordersByRootIdAndLevel: s,\n            nodes: a,\n            roots: n,\n            rootList: r.rootList,\n            limit: t,\n            adjustify: o\n        })\n    }), a)\n},void 0 === FamilyTree && (FamilyTree = {}),FamilyTree.manager._initDinamicNode = function (e, t, i) {\n    t && (e.lcn = t), i && (e.isAssistant = !0);\n    var r = FamilyTree.t(e.templateName);\n    e.w = r && r.size ? r.size[0] : 0, e.h = r && r.size ? r.size[1] : 0, e.isSplit = \"split\" == e.templateName, e.isMirror = \"mirror\" == e.templateName, e.isSubLevel = \"subLevel\" == e.templateName\n},FamilyTree.manager._setCollpasedProperty = function (e, t, i, r, a, n, o) {\n    null == e.collapsed && t.collapse && t.collapse.allChildren ? e.collapsed = !0 : null == e.collapsed && (e.collapsed = !1), a == FamilyTree.action.expand && -1 != i.ids.indexOf(e.id) && (e.collapsed = !1), a == FamilyTree.action.collapse && (i.expandIds || i.collapseIds) ? i.expandIds && -1 != i.expandIds.indexOf(e.id) ? e.collapsed = !1 : i.collapseIds && -1 != i.collapseIds.indexOf(e.id) && (e.collapsed = !0) : a == FamilyTree.action.collapse && -1 != i.ids.indexOf(e.id) && (e.collapsed = !0), a == FamilyTree.action.expand && \"all\" == i.ids && (e.collapsed = !1), a == FamilyTree.action.exporting && i.expandChildren && (e.collapsed = !1), a == FamilyTree.action.init && null != o ? e.collapsed = !o.exp.has(e.id) : a == FamilyTree.action.init ? e.collapsed = t.collapse && n >= t.collapse.level - 1 && -1 == r.indexOf(e.id) : a == FamilyTree.action.centerNode || a == FamilyTree.action.insert || a == FamilyTree.action.expand || a == FamilyTree.action.collapse ? r.has(e.id) && (e.collapsed = !1) : a == FamilyTree.action.update && i && i.changeRoots && i.changeRoots.has(e.id) && (e.collapsed = !1)\n},FamilyTree.manager._initNode = function (e, t, i, r, a, n, o) {\n    var l = o.manager.config, s = o.manager.layoutConfigs, d = o.manager.action, c = o.manager.actionParams,\n        m = o.manager.state, p = s[i || \"base\"];\n    null == e.parent && FamilyTree.manager._setCollpasedProperty(e, p, c, a, d, r - 1, m);\n    for (var h = 0; h < e.childrenIds.length; h++) {\n        var f = t[e.childrenIds[h]];\n        if (FamilyTree.manager._setCollpasedProperty(f, p, c, a, d, r, m), !f.collapsed) {\n            if (f.parent = e, null != f.ppid) {\n                var u = t[f.ppid];\n                u && (f.parentPartner = u)\n            }\n            (-1 != f.tags.indexOf(\"left-partner\") || -1 != f.tags.indexOf(\"right-partner\") || -1 != f.tags.indexOf(\"partner\") || f.parentPartner) && -1 == n.indexOf(e.id) && n.push(e.id), e.children.push(f)\n        }\n    }\n    if (d != FamilyTree.action.minimize || e.min ? d == FamilyTree.action.maximize && !0 === e.min ? (c.all || c.id == e.id) && (e.min = !1) : d == FamilyTree.action.exporting && !1 === c.min ? e.min = !1 : d == FamilyTree.action.init && null != m && (e.min = m.min.has(e.id)) : (c.all || c.id == e.id) && (e.min = !0), !e.min) for (h = 0; h < e.stChildrenIds.length; h++) {\n        f = t[e.stChildrenIds[h]];\n        e.tags && e.tags.has(\"filter\") || (f.stParent = e, e.stChildren.push(f))\n    }\n    null != r && (e.level = r), i && (e.lcn = i);\n    var y = FamilyTree._getSubLevels(e.tags, l.tags);\n    y > 0 && (e.subLevels = y), -1 != e.tags.indexOf(\"assistant\") && null != e.parent && (e.isAssistant = !0);\n    var g = FamilyTree.t(e.templateName, e.min);\n    e.w = g && g.size ? g.size[0] : 0, e.h = g && g.size ? g.size[1] : 0, e.padding = g && g.padding ? g.padding : [0, 0, 0, 0];\n    var v = {node: e};\n    FamilyTree.events.publish(\"node-initialized\", [o, v]), FamilyTree.events.publish(\"node-created\", [e])\n},FamilyTree.manager._iterate = function (e, t, i, r, a, n, o, l, s, d, c, m) {\n    var p = m.manager.layoutConfigs;\n    if (FamilyTree.manager._initNode(t, i, s, r, d, c, m), t.isAssistant && (n[t.pid] || (n[t.pid] = []), n[t.pid].push(t.id)), t.subLevels > 0 && o.push(t.id), FamilyTree.MIXED_LAYOUT_FOR_NODES_WITH_COLLAPSED_CHILDREN && !t.isAssistant && t.parent) {\n        if (t.parent && t.parent.children.length && t.parent.children[t.parent.children.length - 1] == t) {\n            for (var h = [], f = 0, u = 0, y = 0; y < t.parent.children.length; y++) {\n                -1 == (g = t.parent.children[y]).tags.indexOf(\"partner\") && -1 == g.tags.indexOf(\"left-partner\") && -1 == g.tags.indexOf(\"right-partner\") && -1 == g.tags.indexOf(\"assistant\") && 0 == g.children.length ? h.push(g.id) : -1 != g.tags.indexOf(\"assistant\") ? f++ : -1 == g.tags.indexOf(\"partner\") && -1 == g.tags.indexOf(\"left-partner\") && -1 == g.tags.indexOf(\"right-partner\") || u++\n            }\n            (FamilyTree.MIXED_LAYOUT_ALL_NODES && h.length > 1 && h.length == t.parent.children.length - f - u || !FamilyTree.MIXED_LAYOUT_ALL_NODES && h.length > 1) && (l[t.pid] = h)\n        }\n    } else if (!t.isAssistant && 0 == t.childrenIds.length && t.parent && !l[t.pid]) {\n        for (h = [], f = 0, u = 0, y = 0; y < t.parent.children.length; y++) {\n            var g;\n            -1 == (g = t.parent.children[y]).tags.indexOf(\"partner\") && -1 == g.tags.indexOf(\"left-partner\") && -1 == g.tags.indexOf(\"right-partner\") && -1 == g.tags.indexOf(\"assistant\") && 0 == g.childrenIds.length ? h.push(g.id) : -1 != g.tags.indexOf(\"assistant\") ? f++ : -1 == g.tags.indexOf(\"partner\") && -1 == g.tags.indexOf(\"left-partner\") && -1 == g.tags.indexOf(\"right-partner\") || u++\n        }\n        (FamilyTree.MIXED_LAYOUT_ALL_NODES && h.length > FamilyTree.MIXED_LAYOUT_IF_NUMBER_OF_CHILDREN_IS_MORE_THEN && h.length == t.parent.childrenIds.length - f - u || !FamilyTree.MIXED_LAYOUT_ALL_NODES && h.length > FamilyTree.MIXED_LAYOUT_IF_NUMBER_OF_CHILDREN_IS_MORE_THEN) && (l[t.pid] = h)\n    }\n    t.stChildren.length && (e.stContainerNodes || (e.stContainerNodes = []), e.stContainerNodes.push(t));\n    for (var v = 0; v < t.stChildren.length; v++) {\n        var T = \"\";\n        for (y = 0; y < t.tags.length; y++) if (p[t.tags[y]]) {\n            T = t.tags[y];\n            break\n        }\n        a.push(t.stChildren[v].id), FamilyTree.manager._iterate(e, t.stChildren[v], i, 0, a, n, o, l, T, d, c, m)\n    }\n    r++;\n    for (v = 0; v < t.children.length; v++) FamilyTree.manager._iterate(e, t.children[v], i, r, a, n, o, l, s, d, c, m)\n},FamilyTree.manager.__createNodes = function (e, t, i, r, a, n, o, l) {\n    for (var s = [], d = FamilyTree._addDottedLines(i), c = 0; c < d.length; c++) {\n        var m, p = d[c];\n        m = FamilyTree.STRING_TAGS ? p.tags ? p.tags.split(\",\") : [] : Array.isArray(p.tags) ? p.tags.slice(0) : [], l.filterUI.addFilterTag(p) && m.unshift(\"filter\");\n        var h = l.searchUI.addMatchTag(p.id);\n        !0 === h ? m.unshift(\"match\") : !1 === h && m.unshift(\"no-match\");\n        var f = FamilyTree._getTemplate(m, i.tags, i.template), u = new FamilyTree.node(p.id, p.pid, m, f);\n        FamilyTree.isNEU(p.ppid) || (u.ppid = p.ppid), FamilyTree.isNEU(p.stpid) || (u.stpid = p.stpid), null != i.orderBy && (u.order = FamilyTree.manager._getOrderFieldValue(p, i.orderBy)), null != p.movex && (u.movex = p.movex), null != p.movey && (u.movey = p.movey), e[p.id] = u, s.push(p.id)\n    }\n    null != i.orderBy && s.sort((function (t, r) {\n        var a = e[t].order, n = e[r].order;\n        return \"number\" == typeof a || \"number\" == typeof n ? (null == a && (a = -1), null == n && (n = -1), i.orderBy.desc ? n - a : a - n) : \"string\" == typeof a || \"string\" == typeof n ? (null == a && (a = \"\"), null == n && (n = \"\"), i.orderBy.desc ? n.localeCompare(a) : a.localeCompare(n)) : void 0\n    }));\n    for (c = 0; c < s.length; c++) {\n        var y = s[c], g = (u = e[y], n ? n[y] : null), v = e[u.stpid], T = e[u.pid];\n        if (v || (u.stpid = null), T || (u.pid = null), v) {\n            var b = n ? n[v.id] : null;\n            b && (v.min = b.min), v.stChildrenIds.push(u.id)\n        } else T ? (g && (u.collapsed = g.collapsed, u.min = g.min), T.childrenIds.push(u.id)) : (g && (u.collapsed = g.collapsed, u.min = g.min), t.push(u), o.push(u.id));\n        r == FamilyTree.action.init && (u.min = FamilyTree._getMin(u, i))\n    }\n},FamilyTree.manager._createNodes = function (e) {\n    var t = e.manager.config, i = e.manager.layoutConfigs, r = e.manager.action, a = e.manager.actionParams,\n        n = e.manager.oldNodes, o = e.manager.state, l = {}, s = [], d = [];\n    if (FamilyTree.manager.__createNodes(l, s, t, r, a, n, d, e), null != t.roots) {\n        s = [];\n        for (var c = 0; c < t.roots.length; c++) {\n            var m = l[t.roots[c]];\n            if (m && r == FamilyTree.action.centerNode) {\n                for (var p = m; null != p.pid || null != p.stpid;) p = null == p.pid && null != p.stpid ? l[p.stpid] : l[p.pid];\n                for (var h = l[a.id]; (null != h.pid || null != h.stpid) && h != m;) h = null == h.pid && null != h.stpid ? l[h.stpid] : l[h.pid];\n                p == h && (m = p)\n            }\n            if (m) {\n                for (var f = !1, u = 0; u < s.length; u++) if (s[u].id == m.id) {\n                    f = !0;\n                    break\n                }\n                if (!f) {\n                    if (!FamilyTree.isNEU(m.pid)) (ue = (v = l[m.pid]).childrenIds.indexOf(m.id)) > -1 && v.childrenIds.splice(ue, 1);\n                    s.push(m)\n                }\n            }\n        }\n        t.roots = [];\n        for (c = 0; c < s.length; c++) t.roots.push(s[c].id)\n    }\n    r == FamilyTree.action.exporting && null != a.id && ((g = l[a.id]) && (g.pid = null, s = [g]));\n    var y = [];\n    if (r == FamilyTree.action.init && t.expand && t.expand.nodes && null == o) for (c = 0; c < t.expand.nodes.length; c++) {\n        var g = l[t.expand.nodes[c]];\n        for (!0 === t.expand.allChildren && FamilyTree.manager._addExpandedNodeIdsIterate(g, l, y); g;) y.push(g.id), null == g.pid && null != g.stpid ? (g = l[g.stpid]).min = !1 : g = l[g.pid]\n    } else if (r == FamilyTree.action.expand && a.ids && \"all\" != a.ids || r == FamilyTree.action.collapse && a && a.expandIds) {\n        re = r == FamilyTree.action.expand ? a.ids : a.expandIds;\n        for (c = 0; c < re.length; c++) for (var v = l[(g = l[re[c]]).pid]; v;) y.push(v.id), null == v.pid && null != v.stpid ? (v = l[v.stpid]).min = !1 : v = l[v.pid]\n    } else if (r == FamilyTree.action.centerNode) {\n        for (var T = l[a.id]; T;) {\n            if (y.push(T.id), a.options.parentState === FamilyTree.COLLAPSE_PARENT_NEIGHBORS && T) for (c = 0; c < T.childrenIds.length; c++) {\n                (D = l[T.childrenIds[c]]).collapsed = !0\n            }\n            null == T.pid && null != T.stpid ? (T = l[T.stpid]).min = !1 : T = l[T.pid]\n        }\n        T = l[a.id];\n        if (a.options.childrenState === FamilyTree.COLLAPSE_SUB_CHILDRENS) for (c = 0; c < T.childrenIds.length; c++) {\n            (F = l[T.childrenIds[c]]).collapsed = !1;\n            for (var b = 0; b < F.childrenIds.length; b++) {\n                l[F.childrenIds[b]].collapsed = !0\n            }\n        }\n        if (a.options.parentState === FamilyTree.COLLAPSE_PARENT_SUB_CHILDREN_EXCEPT_CLICKED) if (v = l[T.pid]) for (c = 0; c < v.childrenIds.length; c++) {\n            var F;\n            if ((F = l[v.childrenIds[c]]) != T) {\n                F.collapsed = !1;\n                for (b = 0; b < F.childrenIds.length; b++) {\n                    l[F.childrenIds[b]].collapsed = !0\n                }\n            }\n        }\n    } else if (r == FamilyTree.action.insert) for (g = l[a.insertedNodeId]; g;) y.push(g.id), null == g.pid && null != g.stpid ? (g = l[g.stpid]).min = !1 : g = l[g.pid];\n    var x = [], _ = {}, w = [], k = {}, S = [];\n    for (c = 0; c < s.length; c++) FamilyTree.manager._iterate(s[c], s[c], l, 0, x, _, w, k, \"\", y, S, e);\n    if (r == FamilyTree.action.collapse && a && Array.isArray(a.expandIds) && Array.isArray(a.collapseIds)) for (c = 0; c < a.ids.length; c++) {\n        if (a.expandIds.has(a.collapseIds[c])) console.error(`id ${a.collapseIds[c]} exist in both collapseIds and expandIds`); else (g = l[a.collapseIds[c]]) && (g.collapsed = !0)\n    }\n    for (c = s.length - 1; c >= 0; c--) s[c].collapsed && s.splice(c, 1);\n    for (c = 0; c < S.length; c++) {\n        g = l[S[c]];\n        var C = [], I = [], N = [], A = {}, L = 0, E = 0, M = 0, U = [], O = [];\n        for (b = 0; b < g.children.length; b++) {\n            (D = g.children[b]).isAssistant ? C.push(D.id) : -1 != D.tags.indexOf(\"right-partner\") ? (D.isPartner = 1, D.children = [], I.push(D.id)) : -1 != D.tags.indexOf(\"left-partner\") ? (D.isPartner = 2, D.children = [], N.push(D.id)) : -1 == D.tags.indexOf(\"partner\") || L % 2 ? -1 != D.tags.indexOf(\"partner\") && L % 2 ? (D.isPartner = 2, D.children = [], N.push(D.id), L++) : D.parentPartner ? (A[D.parentPartner.id] || (A[D.parentPartner.id] = []), A[D.parentPartner.id].push(D.id)) : C.push(D.id) : (D.isPartner = 1, D.children = [], I.push(D.id), L++)\n        }\n        g.children = [];\n        var B = [];\n        for (b = 0; b < I.length; b++) {\n            A[(D = l[I[b]]).id] ? g.children.push(D) : g.children.splice(0, 0, D);\n            for (var R = 0; R < D.childrenIds.length; R++) B.push(D.childrenIds[R])\n        }\n        var P = [];\n        for (b = 0; b < N.length; b++) {\n            A[(D = l[N[b]]).id] ? g.children.push(D) : g.children.splice(0, 0, D);\n            for (R = 0; R < D.childrenIds.length; R++) P.push(D.childrenIds[R])\n        }\n        for (b = 0; b < P.length; b++) {\n            (D = l[P[b]]).collapsed || (D.parentPartner = D.parent, D.parent = g, D.isChildOfPartner = !0, g.children.push(D))\n        }\n        for (b = N.length - 1; b >= 0; b--) if (A[N[b]]) for (u = 0; u < A[N[b]].length; u++) g.children.push(l[A[N[b]][u]]), E++, -1 == O.indexOf(N[b]) && O.push(N[b]);\n        for (b = 0; b < C.length; b++) {\n            var D = l[C[b]];\n            g.children.push(D)\n        }\n        for (b = 0; b < I.length; b++) if (A[I[b]]) for (u = 0; u < A[I[b]].length; u++) g.children.push(l[A[I[b]][u]]), M++, -1 == U.indexOf(I[b]) && U.push(I[b]);\n        for (b = 0; b < B.length; b++) {\n            (D = l[B[b]]).collapsed || (D.parentPartner = D.parent, D.parent = g, D.isChildOfPartner = !0, g.children.push(D))\n        }\n        g.partnerSeparation = Math.max(O.length, U.length) * t.partnerChildrenSplitSeparation + t.minPartnerSeparation, C.length || !E || M ? C.length || E || !M ? C.length || 1 != E || 1 != M ? C.length || E || M ? !C.length || E || M ? C.length && (E || M) ? g.hasPartners = 7 : g.hasPartners = 1 : g.hasPartners = 6 : g.hasPartners = 5 : g.hasPartners = 4 : g.hasPartners = 3 : g.hasPartners = 2\n    }\n    for (c = 0; c < w.length; c++) {\n        var H = i[(g = l[w[c]]).lcn ? g.lcn : \"base\"];\n        for (b = 0; b < g.subLevels; b++) {\n            var z = new FamilyTree.node(g.id + \"_sub_level_index_\" + b, g.pid, [], \"subLevel\");\n            if (FamilyTree.manager._initDinamicNode(z, g.lcn), v = g.parent) (ue = v.children.indexOf(g)) > -1 && (v.children.splice(ue, 1), v.children.splice(ue, 0, z)), z.children.push(g), z.parent = v, g.parent = z, l[z.id] = z\n        }\n    }\n    for (var $ in _) {\n        (v = l[$]).hasAssistants = !0;\n        z = new FamilyTree.node(v.id + \"_split_assitant_0\", v.id, [\"assistant\"], \"split\");\n        FamilyTree.manager._initDinamicNode(z, v.lcn, !0), l[z.id] = z;\n        var j = [];\n        for (b = v.children.length - 1; b >= 0; b--) {\n            (D = v.children[b]).isAssistant ? (D.parent = null, v.children.splice(b, 1), j.splice(0, 0, D.id)) : D.isPartner || (D.parent && k[D.parent.id] && z && D.parent.id != z.id && (Object.defineProperty(k, z.id, Object.getOwnPropertyDescriptor(k, D.parent.id)), delete k[D.parent.id]), D.parent = z, z.children.unshift(D), v.children.splice(b, 1))\n        }\n        if (j.length % 2) {\n            var q = l[j[j.length - 1]], X = new FamilyTree.node(q.id + \"_mirror\", v.pid, [], \"mirror\");\n            FamilyTree.manager._initDinamicNode(X, q.lcn, !0), X.isAssistant = !0, X.w = q.w, X.h = q.h, l[X.id] = X, j.splice(j.length - 1, 0, X.id)\n        }\n        var Y = 1;\n        for (b = j.length - 1; b >= 0; b--) if (b % 2 && b != j.length - 1) {\n            var V = new FamilyTree.node(v.id + \"_split_assitant_\" + Y, v.pid, [], \"split\");\n            FamilyTree.manager._initDinamicNode(V, v.lcn, !0), l[V.id] = V, j.splice(b, 0, V.id), Y++\n        } else b % 2 && j.splice(b, 0, z.id);\n        for (b = 0; b < j.length; b += 3) {\n            var W = null;\n            W = 0 == b ? v : l[j[b - 2]];\n            var G = l[j[b]], J = l[j[b + 1]], K = l[j[b + 2]];\n            G.parent = W, J.parent = W, K.parent = W, W.children.push(G), W.children.push(J), W.children.push(K)\n        }\n    }\n    var Z = !1;\n    for (var Q in i) {\n        if ((H = i[Q]).layout > 0) {\n            Z = !0;\n            break\n        }\n    }\n    var ee = FamilyTree.events.has(\"node-layout\", e._event_id);\n    if (Z || ee) {\n        var te = {nodes: l, config: t, action: r, actionParams: a};\n        if (w.length) {\n            var ie = !1;\n            for (var $ in k) {\n                var re = k[$];\n                for (c = 0; c < re.length; c++) {\n                    if ((g = l[re[c]]).subLevels) {\n                        ie = !0;\n                        break\n                    }\n                }\n                if (ie) break\n            }\n            if (ie) {\n                var ae = {}, ne = {}, oe = {};\n                for (var $ in k) {\n                    re = k[$];\n                    var le = !1, se = null;\n                    for (c = 0; c < re.length; c++) {\n                        var de = re[c];\n                        (null === se || w.has(de)) && (se = l[de].parent.id, le || FamilyTree.isNEU(l[de].subLevels) || (le = l[de].subLevels > 0)), ae[se] || (ae[se] = []), ae[se].push(de), le && (oe[se] = $, ne[se] || (ne[se] = []), ne[se].push(de))\n                    }\n                }\n                for (var $ in k = {}, ne) if (ne[$].length > FamilyTree.MIXED_LAYOUT_IF_NUMBER_OF_CHILDREN_IS_MORE_THEN) {\n                    var ce = oe[$];\n                    for (c = l[ce].children.length - 1; c >= 0; c--) {\n                        D = l[ce].children[c];\n                        ne[$].has(D.id) && l[ce].children.splice(c, 1)\n                    }\n                }\n                for (var $ in ae) ae[$].length > FamilyTree.MIXED_LAYOUT_IF_NUMBER_OF_CHILDREN_IS_MORE_THEN && (k[$] = ae[$])\n            }\n        }\n        for (var $ in k) {\n            for (var me = v = l[$]; me.isSplit;) me = l[me.pid];\n            for (; me.isSubLevel;) me = l[me.pid];\n            if ((H = i[v.lcn ? v.lcn : \"base\"]).layout > 0 || ee) {\n                te.pnode = v, te.layout = H.layout, te.childrenIds = k[$], te.lastChildrenPidIds = k, te.subLevels = 0, te.layouts = [], FamilyTree.events.publish(\"node-layout\", [e, te]), FamilyTree.events.publish(\"layout\", [te]), te.layouts.length || te.layouts.push({\n                    layout: te.layout,\n                    childrenIds: te.childrenIds,\n                    subLevels: te.subLevels\n                });\n                for (var pe = 0; pe < te.layouts.length; pe++) {\n                    var he = te.layouts[pe];\n                    for (FamilyTree.isNEU(he.subLevels) && (he.subLevels = 0), FamilyTree.isNEU(he.layout) && (he.layout = H.layout), me = v = l[$]; me.isSplit;) me = l[me.pid];\n                    for (; me.isSubLevel;) me = l[me.pid];\n                    var fe = v;\n                    for (b = 0; b < he.subLevels; b++) {\n                        z = new FamilyTree.node(pe + \"_sublevel_layout_\" + b, fe.id, [], \"subLevel\");\n                        FamilyTree.manager._initDinamicNode(z, fe.lcn), z.parent = fe, fe.children.push(z), l[z.id] = z, fe = z\n                    }\n                    if (he.subLevels) {\n                        for (b = 0; b < he.childrenIds.length; b++) {\n                            var ue;\n                            D = l[he.childrenIds[b]];\n                            -1 != (ue = v.children.indexOf(D)) && v.children.splice(ue, 1), D.parent = fe, fe.children.push(D)\n                        }\n                        v = fe\n                    }\n                    if (he.layout == FamilyTree.layout.mixed) {\n                        var ye = he.childrenIds;\n                        for (c = ye.length - 1; c >= 0; c--) {\n                            v = (D = l[ye[c]]).parent, D.layout = FamilyTree.layout.mixed;\n                            for (b = v.children.length - 1; b >= 0; b--) if (D.id == v.children[b].id) {\n                                v.children.splice(b, 1);\n                                break\n                            }\n                            if (c > 0) {\n                                var ge = l[ye[c - 1]];\n                                D.parent = ge, D.layout = FamilyTree.layout.mixed, ge.children.push(D)\n                            } else v.children.push(D)\n                        }\n                    } else if (he.layout > 1) {\n                        z = new FamilyTree.node(pe + \"_\" + v.id + \"_split_0\", me.id, [], \"split\");\n                        FamilyTree.manager._initDinamicNode(z, v.lcn), l[z.id] = z, z.layout = he.layout;\n                        var ve = [];\n                        for (c = he.childrenIds.length - 1; c >= 0; c--) {\n                            for (D = l[he.childrenIds[c]], b = 0; b < v.children.length; b++) v.children[b].id == D.id && v.children.splice(b, 1);\n                            if (D.parent = null, D.layout = he.layout, he.layout != FamilyTree.layout.treeRightOffset && he.layout != FamilyTree.layout.treeRight || ve.splice(0, 0, D.id), he.layout > 2) {\n                                var Te = new FamilyTree.node(pe + \"_\" + D.id + \"_mirror\", me.id, [], \"mirror\");\n                                FamilyTree.manager._initDinamicNode(Te, D.lcn), Te.layout = he.layout, l[Te.id] = Te, ve.splice(0, 0, Te.id)\n                            }\n                            he.layout != FamilyTree.layout.treeRightOffset && he.layout != FamilyTree.layout.treeRight && ve.splice(0, 0, D.id)\n                        }\n                        for (Y = 1, b = ve.length - 1; b >= 0; b--) if (b % 2 && b != ve.length - 1) {\n                            V = new FamilyTree.node(pe + \"_\" + v.id + \"_split_\" + Y, me.id, [], \"split\");\n                            FamilyTree.manager._initDinamicNode(V, v.lcn), V.layout = he.layout, l[V.id] = V, ve.splice(b, 0, V.id), Y++\n                        } else b % 2 && ve.splice(b, 0, z.id);\n                        for (b = 0; b < ve.length; b += 3) {\n                            W = null;\n                            0 == b && (W = v);\n                            G = l[ve[b]], J = l[ve[b + 1]], K = l[ve[b + 2]];\n                            0 != b && (W = l[ve[b - 3]]), 0 == b || J || (W = l[ve[b - 2]]), G.parent = W, W.children.push(G), J && (0 != b && (W = l[ve[b - 2]]), J.parent = W, W.children.push(J)), K && (0 != b && (W = l[ve[b - 1]]), K.parent = W, W.children.push(K))\n                        }\n                    }\n                }\n            }\n        }\n    }\n    if (FamilyTree.VERTICAL_CHILDREN_ASSISTANT) for (c = 0; c < s.length; c++) FamilyTree.manager._verticalAssistantIterate(s[c], l);\n    te = {nodes: l, roots: s};\n    return FamilyTree.events.publish(\"nodes-initialized\", [e, te]), {nodes: te.nodes, roots: te.roots, rootList: d}\n},FamilyTree.manager._getOrderFieldValue = function (e, t) {\n    var i = t;\n    return t.field && (i = t.field), e[i]\n},FamilyTree.manager._getNodeWidth = function (e, t) {\n    switch (t.orientation) {\n        case FamilyTree.orientation.top:\n        case FamilyTree.orientation.top_left:\n        case FamilyTree.orientation.bottom:\n        case FamilyTree.orientation.bottom_left:\n            return e.w;\n        case FamilyTree.orientation.right:\n        case FamilyTree.orientation.right_top:\n        case FamilyTree.orientation.left:\n        case FamilyTree.orientation.left_top:\n            return e.h\n    }\n    return 0\n},FamilyTree.manager._isVisible = function (e, t, i, r) {\n    if (null != e.x && null != e.y) {\n        if (t.lazyLoading && r !== FamilyTree.action.exporting) {\n            function a(e, t) {\n                var i = e.x, r = e.y, a = e.w, n = e.h, o = t[0] - FamilyTree.LAZY_LOADING_FACTOR,\n                    l = t[2] + FamilyTree.LAZY_LOADING_FACTOR + t[0], s = t[1] - FamilyTree.LAZY_LOADING_FACTOR,\n                    d = t[3] + FamilyTree.LAZY_LOADING_FACTOR + t[1], c = i + a > o && l > i;\n                return c && (c = r + n > s && d > r), c\n            }\n\n            if (a(e, i)) return !0;\n            for (var n = 0; n < e.children.length; n++) if (a(e.children[n], i)) return !0;\n            return !1\n        }\n        return !0\n    }\n},FamilyTree.manager.getAllFields = function (e) {\n    var t = [FamilyTree.TAGS];\n    for (var i in e.nodeBinding) t.push(e.nodeBinding[i]);\n    for (i = 0; i < e.nodes.length; i++) for (var r in e.nodes[i]) r !== FamilyTree.ID && r !== FamilyTree.TAGS && r !== FamilyTree.NODES && r !== FamilyTree.PID && r !== FamilyTree.STPID && \"movex\" !== r && \"movey\" !== r && (e.nodeBinding[r] || t.has(r) || t.push(r));\n    return t\n},FamilyTree.manager._getMostDeepChild = function (e) {\n    if (e) {\n        var t = e;\n        return function e(i) {\n            i.sl > t.sl && (t = i);\n            for (var r = 0; r < i.children.length; r++) e(i.children[r])\n        }(e), t\n    }\n},FamilyTree.manager._getResponse = function (e, t, i, r, a, n, o, l, s, d, c, m, p, h, f) {\n    var u = d[0], y = [],\n        g = {top: null, left: null, bottom: null, right: null, minX: null, maxX: null, minY: null, maxY: null},\n        v = [[], [], []], T = a - o + 2 * r.padding, b = n - l + 2 * r.padding,\n        F = FamilyTree.getScale(s, e, t, r.scaleInitial, r.scaleMax, r.scaleMin, T, b);\n    if (g.top = l - r.padding, g.left = o - r.padding, g.bottom = n + r.padding - t / F, g.right = a + r.padding - e / F, g.maxX = a, g.minX = o, g.maxY = n, g.minY = l, 0 == d.length || null == s && !f && r.align == FamilyTree.CENTER) {\n        var x = Math.ceil(e / F), _ = Math.ceil(t / F), w = 0, k = 0;\n        if (x - 2 * r.padding >= a - o) switch (w = (a + o) / 2 - x / 2, r.orientation) {\n            case FamilyTree.orientation.right:\n            case FamilyTree.orientation.right_top:\n                w = (o - a) / 2 - x / 2\n        } else switch (w = u.x - x / 2 + FamilyTree.manager._getNodeWidth(u, r) / 2, r.orientation) {\n            case FamilyTree.orientation.right:\n            case FamilyTree.orientation.right_top:\n                (w = -(x / 2 - (o - a) / 2)) < r.padding - x && (w = r.padding - x);\n                break;\n            case FamilyTree.orientation.left:\n            case FamilyTree.orientation.bottom_left:\n            case FamilyTree.orientation.top_left:\n            case FamilyTree.orientation.left_top:\n                (w = -(x / 2 - (a - o) / 2)) > -r.padding && (w = -r.padding)\n        }\n        if (_ - 2 * r.padding >= n - l) switch (k = (n + l) / 2 - _ / 2, r.orientation) {\n            case FamilyTree.orientation.bottom:\n            case FamilyTree.orientation.bottom_left:\n                k = (l - n) / 2 - _ / 2\n        } else switch ((k = -(_ / 2 - (n - l) / 2)) > -r.padding && (k = -r.padding), r.orientation) {\n            case FamilyTree.orientation.bottom:\n            case FamilyTree.orientation.bottom_left:\n                (k = -(_ / 2 - (l - n) / 2)) < r.padding - _ && (k = r.padding - _);\n                break;\n            case FamilyTree.orientation.left:\n            case FamilyTree.orientation.right:\n                k = u.y - _ / 2 + FamilyTree.manager._getNodeWidth(u, r) / 2\n        }\n        s = [w, k, x, _]\n    } else if (null == s && !f && r.align == FamilyTree.ORIENTATION) {\n        x = Math.ceil(e / F), _ = Math.ceil(t / F), w = 0, k = 0;\n        switch (r.orientation) {\n            case FamilyTree.orientation.top:\n                w = u.x - x / 2 + FamilyTree.manager._getNodeWidth(u, r) / 2, k = -r.padding;\n                break;\n            case FamilyTree.orientation.bottom:\n                w = u.x - x / 2 + FamilyTree.manager._getNodeWidth(u, r) / 2, k = r.padding - _;\n                break;\n            case FamilyTree.orientation.left:\n                w = -r.padding, k = u.y - _ / 2 + FamilyTree.manager._getNodeWidth(u, r) / 2;\n                break;\n            case FamilyTree.orientation.right:\n                w = r.padding - x, k = u.y - _ / 2 + FamilyTree.manager._getNodeWidth(u, r) / 2;\n                break;\n            case FamilyTree.orientation.top_left:\n                w = -r.padding, k = -r.padding;\n                break;\n            case FamilyTree.orientation.right_top:\n                w = r.padding - x, k = -r.padding;\n                break;\n            case FamilyTree.orientation.left_top:\n                w = -r.padding, k = -r.padding;\n                break;\n            case FamilyTree.orientation.bottom_left:\n                w = -r.padding, k = r.padding - _\n        }\n        s = [w, k, x, _], r.sticky && (s[0] < g.left && s[0] < g.right && (s[0] = g.left > g.right ? g.right : g.left), s[0] > g.right && s[0] > g.left && (s[0] = g.left > g.right ? g.left : g.right), s[1] < g.top && s[1] < g.bottom && (s[1] = g.top > g.bottom ? g.bottom : g.top), s[1] > g.bottom && s[1] > g.top && (s[1] = g.top > g.bottom ? g.top : g.bottom))\n    }\n    if (c == FamilyTree.action.centerNode || c == FamilyTree.action.maximize) {\n        var S = p[m.id];\n        1 == m.options.horizontal && (s[0] = S.x + S.w / 2 - s[2] / 2), 1 == m.options.vertical && (s[1] = S.y + S.h / 2 - s[3] / 2), r.sticky && (s[0] < g.left && s[0] < g.right && (s[0] = g.left > g.right ? g.right : g.left), s[0] > g.right && s[0] > g.left && (s[0] = g.left > g.right ? g.left : g.right), s[1] < g.top && s[1] < g.bottom && (s[1] = g.top > g.bottom ? g.bottom : g.top), s[1] > g.bottom && s[1] > g.top && (s[1] = g.top > g.bottom ? g.top : g.bottom))\n    }\n    if (c == FamilyTree.action.insert || c == FamilyTree.action.expand || c == FamilyTree.action.collapse || c == FamilyTree.action.update || c == FamilyTree.action.centerNode) {\n        var C = null;\n        if (c == FamilyTree.action.insert && m && null != m.insertedNodeId && null != m.insertedNodeId) C = p[m.insertedNodeId]; else if (c == FamilyTree.action.update && m && null != m.visId && null != m.visId) C = p[m.visId]; else if (c != FamilyTree.action.expand && c != FamilyTree.action.collapse || !m || null == m.id || null == m.id) {\n            if (c == FamilyTree.action.centerNode) {\n                switch (r.orientation) {\n                    case FamilyTree.orientation.top:\n                    case FamilyTree.orientation.top_left:\n                    case FamilyTree.orientation.bottom:\n                    case FamilyTree.orientation.bottom_left:\n                        m.options.vertical || (C = p[m.id]);\n                        break;\n                    case FamilyTree.orientation.right:\n                    case FamilyTree.orientation.right_top:\n                    case FamilyTree.orientation.left:\n                    case FamilyTree.orientation.left_top:\n                        m.options.horizontal || (C = p[m.id])\n                }\n                C && (C = FamilyTree.manager._getMostDeepChild(C, p))\n            }\n        } else C = p[m.id], C = FamilyTree.manager._getMostDeepChild(C, p);\n        if (!FamilyTree.FIXED_POSITION_ON_CLICK && C) switch (r.orientation) {\n            case FamilyTree.orientation.top:\n            case FamilyTree.orientation.top_left:\n                var I = C.y + C.h - s[3] + r.padding;\n                s[1] < I && (s[1] = I);\n                break;\n            case FamilyTree.orientation.bottom:\n            case FamilyTree.orientation.bottom_left:\n                I = C.y - r.padding;\n                s[1] > I && (s[1] = I);\n                break;\n            case FamilyTree.orientation.right:\n            case FamilyTree.orientation.right_top:\n                I = C.x - r.padding;\n                s[0] > I && (s[0] = I);\n                break;\n            case FamilyTree.orientation.left:\n            case FamilyTree.orientation.left_top:\n                I = C.x + C.w - s[2] + r.padding;\n                s[0] < I && (s[0] = I)\n        }\n    }\n    for (var N = 0; N < d.length; N++) FamilyTree.manager._iterate2(d[N], p, r, s, c, m, y, h, i, v);\n    return {\n        animations: v,\n        boundary: g,\n        viewBox: s,\n        visibleNodeIds: y,\n        nodes: p,\n        allFields: FamilyTree.manager.getAllFields(r)\n    }\n},FamilyTree.manager._iterate2 = function (e, t, i, r, a, n, o, l, s, d) {\n    if (FamilyTree.manager._isVisible(e, i, r, a)) {\n        o.push(e.id);\n        var c = null;\n        if ((a == FamilyTree.action.expand || a == FamilyTree.action.collapse || a == FamilyTree.action.maximize) && l && l[e.id] && \"expandCollapseToLevel\" == n.method) {\n            if (c = {x: (f = l[e.id]).x, y: f.y}, f) {\n                c = {x: f.x, y: f.y};\n                for (var m = e, p = null; null != m;) l[m.id] && l[m.id].collapsed && (p = m), m = m.parent;\n                p && p.parent && (c = {x: p.parent.x, y: p.parent.y})\n            }\n            if (u = t[n.id]) {\n                for (m = e.parent; null != m;) m = m.parent;\n                m && (c = {x: u.x + u.w / 2 - e.w / 2, y: u.y + u.h / 2 - e.h / 2})\n            }\n        } else if ((a == FamilyTree.action.expand || a == FamilyTree.action.collapse) && l && l[e.id]) {\n            if (c = {x: (f = l[e.id]).x, y: f.y}, \"all\" == n.ids && f) {\n                c = {x: f.x, y: f.y};\n                for (m = e, p = null; null != m;) l[m.id] && l[m.id].collapsed && (p = m), m = m.parent;\n                p && p.parent && (c = {x: p.parent.x, y: p.parent.y})\n            }\n            if (u = t[n.id]) {\n                for (m = e.parent; null != m && -1 == n.ids.indexOf(e.id) && -1 == n.ids.indexOf(m.id);) m = m.parent;\n                m && (c = {x: u.x + u.w / 2 - e.w / 2, y: u.y + u.h / 2 - e.h / 2})\n            }\n        } else if (a == FamilyTree.action.centerNode && l && l[e.id]) {\n            if (null != (f = l[e.id]).x && null != f.y && (c = {\n                x: f.x,\n                y: f.y\n            }), (h = t[n.id]) && h == e) (m = e.parent) && m.id == n.id && (c = {\n                x: h.x + h.w / 2 - e.w / 2,\n                y: h.y + h.h / 2 - e.h / 2\n            })\n        } else if (a == FamilyTree.action.maximize && l && l[e.id]) {\n            var h;\n            if (null != (f = l[e.id]).x && null != f.y && (c = {\n                x: f.x,\n                y: f.y\n            }), (h = t[n.id]) && h == e) (m = e.parent) && m.id == n.id && (c = {\n                x: h.x + h.w / 2 - e.w / 2,\n                y: h.y + h.h / 2 - e.h / 2\n            })\n        } else if (a == FamilyTree.action.minimize && l && l[e.id]) {\n            c = {x: (f = l[e.id]).x, y: f.y}\n        } else if (a == FamilyTree.action.insert && n && n.insertedNodeId == e.id && e.parent) c = {\n            x: e.parent.x,\n            y: e.parent.y\n        }; else if (a != FamilyTree.action.update && a != FamilyTree.action.insert || !l) a !== FamilyTree.action.exporting && a !== FamilyTree.action.init && -1 == s.indexOf(e.id) && (d[0].push(e.id), d[1].push({opacity: 0}), d[2].push({opacity: 1})); else {\n            var f, u;\n            if ((!(f = l[e.id]) || FamilyTree.isNEU(f.x) && FamilyTree.isNEU(f.y)) && n) {\n                if (u = t[n.id]) {\n                    for (m = u; m && m.id == e.id;) m = m.parent;\n                    m && (c = {x: u.x, y: u.y})\n                }\n            } else f && (c = {x: f.x, y: f.y})\n        }\n        if (null != c && null != c.x && null != c.y) if (c.x != e.x || c.y != e.y) n && n.dragNodeIdList && -1 != n.dragNodeIdList.indexOf(e.id) || (d[0].push(e.id), d[1].push({transform: [1, 0, 0, 1, c.x, c.y]}), d[2].push({transform: [1, 0, 0, 1, e.x, e.y]}))\n    }\n    for (var y = 0; y < e.stChildren.length; y++) FamilyTree.manager._iterate2(e.stChildren[y], t, i, r, a, n, o, l, s, d);\n    for (y = 0; y < e.children.length; y++) FamilyTree.manager._iterate2(e.children[y], t, i, r, a, n, o, l, s, d)\n},FamilyTree.manager._addExpandedNodeIdsIterate = function (e, t, i) {\n    for (var r = 0; r < e.childrenIds.length; r++) i.push(e.childrenIds[r]), FamilyTree.manager._addExpandedNodeIdsIterate(t[e.childrenIds[r]], t, i)\n},FamilyTree.manager._setMinMaxXYAdjustifyIterate = function (e, t, i, r, a, n, o) {\n    e.x += n.x, e.y += n.y;\n    for (var l = 0; l < e.stChildren.length; l++) FamilyTree.manager._setMinMaxXYAdjustifyIterate(e.stChildren[l], e.stChildren[l], i, 0, a, n, o);\n    e.isPartner ? e.sl = r - 1 : e.sl = r, null == a[t.id] && (a[t.id] = {}), null == a[t.id][e.sl] && (a[t.id][e.sl] = {\n        minX: null,\n        minY: null,\n        maxX: null,\n        maxY: null\n    }), e.layout || FamilyTree._setMinMaxXY(e, a[t.id][e.sl]), null != e.movex && (e.x += e.movex), null != e.movey && (e.y += e.movey), FamilyTree._setMinMaxXY(e, i), r++;\n    for (l = 0; l < e.children.length; l++) FamilyTree.manager._setMinMaxXYAdjustifyIterate(e.children[l], t, i, r, a, n, o)\n},FamilyTree.manager._doNotChangePositionOfClickedNodeIfAny = function (e, t, i, r, a, n) {\n    if (i != FamilyTree.action.expand && i != FamilyTree.action.collapse && i != FamilyTree.action.minimize && i != FamilyTree.action.maximize && i != FamilyTree.action.centerNode && i != FamilyTree.action.update && i != FamilyTree.action.insert) return {\n        x: 0,\n        y: 0\n    };\n    if (i == FamilyTree.action.update && (!r || null == r.id)) {\n        if (!e || !e.length) return {x: 0, y: 0};\n        r = {id: e[0].id}\n    }\n    if (null == r.id) return {x: 0, y: 0};\n    var o = r.id;\n    (i == FamilyTree.action.minimize && t[o].parent || i == FamilyTree.action.maximize && t[o].parent) && (o = t[o].pid);\n    var l = t[o], s = a[o];\n    if (!s) return {x: 0, y: 0};\n    var d = null != s.movex ? s.movex : 0, c = null != s.movey ? s.movey : 0;\n    return {x: (s.x ? s.x - d : 0) - l.x, y: (s.y ? s.y - c : 0) - l.y}\n},FamilyTree.manager._verticalAssistantIterate = function (e, t) {\n    for (var i = 0; i < e.stChildren.length; i++) FamilyTree.manager._verticalAssistantIterate(e.stChildren[i], t);\n    if (3 == e.children.length) FamilyTree.manager._verticalAssistantIterate(e.children[0], t), FamilyTree.manager._verticalAssistantIterate(e.children[2], t), FamilyTree.manager._verticalAssistantIterate(e.children[1], t); else for (i = 0; i < e.children.length; i++) FamilyTree.manager._verticalAssistantIterate(e.children[i], t);\n    if (e.isAssistant && e.isSplit && e.children.length) {\n        for (var r = e.parent.children[0], a = e.parent.children[2], n = e.parent; !n.hasAssistants;) n = n.parent;\n        var o = {max: 0}, l = {max: 0};\n        FamilyTree.manager._verticalAssistantLevelCountIterate(r, 0, o), FamilyTree.manager._verticalAssistantLevelCountIterate(a, 0, l);\n        var s = Math.max(o.max, l.max), d = [];\n        for (i = 0; i < s; i++) {\n            var c = new FamilyTree.node(e.parent.id + \"_split_assitant_level_\" + i, e.pid, [], \"subLevel\");\n            FamilyTree.manager._initDinamicNode(c, e.lcn, !0), i > 0 && (d[i - 1].children.push(c), c.parent = d[i - 1]), t[c.id] = c, d.push(c)\n        }\n        if (d.length) {\n            for (var m = d[d.length - 1], p = d[0], h = e.children.length - 1; h >= 0; h--) {\n                var f = e.children[h];\n                m.children.unshift(f), f.parent = m, e.children.splice(h, 1)\n            }\n            e.children.push(p), p.parent = e\n        }\n    }\n},FamilyTree.manager._verticalAssistantLevelCountIterate = function (e, t, i) {\n    i.max < t && (i.max = t), t++;\n    for (var r = 0; r < e.children.length; r++) FamilyTree.manager._verticalAssistantLevelCountIterate(e.children[r], t, i)\n},FamilyTree._addDottedLines = function (e) {\n    var t = e.nodes;\n    if ((e.groupDottedLines.length || e.dottedLines.length) && (t = JSON.parse(JSON.stringify(t))), e.groupDottedLines.length) for (var i = [], r = 0; r < e.groupDottedLines.length; r++) {\n        var a = e.groupDottedLines[r];\n        null == a.rootId && (a.rootId = a.to);\n        var n = `balkan_group_dotted_${a.rootId}`;\n        if (!i.has(n)) for (var o = 0; o < t.length; o++) if (t[o].id == a.rootId) {\n            (c = JSON.parse(JSON.stringify(t[o]))).id = `balkan_group_dotted_${a.rootId}_balkan_id_${t[o].id}`, c.pid = void 0, c.stpid = t[o].id, t.push(c), i.push(n), t[o].tags || (t[o].tags = []), t[o].tags.push(\"group-dotted-lines\"), t[o].tags.push(\"group-dotted-lines-\" + n);\n            break\n        }\n        for (o = 0; o < t.length; o++) if (t[o].id == a.from) {\n            if ((c = JSON.parse(JSON.stringify(t[o]))).id = `balkan_group_dotted_${a.rootId}_balkan_id_${t[o].id}`, c.pid = `balkan_group_dotted_${a.rootId}_balkan_id_${a.to}`, c.tags) {\n                var l = c.tags.indexOf(\"group-dotted-lines\");\n                -1 != l && c.tags.splice(l, 1)\n            }\n            if (c.tags || (c.tags = []), c.tags.push(\"bft-dotted-connector\"), a.tags) for (var s = 0; s < a.tags.length; s++) c.tags.push(a.tags[s]);\n            t.push(c);\n            break\n        }\n    }\n    if (e.dottedLines.length) for (r = 0; r < e.dottedLines.length; r++) {\n        var d = e.dottedLines[r];\n        null == d.rootId && (d.rootId = d.to);\n        for (o = 0; o < t.length; o++) if (t[o].id == d.from) {\n            var c;\n            if ((c = JSON.parse(JSON.stringify(t[o]))).id = `balkan_dotted_${d.rootId}_balkan_id_${t[o].id}`, d.rootId == d.to ? c.pid = d.to : c.pid = `balkan_dotted_${d.rootId}_balkan_id_${d.to}`, c.tags || (c.tags = []), c.tags.push(\"bft-dotted-connector\"), d.tags) for (s = 0; s < d.tags.length; s++) c.tags.push(d.tags[s]);\n            t.push(c);\n            break\n        }\n    }\n    return t\n},FamilyTree.manager.__createNodes = function (e, t, i, r, a, n, o, l) {\n    for (var s = i.nodes, d = [], c = {}, m = {}, p = 0; p < s.length; p++) {\n        var h, f = s[p];\n        h = FamilyTree.STRING_TAGS ? f.tags ? f.tags.split(\",\") : [] : Array.isArray(f.tags) ? f.tags.slice(0) : [], l.filterUI.addFilterTag(f) && h.push(\"filter\");\n        var u = l.searchUI.addMatchTag(f.id);\n        !0 === u ? h.unshift(\"match\") : !1 === u && h.unshift(\"no-match\"), f.gender && h.push(f.gender);\n        var y = FamilyTree._getTemplate(h, i.tags, i.template);\n        f.templateName && (y = f.templateName);\n        var g = new FamilyTree.node(f.id, f.pid, h, y);\n        g.ftChildrenIds = [], g.rids = [], FamilyTree.isNEU(f.ppid) || (g.ppid = f.ppid), FamilyTree.isNEU(f.stpid) || (g.stpid = f.stpid), FamilyTree.isNEU(f.mid) || (g.mid = f.mid), FamilyTree.isNEU(f.fid) || (g.fid = f.fid), FamilyTree.isNEU(f.gender) || (g.gender = f.gender), Array.isArray(f.pids) ? g.pids = f.pids : g.pids = [], null != i.orderBy && (g.order = FamilyTree.manager._getOrderFieldValue(f, i.orderBy)), e[f.id] = g, FamilyTree.isNEU(g.stpid) ? (FamilyTree.isNEU(g.mid) || (c[g.mid] || (c[g.mid] = []), c[g.mid].push(g.id)), FamilyTree.isNEU(g.fid) || (c[g.fid] || (c[g.fid] = []), c[g.fid].push(g.id)), FamilyTree.isNEU(g.mid) && FamilyTree.isNEU(g.fid) && FamilyTree.isNEU(g.stpid) && (d.has(g.id) || d.push(g.id))) : (m[g.stpid] || (m[g.stpid] = []), m[g.stpid].push(g.id))\n    }\n    if (null != i.orderBy && c) for (var v in c) c[v].sort((function (t, r) {\n        var a = e[t].order, n = e[r].order;\n        return \"number\" == typeof a || \"number\" == typeof n ? (null == a && (a = -1), null == n && (n = -1), i.orderBy.desc ? n - a : a - n) : \"string\" == typeof a || \"string\" == typeof n ? (null == a && (a = \"\"), null == n && (n = \"\"), i.orderBy.desc ? n.localeCompare(a) : a.localeCompare(n)) : void 0\n    }));\n    for (p = 0; p < d.length; p++) {\n        var T = e[d[p]];\n        if (T) {\n            var b = [];\n            FamilyTree.manager._iterateSetRootIds(T.id, T.id, m, c, e, b), o.push(b)\n        }\n    }\n    for (p = 0; p < o.length; p++) for (var F = 0; F < o.length; F++) if (F != p) {\n        for (var x = o[p], _ = o[F], w = !1, k = 0; k < x.length; k++) if (_.has(x[k])) {\n            w = !0;\n            break\n        }\n        w && (o[p] = x.concat(_).unique(), o[F] = [])\n    }\n    for (p = o.length - 1; p >= 0; p--) o[p].length || o.splice(p, 1);\n    if (!i.roots || !i.roots.length) {\n        i.roots = [];\n        for (p = o.length - 1; p >= 0; p--) i.roots.push(o[p][0])\n    }\n    for (p = 0; p < i.roots.length; p++) FamilyTree.manager._iterateFT(i.roots[p], m, c, e, n, t, r, a, i)\n},FamilyTree.manager._iterateSetRootIds = function (e, t, i, r, a, n) {\n    var o = a[e];\n    if (o) {\n        o.rids.has(t) || o.rids.push(t);\n        for (var l = 0; l < o.rids.length; l++) n.has(o.rids[l]) || n.push(o.rids[l]);\n        for (l = 0; l < o.pids.length; l++) {\n            var s = a[o.pids[l]];\n            if (s) for (var d = 0; d < s.rids.length; d++) n.has(s.rids[d]) || n.push(s.rids[d])\n        }\n        if (i[o.id]) for (l = 0; l < i[o.id].length; l++) FamilyTree.manager._iterateSetRootIds(i[o.id][l], t, i, r, a, n);\n        if (r[o.id]) for (l = 0; l < r[o.id].length; l++) FamilyTree.manager._iterateSetRootIds(r[o.id][l], t, i, r, a, n)\n    }\n},FamilyTree.manager._iterateFT = function (e, t, i, r, a, n, o, l, s) {\n    var d, c = r[e], m = a ? a[e] : null, p = r[c.stpid], h = r[c.mid], f = r[c.fid];\n    if (p || (c.stpid = null), h ? f && (h.tags.has(\"partner\") || h.tags.has(\"left-partner\") || h.tags.has(\"right-partner\")) ? (c.pid = f.id, d = f, c.ppid = h.id) : (c.pid = h.id, d = h, f && (c.ppid = f.id)) : f ? h && (f.tags.has(\"partner\") || f.tags.has(\"left-partner\") || f.tags.has(\"right-partner\")) ? (c.pid = h.id, d = h, c.ppid = f.id) : (c.pid = f.id, d = f, h && (c.ppid = h.id)) : c.pid, p) {\n        var u = a ? a[p.id] : null;\n        u && (p.min = u.min), p.stChildrenIds.push(c.id)\n    } else h || f ? (m && (c.collapsed = m.collapsed, c.min = m.min), d && !d.childrenIds.has(c.id) && d.childrenIds.push(c.id), h && !h.ftChildrenIds.has(c.id) && h.ftChildrenIds.push(c.id), f && !f.ftChildrenIds.has(c.id) && f.ftChildrenIds.push(c.id)) : (m && (c.collapsed = m.collapsed, c.min = m.min), n.push(c));\n    o == FamilyTree.action.init && (c.min = FamilyTree._getMin(c, s));\n    for (var y = 0; y < c.pids.length; y++) {\n        var g = r[c.pids[y]];\n        if (g) {\n            g.pid = c.id;\n            var v = a ? a[g.id] : null;\n            if (v && (g.collapsed = v.collapsed, g.min = v.min), o == FamilyTree.action.init && (g.min = FamilyTree._getMin(g, s)), l && m && v && l.id == c.id ? v.hasPartners && 1 == m.isPartner ? g.tags.push(\"left-partner\") : v.hasPartners && 2 == m.isPartner || 1 == m.isPartner ? g.tags.push(\"right-partner\") : 2 == m.isPartner ? g.tags.push(\"left-partner\") : g.tags.push(\"partner\") : v && 2 == v.isPartner ? g.tags.push(\"left-partner\") : v && 1 == v.isPartner ? g.tags.push(\"right-partner\") : g.tags.push(\"partner\"), !FamilyTree.isNEU(g) && i[g.id]) for (var T = 0; T < i[g.id].length; T++) {\n                var b = r[i[g.id][T]];\n                b && (FamilyTree.isNEU(b.fid) || FamilyTree.isNEU(b.mid)) && FamilyTree.manager._iterateFT(i[g.id][T], t, i, r, a, n, o, l, s)\n            }\n            c.childrenIds.push(g.id)\n        }\n    }\n    if (t[e]) for (T = 0; T < t[e].length; T++) FamilyTree.manager._iterateFT(t[e][T], t, i, r, a, n, o, l, s);\n    if (i[e]) for (T = 0; T < i[e].length; T++) FamilyTree.manager._iterateFT(i[e][T], t, i, r, a, n, o, l, s)\n},FamilyTree.manager.getAllFields = function (e) {\n    var t = [FamilyTree.TAGS];\n    for (var i in e.nodeBinding) t.push(e.nodeBinding[i]);\n    for (i = 0; i < e.nodes.length; i++) for (var r in e.nodes[i]) r !== FamilyTree.ID && r !== FamilyTree.TAGS && r !== FamilyTree.NODES && r !== FamilyTree.PID && r !== FamilyTree.STPID && \"mid\" !== r && \"fid\" !== r && \"pids\" !== r && (e.nodeBinding[r] || t.has(r) || t.push(r));\n    return t\n},FamilyTree.templates = {},FamilyTree.templates.base = {\n    defs: `<g transform=\"matrix(1,0,0,1,0,0)\" id=\"dot\"><circle class=\"bft-fill\" cx=\"0\" cy=\"0\" r=\"5\" stroke=\"#aeaeae\" stroke-width=\"1\"></circle></g>\\n            <g id=\"base_node_menu\" style=\"cursor:pointer;\"><rect x=\"0\" y=\"0\" fill=\"transparent\" width=\"22\" height=\"22\"></rect><circle cx=\"4\" cy=\"11\" r=\"2\" fill=\"#aeaeae\"></circle><circle cx=\"11\" cy=\"11\" r=\"2\" fill=\"#aeaeae\"></circle><circle cx=\"18\" cy=\"11\" r=\"2\" fill=\"#aeaeae\"></circle></g>\\n            <g style=\"cursor: pointer;\" id=\"base_tree_menu\">\\n                <rect x=\"0\" y=\"0\" width=\"25\" height=\"25\" fill=\"transparent\"></rect>\\n                ${FamilyTree.icon.addUser(25, 25, \"#fff\", 0, 0)}\\n            </g>\\n            <g style=\"cursor: pointer;\" id=\"base_tree_menu_close\">\\n                <circle cx=\"12.5\" cy=\"12.5\" r=\"12\" fill=\"#F57C00\"></circle>\\n                ${FamilyTree.icon.close(25, 25, \"#fff\", 0, 0)}\\n            </g>            \\n            <g id=\"base_up\">\\n                <circle cx=\"15\" cy=\"15\" r=\"15\" fill=\"#fff\" stroke=\"#aeaeae\" stroke-width=\"1\"></circle>\\n                ${FamilyTree.icon.ft(20, 20, \"#aeaeae\", 5, 5)}\\n            </g>\\n            <clipPath id=\"base_img_0\"><rect id=\"base_img_0_stroke\" stroke-width=\"3\" stroke=\"#fff\" x=\"170\" y=\"-5\" rx=\"25\" ry=\"25\" width=\"70\" height=\"70\"></rect></clipPath>`,\n    size: [250, 120],\n    linkAdjuster: {fromX: 0, fromY: 0, toX: 0, toY: 0},\n    ripple: {radius: 0, color: \"#e6e6e6\", rect: null},\n    expandCollapseSize: 0,\n    svg: '<svg class=\"{randId} {template}\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  style=\"display:block;\" width=\"{w}\" height=\"{h}\" viewBox=\"{viewBox}\">{content}</svg>',\n    link: '<path stroke-linejoin=\"round\" stroke=\"#aeaeae\" stroke-width=\"1px\" fill=\"none\" d=\"{rounded}\" />',\n    assistanseLink: '<path stroke-linejoin=\"round\" stroke=\"#aeaeae\" stroke-width=\"2px\" fill=\"none\" d=\"M{xa},{ya} {xb},{yb} {xc},{yc} {xd},{yd} L{xe},{ye}\"/>',\n    pointer: '<g data-pointer=\"pointer\" transform=\"matrix(0,0,0,0,100,100)\"><radialGradient id=\"pointerGradient\"><stop stop-color=\"#ffffff\" offset=\"0\" /><stop stop-color=\"#C1C1C1\" offset=\"1\" /></radialGradient><circle cx=\"16\" cy=\"16\" r=\"16\" stroke-width=\"1\" stroke=\"#acacac\" fill=\"url(#pointerGradient)\"></circle></g>',\n    node: '<rect x=\"0\" y=\"0\" height=\"{h}\" width=\"{w}\" stroke-width=\"1\" stroke=\"#aeaeae\" rx=\"7\" ry=\"7\"></rect>',\n    menuButton: '<div style=\"position:absolute;right:{p}px;top:{p}px; width:40px;height:50px;cursor:pointer;\" ' + FamilyTree.attr.control_export_menu + '=\"\"><hr style=\"background-color: #7A7A7A; height: 3px; border: none;\"><hr style=\"background-color: #7A7A7A; height: 3px; border: none;\"><hr style=\"background-color: #7A7A7A; height: 3px; border: none;\"></div>',\n    padding: [50, 20, 35, 20],\n    nodeMenuButton: `<use ${FamilyTree.attr.control_node_menu_id}=\"{id}\" x=\"220\" y=\"95\" xlink:href=\"#base_node_menu\"/>`,\n    nodeTreeMenuButton: '<use data-ctrl-n-t-menu-id=\"{id}\" x=\"10\" y=\"10\" xlink:href=\"#base_tree_menu\"/>',\n    nodeTreeMenuCloseButton: '<use data-ctrl-n-t-menu-c=\"\" x=\"10\" y=\"10\" xlink:href=\"#base_tree_menu_close\"/>',\n    up: '<use x=\"110\" y=\"-10\" xlink:href=\"#base_up\"/>',\n    img_0: '<use xlink:href=\"#base_img_0_stroke\" /><image preserveAspectRatio=\"xMidYMid slice\" clip-path=\"url(#base_img_0)\" xlink:href=\"{val}\"  x=\"170\" y=\"-5\"  width=\"70\" height=\"70\"></image>',\n    link_field_0: '<text text-anchor=\"middle\" fill=\"#aeaeae\" ' + FamilyTree.attr.width + '=\"290\" x=\"0\" y=\"0\" style=\"font-size:10px;\">{val}</text>'\n},FamilyTree.templates.dot = Object.assign({}, FamilyTree.templates.base),FamilyTree.templates.dot.node = '<circle cx=\"5\" cy=\"5\" r=\"5\" fill=\"none\" stroke-width=\"1\" stroke=\"#aeaeae\"></circle>',FamilyTree.templates.dot.size = [10, 10],FamilyTree.templates.dot.nodeMenuButton = \"\",FamilyTree.templates.dot.nodeTreeMenuButton = \"\",FamilyTree.templates.dot.nodeTreeMenuCloseButton = \"\",FamilyTree.templates.dot.up = \"\",FamilyTree.templates.john = Object.assign({}, FamilyTree.templates.base),FamilyTree.templates.john.nodeMenuButton = `<use ${FamilyTree.attr.control_node_menu_id}=\"{id}\" x=\"90\" y=\"50\" xlink:href=\"#base_node_menu\"/>`,FamilyTree.templates.john.defs = `<style>                          \\n                                        .{randId} .bft-edit-form-header, .{randId} .bft-img-button{\\n                                            background-color: #aeaeae;\\n                                        }\\n                                        .{randId}.male .bft-edit-form-header, .{randId}.male .bft-img-button{\\n                                            background-color: #039BE5;\\n                                        }        \\n                                        .{randId}.male div.bft-img-button:hover{\\n                                            background-color: #F57C00;\\n                                        }\\n                                        .{randId}.female .bft-edit-form-header, .{randId}.female .bft-img-button{\\n                                            background-color: #F57C00;\\n                                        }        \\n                                        .{randId}.female div.bft-img-button:hover{\\n                                            background-color: #039BE5;\\n                                        }\\n                                    </style>\\n                                    <clipPath id=\"john_img_0\"><rect  x=\"6\" y=\"6\" rx=\"54\" ry=\"54\" width=\"108\" height=\"108\"></rect></clipPath>\\n                                    ${FamilyTree.gradientCircleForDefs(\"circle\", \"#aeaeae\", 60, 5)}\\n                                    ${FamilyTree.gradientCircleForDefs(\"male_circle\", \"#039BE5\", 60, 5)}\\n                                    ${FamilyTree.gradientCircleForDefs(\"female_circle\", \"#F57C00\", 60, 5)}`,FamilyTree.templates.john.field_0 = \"<text \" + FamilyTree.attr.width + '=\"230\" style=\"font-size: 16px;font-weight:bold;\" fill=\"#aeaeae\" x=\"60\" y=\"135\" text-anchor=\"middle\">{val}</text>',FamilyTree.templates.john.field_1 = \"<text \" + FamilyTree.attr.width + '=\"150\" style=\"font-size: 13px;\" fill=\"#aeaeae\" x=\"60\" y=\"150\" text-anchor=\"middle\">{val}</text>',FamilyTree.templates.john.node = '<use x=\"0\" y=\"0\" xlink:href=\"#circle\" />',FamilyTree.templates.john.img_0 = '<image preserveAspectRatio=\"xMidYMid slice\" clip-path=\"url(#john_img_0)\" xlink:href=\"{val}\"  x=\"6\" y=\"6\"  width=\"108\" height=\"108\"></image>',FamilyTree.templates.john.ripple = {\n    radius: 60,\n    color: \"#e6e6e6\",\n    rect: null\n},FamilyTree.templates.john.size = [120, 120],FamilyTree.templates.john_male = Object.assign({}, FamilyTree.templates.john),FamilyTree.templates.john_male.node += '<use x=\"0\" y=\"0\" xlink:href=\"#male_circle\" />',FamilyTree.templates.john_male.ripple = {\n    radius: 60,\n    color: \"#039BE5\",\n    rect: null\n},FamilyTree.templates.john_female = Object.assign({}, FamilyTree.templates.john),FamilyTree.templates.john_female.node += '<use x=\"0\" y=\"0\" xlink:href=\"#female_circle\" />',FamilyTree.templates.john_female.ripple = {\n    radius: 60,\n    color: \"#F57C00\",\n    rect: null\n},FamilyTree.templates.tommy = Object.assign({}, FamilyTree.templates.base),FamilyTree.templates.tommy.defs = \"<style>                          \\n                                        .{randId} .bft-edit-form-header, .{randId} .bft-img-button{\\n                                            background-color: #aeaeae;\\n                                        }\\n                                        .{randId}.male .bft-edit-form-header, .{randId}.male .bft-img-button{\\n                                            background-color: #039BE5;\\n                                        }        \\n                                        .{randId}.male div.bft-img-button:hover{\\n                                            background-color: #F57C00;\\n                                        }\\n                                        .{randId}.female .bft-edit-form-header, .{randId}.female .bft-img-button{\\n                                            background-color: #F57C00;\\n                                        }        \\n                                        .{randId}.female div.bft-img-button:hover{\\n                                            background-color: #039BE5;\\n                                        }\\n                                    </style>\",FamilyTree.templates.tommy.field_0 = \"<text \" + FamilyTree.attr.width + '=\"230\" style=\"font-size: 18px;font-weight:bold;\" fill=\"#ffffff\" x=\"10\" y=\"90\" text-anchor=\"start\">{val}</text>',FamilyTree.templates.tommy.field_1 = \"<text \" + FamilyTree.attr.width + '=\"150\" style=\"font-size: 14px;\" fill=\"#ffffff\" x=\"10\" y=\"65\" text-anchor=\"start\">{val}</text>',FamilyTree.templates.tommy.node = '<rect x=\"0\" y=\"0\" height=\"{h}\" width=\"{w}\" stroke-width=\"1\" fill=\"#aeaeae\" stroke=\"#aeaeae\" rx=\"7\" ry=\"7\"></rect>',FamilyTree.templates.tommy_male = Object.assign({}, FamilyTree.templates.tommy),FamilyTree.templates.tommy_male.node = '<rect x=\"0\" y=\"0\" height=\"{h}\" width=\"{w}\" stroke-width=\"1\" fill=\"#039BE5\" stroke=\"#aeaeae\" rx=\"7\" ry=\"7\"></rect>',FamilyTree.templates.tommy_female = Object.assign({}, FamilyTree.templates.tommy),FamilyTree.templates.tommy_female.node = '<rect x=\"0\" y=\"0\" height=\"{h}\" width=\"{w}\" stroke-width=\"1\" fill=\"#F57C00\" stroke=\"#aeaeae\" rx=\"7\" ry=\"7\"></rect>',FamilyTree.templates.hugo = Object.assign({}, FamilyTree.templates.base),FamilyTree.templates.hugo.up = '<use x=\"200\" y=\"10\" xlink:href=\"#hugo_up\"/>',FamilyTree.templates.hugo.nodeMenuButton = `<use x=\"225\" y=\"10\" ${FamilyTree.attr.control_node_menu_id}=\"{id}\" xlink:href=\"#hugo_node_menu\"/>`,FamilyTree.templates.hugo.defs = `<clipPath id=\"hugo_img_0\"><rect id=\"hugo_img_0_stroke\" stroke-width=\"2\" stroke=\"#fff\" x=\"90\" y=\"-5\" rx=\"25\" ry=\"25\" width=\"70\" height=\"70\"></rect></clipPath>\\n                                    <linearGradient id=\"hugo_grad_female\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\\n                                        <stop offset=\"0%\" style=\"stop-color:#FF8024;stop-opacity:1\" />\\n                                        <stop offset=\"100%\" style=\"stop-color:#FF46A3;stop-opacity:1\" />\\n                                    </linearGradient>\\n                                    <linearGradient id=\"hugo_grad_male\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\\n                                        <stop offset=\"0%\" style=\"stop-color:#00D3A5;stop-opacity:1\" />\\n                                        <stop offset=\"100%\" style=\"stop-color:#00A7D4;stop-opacity:1\" />\\n                                    </linearGradient>\\n                                    <linearGradient id=\"hugo_grad\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\\n                                        <stop offset=\"0%\" style=\"stop-color:#D0D0D0;stop-opacity:1\" />\\n                                        <stop offset=\"100%\" style=\"stop-color:#909090;stop-opacity:1\" />\\n                                    </linearGradient>\\n                                    <g id=\"hugo_up\">\\n                                        <circle cx=\"12\" cy=\"12\" r=\"15\" fill=\"transparent\" ></circle>\\n                                        ${FamilyTree.icon.ft(24, 24, \"#fff\", 0, 0)}\\n                                    </g>\\n                                    <g id=\"hugo_node_menu\" style=\"cursor:pointer;\"><rect x=\"0\" y=\"0\" fill=\"transparent\" width=\"22\" height=\"22\"></rect><circle cx=\"11\" cy=\"4\" r=\"2\" fill=\"#ffffff\"></circle><circle cx=\"11\" cy=\"11\" r=\"2\" fill=\"#ffffff\"></circle><circle cx=\"11\" cy=\"18\" r=\"2\" fill=\"#ffffff\"></circle></g>\\n                                    <style>\\n                                        .{randId} .bft-edit-form-header{\\n                                            background: linear-gradient(90deg, #D0D0D0 0%, #909090 100%);\\n                                        }\\n                                        .{randId}.male .bft-edit-form-header{\\n                                            background: linear-gradient(90deg, #00D3A5 0%, #00A7D4 100%);\\n                                        }\\n                                        .{randId}.female .bft-edit-form-header{\\n                                            background: linear-gradient(90deg, #FF8024 0%, #FF46A3 100%);\\n                                        }  \\n                                        .{randId} .bft-img-button{\\n                                            background-color: #909090;\\n                                        }      \\n                                        .{randId} .bft-img-button:hover{\\n                                            background-color: #D0D0D0;\\n                                        }\\n                                        .{randId}.male .bft-img-button{\\n                                            background-color: #00A7D4;\\n                                        }      \\n                                        .{randId}.male .bft-img-button:hover{\\n                                            background-color: #00D3A5;\\n                                        }\\n                                        .{randId}.female .bft-img-button{\\n                                            background-color: #FF46A3;\\n                                        }      \\n                                        .{randId}.female .bft-img-button:hover{\\n                                            background-color: #FF8024;\\n                                        }\\n                                        \\n                                    </style>`,FamilyTree.templates.hugo.img_0 = '<use xlink:href=\"#hugo_img_0_stroke\" /><image preserveAspectRatio=\"xMidYMid slice\" clip-path=\"url(#hugo_img_0)\" xlink:href=\"{val}\"  x=\"90\" y=\"-5\"  width=\"70\" height=\"70\"></image>',FamilyTree.templates.hugo.field_0 = \"<text \" + FamilyTree.attr.width + '=\"230\" style=\"font-size: 18px;font-weight:bold;\" fill=\"#ffffff\" x=\"125\" y=\"85\" text-anchor=\"middle\">{val}</text>',FamilyTree.templates.hugo.field_1 = \"<text \" + FamilyTree.attr.width + '=\"230\" style=\"font-size: 14px;\" fill=\"#ffffff\" x=\"125\" y=\"105\" text-anchor=\"middle\">{val}</text>',FamilyTree.templates.hugo.node = '<rect x=\"0\" y=\"0\" height=\"{h}\" width=\"{w}\" stroke-width=\"1\" fill=url(#hugo_grad) stroke=\"#aeaeae\" rx=\"7\" ry=\"7\"></rect>',FamilyTree.templates.hugo_male = Object.assign({}, FamilyTree.templates.hugo),FamilyTree.templates.hugo_male.node = '<rect x=\"0\" y=\"0\" height=\"{h}\" width=\"{w}\" stroke-width=\"1\" fill=url(#hugo_grad_male) stroke=\"#aeaeae\" rx=\"7\" ry=\"7\"></rect>',FamilyTree.templates.hugo_female = Object.assign({}, FamilyTree.templates.hugo),FamilyTree.templates.hugo_female.node = '<rect x=\"0\" y=\"0\" height=\"{h}\" width=\"{w}\" stroke-width=\"1\" fill=url(#hugo_grad_female) stroke=\"#aeaeae\" rx=\"7\" ry=\"7\"></rect>',FamilyTree.templates.mother = Object.assign({}, FamilyTree.templates.base),FamilyTree.templates.mother.up = \"\",FamilyTree.templates.mother.node = '<rect x=\"0\" y=\"0\" height=\"{h}\" width=\"{w}\" style=\"fill:transparent;\"  stroke-width=\"1\" stroke=\"#F57C00\" rx=\"5\" ry=\"5\"></rect><text style=\"font-size: 18px;\" fill=\"#F57C00\" x=\"240\" y=\"30\" text-anchor=\"end\">Add mother</text>' + FamilyTree.icon.mother(70, 70, \"#F57C00\", 10, 40),FamilyTree.templates.mother.field_0 = \"\",FamilyTree.templates.mother.field_1 = \"\",FamilyTree.templates.father = Object.assign({}, FamilyTree.templates.mother),FamilyTree.templates.father.node = '<rect x=\"0\" y=\"0\" height=\"{h}\" width=\"{w}\" style=\"fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#039BE5;rx:5;ry:5;\"></rect><text style=\"font-size: 18px;\" fill=\"#039BE5\" x=\"240\" y=\"30\" text-anchor=\"end\">Add father</text>' + FamilyTree.icon.father(70, 70, \"#039BE5\", 10, 40),FamilyTree.templates.partner = Object.assign({}, FamilyTree.templates.mother),FamilyTree.templates.partner.node = '<rect x=\"0\" y=\"0\" height=\"{h}\" width=\"{w}\" style=\"fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#aeaeae;rx:5;ry:5;\"></rect><text style=\"font-size: 18px;\" fill=\"#aeaeae\" x=\"240\" y=\"30\" text-anchor=\"end\">Add partner</text>',FamilyTree.templates.son = Object.assign({}, FamilyTree.templates.mother),FamilyTree.templates.son.node = '<rect x=\"0\" y=\"0\" height=\"{h}\" width=\"{w}\" style=\"fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#039BE5;rx:5;ry:5;\"></rect><text style=\"font-size: 18px;\" fill=\"#039BE5\" x=\"240\" y=\"30\" text-anchor=\"end\">Add son</text>' + FamilyTree.icon.son(70, 70, \"#039BE5\", 10, 40),FamilyTree.templates.daughter = Object.assign({}, FamilyTree.templates.mother),FamilyTree.templates.daughter.node = '<rect x=\"0\" y=\"0\" height=\"{h}\" width=\"{w}\" style=\"fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#F57C00;rx:5;ry:5;\"></rect><text style=\"font-size: 18px;\" fill=\"#F57C00\" x=\"240\" y=\"30\" text-anchor=\"end\">Add daughter</text>' + FamilyTree.icon.daughter(70, 70, \"#F57C00\", 10, 40),FamilyTree.templates.husband = Object.assign({}, FamilyTree.templates.mother),FamilyTree.templates.husband.node = '<rect x=\"0\" y=\"0\" height=\"{h}\" width=\"{w}\" style=\"fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#039BE5;rx:5;ry:5;\"></rect><text style=\"font-size: 18px;\" fill=\"#039BE5\" x=\"240\" y=\"30\" text-anchor=\"end\">Add husband</text>' + FamilyTree.icon.husband(70, 70, \"#039BE5\", 10, 40),FamilyTree.templates.wife = Object.assign({}, FamilyTree.templates.mother),FamilyTree.templates.wife.node = '<rect x=\"0\" y=\"0\" height=\"{h}\" width=\"{w}\" style=\"fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#F57C00;rx:5;ry:5;\"></rect><text style=\"font-size: 18px;\" fill=\"#F57C00\" x=\"240\" y=\"30\" text-anchor=\"end\">Add wife</text>' + FamilyTree.icon.wife(70, 70, \"#F57C00\", 10, 40),FamilyTree.templates.pet = Object.assign({}, FamilyTree.templates.mother),FamilyTree.templates.pet.node = '<rect x=\"0\" y=\"0\" style=\"fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#F57C00;rx:5;ry:5;\"></rect><text style=\"font-size: 18px;\" fill=\"#F57C00\" x=\"240\" y=\"30\" text-anchor=\"end\">Add pet</text>' + FamilyTree.icon.teddy(70, 70, \"#F57C00\", 10, 40),FamilyTree.templates.cgroup = Object.assign({}, FamilyTree.templates.base),FamilyTree.templates.cgroup.defs = \"\",FamilyTree.templates.cgroup.size = [250, 120],FamilyTree.templates.cgroup.padding = [0, 0, 0, 0],FamilyTree.templates.cgroup.node = \"\",FamilyTree.templates.split = Object.assign({}, FamilyTree.templates.base),FamilyTree.templates.split.size = [10, 10],FamilyTree.templates.split.node = '<circle cx=\"5\" cy=\"5\" r=\"5\" fill=\"none\" stroke-width=\"1\" stroke=\"#aeaeae\"></circle>',FamilyTree.templates.mirror = {\n    linkAdjuster: {},\n    link: \"\",\n    node: \"\",\n    nodeMenuButton: \"\",\n    size: [0, 0]\n},FamilyTree.ui = {\n    _defsIds: {}, defs: function (e) {\n        var t = \"\";\n        for (var i in FamilyTree.templates) {\n            var r = FamilyTree.templates[i];\n            r.defs && (FamilyTree.ui._defsIds[i] = FamilyTree.randomId(), t += r.defs.replaceAll(\"{randId}\", FamilyTree.ui._defsIds[i]))\n        }\n        return \"<defs>\" + t + e + \"</defs>\"\n    }, lonely: function (e) {\n        return e.nodes && e.nodes.length ? \"\" : FamilyTree.IT_IS_LONELY_HERE.replace(\"{link}\", FamilyTree.RES.IT_IS_LONELY_HERE_LINK)\n    }, pointer: function (e, t, i) {\n        return t === FamilyTree.action.exporting ? \"\" : FamilyTree.t(e.template, !1, i).pointer\n    }, node: function (e, t, i, r, a, n, o, l, s, d) {\n        var c = FamilyTree.t(e.templateName, e.min, s), m = c.node.replaceAll(\"{w}\", e.w).replaceAll(\"{h}\", e.h);\n        c.defs && (m = m.replaceAll(\"{randId}\", FamilyTree.ui._defsIds[e.templateName])), null == o && (o = r.nodeBinding);\n        var p = {node: e, data: t};\n        for (var h in o) {\n            var f, u = o[h];\n            t && (f = t[u]);\n            var y = FamilyTree._lblIsImg(r, h);\n            if (p.value = f, p.element = c[h], p.name = u, p.field = h, !1 !== FamilyTree.events.publish(\"field\", [d, p]) && null != p.value && null != p.value && null != p.element && (!y || y && !FamilyTree.isNEU(p.value))) {\n                if (!y && \"string\" == typeof p.value) {\n                    var g = p.element;\n                    g && (g = g.replaceAll(\"{ew}\", e.w - (e.padding ? e.padding[1] : 0)).replaceAll(\"{cw}\", e.w / 2)), p.value = FamilyTree.wrapText(p.value, g)\n                }\n                var v = p.element.replace(\"{val}\", p.value);\n                m += v = v.replaceAll(\"{ew}\", e.w - (e.padding ? e.padding[1] : 0)).replaceAll(\"{cw}\", e.w / 2).replaceAll(\"{randId}\", FamilyTree.randomId()).replaceAll(\"{randId2}\", FamilyTree.randomId())\n            }\n        }\n        var T = FamilyTree._getPosition(i, e, a, n), b = \"node\";\n        Array.isArray(e.tags) && e.tags.length && (b += \" \" + e.tags.join(\" \")), e.layout && (b += \" tree-layout\");\n        var F = \"\";\n        e.lcn && (F = 'lcn=\"' + e.lcn + '\"');\n        var x = FamilyTree.nodeOpenTag.replace(\"{lcn}\", F).replace(\"{id}\", e.id).replace(\"{class}\", b).replace(\"{sl}\", e.sl).replace(\"{level}\", e.level).replace(\"{x}\", T.x).replace(\"{y}\", T.y),\n            _ = FamilyTree._getOpacity(i, e);\n        return m = (x = x.replace(\"{opacity}\", _)) + (m += FamilyTree.ui.nodeBtns(r, e, l, c, d)) + FamilyTree.grCloseTag\n    }, nodeBtns: function (e, t, i, r, a) {\n        var n = \"\";\n        return null == e.nodeMenu || t.isSplit || i === FamilyTree.action.exporting || (n += r.nodeMenuButton.replace(\"{id}\", t.id).replace(\"{cw}\", t.w / 2).replace(\"{ch}\", t.h / 2).replace(\"{ew}\", t.w - (t.padding ? t.padding[1] : 0)).replace(\"{eh}\", t.h - (t.padding ? t.padding[2] : 0))), null == e.nodeCircleMenu || t.isSplit || i === FamilyTree.action.exporting || FamilyTree.isNEU(r.nodeCircleMenuButton) || (n += '<g style=\"cursor:pointer;\" transform=\"matrix(1,0,0,1,' + r.nodeCircleMenuButton.x + \",\" + r.nodeCircleMenuButton.y + ')\" ' + FamilyTree.attr.control_node_circle_menu_id + '=\"' + t.id + '\"><circle cx=\"0\" cy=\"0\" fill=\"' + r.nodeCircleMenuButton.color + '\" r=\"' + r.nodeCircleMenuButton.radius + '\" stroke-width=\"1\" stroke=\"' + r.nodeCircleMenuButton.stroke + '\"></circle><line x1=\"-' + r.nodeCircleMenuButton.radius / 2 + '\" y1=\"-6\" x2=\"' + r.nodeCircleMenuButton.radius / 2 + '\" y2=\"-6\" stroke-width=\"2\" stroke=\"' + r.nodeCircleMenuButton.stroke + '\"></line><line x1=\"-' + r.nodeCircleMenuButton.radius / 2 + '\" y1=\"0\" x2=\"' + r.nodeCircleMenuButton.radius / 2 + '\" y2=\"0\" stroke-width=\"2\" stroke=\"' + r.nodeCircleMenuButton.stroke + '\"></line><line x1=\"-' + r.nodeCircleMenuButton.radius / 2 + '\" y1=\"6\" x2=\"' + r.nodeCircleMenuButton.radius / 2 + '\" y2=\"6\" stroke-width=\"2\" stroke=\"' + r.nodeCircleMenuButton.stroke + '\"></line></g>'), n\n    }, expandCollapseBtn: function (e, t, i, r, a) {\n        var n = \"\";\n        if (r !== FamilyTree.action.exporting && !t.isSplit) {\n            var o = i[t.lcn ? t.lcn : \"base\"], l = 0, s = 0, d = FamilyTree.t(t.templateName, t.min, a);\n            if (t.childrenIds.length > 0) {\n                if (t.hasPartners) {\n                    for (var c = !1, m = 0; m < t.childrenIds.length; m++) {\n                        var p = e.getNode(t.childrenIds[m]);\n                        !p || p.parentPartner || p.isPartner || (c = !0)\n                    }\n                    if (!c) return \"\"\n                }\n                switch (o.orientation) {\n                    case FamilyTree.orientation.top:\n                    case FamilyTree.orientation.top_left:\n                        l = t.x + t.w / 2, s = t.y + t.h;\n                        break;\n                    case FamilyTree.orientation.bottom:\n                    case FamilyTree.orientation.bottom_left:\n                        l = t.x + t.w / 2, s = t.y;\n                        break;\n                    case FamilyTree.orientation.right:\n                    case FamilyTree.orientation.right_top:\n                        l = t.x, s = t.y + t.h / 2;\n                        break;\n                    case FamilyTree.orientation.left:\n                    case FamilyTree.orientation.left_top:\n                        l = t.x + t.w, s = t.y + t.h / 2\n                }\n                if (l -= d.expandCollapseSize / 2, s -= d.expandCollapseSize / 2, e.getCollapsedIds(t).length ? (n += FamilyTree.expcollOpenTag.replace(\"{id}\", t.id).replace(\"{x}\", l).replace(\"{y}\", s), n += d.plus, n += FamilyTree.grCloseTag) : (n += FamilyTree.expcollOpenTag.replace(\"{id}\", t.id).replace(\"{x}\", l).replace(\"{y}\", s), n += d.minus, n += FamilyTree.grCloseTag), -1 != n.indexOf(\"{collapsed-children-count}\")) {\n                    var h = FamilyTree.collapsedChildrenCount(e, t);\n                    n = n.replace(\"{collapsed-children-count}\", h)\n                }\n                if (-1 != n.indexOf(\"{collapsed-children-total-count}\")) {\n                    var f = FamilyTree.collapsedChildrenTotalCount(e, t);\n                    n = n.replace(\"{collapsed-children-total-count}\", f)\n                }\n                if (-1 != n.indexOf(\"{children-count}\")) {\n                    var u = FamilyTree.childrenCount(e, t);\n                    n = n.replace(\"{children-count}\", u)\n                }\n                if (-1 != n.indexOf(\"{children-total-count}\")) {\n                    var y = FamilyTree.childrenTotalCount(e, t);\n                    n = n.replace(\"{children-total-count}\", y)\n                }\n            }\n            e._nodeHasHiddenParent(t) && (n += FamilyTree.upOpenTag.replace(\"{id}\", t.id).replace(\"{x}\", t.x).replace(\"{y}\", t.y), n += d.up, n += FamilyTree.grCloseTag)\n        }\n        var g = {html: n, node: t};\n        return FamilyTree.events.publish(\"renderbuttons\", [e, g]), g.html\n    }, link: function (e, t, i, r, a, n, o) {\n        var l = e.lcn ? e.lcn : \"base\", s = t._layoutConfigs[l], d = FamilyTree.t(e.templateName, e.min, i), c = [],\n            m = [], p = s.levelSeparation / 2;\n        e.layout > 0 && (p = s.mixedHierarchyNodesSeparation / 2);\n        var h = 0, f = FamilyTree.getRootOf(e).id, u = r[f][e.sl], y = void 0;\n        if (e.hasPartners) {\n            y = {\n                ids: [],\n                indexes: {},\n                ppnodes: {},\n                lastLeft: null,\n                firstRight: null,\n                maxSidePartnersWithChildren: 0,\n                rightIds: [],\n                leftIds: [],\n                partnerChildrenSplitSeparation: t.config.partnerChildrenSplitSeparation\n            };\n            for (var g = 0; g < e.children.length; g++) {\n                (T = e.children[g]).parentPartner ? (y.ppnodes[T.id] = T.parentPartner, y.ids.push(T.id), 1 == T.parentPartner.isPartner ? (-1 == y.rightIds.indexOf(T.parentPartner.id) && y.rightIds.push(T.parentPartner.id), y.indexes[T.id] = y.rightIds.indexOf(T.parentPartner.id), y.firstRight || (y.firstRight = T)) : 2 == T.parentPartner.isPartner && (-1 == y.leftIds.indexOf(T.parentPartner.id) && y.leftIds.push(T.parentPartner.id), y.indexes[T.id] = y.leftIds.indexOf(T.parentPartner.id), y.lastLeft = T)) : T.isPartner || (y.lastLeft = T, y.firstRight || (y.firstRight = T))\n            }\n            y.maxSidePartnersWithChildren = Math.max(y.leftIds.length, y.rightIds.length), h = 0 == y.maxSidePartnersWithChildren ? t.config.minPartnerSeparation / 2 : t.config.minPartnerSeparation / 2 + y.partnerChildrenSplitSeparation * y.maxSidePartnersWithChildren + y.partnerChildrenSplitSeparation / 2\n        }\n        for (g = 0; g < e.children.length; g++) {\n            var v, T = e.children[g], b = r[f][T.sl],\n                F = {xa: 0, ya: 0, xb: 0, yb: 0, xc: 0, yc: 0, xd: 0, yd: 0, x: 0, y: 0, rotate: 0},\n                x = (d = FamilyTree.t(T.templateName, T.min, i)).link;\n            if (T.isChildOfPartner) switch (s.orientation) {\n                case FamilyTree.orientation.top:\n                case FamilyTree.orientation.top_left:\n                    var _ = 1 == T.layout ? void 0 : b.minY - (b.minY - u.maxY) / 2;\n                    F = FamilyTree.ui._linkTopToBottom(T.parentPartner, T, d, p, _);\n                    break;\n                case FamilyTree.orientation.bottom:\n                case FamilyTree.orientation.bottom_left:\n                    _ = 1 == T.layout ? void 0 : b.maxY - (b.maxY - u.minY) / 2;\n                    F = FamilyTree.ui._linkBottomToTop(T.parentPartner, T, d, p, _);\n                    break;\n                case FamilyTree.orientation.right:\n                case FamilyTree.orientation.right_top:\n                    _ = 1 == T.layout ? void 0 : b.maxX - (b.maxX - u.minX) / 2;\n                    F = FamilyTree.ui._linkRightToLeft(T.parentPartner, T, d, p, _);\n                    break;\n                case FamilyTree.orientation.left:\n                case FamilyTree.orientation.left_top:\n                    _ = 1 == T.layout ? void 0 : b.minX - (b.minX - u.maxX) / 2;\n                    F = FamilyTree.ui._linkLeftToRight(T.parentPartner, T, d, p, _)\n            } else if (y && -1 != y.ids.indexOf(T.id)) switch (s.orientation) {\n                case FamilyTree.orientation.top:\n                case FamilyTree.orientation.top_left:\n                    F = FamilyTree.ui._linkPpTop(y, e, T, b, u, d);\n                    break;\n                case FamilyTree.orientation.bottom:\n                case FamilyTree.orientation.bottom_left:\n                    F = FamilyTree.ui._linkPpBottom(y, e, T, b, u, d);\n                    break;\n                case FamilyTree.orientation.right:\n                case FamilyTree.orientation.right_top:\n                    F = FamilyTree.ui._linkPpRight(y, e, T, b, u, d);\n                    break;\n                case FamilyTree.orientation.left:\n                case FamilyTree.orientation.left_top:\n                    F = FamilyTree.ui._linkPpLeft(y, e, T, b, u, d)\n            } else {\n                var w = T.isAssistant && T.rightNeighbor && T.rightNeighbor.isAssistant && T.parent == T.rightNeighbor.parent,\n                    k = T.isAssistant && T.leftNeighbor && T.leftNeighbor.isAssistant && T.parent == T.leftNeighbor.parent;\n                if ((w || T.layout > 1) && T.rightNeighbor && T.rightNeighbor.isSplit) switch (s.orientation) {\n                    case FamilyTree.orientation.top:\n                    case FamilyTree.orientation.top_left:\n                    case FamilyTree.orientation.bottom:\n                    case FamilyTree.orientation.bottom_left:\n                        F = FamilyTree.ui._linkRightToLeft(T.rightNeighbor, T, d, p);\n                        break;\n                    case FamilyTree.orientation.right:\n                    case FamilyTree.orientation.right_top:\n                    case FamilyTree.orientation.left:\n                    case FamilyTree.orientation.left_top:\n                        F = FamilyTree.ui._linkBottomToTop(T.rightNeighbor, T, d, p)\n                } else if ((k || T.layout > 1) && T.leftNeighbor && T.leftNeighbor.isSplit) switch (s.orientation) {\n                    case FamilyTree.orientation.top:\n                    case FamilyTree.orientation.top_left:\n                    case FamilyTree.orientation.bottom:\n                    case FamilyTree.orientation.bottom_left:\n                        F = FamilyTree.ui._linkLeftToRight(T.leftNeighbor, T, d, p);\n                        break;\n                    case FamilyTree.orientation.right:\n                    case FamilyTree.orientation.right_top:\n                    case FamilyTree.orientation.left:\n                    case FamilyTree.orientation.left_top:\n                        F = FamilyTree.ui._linkTopToBottom(T.leftNeighbor, T, d, p)\n                } else switch (s.orientation) {\n                    case FamilyTree.orientation.top:\n                    case FamilyTree.orientation.top_left:\n                        if (1 == T.isPartner) F = FamilyTree.ui._linkLeftToRight(e, T, d, h); else if (2 == T.isPartner) F = FamilyTree.ui._linkRightToLeft(e, T, d, h); else {\n                            _ = 1 == T.layout ? void 0 : b.minY - (b.minY - u.maxY) / 2;\n                            F = FamilyTree.ui._linkTopToBottom(e, T, d, p, _)\n                        }\n                        break;\n                    case FamilyTree.orientation.bottom:\n                    case FamilyTree.orientation.bottom_left:\n                        if (1 == T.isPartner) F = FamilyTree.ui._linkLeftToRight(e, T, d, h); else if (2 == T.isPartner) F = FamilyTree.ui._linkRightToLeft(e, T, d, h); else {\n                            _ = 1 == T.layout ? void 0 : b.maxY - (b.maxY - u.minY) / 2;\n                            F = FamilyTree.ui._linkBottomToTop(e, T, d, p, _)\n                        }\n                        break;\n                    case FamilyTree.orientation.right:\n                    case FamilyTree.orientation.right_top:\n                        if (1 == T.isPartner) F = FamilyTree.ui._linkTopToBottom(e, T, d, h); else if (2 == T.isPartner) F = FamilyTree.ui._linkBottomToTop(e, T, d, h); else {\n                            _ = 1 == T.layout ? void 0 : b.maxX - (b.maxX - u.minX) / 2;\n                            F = FamilyTree.ui._linkRightToLeft(e, T, d, p, _)\n                        }\n                        break;\n                    case FamilyTree.orientation.left:\n                    case FamilyTree.orientation.left_top:\n                        if (1 == T.isPartner) F = FamilyTree.ui._linkTopToBottom(e, T, d, h); else if (2 == T.isPartner) F = FamilyTree.ui._linkBottomToTop(e, T, d, h); else {\n                            _ = 1 == T.layout ? void 0 : b.minX - (b.minX - u.maxX) / 2;\n                            F = FamilyTree.ui._linkLeftToRight(e, T, d, p, _)\n                        }\n                }\n            }\n            var S = FamilyTree.ui._draggableLinkPath(t, e, T, F, p, s.orientation);\n            if (S) v = S, x = x.replace(\"{rounded}\", S).replace(\"{edge}\", S).replace(\"{curve}\", v); else if (-1 != x.indexOf(\"{rounded}\")) if (F.xa == F.xb && F.xa == F.xc && F.xa == F.xd || F.ya == F.yb && F.ya == F.yc && F.ya == F.yd) v = \"M\" + F.xa + \",\" + F.ya + \" L\" + F.xd + \",\" + F.yd, x = x.replace(\"{rounded}\", v); else if (Math.abs(F.xa - F.xd) <= FamilyTree.LINK_ROUNDED_CORNERS && Math.abs(F.xa - F.xc) <= FamilyTree.LINK_ROUNDED_CORNERS && Math.abs(F.xa - F.xb) <= FamilyTree.LINK_ROUNDED_CORNERS) v = \"M\" + F.xa + \",\" + F.ya + \" L\" + F.xa + \",\" + F.yd, x = x.replace(\"{rounded}\", v); else if (Math.abs(F.ya - F.yd) <= FamilyTree.LINK_ROUNDED_CORNERS && Math.abs(F.ya - F.yc) <= FamilyTree.LINK_ROUNDED_CORNERS && Math.abs(F.ya - F.yb) <= FamilyTree.LINK_ROUNDED_CORNERS) v = \"M\" + F.xa + \",\" + F.ya + \" L\" + F.xd + \",\" + F.ya, x = x.replace(\"{rounded}\", v); else {\n                var C = FamilyTree.ui._roundedEdge(F.xa, F.ya, F.xb, F.yb, F.xc, F.yc),\n                    I = FamilyTree.ui._roundedEdge(F.xb, F.yb, F.xc, F.yc, F.xd, F.yd);\n                v = \"M\" + C.x1 + \",\" + C.y1 + \" \" + C.x2 + \",\" + C.y2 + \" Q\" + C.qx1 + \",\" + C.qy1 + \" \" + C.qx2 + \",\" + C.qy2 + \" L\" + I.x2 + \",\" + I.y2 + \" Q\" + I.qx1 + \",\" + I.qy1 + \" \" + I.qx2 + \",\" + I.qy2 + \" L\" + I.x3 + \",\" + I.y3, x = x.replace(\"{rounded}\", v)\n            } else -1 != x.indexOf(\"{edge}\") ? (v = \"M\" + F.xa + \",\" + F.ya + \" \" + F.xb + \",\" + F.yb + \" \" + F.xc + \",\" + F.yc + \" L\" + F.xd + \",\" + F.yd, x = x.replace(\"{edge}\", v)) : -1 != x.indexOf(\"{curve}\") ? (v = \"M\" + F.xa + \",\" + F.ya + \" C\" + F.xb + \",\" + F.yb + \" \" + F.xc + \",\" + F.yc + \" \" + F.xd + \",\" + F.yd, x = x.replace(\"{curve}\", v)) : (v = x.replaceAll(\"{xa}\", F.xa).replaceAll(\"{ya}\", F.ya).replaceAll(\"{xb}\", F.xb).replaceAll(\"{yb}\", F.yb).replaceAll(\"{xc}\", F.xc).replaceAll(\"{yc}\", F.yc).replaceAll(\"{xd}\", F.xd).replaceAll(\"{yd}\", F.yd), x = v);\n            c.push(FamilyTree.linkOpenTag.replace(\"{id}\", e.id).replace(\"{class}\", \"link \" + T.tags.join(\" \")).replace(\"{child-id}\", T.id));\n            var N = {node: e, cnode: T, p: F, html: x, action: n};\n            FamilyTree.events.publish(\"render-link\", [t, N]), c.push(N.html), o && m.push({\n                id: e.id,\n                childId: T.id,\n                html: N.html\n            });\n            var A = \"\";\n            for (var L in t.config.linkBinding) {\n                var E = t.config.linkBinding[L], M = t._get(T.id);\n                if (M) {\n                    var U = M[E];\n                    N.value = U, N.element = d[L], N.name = E, !1 !== FamilyTree.events.publish(\"label\", [t, N]) && (FamilyTree.isNEU(N.value) || FamilyTree.isNEU(N.element) || (A += N.element.replace(\"{val}\", N.value)))\n                }\n            }\n            \"\" != A && (A = FamilyTree.linkFieldsOpenTag.replace(\"{x}\", F.x).replace(\"{y}\", F.y).replace(\"{rotate}\", 0) + A + FamilyTree.grCloseTag, c.push(A)), c.push(FamilyTree.grCloseTag)\n        }\n        return o ? m : c.join(\"\")\n    }, svg: function (e, t, i, r, a, n) {\n        return FamilyTree.t(r.template, !1, n).svg.replace(\"{w}\", e).replace(\"{h}\", t).replace(\"{viewBox}\", i).replace(\"{randId}\", FamilyTree.ui._defsIds[r.template]).replace(\"{mode}\", r.mode).replace(\"{template}\", r.template).replace(\"{content}\", (function () {\n            return a\n        }))\n    }, menuButton: function (e) {\n        return null == e.menu ? \"\" : FamilyTree.t(e.template, !1).menuButton.replaceAll(\"{p}\", e.padding)\n    }, _roundedEdge: function (e, t, i, r, a, n) {\n        var o, l, s, d = FamilyTree.LINK_ROUNDED_CORNERS, c = 0;\n        return e == i && e == a || t == r && t == n ? (o = s = i, l = c = r) : (e != a && i == a && (o = s = i, l = r, t < n ? c = r + d : t > n && (c = r - d)), e < a && i == a ? i -= d : e > a && i == a && (i += d), t != n && r == n && (o = i, l = c = r, e < a ? s = i + d : e > a && (s = i - d)), t < n && r == n ? r -= d : t > n && r == n && (r += d)), {\n            x1: e,\n            y1: t,\n            x2: i,\n            y2: r,\n            x3: a,\n            y3: n,\n            qx1: o,\n            qy1: l,\n            qx2: s,\n            qy2: c\n        }\n    }, _linkTopToBottom: function (e, t, i, r, a) {\n        var n, o, l, s, d, c = 0;\n        return n = e.x + e.w / 2 + i.linkAdjuster.toX, o = e.y + e.h + i.linkAdjuster.toY, s = l = t.x + t.w / 2 + i.linkAdjuster.fromX, d = t.y + i.linkAdjuster.fromY, {\n            xa: n,\n            ya: o,\n            xb: n,\n            yb: c = e.rightNeighbor && e.rightNeighbor.isAssistant && \"split\" == t.templateName ? e.rightNeighbor.y + e.rightNeighbor.h + r : \"split\" == e.templateName && (t.isAssistant || t.layout > 1) ? d : \"split\" == t.templateName ? o + r : null != a ? a : d - r,\n            xc: l,\n            yc: c,\n            xd: s,\n            yd: d,\n            x: l,\n            y: FamilyTree.isNEU(t.parentPartner) ? c + 16 : c,\n            rotate: 0\n        }\n    }, _linkBottomToTop: function (e, t, i, r, a) {\n        var n, o, l, s, d, c = 0;\n        return n = e.x + e.w / 2 + i.linkAdjuster.toX, o = e.y + i.linkAdjuster.toY, s = l = t.x + t.w / 2 + i.linkAdjuster.fromX, d = t.y + t.h + i.linkAdjuster.fromY, {\n            xa: n,\n            ya: o,\n            xb: n,\n            yb: c = e.rightNeighbor && e.rightNeighbor.isAssistant && \"split\" == t.templateName ? e.rightNeighbor.y - r : \"split\" == e.templateName && (t.isAssistant || t.layout > 1) ? d : \"split\" == t.templateName ? o - r : null != a ? a : d + r,\n            xc: l,\n            yc: c,\n            xd: s,\n            yd: d,\n            x: l,\n            y: c - 14,\n            rotate: 0\n        }\n    }, _linkRightToLeft: function (e, t, i, r, a) {\n        var n, o, l, s, d, c, m = 0;\n        return n = e.x + i.linkAdjuster.toX, o = e.y + e.h / 2 + i.linkAdjuster.toY, d = t.x + t.w + i.linkAdjuster.fromX, c = s = t.y + t.h / 2 + i.linkAdjuster.fromY, l = o, 90, {\n            xa: n,\n            ya: o,\n            xb: m = e.rightNeighbor && e.rightNeighbor.isAssistant && \"split\" == t.templateName ? e.rightNeighbor.x - r : \"split\" == e.templateName && (t.isAssistant || t.layout > 1) ? d : \"split\" == t.templateName ? n - r : null != a ? a : d + r,\n            yb: l,\n            xc: m,\n            yc: s,\n            xd: d,\n            yd: c,\n            x: m - 16,\n            y: s,\n            rotate: 90\n        }\n    }, _linkLeftToRight: function (e, t, i, r, a) {\n        var n, o, l, s, d, c, m = 0;\n        return n = e.x + e.w + i.linkAdjuster.toX, o = e.y + e.h / 2 + i.linkAdjuster.toY, d = t.x + i.linkAdjuster.fromX, c = s = t.y + t.h / 2 + i.linkAdjuster.fromY, l = o, 270, {\n            xa: n,\n            ya: o,\n            xb: m = e.rightNeighbor && e.rightNeighbor.isAssistant && \"split\" == t.templateName ? e.rightNeighbor.x + e.rightNeighbor.w + r : \"split\" == e.templateName && (t.isAssistant || t.layout > 1) ? d : \"split\" == t.templateName ? n + r : null != a ? a : d - r,\n            yb: l,\n            xc: m,\n            yc: s,\n            xd: d,\n            yd: c,\n            x: m + 14,\n            y: s,\n            rotate: 270\n        }\n    }, _linkPpTop: function (e, t, i, r, a, n) {\n        var o = e.ppnodes[i.id], l = o.y + o.h / 2, s = r.minY - (r.minY - a.maxY) / 2,\n            d = (r.minY - a.maxY) / e.maxSidePartnersWithChildren / 4,\n            c = FamilyTree.ui.__linkPpBottomTop(e, t, i, s, d, o), m = c.x;\n        return s = c.mid, FamilyTree.ui._linkTopToBottom({x: m, y: l, w: 0, h: 0}, i, n, 0, s)\n    }, _linkPpBottom: function (e, t, i, r, a, n) {\n        var o = e.ppnodes[i.id], l = o.y + o.h / 2, s = r.maxY - (r.maxY - a.minY) / 2,\n            d = (r.maxY - a.minY) / e.maxSidePartnersWithChildren / 4,\n            c = FamilyTree.ui.__linkPpBottomTop(e, t, i, s, d, o), m = c.x;\n        return s = c.mid, FamilyTree.ui._linkBottomToTop({x: m, y: l, w: 0, h: 0}, i, n, 0, s)\n    }, _linkPpLeft: function (e, t, i, r, a, n) {\n        var o = e.ppnodes[i.id], l = r.minX - (r.minX - a.maxX) / 2,\n            s = (r.minX - a.maxX) / e.maxSidePartnersWithChildren / 4, d = o.x + o.w / 2,\n            c = FamilyTree.ui.__linkPpLeftRight(e, t, i, l, s, o), m = c.y;\n        return l = c.mid, FamilyTree.ui._linkLeftToRight({x: d, y: m, w: 0, h: 0}, i, n, 0, l)\n    }, _linkPpRight: function (e, t, i, r, a, n) {\n        var o = e.ppnodes[i.id], l = r.maxX - (r.maxX - a.minX) / 2,\n            s = (r.maxX - a.minX) / e.maxSidePartnersWithChildren / 4, d = o.x + o.w / 2,\n            c = FamilyTree.ui.__linkPpLeftRight(e, t, i, l, s, o), m = c.y;\n        return l = c.mid, FamilyTree.ui._linkRightToLeft({x: d, y: m, w: 0, h: 0}, i, n, 0, l)\n    }, __linkPpBottomTop: function (e, t, i, r, a, n) {\n        var o = 0;\n        return 1 == n.isPartner ? (o = n.x - t.partnerSeparation / 2 + e.indexes[i.id] * e.partnerChildrenSplitSeparation - (e.rightIds.length - 1) * e.partnerChildrenSplitSeparation / 2, e.lastLeft && o < e.lastLeft.x + e.lastLeft.w / 2 ? o < i.x + i.w / 2 ? r -= (e.indexes[i.id] + 1) * a : r -= (e.rightIds.length - e.indexes[i.id]) * a : o < i.x + i.w / 2 ? r += (e.rightIds.length - e.indexes[i.id]) * a : r += (e.indexes[i.id] + 1) * a) : 2 == n.isPartner && (o = n.x + n.w + t.partnerSeparation / 2 + e.indexes[i.id] * e.partnerChildrenSplitSeparation - (e.leftIds.length - 1) * e.partnerChildrenSplitSeparation / 2, e.firstRight && o > e.firstRight.x + e.firstRight.w / 2 ? o < i.x + i.w / 2 ? r -= (e.indexes[i.id] + 1) * a : r -= (e.leftIds.length - e.indexes[i.id]) * a : o < i.x + i.w / 2 ? r += (e.leftIds.length - e.indexes[i.id]) * a : r += (e.indexes[i.id] + 1) * a), {\n            x: o,\n            mid: r\n        }\n    }, __linkPpLeftRight: function (e, t, i, r, a, n) {\n        var o = 0;\n        return 1 == n.isPartner ? (o = n.y - t.partnerSeparation / 2 + e.indexes[i.id] * e.partnerChildrenSplitSeparation - (e.rightIds.length - 1) * e.partnerChildrenSplitSeparation / 2, e.lastLeft && o < e.lastLeft.y + e.lastLeft.h / 2 ? o < i.y + i.h / 2 ? r -= (e.indexes[i.id] + 1) * a : r -= (e.rightIds.length - e.indexes[i.id]) * a : o < i.y + i.h / 2 ? r += (e.rightIds.length - e.indexes[i.id]) * a : r += (e.indexes[i.id] + 1) * a) : 2 == n.isPartner && (o = n.y + n.h + t.partnerSeparation / 2 + e.indexes[i.id] * e.partnerChildrenSplitSeparation - (e.leftIds.length - 1) * e.partnerChildrenSplitSeparation / 2, e.firstRight && o > e.firstRight.y + e.firstRight.h / 2 ? o < i.y + i.h / 2 ? r -= (e.indexes[i.id] + 1) * a : r -= (e.leftIds.length - e.indexes[i.id]) * a : o < i.y + i.h / 2 ? r += (e.leftIds.length - e.indexes[i.id]) * a : r += (e.indexes[i.id] + 1) * a), {\n            y: o,\n            mid: r\n        }\n    }, _draggableLinkPath: function (e, t, i, r, a, n) {\n        if (i.isPartner) return null;\n        if (i.isAssistant) return null;\n        if (FamilyTree._isMoved(i) && !FamilyTree._isMoved(t)) {\n            var o = [];\n            switch (n) {\n                case FamilyTree.orientation.top:\n                case FamilyTree.orientation.top_left:\n                    if (r.yb + a / 2 < r.yd) return null;\n                    s = r.xa < r.xd ? i.x - a / 2 : i.x + i.w + a / 2, d = i.y - a / 2;\n                    break;\n                case FamilyTree.orientation.bottom:\n                case FamilyTree.orientation.bottom_left:\n                    if (r.yb - a / 2 > r.yd) return null;\n                    s = r.xa < r.xd ? i.x - a / 2 : i.x + i.w + a / 2, d = i.y + i.h + a / 2;\n                    break;\n                case FamilyTree.orientation.right:\n                case FamilyTree.orientation.right_top:\n                    if (r.xb - a / 2 > r.xd) return null;\n                    d = r.ya < r.yd ? i.y - a / 2 : i.y + i.h + a / 2, s = i.x + i.w + a / 2;\n                    break;\n                case FamilyTree.orientation.left:\n                case FamilyTree.orientation.left_top:\n                    if (r.xb + a / 2 < r.xd) return null;\n                    d = r.ya < r.yd ? i.y - a / 2 : i.y + i.h + a / 2, s = i.x - a / 2\n            }\n            switch (n) {\n                case FamilyTree.orientation.top:\n                case FamilyTree.orientation.top_left:\n                case FamilyTree.orientation.bottom:\n                case FamilyTree.orientation.bottom_left:\n                    o.push([\"M\", r.xa, r.ya]), o.push([\"L\", r.xb, r.yb]), o.push([\"L\", s, r.yb]), o.push([\"L\", s, d]), o.push([\"L\", r.xd, d]), o.push([\"L\", r.xd, r.yd]);\n                    break;\n                case FamilyTree.orientation.right:\n                case FamilyTree.orientation.right_top:\n                case FamilyTree.orientation.left:\n                case FamilyTree.orientation.left_top:\n                    (o = []).push([\"M\", r.xa, r.ya]), o.push([\"L\", r.xb, r.yb]), o.push([\"L\", r.xb, d]), o.push([\"L\", s, d]), o.push([\"L\", s, r.yd]), o.push([\"L\", r.xd, r.yd])\n            }\n            return FamilyTree.roundPathCorners(o, FamilyTree.LINK_ROUNDED_CORNERS, !1)\n        }\n        if (!FamilyTree._isMoved(i) && FamilyTree._isMoved(t)) {\n            var l = !1;\n            o = [];\n            switch (n) {\n                case FamilyTree.orientation.top:\n                case FamilyTree.orientation.top_left:\n                    if (r.ya + a / 2 > r.yb) l = !0, s = r.xa < r.xd ? t.x + t.w + a / 2 : t.x - a / 2, d = t.y + t.h + a; else {\n                        if (r.yb + a / 2 < r.yd) return null;\n                        s = r.xa < r.xd ? i.x - a / 2 : i.x + i.w + a / 2, d = i.y - a / 2\n                    }\n                    break;\n                case FamilyTree.orientation.bottom:\n                case FamilyTree.orientation.bottom_left:\n                    if (r.ya - a / 2 < r.yb) l = !0, s = r.xa < r.xd ? t.x + t.w + a / 2 : t.x - a / 2, d = t.y - a; else {\n                        if (r.yb - a / 2 > r.yd) return null;\n                        s = r.xa < r.xd ? i.x - a / 2 : i.x + i.w + a / 2, d = i.y + i.h + a / 2\n                    }\n                    break;\n                case FamilyTree.orientation.right:\n                case FamilyTree.orientation.right_top:\n                    if (r.xa - a / 2 < r.xb) l = !0, d = r.ya < r.yd ? t.y + t.h + a / 2 : t.y - a / 2, s = t.x - a; else {\n                        if (r.xb - a / 2 > r.xd) return null;\n                        d = r.ya < r.yd ? i.y - a / 2 : i.y + i.h + a / 2, s = i.x + i.w + a / 2\n                    }\n                    break;\n                case FamilyTree.orientation.left:\n                case FamilyTree.orientation.left_top:\n                    if (r.xa + a / 2 > r.xb) l = !0, d = r.ya < r.yd ? t.y + t.h + a / 2 : t.y - a / 2, s = t.x + t.w + a; else {\n                        if (r.xb + a / 2 < r.xd) return null;\n                        d = r.ya < r.yd ? i.y - a / 2 : i.y + i.h + a / 2, s = i.x - a / 2\n                    }\n            }\n            if (l) switch (n) {\n                case FamilyTree.orientation.top:\n                case FamilyTree.orientation.top_left:\n                case FamilyTree.orientation.bottom:\n                case FamilyTree.orientation.bottom_left:\n                    o.push([\"M\", r.xa, r.ya]), o.push([\"L\", r.xa, d]), o.push([\"L\", s, d]), o.push([\"L\", s, r.yc]), o.push([\"L\", r.xc, r.yc]), o.push([\"L\", r.xd, r.yd]);\n                    break;\n                case FamilyTree.orientation.right:\n                case FamilyTree.orientation.right_top:\n                case FamilyTree.orientation.left:\n                case FamilyTree.orientation.left_top:\n                    o.push([\"M\", r.xa, r.ya]), o.push([\"L\", s, r.ya]), o.push([\"L\", s, d]), o.push([\"L\", r.xc, d]), o.push([\"L\", r.xc, r.yc]), o.push([\"L\", r.xd, r.yd])\n            } else switch (n) {\n                case FamilyTree.orientation.top:\n                case FamilyTree.orientation.top_left:\n                case FamilyTree.orientation.bottom:\n                case FamilyTree.orientation.bottom_left:\n                    o.push([\"M\", r.xa, r.ya]), o.push([\"L\", r.xb, r.yb]), o.push([\"L\", s, r.yb]), o.push([\"L\", s, d]), o.push([\"L\", r.xd, d]), o.push([\"L\", r.xd, r.yd]);\n                    break;\n                case FamilyTree.orientation.right:\n                case FamilyTree.orientation.right_top:\n                case FamilyTree.orientation.left:\n                case FamilyTree.orientation.left_top:\n                    o.push([\"M\", r.xa, r.ya]), o.push([\"L\", r.xb, r.yb]), o.push([\"L\", r.xb, d]), o.push([\"L\", s, d]), o.push([\"L\", s, r.yd]), o.push([\"L\", r.xd, r.yd])\n            }\n            return FamilyTree.roundPathCorners(o, FamilyTree.LINK_ROUNDED_CORNERS, !1)\n        }\n        if (FamilyTree._isMoved(i) && FamilyTree._isMoved(t)) {\n            o = [];\n            switch (n) {\n                case FamilyTree.orientation.top:\n                case FamilyTree.orientation.top_left:\n                    if (r.ya + a > r.yd) {\n                        var s = r.xa < r.xd ? t.x + t.w + a / 2 : t.x - a / 2, d = t.y + t.h + a, c = i.y - a;\n                        o.push([\"M\", r.xa, r.ya]), o.push([\"L\", r.xa, d]), o.push([\"L\", s, d]), o.push([\"L\", s, c]), o.push([\"L\", r.xc, c]), o.push([\"L\", r.xd, r.yd])\n                    } else o.push([\"M\", r.xa, r.ya]), o.push([\"L\", r.xa, t.y + t.h + a]), o.push([\"L\", r.xc, t.y + t.h + a]), o.push([\"L\", r.xd, r.yd]);\n                    break;\n                case FamilyTree.orientation.bottom:\n                case FamilyTree.orientation.bottom_left:\n                    if (r.ya - a < r.yd) {\n                        s = r.xa < r.xd ? t.x + t.w + a / 2 : t.x - a / 2, d = t.y - a, c = i.y + i.h + a;\n                        o.push([\"M\", r.xa, r.ya]), o.push([\"L\", r.xa, d]), o.push([\"L\", s, d]), o.push([\"L\", s, c]), o.push([\"L\", r.xc, c]), o.push([\"L\", r.xd, r.yd])\n                    } else o.push([\"M\", r.xa, r.ya]), o.push([\"L\", r.xa, t.y - a]), o.push([\"L\", r.xc, t.y - a]), o.push([\"L\", r.xd, r.yd]);\n                    break;\n                case FamilyTree.orientation.right:\n                case FamilyTree.orientation.right_top:\n                    if (r.xa - a < r.xd) {\n                        d = r.ya < r.yd ? t.y + t.h + a / 2 : t.y - a / 2, s = t.x - a;\n                        var m = i.x + i.w + a;\n                        o.push([\"M\", r.xa, r.ya]), o.push([\"L\", s, r.ya]), o.push([\"L\", s, d]), o.push([\"L\", m, d]), o.push([\"L\", m, r.yc]), o.push([\"L\", r.xd, r.yd])\n                    } else o.push([\"M\", r.xa, r.ya]), o.push([\"L\", t.x - a, r.ya]), o.push([\"L\", t.x - a, r.yc]), o.push([\"L\", r.xd, r.yd]);\n                    break;\n                case FamilyTree.orientation.left:\n                case FamilyTree.orientation.left_top:\n                    if (r.xa + a > r.xd) {\n                        d = r.ya < r.yd ? t.y + t.h + a / 2 : t.y - a / 2, s = t.x + t.w + a, m = i.x - a;\n                        o.push([\"M\", r.xa, r.ya]), o.push([\"L\", s, r.ya]), o.push([\"L\", s, d]), o.push([\"L\", m, d]), o.push([\"L\", m, r.yc]), o.push([\"L\", r.xd, r.yd])\n                    } else o.push([\"M\", r.xa, r.ya]), o.push([\"L\", t.x + t.w + a, r.ya]), o.push([\"L\", t.x + t.w + a, r.yc]), o.push([\"L\", r.xd, r.yd])\n            }\n            return FamilyTree.roundPathCorners(o, FamilyTree.LINK_ROUNDED_CORNERS, !1)\n        }\n        return null\n    }\n},FamilyTree.ui._base_nodeBtns = FamilyTree.ui.nodeBtns,FamilyTree.ui.nodeBtns = function (e, t, i, r, a) {\n    var n = \"\";\n    if (a._tree_menu_temp) !t.isSplit && i !== FamilyTree.action.exporting && r.nodeTreeMenuCloseButton && a._tree_menu_temp.id == t.id && (n += r.nodeTreeMenuCloseButton); else {\n        n = FamilyTree.ui._base_nodeBtns(e, t, i, r, a);\n        null != e.nodeTreeMenu && !t.isSplit && i !== FamilyTree.action.exporting && r.nodeTreeMenuButton && (n += r.nodeTreeMenuButton.replace(\"{id}\", t.id))\n    }\n    return n\n},FamilyTree.ui._base_expandCollapseBtn = FamilyTree.ui.expandCollapseBtn,FamilyTree.ui.expandCollapseBtn = function (e, t, i, r, a) {\n    return e._tree_menu_temp ? \"\" : FamilyTree.ui._base_expandCollapseBtn(e, t, i, r, a)\n},FamilyTree.xScrollUI = function (e, t, i, r, a) {\n    this.element = e, this.requestParams = i, this.config = t, this.onSetViewBoxCallback = r, this.onDrawCallback = a, this.position = 0, this.bar = null, this._event_id = FamilyTree._guid()\n},FamilyTree.xScrollUI.prototype.addListener = function (e) {\n    var t = this;\n    if ((this.config.mouseScrool == FamilyTree.action.xScroll || this.config.mouseScrool == FamilyTree.action.scroll) && this.bar) {\n        var i = -1 !== navigator.userAgent.indexOf(\"Mac OS\"), r = FamilyTree._getScrollSensitivity();\n        !function (e, r, a) {\n            var n = !1;\n\n            function o() {\n                n = !0;\n                var e = (t.position - t.bar.scrollLeft) / a;\n                if (e > 0) e++; else {\n                    if (0 == e) return void (n = !1);\n                    e--\n                }\n                Math.ceil(t.bar.scrollLeft) == Math.ceil(t.position) ? n = !1 : (t.bar.scrollLeft += e, l(o))\n            }\n\n            e.addEventListener(\"wheel\", (function (e) {\n                if (e.ctrlKey) return;\n                var a = 0;\n                if (t.config.mouseScrool == FamilyTree.action.xScroll) (a = e.deltaX || e.wheelDeltaX) || (a = e.deltaY || e.wheelDeltaY); else if (t.config.mouseScrool == FamilyTree.action.scroll && !(a = i || !e.shiftKey ? e.deltaX || e.wheelDeltaX : e.deltaY || e.wheelDeltaY)) return;\n                a = -a, a = Math.max(-1, Math.min(1, a)), t.position += -a * r;\n                var l = parseFloat(t.innerBar.clientWidth) - parseFloat(t.bar.clientWidth);\n                t.position < 0 && (t.position = 0);\n                t.position > l && (t.position = l);\n                n || o()\n            }), {passive: !0});\n            var l = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (e) {\n                setTimeout(e, 20)\n            }\n        }(e, r.speed, r.smooth)\n    }\n},FamilyTree.xScrollUI.prototype.create = function (e) {\n    if (this.config.showXScroll === FamilyTree.scroll.visible || this.config.mouseScrool === FamilyTree.action.scroll || this.config.mouseScrool === FamilyTree.action.xScroll) {\n        var t = this;\n        this.bar && this.bar.parentNode && this.bar.parentNode.removeChild(this.bar), this.bar = document.createElement(\"div\"), this.innerBar = document.createElement(\"div\");\n        this.requestParams();\n        this.innerBar.innerHTML = \"&nbsp\", Object.assign(this.bar.style, {\n            position: \"absolute\",\n            left: 0,\n            bottom: 0,\n            width: e + \"px\",\n            \"overflow-x\": \"scroll\",\n            height: \"20px\"\n        }), this.element.appendChild(this.bar), this.bar.appendChild(this.innerBar), this.bar.addEventListener(\"scroll\", (function () {\n            if (this.ignore) this.ignore = !1; else {\n                var e = t.requestParams(),\n                    i = (parseFloat(t.innerBar.clientWidth) - parseFloat(t.bar.clientWidth)) / 100,\n                    r = this.scrollLeft / i, a = (e.boundary.right - e.boundary.left) / 100;\n                e.viewBox[0] = r * a + e.boundary.left, t.onSetViewBoxCallback(e.viewBox), clearTimeout(this._timeout), this._timeout = setTimeout((function () {\n                    t.onDrawCallback()\n                }), 500)\n            }\n        }))\n    }\n},FamilyTree.xScrollUI.prototype.setPosition = function () {\n    if (this.bar) {\n        var e = this.requestParams(),\n            t = (Math.abs(e.boundary.maxX - e.boundary.minX) + 2 * this.config.padding) * e.scale;\n        switch (this.config.orientation) {\n            case FamilyTree.orientation.right:\n            case FamilyTree.orientation.right_top:\n                t = Math.abs(e.boundary.minX * e.scale)\n        }\n        this.innerBar.style.width = t + \"px\";\n        var i = (e.boundary.right - e.boundary.left) / 100, r = (e.viewBox[0] - e.boundary.left) / i;\n        r < 0 ? r = 0 : r > 100 && (r = 100);\n        var a = (parseFloat(this.innerBar.clientWidth) - parseFloat(this.bar.clientWidth)) / 100, n = r * a;\n        this.bar.ignore = !0, this.bar.scrollLeft = n, this.position = this.bar.scrollLeft, this.bar.style.visibility = a <= 0 ? \"hidden\" : \"\", this.config.showXScroll !== FamilyTree.scroll.visible && (this.bar.style.visibility = \"hidden\"), FamilyTree.events.publish(\"change\", [this, {isScrollBarVisible: \"hidden\" != this.bar.style.visibility}])\n    }\n},FamilyTree.xScrollUI.prototype.on = function (e, t) {\n    return FamilyTree.events.on(e, t, this._event_id), this\n},FamilyTree.yScrollUI = function (e, t, i, r, a) {\n    this.element = e, this.requestParams = i, this.config = t, this.onSetViewBoxCallback = r, this.onDrawCallback = a, this.position = 0, this.bar = null, this._event_id = FamilyTree._guid()\n},FamilyTree.yScrollUI.prototype.addListener = function (e) {\n    var t = this;\n    if ((this.config.mouseScrool == FamilyTree.action.yScroll || this.config.mouseScrool == FamilyTree.action.scroll) && this.bar) {\n        var i = -1 !== navigator.userAgent.indexOf(\"Mac OS\"), r = FamilyTree._getScrollSensitivity();\n        !function (e, r, a) {\n            var n = !1;\n\n            function o() {\n                n = !0;\n                var e = (t.position - t.bar.scrollTop) / a;\n                if (e > 0) e++; else {\n                    if (0 == e) return void (n = !1);\n                    e--\n                }\n                Math.ceil(t.bar.scrollTop) == Math.ceil(t.position) ? n = !1 : (t.bar.scrollTop += e, l(o))\n            }\n\n            e.addEventListener(\"wheel\", (function (e) {\n                if (e.ctrlKey) return;\n                var a = 0;\n                if (t.config.mouseScrool == FamilyTree.action.yScroll) (a = e.deltaY || e.wheelDeltaY) || (a = e.deltaX || e.wheelDeltaX); else if (t.config.mouseScrool == FamilyTree.action.scroll && !(a = i || !e.shiftKey ? e.deltaY || e.wheelDeltaY : e.deltaX || e.wheelDeltaX)) return;\n                a = -a, a = Math.max(-1, Math.min(1, a)), t.position += -a * r;\n                var l = parseFloat(t.innerBar.clientHeight) - parseFloat(t.bar.clientHeight);\n                t.position < 0 && (t.position = 0);\n                t.position > l && (t.position = l);\n                n || o()\n            }), {passive: !0});\n            var l = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (e) {\n                setTimeout(e, 20)\n            }\n        }(e, r.speed, r.smooth)\n    }\n},FamilyTree.yScrollUI.prototype.create = function (e) {\n    if (this.config.showYScroll === FamilyTree.scroll.visible || this.config.mouseScrool === FamilyTree.action.scroll || this.config.mouseScrool === FamilyTree.action.yScroll) {\n        var t = this;\n        this.bar && this.bar.parentNode && this.bar.parentNode.removeChild(this.bar), this.bar = document.createElement(\"div\"), this.innerBar = document.createElement(\"div\"), this.innerBar.innerHTML = \"&nbsp\", Object.assign(this.bar.style, {\n            position: \"absolute\",\n            right: 0,\n            bottom: 0,\n            height: e + \"px\",\n            \"overflow-y\": \"scroll\",\n            width: \"20px\"\n        }), this.element.appendChild(this.bar), this.bar.appendChild(this.innerBar), this.bar.addEventListener(\"scroll\", (function () {\n            if (this.ignore) this.ignore = !1; else {\n                var e = t.requestParams(),\n                    i = (parseFloat(t.innerBar.clientHeight) - parseFloat(t.bar.clientHeight)) / 100,\n                    r = this.scrollTop / i, a = (e.boundary.bottom - e.boundary.top) / 100;\n                e.viewBox[1] = r * a + e.boundary.top, t.onSetViewBoxCallback(e.viewBox), clearTimeout(this._timeout), this._timeout = setTimeout((function () {\n                    t.onDrawCallback()\n                }), 500)\n            }\n        }))\n    }\n},FamilyTree.yScrollUI.prototype.setPosition = function () {\n    if (this.bar) {\n        var e = this.requestParams(),\n            t = (Math.abs(e.boundary.maxY - e.boundary.minY) + 2 * this.config.padding) * e.scale;\n        switch (this.config.orientation) {\n            case FamilyTree.orientation.bottom:\n            case FamilyTree.orientation.bottom_left:\n                t = Math.abs(e.boundary.minY * e.scale)\n        }\n        this.innerBar.style.height = t + \"px\";\n        var i = (e.boundary.bottom - e.boundary.top) / 100, r = (e.viewBox[1] - e.boundary.top) / Math.abs(i);\n        r < 0 ? r = 0 : r > 100 && (r = 100);\n        var a = (parseFloat(this.innerBar.clientHeight) - parseFloat(this.bar.clientHeight)) / 100, n = r * a;\n        this.bar.ignore = !0, this.bar.scrollTop = n, this.position = this.bar.scrollTop, this.bar.style.visibility = a <= 0 ? \"hidden\" : \"\", this.config.showYScroll !== FamilyTree.scroll.visible && (this.bar.style.visibility = \"hidden\"), FamilyTree.events.publish(\"change\", [this, {isScrollBarVisible: \"hidden\" != this.bar.style.visibility}])\n    }\n},FamilyTree.yScrollUI.prototype.on = function (e, t) {\n    return FamilyTree.events.on(e, t, this._event_id), this\n},FamilyTree.prototype.zoom = function (e, t, i, r) {\n    var a = this.getViewBox().slice(0), n = a, o = a[2], l = a[3];\n    !0 === e ? (a[2] = a[2] / FamilyTree.SCALE_FACTOR, a[3] = a[3] / FamilyTree.SCALE_FACTOR) : !1 === e ? (a[2] = a[2] * FamilyTree.SCALE_FACTOR, a[3] = a[3] * FamilyTree.SCALE_FACTOR) : (a[2] = a[2] / e, a[3] = a[3] / e), t || (t = [50, 50]), a[0] = n[0] - (a[2] - o) / (100 / t[0]), a[1] = n[1] - (a[3] - l) / (100 / t[1]);\n    var s = this.getScale(a);\n    if (a[2] = this.width() / s, a[3] = this.height() / s, !0 === e && s < this.config.scaleMax || !1 === e && s > this.config.scaleMin || 0 != e && 1 != e && s < this.config.scaleMax && s > this.config.scaleMin) {\n        this._hideBeforeAnimation();\n        var d = this;\n        i ? (clearTimeout(d._timeout), FamilyTree.animate(this.getSvg(), {viewbox: this.getViewBox()}, {viewbox: a}, this.config.anim.duration, this.config.anim.func, (function () {\n            clearTimeout(d._timeout), d._timeout = setTimeout((function () {\n                d._draw(!0, FamilyTree.action.zoom, null, r)\n            }), 500)\n        }))) : (this.setViewBox(a), clearTimeout(d._timeout), d._timeout = setTimeout((function () {\n            d._draw(!0, FamilyTree.action.zoom, null, r)\n        }), 500))\n    }\n},FamilyTree.loading = {},FamilyTree.loading.show = function (e) {\n    var t = document.createElement(\"div\");\n    t.id = \"bft-loading\", t.innerHTML = '<style>@-webkit-keyframes dot-keyframes {0% { opacity: .4; -webkit-transform: scale(1, 1);transform: scale(1, 1);}50% {opacity: 1;-webkit-transform: scale(1.2, 1.2);transform: scale(1.2, 1.2);}100% {opacity: .4;-webkit-transform: scale(1, 1);transform: scale(1, 1);}}@keyframes dot-keyframes {0% {opacity: .4;-webkit-transform: scale(1, 1);transform: scale(1, 1);}50% {opacity: 1;-webkit-transform: scale(1.2, 1.2);transform: scale(1.2, 1.2);}100% {opacity: .4;-webkit-transform: scale(1, 1);transform: scale(1, 1);}}.bft-loading-dots div {margin: 10px;}      .bft-dot-1 {background-color: #039BE5;}.bft-dot-2 {background-color: #F57C00;}.bft-dot-3 {background-color: #FFCA28;}      .bft-loading-dots {text-align: center;width: 100%; position: absolute; top: 0;}.bft-loading-dots--dot {-webkit-animation: dot-keyframes 1.5s infinite ease-in-out;animation: dot-keyframes 1.5s infinite ease-in-out;        border-radius: 10px;display: inline-block;height: 10px;width: 10px;}.bft-loading-dots--dot:nth-child(2) {-webkit-animation-delay: .5s;animation-delay: .5s;}.bft-loading-dots--dot:nth-child(3) {-webkit-animation-delay: 1s;animation-delay: 1s;}</style><div class=\"bft-loading-dots\"><div class=\"bft-loading-dots--dot bft-dot-1\"></div><div class=\"bft-loading-dots--dot bft-dot-2\"></div><div class=\"bft-loading-dots--dot bft-dot-3\"></div></div>', e.element.appendChild(t)\n},FamilyTree.loading.hide = function (e) {\n    var t = e.element.querySelector(\"#bft-loading\");\n    t && t.parentNode.removeChild(t)\n},FamilyTree.pdfPrevUI = {},FamilyTree.loc || (FamilyTree.loc = {}),FamilyTree.loc.ppdfCmdTitle = \"PDF Preview\",FamilyTree.loc.ppdfSave = \"Save\",FamilyTree.loc.ppdfCancel = \"Cancel\",FamilyTree.loc.ppdfFormat = \"Format\",FamilyTree.loc.ppdfFitToDrwaing = \"Fit\",FamilyTree.loc.ppdfA4 = \"A4\",FamilyTree.loc.ppdfA3 = \"A3\",FamilyTree.loc.ppdfA2 = \"A2\",FamilyTree.loc.ppdfA1 = \"A1\",FamilyTree.loc.ppdfLetter = \"Letter\",FamilyTree.loc.ppdfLegal = \"Legal\",FamilyTree.loc.ppdfLayout = \"Layout\",FamilyTree.loc.ppdfPortrait = \"Portrait\",FamilyTree.loc.ppdfLandscape = \"Landscape\",FamilyTree.loc.ppdfFittopagewidth = \"Fit to page width\",FamilyTree.loc.ppdfMargin = \"Margin\",FamilyTree.loc.ppdfHeader = \"Header\",FamilyTree.loc.ppdfFooter = \"Footer\",FamilyTree.loc.ppdfScale = \"Scale\",FamilyTree.pdfPrevUI.show = function (e, t) {\n    FamilyTree.pdfPrevUI.hide(e), t = e._defaultExportOptions(t, \"pdf\");\n    var i = document.createElement(\"div\");\n    i.classList.add(e.config.mode), i.id = \"bft-ppdf-btns\", Object.assign(i.style, {\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        \"background-color\": \"#fff\",\n        \"z-index\": 5,\n        margin: \"0 0 0 -265px\",\n        \"box-shadow\": \"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\n        width: \"265px\",\n        height: \"100%\",\n        \"font-family\": \"Roboto,Helvetica\",\n        color: \"#757575\",\n        \"text-align\": \"right\",\n        padding: \"10px\"\n    }), e.element.appendChild(i), i.innerHTML = \"<h1>\" + FamilyTree.loc.ppdfCmdTitle + '</h1><div><button type=\"button\" id=\"bft-prev-save\" style=\"font-size: 14px; width: 90px;\">' + FamilyTree.loc.ppdfSave + '</button>&nbsp;<button type=\"button\" id=\"bft-prev-cancel\" style=\"width: 90px;font-size: 14px;\">' + FamilyTree.loc.ppdfCancel + '</button></div><div style=\"margin-top:30px; height:10px;border-bottom:1px solid #eeeeee;\"></div><div style=\"padding-top:30px;\"><label for=\"bft-size\">' + FamilyTree.loc.ppdfFormat + ': </label><select id=\"bft-ppdf-size\" style=\"color: #757575; width: 150px; font-size: 14px;\" id=\"bft-size\"><option value=\"fit\">' + FamilyTree.loc.ppdfFitToDrwaing + '</option><option value=\"A4\">' + FamilyTree.loc.ppdfA4 + '</option><option value=\"A3\">' + FamilyTree.loc.ppdfA3 + '</option><option value=\"A2\">' + FamilyTree.loc.ppdfA2 + '</option><option value=\"A1\">' + FamilyTree.loc.ppdfA1 + '</option><option value=\"Letter\">' + FamilyTree.loc.ppdfLetter + '</option><option value=\"Legal\">' + FamilyTree.loc.ppdfLegal + '</option></select></div><div style=\"padding-top:10px;\"><label for=\"bft-ppdf-layout\">' + FamilyTree.loc.ppdfLayout + ': </label><select id=\"bft-ppdf-layout\" style=\"color: #757575; width: 150px;font-size: 14px;\" ><option value=\"false\">' + FamilyTree.loc.ppdfPortrait + '</option><option value=\"true\">' + FamilyTree.loc.ppdfLandscape + '</option></select></div><div style=\"padding-top:10px;\"><label for=\"bft-scale\">' + FamilyTree.loc.ppdfScale + ': </label><select id=\"bft-ppdf-scale\" style=\"color: #757575; width: 150px;font-size: 14px;\" id=\"bft-scale\"><option value=\"fit\">' + FamilyTree.loc.ppdfFittopagewidth + '</option><option value=\"10\">10%</option><option value=\"20\">20%</option><option value=\"30\">30%</option><option value=\"40\">40%</option><option value=\"50\">50%</option><option value=\"60\">60%</option><option value=\"70\">70%</option><option value=\"80\">80%</option><option value=\"90\">90%</option><option value=\"100\">100%</option><option value=\"110\">110%</option><option value=\"120\">120%</option><option value=\"130\">130%</option><option value=\"140\">140%</option><option value=\"150\">150%</option><option value=\"160\">160%</option><option value=\"170\">170%</option><option value=\"180\">180%</option><option value=\"190\">190%</option><option value=\"200\">200%</option></select></div><div style=\"margin-top:10px;margin-bottom:10px; height:10px;border-bottom:1px solid #eeeeee;\"></div><div style=\"padding-top:10px;\"><label for=\"bft-ppdf-header\">' + FamilyTree.loc.ppdfHeader + ': </label><input id=\"bft-ppdf-header\" type=\"text\" style=\"color: #757575; width: 100px;font-size: 14px;\" ></div><div style=\"padding-top:10px;\"><label for=\"bft-ppdf-footer\">' + FamilyTree.loc.ppdfFooter + ': </label><input id=\"bft-ppdf-footer\" type=\"text\" style=\"color: #757575; width: 100px;font-size: 14px;\" ></div><div style=\"padding-top:10px;\"><label for=\"bft-ppdf-margin\">' + FamilyTree.loc.ppdfMargin + ': </label><input id=\"bft-ppdf-margin\" type=\"text\" style=\"color: #757575; width: 100px;font-size: 14px;\" ></div>';\n    var r = document.createElement(\"div\");\n    r.id = \"bft-ppdf-wrapper\", Object.assign(r.style, {\n        \"overflow-y\": \"scroll\",\n        \"z-index\": 11,\n        position: \"absolute\",\n        top: 0,\n        left: \"285px\",\n        \"background-color\": \"#eee\",\n        width: e.width() - 270 + \"px\",\n        height: \"100%\"\n    }), e.element.appendChild(r), r.innerHTML = '<div id=\"bft-ppdf-content\" style=\"width: 100%;margin-top:10px;margin-bottom:10px;opacity:0;\"></div>';\n    var a, n, o, l = e.element.querySelector(\"#bft-ppdf-size\"), s = e.element.querySelector(\"#bft-ppdf-layout\"),\n        d = e.element.querySelector(\"#bft-ppdf-scale\"), c = e.element.querySelector(\"#bft-ppdf-margin\"),\n        m = e.element.querySelector(\"#bft-ppdf-header\"), p = e.element.querySelector(\"#bft-ppdf-footer\");\n    l.value = t.format, s.value = t.landscape, d.value = t.scale, c.value = t.margin, m.value = t.header, p.value = t.footer, FamilyTree.animate(e.element.querySelector(\"#bft-ppdf-btns\"), {margin: [0, 0, 0, -250]}, {margin: [0, 0, 0, 0]}, 300, FamilyTree.anim.outSin, (function () {\n        e.exportPDF(t, FamilyTree.pdfPrevUI._handler)\n    })), e.element.querySelector(\"#bft-prev-cancel\").addEventListener(\"click\", (function () {\n        FamilyTree.pdfPrevUI.hide(e)\n    })), e.element.querySelector(\"#bft-prev-save\").addEventListener(\"click\", (function () {\n        e.exportPDF(t), FamilyTree.pdfPrevUI.hide(e)\n    })), FamilyTree.pdfPrevUI._showHide(l, s, d), l.addEventListener(\"change\", (function () {\n        FamilyTree.animate(e.element.querySelector(\"#bft-ppdf-content\"), {opacity: 1}, {opacity: 0}, 300, FamilyTree.anim.inSin, (function () {\n            e.element.querySelector(\"#bft-ppdf-content\").innerHTML = \"\", t.format = l.value, e.exportPDF(t, FamilyTree.pdfPrevUI._handler), FamilyTree.pdfPrevUI._showHide(l, s, d)\n        }))\n    })), s.addEventListener(\"change\", (function () {\n        FamilyTree.animate(e.element.querySelector(\"#bft-ppdf-content\"), {opacity: 1}, {opacity: 0}, 300, FamilyTree.anim.inSin, (function () {\n            e.element.querySelector(\"#bft-ppdf-content\").innerHTML = \"\", t.landscape = \"true\" == s.value, e.exportPDF(t, FamilyTree.pdfPrevUI._handler), FamilyTree.pdfPrevUI._showHide(l, s, d)\n        }))\n    })), d.addEventListener(\"change\", (function () {\n        FamilyTree.animate(e.element.querySelector(\"#bft-ppdf-content\"), {opacity: 1}, {opacity: 0}, 300, FamilyTree.anim.inSin, (function () {\n            e.element.querySelector(\"#bft-ppdf-content\").innerHTML = \"\", t.scale = d.value, e.exportPDF(t, FamilyTree.pdfPrevUI._handler), FamilyTree.pdfPrevUI._showHide(l, s, d)\n        }))\n    })), c.addEventListener(\"keyup\", (function () {\n        clearTimeout(a), a = setTimeout((function () {\n            FamilyTree.animate(e.element.querySelector(\"#bft-ppdf-content\"), {opacity: 1}, {opacity: 0}, 300, FamilyTree.anim.inSin, (function () {\n                e.element.querySelector(\"#bft-ppdf-content\").innerHTML = \"\";\n                var i = c.value.split(\",\");\n                if (4 == i.length) {\n                    for (var r = 0; r < i.length; r++) i[r] = parseInt(i[r]);\n                    t.margin = i, e.exportPDF(t, FamilyTree.pdfPrevUI._handler)\n                }\n            }))\n        }), 1e3)\n    })), m.addEventListener(\"keyup\", (function () {\n        clearTimeout(n), n = setTimeout((function () {\n            FamilyTree.animate(e.element.querySelector(\"#bft-ppdf-content\"), {opacity: 1}, {opacity: 0}, 300, FamilyTree.anim.inSin, (function () {\n                e.element.querySelector(\"#bft-ppdf-content\").innerHTML = \"\", t.header = m.value, e.exportPDF(t, FamilyTree.pdfPrevUI._handler)\n            }))\n        }), 1e3)\n    })), p.addEventListener(\"keyup\", (function () {\n        clearTimeout(o), o = setTimeout((function () {\n            FamilyTree.animate(e.element.querySelector(\"#bft-ppdf-content\"), {opacity: 1}, {opacity: 0}, 300, FamilyTree.anim.inSin, (function () {\n                e.element.querySelector(\"#bft-ppdf-content\").innerHTML = \"\", t.footer = p.value, e.exportPDF(t, FamilyTree.pdfPrevUI._handler)\n            }))\n        }), 1e3)\n    }))\n},FamilyTree.pdfPrevUI._showHide = function (e, t, i) {\n    \"A4\" == e.value || \"A3\" == e.value || \"A2\" == e.value || \"A1\" == e.value || \"Letter\" == e.value || \"Legal\" == e.value ? (t.parentNode.style.display = \"block\", i.parentNode.style.display = \"block\") : (t.parentNode.style.display = \"none\", i.parentNode.style.display = \"none\")\n},FamilyTree.pdfPrevUI._handler = function (e, t, i) {\n    var r = t.options, a = t.pages, n = r.margin[0], o = r.margin[2], l = document.createElement(\"div\");\n    l.classList.add(e.config.mode), l.innerHTML = i.outerHTML, FamilyTree._browser().msie && (l.innerHTML = (new XMLSerializer).serializeToString(i));\n    for (var s = l.querySelector(\"svg\"), d = e.element.querySelector(\"#bft-ppdf-content\"), c = 0; c < a.length; c++) {\n        var m = document.createElement(\"iframe\");\n        Object.assign(m.style, {\n            display: \"block\",\n            margin: \"10px auto\",\n            border: \"1px solid #eeeeee\",\n            \"box-shadow\": \"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\"\n        }), d.appendChild(m), s && s.style.backgroundColor ? m.style.backgroundColor = s.style.backgroundColor : m.style.backgroundColor = \"#fff\";\n        var p = m.contentWindow.document;\n        p.open(), m.style.width = a[c].size.w + \"px\", m.style.height = a[c].size.h + \"px\", m.style.margin = \"10 auto\", a[c].backgroundColor && (m.style.backgroundColor = a[c].backgroundColor);\n        var h = r.header;\n        a[c].header && (h = a[c].header), h && (h = h.replace(\"{current-page}\", c + 1).replace(\"{total-pages}\", a.length));\n        var f = r.footer;\n        a[c].footer && (f = a[c].footer), f && (f = f.replace(\"{current-page}\", c + 1).replace(\"{total-pages}\", a.length)), a[c].html ? p.write(FamilyTree._exportHtml(a[c].html, t.styles, r, a[c].innerSize.w, a[c].innerSize.h, h, f, e.config.mode)) : (s.setAttribute(\"viewBox\", a[c].vb), p.write(FamilyTree._exportHtml(l.innerHTML, t.styles, r, a[c].innerSize.w, a[c].innerSize.h, h, f, e.config.mode)));\n        var u = p.getElementById(\"bft-header\"), y = p.getElementById(\"bft-footer\");\n        if (u) {\n            var g = n - u.offsetHeight - 7;\n            u.style.top = g + \"px\"\n        }\n        if (y) {\n            var v = o - y.offsetHeight - 7;\n            y.style.bottom = v + \"px\"\n        }\n        p.close()\n    }\n    var T = e.element.querySelector(\"#bft-ppdf-content\");\n    FamilyTree.animate(T, {opacity: 0}, {opacity: 1}, 300, FamilyTree.anim.outSin)\n},FamilyTree.pdfPrevUI._getViewBox = function (e) {\n    var t = null;\n    return e ? (t = (t = \"[\" + (t = e.getAttribute(\"viewBox\")) + \"]\").replace(/\\ /g, \",\"), t = JSON.parse(t)) : null\n},FamilyTree._exportHtml = function (e, t, i, r, a, n, o, l) {\n    for (var s = \"\", d = 0; d < i.margin.length; d++) s += i.margin[d] + \"px \";\n    var c = '<!DOCTYPE html><html style=\"margin:0;padding:0;\"><head></head>' + t + '<body class=\"bft-' + l + '\" style=\"margin:0; padding:0;\"><div style=\"margin: ' + s + \";overflow:hidden;width:\" + r + \"px;height:\" + a + 'px\">';\n    return n && (c += '<div id=\"bft-header\" style=\"width:' + r + \"px;color:#757575;position:absolute;left:\" + i.margin[3] + 'px;top:0;\">' + n + \"</div>\"), c += e, o && (c += '<div id=\"bft-footer\" style=\"width:' + r + \"px;color:#757575;position:absolute;left:\" + i.margin[3] + 'px;bottom:0;\">' + o + \"</div>\"), c += \"</div>\", c += \"</body></html>\"\n},FamilyTree.pdfPrevUI.hide = function (e) {\n    var t = e.element.querySelector(\"#bft-ppdf-wrapper\");\n    if (t) {\n        t.parentNode.removeChild(t), t.style.opacity = 0;\n        var i = e.element.querySelector(\"#bft-ppdf-btns\");\n        i.parentNode.removeChild(i)\n    }\n},void 0 === FamilyTree && (FamilyTree = {}),FamilyTree.events.on(\"renderdefs\", (function (e, t) {\n    for (var i = 0; i < e.config.clinks.length; i++) {\n        var r = e.config.clinks[i].template;\n        r || (r = \"orange\");\n        var a = FamilyTree.clinkTemplates[r];\n        t.defs += a.defs\n    }\n})),FamilyTree.events.on(\"prerender\", (function (e, t) {\n    FamilyTree.RENDER_CLINKS_BEFORE_NODES && e._clink(e, t)\n})),FamilyTree.events.on(\"render\", (function (e, t) {\n    FamilyTree.RENDER_CLINKS_BEFORE_NODES || e._clink(e, t)\n})),FamilyTree.events.on(\"drag\", (function (e, t, i, r) {\n    if (e instanceof FamilyTree && e.config.draggable) for (var a = 0; a < r.length; a++) {\n        for (var n = r[a], o = e.element.querySelectorAll(`[data-c-l-from=\"${n}\"]`), l = e.element.querySelectorAll(`[data-c-l-to=\"${n}\"]`), s = 0; s < o.length; s++) o[s].parentNode.removeChild(o[s]);\n        for (s = 0; s < l.length; s++) l[s].parentNode.removeChild(l[s])\n    }\n})),FamilyTree.prototype._clink = function (e, t) {\n    for (var i = \"\", r = 0; r < this.config.clinks.length; r++) {\n        var a = this.config.clinks[r], n = e.getNode(a.from), o = e.getNode(a.to);\n        if (n && -1 != t.res.visibleNodeIds.indexOf(n.id) && (o && -1 != t.res.visibleNodeIds.indexOf(o.id))) {\n            var l = n.x, s = n.y, d = o.x, c = o.y, m = {}, p = {}, h = l + n.w / 2, f = d + o.w / 2, u = s + n.h / 2,\n                y = c + o.h / 2, g = 1;\n            switch (this.config.orientation) {\n                case FamilyTree.orientation.top:\n                case FamilyTree.orientation.top_left:\n                    h <= f ? (g = 1, m.x = h + n.w / 10, p.x = f - o.w / 10) : (g = -1, m.x = h - n.w / 10, p.x = f + o.w / 10), s == c ? (g = 1, m.y = s, p.y = c) : s > c ? (m.y = s, p.y = c + o.h) : (m.y = s + n.h, p.y = c);\n                    break;\n                case FamilyTree.orientation.bottom:\n                case FamilyTree.orientation.bottom_left:\n                    h <= f ? (g = -1, m.x = h + n.w / 10, p.x = f + o.w / 10) : (g = 1, m.x = h - n.w / 10, p.x = f + o.w / 10), s == c ? (g = -1, m.y = s + n.h, p.y = c + o.h) : s > c ? (m.y = s, p.y = c + o.h) : (m.y = s + n.h, p.y = c);\n                    break;\n                case FamilyTree.orientation.left:\n                case FamilyTree.orientation.left_top:\n                    u <= y ? (g = -1, m.y = u + n.h / 5, p.y = y + o.h / 5) : (g = 1, m.y = u - n.h / 5, p.y = y + o.h / 5), l == d ? (g = -1, m.x = l, p.x = d) : l > d ? (m.x = l, p.x = d + o.w) : (m.x = l + n.w, p.x = d);\n                    break;\n                case FamilyTree.orientation.right:\n                case FamilyTree.orientation.right_top:\n                    u <= y ? (g = 1, m.y = u + n.h / 5, p.y = y + o.h / 5) : (g = -1, m.y = u - n.h / 5, p.y = y + o.h / 5), l == d ? (g = 1, m.x = l + n.w, p.x = d + o.w) : l > d ? (m.x = l, p.x = d + o.w) : (m.x = l + n.w, p.x = d)\n            }\n            var v = _(m, p, g), T = a.template;\n            T || (T = \"orange\");\n            var b = FamilyTree.clinkTemplates[T];\n            if (a.label) {\n                var F = FamilyTree.clinkLabelPosition(a, m, p, v);\n                i += b.label.replace(\"{x}\", F.x).replace(\"{y}\", F.y).replace(\"{val}\", a.label)\n            }\n            var x = \"M\" + m.x + \",\" + m.y + \"C\" + m.x + \",\" + m.y + \" \" + v.x + \",\" + v.y + \" \" + p.x + \",\" + p.y;\n            i += (\"<g \" + FamilyTree.attr.c_link_from + '=\"{from}\" ' + FamilyTree.attr.c_link_to + '=\"{to}\">').replace(\"{from}\", n.id).replace(\"{to}\", o.id) + b.link.replaceAll(\"{d}\", x) + '<path stroke=\"transparent\" stroke-width=\"15\" fill=\"none\" d=\"' + x + '\" />', i += FamilyTree.grCloseTag\n        }\n\n        function _(e, t, i) {\n            null == i && (i = 1);\n            var r = t.x - e.x, n = t.y - e.y, o = Math.sqrt(Math.pow(t.x - e.x, 2) + Math.pow(t.y - e.y, 2)) / 3;\n            return o = o / (Math.sqrt(r * r + n * n) * i) * FamilyTree.clinkCurve(a), {\n                x: e.x + r / 2 - n * o,\n                y: e.y + n / 2 + r * o\n            }\n        }\n    }\n    t.content += i\n},FamilyTree.clinkLabelPosition = function (e, t, i, r) {\n    var a = (i.x - t.x) / 2 + t.x, n = (i.y - t.y) / 2 + t.y;\n    return {x: (a - r.x) / 2 + r.x, y: (n - r.y) / 2 + r.y}\n},FamilyTree.clinkCurve = function (e) {\n    return FamilyTree.CLINK_CURVE\n},FamilyTree.prototype.addClink = function (e, t, i, r) {\n    this._putInUndoStack(), this.clearRedo();\n    for (var a = this.config.clinks.length - 1; a >= 0; a--) {\n        var n = this.config.clinks[a];\n        n.from == e && n.to == t && this.config.clinks.splice(a, 1)\n    }\n    return this.config.clinks.push({\n        from: e,\n        to: t,\n        label: i,\n        template: r\n    }), FamilyTree.events.publish(\"updated\", [this]), this\n},FamilyTree.prototype.removeClink = function (e, t) {\n    this._putInUndoStack(), this.clearRedo();\n    for (var i = this.config.clinks.length - 1; i >= 0; i--) {\n        var r = this.config.clinks[i];\n        r.from == e && r.to == t && this.config.clinks.splice(i, 1)\n    }\n    return FamilyTree.events.publish(\"updated\", [this]), this\n},FamilyTree.clinkTemplates = {},FamilyTree.clinkTemplates.orange = {\n    defs: '<marker id=\"arrowOrange\" viewBox=\"0 0 10 10\" refX=\"8\" refY=\"5\" markerWidth=\"6\" markerHeight=\"6\" orient=\"auto-start-reverse\"><path fill=\"#F57C00\" d=\"M 0 0 L 10 5 L 0 10 z\" /></marker><marker id=\"dotOrange\" viewBox=\"0 0 10 10\" refX=\"5\" refY=\"5\" markerWidth=\"5\" markerHeight=\"5\"> <circle cx=\"5\" cy=\"5\" r=\"5\" fill=\"#F57C00\" /></marker>',\n    link: '<path marker-start=\"url(#dotOrange)\" marker-end=\"url(#arrowOrange)\" stroke=\"#F57C00\" stroke-width=\"2\" fill=\"none\" d=\"{d}\" />',\n    label: '<text fill=\"#F57C00\" text-anchor=\"middle\" x=\"{x}\" y=\"{y}\">{val}</text>'\n},FamilyTree.clinkTemplates.blue = {\n    defs: '<marker id=\"arrowBlue\" viewBox=\"0 0 10 10\" refX=\"8\" refY=\"5\" markerWidth=\"6\" markerHeight=\"6\" orient=\"auto-start-reverse\"><path fill=\"#039BE5\" d=\"M 0 0 L 10 5 L 0 10 z\" /></marker><marker id=\"dotBlue\" viewBox=\"0 0 10 10\" refX=\"5\" refY=\"5\" markerWidth=\"5\" markerHeight=\"5\"> <circle cx=\"5\" cy=\"5\" r=\"5\" fill=\"#039BE5\" /></marker>',\n    link: '<path marker-start=\"url(#dotBlue)\" marker-end=\"url(#arrowBlue)\" stroke=\"#039BE5\" stroke-width=\"2\" fill=\"none\" d=\"{d}\" />',\n    label: '<text fill=\"#039BE5\"  text-anchor=\"middle\" x=\"{x}\" y=\"{y}\">{val}</text>'\n},FamilyTree.clinkTemplates.yellow = {\n    defs: '<marker id=\"arrowYellow\" viewBox=\"0 0 10 10\" refX=\"8\" refY=\"5\" markerWidth=\"6\" markerHeight=\"6\" orient=\"auto-start-reverse\"><path fill=\"#FFCA28\" d=\"M 0 0 L 10 5 L 0 10 z\" /></marker><marker id=\"dotYellow\" viewBox=\"0 0 10 10\" refX=\"5\" refY=\"5\" markerWidth=\"5\" markerHeight=\"5\"> <circle cx=\"5\" cy=\"5\" r=\"5\" fill=\"#FFCA28\" /></marker>',\n    link: '<path marker-start=\"url(#dotYellow)\" marker-end=\"url(#arrowYellow)\" stroke=\"#FFCA28\" stroke-width=\"2\" fill=\"none\" d=\"{d}\" />',\n    label: '<text fill=\"#FFCA28\"  text-anchor=\"middle\" x=\"{x}\" y=\"{y}\">{val}</text>'\n},void 0 === FamilyTree && (FamilyTree = {}),FamilyTree.events.on(\"renderdefs\", (function (e, t) {\n    for (var i = 0; i < e.config.slinks.length; i++) {\n        var r = e.config.slinks[i].template;\n        r || (r = \"orange\");\n        var a = FamilyTree.slinkTemplates[r];\n        t.defs += a.defs\n    }\n})),FamilyTree.events.on(\"render\", (function (e, t) {\n    e._slinks(e, t)\n})),FamilyTree.events.on(\"drag\", (function (e, t, i, r) {\n    if (e instanceof FamilyTree && e.config.draggable) for (var a = 0; a < r.length; a++) {\n        for (var n = r[a], o = e.element.querySelectorAll(`[data-s-l-from=\"${n}\"]`), l = e.element.querySelectorAll(`[data-s-l-to=\"${n}\"]`), s = 0; s < o.length; s++) o[s].parentNode.removeChild(o[s]);\n        for (s = 0; s < l.length; s++) l[s].parentNode.removeChild(l[s])\n    }\n})),FamilyTree.prototype._slinks = function (e, t) {\n    var i = \"\", r = this.getScale(), a = t.res.boundary;\n\n    function n(t, n, o) {\n        var s = [], d = null, c = \"left\", m = t.lcn ? t.lcn : \"base\", p = e._layoutConfigs[m];\n        switch (p.orientation) {\n            case FamilyTree.orientation.top:\n            case FamilyTree.orientation.top_left:\n            case FamilyTree.orientation.bottom:\n            case FamilyTree.orientation.bottom_left:\n                n.x > t.x && (c = \"right\");\n                break;\n            case FamilyTree.orientation.left:\n            case FamilyTree.orientation.left_top:\n            case FamilyTree.orientation.right:\n            case FamilyTree.orientation.right_top:\n                c = \"top\", n.y > t.y && (c = \"bottom\")\n        }\n        var h = FamilyTree.t(t.templateName, t.min, r), f = p.levelSeparation;\n        t.parent && t.parent.layout && (f = p.mixedHierarchyNodesSeparation);\n        var u = {\n            p: t.x + t.w / 2 + h.expandCollapseSize,\n            q: t.y,\n            r: t.x + t.w / 2 + h.expandCollapseSize,\n            s: a.minY + f\n        };\n        if (t.sl == n.sl) switch (d = n, p.orientation) {\n            case FamilyTree.orientation.top:\n            case FamilyTree.orientation.top_left:\n                s.push([u.p, u.q]), s.push([u.p, u.q - f / 3]), h = FamilyTree.t(d.templateName, d.min, r), s.push([d.x + d.w / 2 + h.expandCollapseSize, s[s.length - 1][1]]), s.push([s[s.length - 1][0], d.y]);\n                break;\n            case FamilyTree.orientation.bottom:\n            case FamilyTree.orientation.bottom_left:\n                u.q = t.y + t.h, u.s = a.maxY - f, s.push([u.p, u.q]), s.push([u.r, t.y + t.h + f / 3]), h = FamilyTree.t(d.templateName, d.min, r), s.push([d.x + d.w / 2 + h.expandCollapseSize, s[s.length - 1][1]]), s.push([s[s.length - 1][0], d.y + d.h]);\n                break;\n            case FamilyTree.orientation.left:\n            case FamilyTree.orientation.left_top:\n                u.p = t.x, u.q = t.y + t.h / 2 + h.expandCollapseSize, u.r = a.minX - f, u.s = t.y + t.h / 2 + h.expandCollapseSize, s.push([u.p, u.q]), s.push([t.x - f / 3, u.q]), h = FamilyTree.t(d.templateName, d.min, r), s.push([s[s.length - 1][0], d.y + d.h / 2 + h.expandCollapseSize]), s.push([d.x, s[s.length - 1][1]]);\n                break;\n            case FamilyTree.orientation.right:\n            case FamilyTree.orientation.right_top:\n                u.p = t.x + t.w, u.q = t.y + t.h / 2 + h.expandCollapseSize, u.r = a.maxX + f, u.s = t.y + t.h / 2 + h.expandCollapseSize, s.push([u.p, u.q]), s.push([t.x + t.w + f / 3, u.q]), h = FamilyTree.t(d.templateName, d.min, r), s.push([s[s.length - 1][0], d.y + d.h / 2 + h.expandCollapseSize]), s.push([d.x + d.w, s[s.length - 1][1]])\n        } else {\n            switch (p.orientation) {\n                case FamilyTree.orientation.top:\n                case FamilyTree.orientation.top_left:\n                    s.push([u.p, u.q]), s.push([u.r, t.y - f / 3]);\n                    break;\n                case FamilyTree.orientation.bottom:\n                case FamilyTree.orientation.bottom_left:\n                    u.q = t.y + t.h, u.s = a.maxY - f, s.push([u.p, u.q]), s.push([u.r, t.y + t.h + f / 3]);\n                    break;\n                case FamilyTree.orientation.left:\n                case FamilyTree.orientation.left_top:\n                    u.p = t.x, u.q = t.y + t.h / 2 + h.expandCollapseSize, u.r = a.minX - f, u.s = t.y + t.h / 2 + h.expandCollapseSize, s.push([u.p, u.q]), s.push([t.x - f / 3, u.q]);\n                    break;\n                case FamilyTree.orientation.right:\n                case FamilyTree.orientation.right_top:\n                    u.p = t.x + t.w, u.q = t.y + t.h / 2 + h.expandCollapseSize, u.r = a.maxX + f, u.s = t.y + t.h / 2 + h.expandCollapseSize, s.push([u.p, u.q]), s.push([t.x + t.w + f / 3, u.q])\n            }\n            for (var y = t, g = t; g.parent;) g = g.parent;\n            for (; null == d;) {\n                var v = !1, T = y.parent, b = T.leftNeighbor, F = T.rightNeighbor;\n                if (T.id == n.id ? d = T : FamilyTree._intersects(T, u, p) && (u = FamilyTree._addPoint(T, s, p, u, c), v = !0), T.id != n.id) {\n                    for (; b;) {\n                        if (b.id == n.id) {\n                            d = b;\n                            break\n                        }\n                        FamilyTree._intersects(b, u, p) && (u = FamilyTree._addPoint(b, s, p, u, c), v = !0), b = b.leftNeighbor\n                    }\n                    for (; F;) {\n                        if (F.id == n.id) {\n                            d = F;\n                            break\n                        }\n                        FamilyTree._intersects(F, u, p) && (u = FamilyTree._addPoint(F, s, p, u, c), v = !0), F = F.rightNeighbor\n                    }\n                }\n                if (!v) {\n                    var x = s[s.length - 1][0], _ = 0;\n                    if (T.parent) {\n                        f = p.levelSeparation, T.parent.layout && (f = p.mixedHierarchyNodesSeparation);\n                        var w = e.manager.bordersByRootIdAndLevel[g.id][T.parent.sl];\n                        switch (p.orientation) {\n                            case FamilyTree.orientation.top:\n                            case FamilyTree.orientation.top_left:\n                                _ = w.maxY + f * (2 / 3);\n                                break;\n                            case FamilyTree.orientation.bottom:\n                            case FamilyTree.orientation.bottom_left:\n                                _ = w.minY - f * (2 / 3);\n                                break;\n                            case FamilyTree.orientation.left:\n                            case FamilyTree.orientation.left_top:\n                                x = w.maxX + f * (2 / 3), _ = s[s.length - 1][1];\n                                break;\n                            case FamilyTree.orientation.right:\n                            case FamilyTree.orientation.right_top:\n                                x = w.minX - f * (2 / 3), _ = s[s.length - 1][1]\n                        }\n                    }\n                    s.push([x, _])\n                }\n                y = T\n            }\n            switch (h = FamilyTree.t(d.templateName, d.min, r), s.splice(s.length - 1, 1), p.orientation) {\n                case FamilyTree.orientation.top:\n                case FamilyTree.orientation.top_left:\n                    s.push([d.x + d.w / 2 + h.expandCollapseSize, s[s.length - 1][1]]), s.push([s[s.length - 1][0], d.y + d.h]);\n                    break;\n                case FamilyTree.orientation.bottom:\n                case FamilyTree.orientation.bottom_left:\n                    s.push([d.x + d.w / 2 + h.expandCollapseSize, s[s.length - 1][1]]), s.push([s[s.length - 1][0], d.y]);\n                    break;\n                case FamilyTree.orientation.left:\n                case FamilyTree.orientation.left_top:\n                    s.push([s[s.length - 1][0], d.y + d.h / 2 + h.expandCollapseSize]), s.push([d.x + d.w, s[s.length - 1][1]]);\n                    break;\n                case FamilyTree.orientation.right:\n                case FamilyTree.orientation.right_top:\n                    s.push([s[s.length - 1][0], d.y + d.h / 2 + h.expandCollapseSize]), s.push([d.x, s[s.length - 1][1]])\n            }\n        }\n        var k = l.template;\n        k || (k = \"orange\");\n        var S, C, I = null;\n        switch ((h = FamilyTree.slinkTemplates[k]).labelPosition) {\n            case\"start\":\n                I = {x: s[1][0], y: s[1][1]};\n                break;\n            case\"middle\":\n                var N = Math.ceil(s.length / 2);\n                S = s[N], C = s[N - 1], I = {x: (S[0] + C[0]) / 2, y: (S[1] + C[1]) / 2};\n                break;\n            case\"end\":\n                I = {x: s[s.length - 2][0], y: s[s.length - 2][1]}\n        }\n        o && (s = s.reverse()), s[0].unshift(\"M\");\n        for (var A = 1; A < s.length; A++) s[A].unshift(\"L\");\n        var L = FamilyTree.roundPathCorners(s, FamilyTree.LINK_ROUNDED_CORNERS, !1);\n        if (l.label) {\n            var E = h.label.replace(\"{x}\", I.x).replace(\"{y}\", I.y).replace(\"{val}\", l.label),\n                M = FamilyTree._getLabelSize(E), U = -M.height / 2;\n            switch (p.orientation) {\n                case FamilyTree.orientation.bottom:\n                case FamilyTree.orientation.bottom_left:\n                    U = M.height\n            }\n            i += h.label.replace(\"{x}\", I.x).replace(\"{y}\", I.y + U).replace(\"{val}\", l.label)\n        }\n        var O = t.id, B = n.id;\n        o && (O = n.id, B = t.id), i += (\"<g \" + FamilyTree.attr.s_link_from + '=\"{from}\" ' + FamilyTree.attr.s_link_to + '=\"{to}\">').replace(\"{from}\", O).replace(\"{to}\", B) + h.link.replaceAll(\"{d}\", L) + '<path stroke=\"transparent\" stroke-width=\"15\" fill=\"none\" d=\"' + L + '\" />', i += FamilyTree.grCloseTag\n    }\n\n    for (var o = 0; o < this.config.slinks.length; o++) {\n        var l = this.config.slinks[o], s = e.getNode(l.from), d = e.getNode(l.to);\n        s && d && -1 != t.res.visibleNodeIds.indexOf(d.id) && -1 != t.res.visibleNodeIds.indexOf(s.id) && (s.sl >= d.sl ? n(s, d, !1) : n(d, s, !0))\n    }\n    t.content += i\n},FamilyTree.prototype.addSlink = function (e, t, i, r) {\n    this._putInUndoStack(), this.clearRedo();\n    for (var a = this.config.slinks.length - 1; a >= 0; a--) {\n        var n = this.config.slinks[a];\n        n.from == e && n.to == t && this.config.slinks.splice(a, 1)\n    }\n    return this.config.slinks.push({\n        from: e,\n        to: t,\n        label: i,\n        template: r\n    }), FamilyTree.events.publish(\"updated\", [this]), this\n},FamilyTree.prototype.removeSlink = function (e, t) {\n    this._putInUndoStack(), this.clearRedo();\n    for (var i = this.config.slinks.length - 1; i >= 0; i--) {\n        var r = this.config.slinks[i];\n        r.from == e && r.to == t && this.config.slinks.splice(i, 1)\n    }\n    return FamilyTree.events.publish(\"updated\", [this]), this\n},FamilyTree.slinkTemplates = {},FamilyTree.slinkTemplates.orange = {\n    defs: '<marker id=\"arrowSlinkOrange\" viewBox=\"0 0 10 10\" refX=\"8\" refY=\"5\" markerWidth=\"6\" markerHeight=\"6\" orient=\"auto-start-reverse\"><path fill=\"#F57C00\" d=\"M 0 0 L 10 5 L 0 10 z\" /></marker><marker id=\"dotSlinkOrange\" viewBox=\"0 0 10 10\" refX=\"5\" refY=\"5\" markerWidth=\"5\" markerHeight=\"5\"> <circle cx=\"5\" cy=\"5\" r=\"5\" fill=\"#F57C00\" /></marker>',\n    link: '<path stroke-dasharray=\"4, 2\" marker-start=\"url(#dotSlinkOrange)\" marker-end=\"url(#arrowSlinkOrange)\" stroke-linejoin=\"round\" stroke=\"#F57C00\" stroke-width=\"2\" fill=\"none\" d=\"{d}\" />',\n    label: '<text dominant-baseline=\"middle\" fill=\"#F57C00\" alignment-baseline=\"middle\" text-anchor=\"middle\" x=\"{x}\" y=\"{y}\">{val}</text>',\n    labelPosition: \"middle\"\n},FamilyTree.slinkTemplates.blue = {\n    defs: '<marker id=\"arrowSlinkBlue\" viewBox=\"0 0 10 10\" refX=\"8\" refY=\"5\" markerWidth=\"6\" markerHeight=\"6\" orient=\"auto-start-reverse\"><path fill=\"#039BE5\" d=\"M 0 0 L 10 5 L 0 10 z\" /></marker><marker id=\"dotSlinkBlue\" viewBox=\"0 0 10 10\" refX=\"5\" refY=\"5\" markerWidth=\"5\" markerHeight=\"5\"> <circle cx=\"5\" cy=\"5\" r=\"5\" fill=\"#039BE5\" /></marker>',\n    link: '<path stroke-dasharray=\"4, 2\" marker-start=\"url(#dotSlinkBlue)\" marker-end=\"url(#arrowSlinkBlue)\" stroke-linejoin=\"round\" stroke=\"#039BE5\" stroke-width=\"2\" fill=\"none\" d=\"{d}\" />',\n    label: '<text fill=\"#039BE5\" text-anchor=\"middle\" x=\"{x}\" y=\"{y}\">{val}</text>',\n    labelPosition: \"middle\"\n},FamilyTree.slinkTemplates.yellow = {\n    defs: '<marker id=\"arrowSlinkYellow\" viewBox=\"0 0 10 10\" refX=\"8\" refY=\"5\" markerWidth=\"6\" markerHeight=\"6\" orient=\"auto-start-reverse\"><path fill=\"#FFCA28\" d=\"M 0 0 L 10 5 L 0 10 z\" /></marker><marker id=\"dotSlinkYellow\" viewBox=\"0 0 10 10\" refX=\"5\" refY=\"5\" markerWidth=\"5\" markerHeight=\"5\"> <circle cx=\"5\" cy=\"5\" r=\"5\" fill=\"#FFCA28\" /></marker>',\n    link: '<path stroke-dasharray=\"4, 2\" marker-start=\"url(#dotSlinkYellow)\" marker-end=\"url(#arrowSlinkYellow)\" stroke-linejoin=\"round\" stroke=\"#FFCA28\" stroke-width=\"2\" fill=\"none\" d=\"{d}\" />',\n    label: '<text  fill=\"#FFCA28\" text-anchor=\"middle\" x=\"{x}\" y=\"{y}\">{val}</text>',\n    labelPosition: \"middle\"\n},FamilyTree.events.on(\"renderbuttons\", (function (e, t) {\n    if (t.node && t.node.tags && t.node.tags.has(\"group-dotted-lines\")) {\n        var i = e.getScale(), r = FamilyTree.t(t.node.templateName, t.node.min, i), a = \"\";\n        t.node.min ? (r.nodeGroupDottedOpenButton || console.error(`[${t.node.templateName}].nodeGroupDottedOpenButton is not defined`), a += `<g style=\"cursor:pointer;\"  data-ctrl-n-dotted-open=\"${t.node.id}\" transform=\"matrix(1,0,0,1,${t.node.x},${t.node.y})\">`, a += r.nodeGroupDottedOpenButton) : (r.nodeGroupDottedCloseButton || console.error(`[${t.node.templateName}].nodeGroupDottedCloseButton is not defined`), a += `<g style=\"cursor:pointer;\" transform=\"matrix(1,0,0,1,${t.node.x},${t.node.y})\" data-ctrl-n-dotted-close=\"${t.node.id}\">`, a += r.nodeGroupDottedCloseButton), a = (a += \"</g>\").replaceAll(\"{cw}\", t.node.w / 2).replaceAll(\"{ch}\", t.node.h / 2).replaceAll(\"{ew}\", t.node.w - (t.node.padding ? t.node.padding[1] : 0)).replaceAll(\"{eh}\", t.node.h - (t.node.padding ? t.node.padding[2] : 0));\n        var n = e.getNode(t.node.stChildrenIds[0]);\n        if (-1 != a.indexOf(\"{collapsed-children-count}\")) {\n            var o = FamilyTree.collapsedChildrenCount(e, n);\n            a = a.replace(\"{collapsed-children-count}\", o)\n        }\n        if (-1 != a.indexOf(\"{collapsed-children-total-count}\")) {\n            var l = FamilyTree.collapsedChildrenTotalCount(e, n);\n            a = a.replace(\"{collapsed-children-total-count}\", l)\n        }\n        if (-1 != a.indexOf(\"{children-count}\")) {\n            var s = FamilyTree.childrenCount(e, n);\n            a = a.replace(\"{children-count}\", s)\n        }\n        if (-1 != a.indexOf(\"{children-total-count}\")) {\n            var d = FamilyTree.childrenTotalCount(e, n);\n            a = a.replace(\"{children-total-count}\", d)\n        }\n        t.html += a\n    }\n})),FamilyTree.events.on(\"redraw\", (function (e, t) {\n    if (e.config.groupDottedLines.length) {\n        for (var i = e.element.querySelectorAll(\"[data-ctrl-n-dotted-close]\"), r = 0; r < i.length; r++) i[r].addEventListener(\"click\", (function () {\n            var t = this.getAttribute(\"data-ctrl-n-dotted-close\");\n            e.minimize(t)\n        }));\n        var a = e.element.querySelectorAll(\"[data-ctrl-n-dotted-open]\");\n        for (r = 0; r < a.length; r++) a[r].addEventListener(\"click\", (function () {\n            var t = this.getAttribute(\"data-ctrl-n-dotted-open\");\n            e.maximize(t)\n        }))\n    }\n})),void 0 === FamilyTree && (FamilyTree = {}),FamilyTree.prototype.undo = function (e) {\n    if (this.config.undoRedoStorageName) {\n        var t = this.undoStepsCount();\n        if (0 != t) {\n            this._putInRedoStack();\n            var i = `${this.config.undoRedoStorageName}_undo_` + (t - 1), r = sessionStorage.getItem(i);\n            sessionStorage.removeItem(i);\n            var a = JSON.parse(r);\n            this.config.nodes = a.nodes, this.config.clinks = a.clinks, this.config.slinks = a.slinks, this.config.groupDottedLines = a.groupDottedLines, this.config.dottedLines = a.dottedLines, FamilyTree.events.publish(\"updated\", [this]), this.filterUI.update(), this.draw(FamilyTree.action.update, void 0, e), this.undoRedoUI.refresh()\n        }\n    }\n},FamilyTree.prototype.redo = function (e) {\n    if (this.config.undoRedoStorageName) {\n        var t = this.redoStepsCount();\n        if (0 != t) {\n            this._putInUndoStack();\n            var i = `${this.config.undoRedoStorageName}_redo_` + (t - 1), r = sessionStorage.getItem(i);\n            sessionStorage.removeItem(i);\n            var a = JSON.parse(r);\n            this.config.nodes = a.nodes, this.config.clinks = a.clinks, this.config.slinks = a.slinks, this.config.groupDottedLines = a.groupDottedLines, this.config.dottedLines = a.dottedLines, FamilyTree.events.publish(\"updated\", [this]), this.filterUI.update(), this.draw(FamilyTree.action.update, void 0, e), this.undoRedoUI.refresh()\n        }\n    }\n},FamilyTree.prototype.clearRedo = function () {\n    if (this.config.undoRedoStorageName) {\n        for (var e = `${this.config.undoRedoStorageName}_redo_`, t = Object.keys(sessionStorage), i = 0; -1 != t.indexOf(e + i);) sessionStorage.removeItem(e + i), i++;\n        this.undoRedoUI.refresh()\n    }\n},FamilyTree.prototype.clearUndo = function () {\n    if (this.config.undoRedoStorageName) {\n        for (var e = `${this.config.undoRedoStorageName}_undo_`, t = Object.keys(sessionStorage), i = 0; -1 != t.indexOf(e + i);) sessionStorage.removeItem(e + i), i++;\n        this.undoRedoUI.refresh()\n    }\n},FamilyTree.prototype.undoStepsCount = function () {\n    for (var e = `${this.config.undoRedoStorageName}_undo_`, t = Object.keys(sessionStorage), i = 0; -1 != t.indexOf(e + i);) i++;\n    return i\n},FamilyTree.prototype.redoStepsCount = function () {\n    for (var e = `${this.config.undoRedoStorageName}_redo_`, t = Object.keys(sessionStorage), i = 0; -1 != t.indexOf(e + i);) i++;\n    return i\n},FamilyTree.prototype._putInUndoStack = function () {\n    if (this.config.undoRedoStorageName) {\n        var e = `${this.config.undoRedoStorageName}_undo_` + this.undoStepsCount();\n        sessionStorage.setItem(e, JSON.stringify({\n            nodes: this.config.nodes,\n            clinks: this.config.clinks,\n            slinks: this.config.slinks,\n            groupDottedLines: this.config.groupDottedLines,\n            dottedLines: this.config.dottedLines\n        }))\n    }\n},FamilyTree.prototype._putInRedoStack = function () {\n    if (this.config.undoRedoStorageName) {\n        var e = `${this.config.undoRedoStorageName}_redo_` + this.redoStepsCount();\n        sessionStorage.setItem(e, JSON.stringify({\n            nodes: this.config.nodes,\n            clinks: this.config.clinks,\n            slinks: this.config.slinks,\n            groupDottedLines: this.config.groupDottedLines,\n            dottedLines: this.config.dottedLines\n        }))\n    }\n},void 0 === FamilyTree && (FamilyTree = {}),FamilyTree.undoRedoUI = function () {\n    this.instance = null, this._event_id = FamilyTree._guid()\n},FamilyTree.undoRedoUI.prototype.init = function (e) {\n    e.config.undoRedoStorageName && (this.instance = e, this.refresh())\n},FamilyTree.undoRedoUI.prototype.refresh = function () {\n    var e = this;\n    if (this.instance.config.undoRedoStorageName) {\n        var t = {undoStepsCount: this.instance.undoStepsCount(), redoStepsCount: this.instance.redoStepsCount()};\n        if (!1 !== FamilyTree.events.publish(\"change\", [this, t])) {\n            var i = this.instance.element.querySelector(\"[data-undo]\"),\n                r = this.instance.element.querySelector(\"[data-redo]\");\n            if (!i || !r) {\n                var a = document.createElement(\"div\");\n                a.classList.add(\"bft-undo-redo\"), a.innerHTML = `<span data-undo>${FamilyTree.icon.undo(50, 50, \"\")}<span class=\"bft-undo-i\"></span></span>\\n                            <span data-redo>${FamilyTree.icon.redo(50, 50, \"\")}<span class=\"bft-redo-i\"></span></span>`, this.instance.element.appendChild(a), i = this.instance.element.querySelector(\"[data-undo]\"), r = this.instance.element.querySelector(\"[data-redo]\"), i.addEventListener(\"click\", (function () {\n                    e.instance.undo()\n                })), r.addEventListener(\"click\", (function () {\n                    e.instance.redo()\n                }))\n            }\n            t.undoStepsCount > 0 ? (i.classList.add(\"bft-ur-clickable\"), i.querySelector(\".bft-undo-i\").innerHTML = t.undoStepsCount, i.querySelector(\".bft-undo-i\").style.display = \"inline-block\") : (i.classList.remove(\"bft-ur-clickable\"), i.querySelector(\".bft-undo-i\").style.display = \"none\"), t.redoStepsCount > 0 ? (r.classList.add(\"bft-ur-clickable\"), r.querySelector(\".bft-redo-i\").innerHTML = t.redoStepsCount, r.querySelector(\".bft-redo-i\").style.display = \"inline-block\") : (r.classList.remove(\"bft-ur-clickable\"), r.querySelector(\".bft-redo-i\").style.display = \"none\")\n        }\n    }\n},FamilyTree.undoRedoUI.prototype.on = function (e, t) {\n    return FamilyTree.events.on(e, t, this._event_id), this\n},FamilyTree.undoRedoUI.prototype.onChange = function (e) {\n    return this.on(\"change\", (function (t, i) {\n        return e.call(t, i)\n    }))\n},FamilyTree.events.on(\"redraw\", (function (e, t) {\n    if (e.config.miniMap) {\n        if (e.manager.action != FamilyTree.action.move) {\n            FamilyTree.miniMap._settings._scale = Math.min(FamilyTree.miniMap.width / (e.response.boundary.maxX - e.response.boundary.minX), FamilyTree.miniMap.height / (e.response.boundary.maxY - e.response.boundary.minY)), FamilyTree.miniMap._settings._translateX = -e.response.boundary.minX * FamilyTree.miniMap._settings._scale + (FamilyTree.miniMap.width - (e.response.boundary.maxX - e.response.boundary.minX) * FamilyTree.miniMap._settings._scale) / 2, FamilyTree.miniMap._settings._translateY = -e.response.boundary.minY * FamilyTree.miniMap._settings._scale + (FamilyTree.miniMap.height - (e.response.boundary.maxY - e.response.boundary.minY) * FamilyTree.miniMap._settings._scale) / 2;\n            var i = e.getViewBox();\n            FamilyTree.miniMap._init(e), FamilyTree.miniMap._drawMainCanvas(e), FamilyTree.miniMap._drawRectSelectorCanvas(e, i);\n            var r, a, n, o, l = e.element.querySelector('[data-id=\"mini-map-focus\"]'), s = !1, d = null;\n            l.onmousedown = function (e) {\n                var t, n, o, d = l.getBoundingClientRect(), c = d.left, m = d.top;\n                if (r = parseInt(e.clientX - c), a = parseInt(e.clientY - m), t = a, n = (r - FamilyTree.miniMap._settings._translateX) / FamilyTree.miniMap._settings._scale, o = (t - FamilyTree.miniMap._settings._translateY) / FamilyTree.miniMap._settings._scale, n > i[0] && n < i[0] + i[2] && o > i[1] && o < i[1] + i[3]) return e.preventDefault(), e.stopPropagation(), void (s = !0)\n            }, l.onmousemove = function (t) {\n                if (s) {\n                    t.preventDefault(), t.stopPropagation();\n                    var c = l.getBoundingClientRect(), m = c.left, p = c.top;\n                    n = parseInt(t.clientX - m), o = parseInt(t.clientY - p);\n                    var h = (n - r) / FamilyTree.miniMap._settings._scale,\n                        f = (o - a) / FamilyTree.miniMap._settings._scale;\n                    i[0] = h + i[0], i[1] = f + i[1], e.setViewBox(i), d && (clearTimeout(d), d = null), d = setTimeout((function () {\n                        e._draw(!0, FamilyTree.action.move)\n                    }), 300), FamilyTree.miniMap._drawRectSelectorCanvas(e, i), r = n, a = o\n                }\n            }, l.onmouseup = function (e) {\n                s && (e.preventDefault(), e.stopPropagation(), s = !1)\n            }, l.onmouseout = function (e) {\n                s && (e.preventDefault(), e.stopPropagation(), s = !1)\n            }\n        }\n    } else {\n        var c = e.element.querySelector('[data-id=\"mini-map\"]');\n        c && c.parentNode.removeChild(c)\n    }\n})),FamilyTree.miniMap = {},FamilyTree.miniMap._settings = {\n    _translateX: 0,\n    _translateY: 0,\n    _scale: 1\n},FamilyTree.miniMap._drawMainCanvas = function (e) {\n    var t = e.element.querySelector('[data-id=\"mini-map-main\"]'), i = t.getContext(\"2d\");\n    FamilyTree.miniMap._initCtx(e, t, 1);\n    var r = 0, a = [];\n    !function e(t, n) {\n        if (Array.isArray(n)) for (var o = 0; o < n.length; o++) e(t, n[o]); else {\n            i.fillStyle = FamilyTree.miniMap.colors[3], i.beginPath(), i.lineWidth = \"0.5\", i.fillRect(n.x, n.y, n.w, n.h), i.strokeRect(n.x, n.y, n.w, n.h);\n            for (o = 0; o < n.stChildrenIds.length; o++) r++, a.includes(n.id) || (1 == r ? i.fillStyle = FamilyTree.miniMap.colors[0] : 2 == r ? i.fillStyle = FamilyTree.miniMap.colors[1] : 3 == r && (i.fillStyle = FamilyTree.miniMap.colors[2]), i.beginPath(), i.fillRect(n.x, n.y, n.w, n.h), i.strokeRect(n.x, n.y, n.w, n.h), a.push(n.id)), e(t, t.getNode(n.stChildrenIds[o])), r--;\n            for (o = 0; o < n.childrenIds.length; o++) e(t, t.getNode(n.childrenIds[o]))\n        }\n    }(e, e.roots)\n},FamilyTree.miniMap._drawRectSelectorCanvas = function (e, t) {\n    var i = e.element.querySelector('[data-id=\"mini-map-focus\"]'), r = i.getContext(\"2d\");\n    FamilyTree.miniMap._initCtx(e, i, FamilyTree.miniMap.opacity);\n    var a = t[0], n = t[1], o = t[2], l = t[3];\n    r.lineWidth = .5 / FamilyTree.miniMap._settings._scale, r.strokeStyle = FamilyTree.miniMap.focusStroke, r.globalAlpha = 1, r.clearRect(a, n, o, l), r.strokeRect(a, n, o, l)\n},FamilyTree.miniMap._initCtx = function (e, t, i) {\n    var r = t.getContext(\"2d\");\n    t.width = t.width, t.height = t.height, r.clearRect(0, 0, FamilyTree.miniMap.width, FamilyTree.miniMap.height), r.globalAlpha = i, 1 != i && (r.fillStyle = FamilyTree.miniMap.selectorBackgroundColor, r.fillRect(0, 0, FamilyTree.miniMap.width, FamilyTree.miniMap.height)), r.translate(FamilyTree.miniMap._settings._translateX, FamilyTree.miniMap._settings._translateY), r.scale(FamilyTree.miniMap._settings._scale, FamilyTree.miniMap._settings._scale)\n},FamilyTree.miniMap._init = function (e) {\n    if (!e.element.querySelector('[data-id=\"mini-map\"]')) {\n        var t = document.createElement(\"canvas\");\n        t.width = FamilyTree.miniMap.width, t.height = FamilyTree.miniMap.height, t.setAttribute(\"data-id\", \"mini-map-main\"), t.style.display = \"inline-block\", t.style.backgroundColor = FamilyTree.miniMap.backgroundColor, t.style.position = \"absolute\", t.style.top = 0, t.style.left = 0;\n        var i = document.createElement(\"canvas\");\n        i.width = FamilyTree.miniMap.width, i.height = FamilyTree.miniMap.height, i.setAttribute(\"data-id\", \"mini-map-focus\"), i.style.display = \"inline-block\", i.style.position = \"absolute\", i.style.top = 0, i.style.left = 0;\n        var r = document.createElement(\"div\");\n        r.setAttribute(\"data-id\", \"mini-map\"), r.style.position = \"absolute\";\n        for (var a = [\"top\", \"right\", \"left\", \"bottom\"], n = 0; n < a.length; n++) {\n            var o = a[n];\n            FamilyTree.isNEU(FamilyTree.miniMap.position[o]) || (\"padding\" == FamilyTree.miniMap.position[o] ? r.style[o] = e.config.padding + \"px\" : r.style[o] = FamilyTree.miniMap.position[o] + \"px\")\n        }\n        r.style.border = FamilyTree.miniMap.border, r.style.padding = FamilyTree.miniMap.padding + \"px\", r.style.backgroundColor = FamilyTree.miniMap.backgroundColor;\n        var l = document.createElement(\"div\");\n        l.style.position = \"relative\", l.style.width = FamilyTree.miniMap.width + \"px\", l.style.height = FamilyTree.miniMap.height + \"px\", l.appendChild(t), l.appendChild(i), r.appendChild(l), e.element.appendChild(r);\n        var s = function (t, i) {\n            e.__mouseScrollHandler(r, i)\n        };\n        e._addEvent(r, \"DOMMouseScroll\", s), e._addEvent(r, \"mousewheel\", s);\n        var d = 0, c = 0, m = function (e) {\n            var t = e.clientX - d, i = e.clientY - c;\n            if (!FamilyTree.isNEU(r.style.left)) {\n                var a = parseFloat(r.style.left) + t;\n                r.style.left = `${a}px`\n            }\n            if (!FamilyTree.isNEU(r.style.right)) {\n                var n = parseFloat(r.style.right) - t;\n                r.style.right = `${n}px`\n            }\n            if (!FamilyTree.isNEU(r.style.bottom)) {\n                var o = parseFloat(r.style.bottom) - i;\n                r.style.bottom = `${o}px`\n            }\n            if (!FamilyTree.isNEU(r.style.top)) {\n                var l = parseFloat(r.style.top) + i;\n                r.style.top = `${l}px`\n            }\n            d = e.clientX, c = e.clientY\n        }, p = function () {\n            document.removeEventListener(\"mousemove\", m), document.removeEventListener(\"mouseup\", p)\n        };\n        FamilyTree.miniMap.draggable && r.addEventListener(\"mousedown\", (function (e) {\n            d = e.clientX, c = e.clientY, document.addEventListener(\"mousemove\", m), document.addEventListener(\"mouseup\", p)\n        }))\n    }\n},FamilyTree.miniMap.colors = [\"#E0E0E0\", \"#BDBDBD\", \"#9E9E9E\", \"#757575\"],FamilyTree.miniMap.selectorBackgroundColor = \"white\",FamilyTree.miniMap.backgroundColor = \"white\",FamilyTree.miniMap.focusStroke = \"#f57c00\",FamilyTree.miniMap.opacity = .4,FamilyTree.miniMap.border = \"1px solid #aeaeae\",FamilyTree.miniMap.width = 250,FamilyTree.miniMap.height = 140,FamilyTree.miniMap.padding = 5,FamilyTree.miniMap.position = {\n    top: void 0,\n    left: \"padding\",\n    right: void 0,\n    bottom: \"padding\"\n},FamilyTree.miniMap.draggable = !0,FamilyTree._search = {},FamilyTree._search.search = function (e, t, i, r, a, n, o) {\n    var l = [], s = t.toLowerCase(), d = s.split(\" \");\n    if (o && d.length > 1) {\n        var c = d[0];\n        o[c] && (i = [o[c]], d = (s = s.replace(c, \"\").trim()).split(\" \"))\n    }\n    d = d.filter((function (e, t, i) {\n        return i.indexOf(e) === t\n    }));\n    for (var m = {}, p = 0; p < e.length; p++) for (var h = e[p], f = 0; f < i.length; f++) {\n        var u = i[f];\n        if (!FamilyTree.isNEU(h[u])) {\n            var y = h[u];\n            if (null != (t = FamilyTree._search.searchAndComputeScore(d, y, u, n))) {\n                var g = h.id;\n                if (m[g]) {\n                    if (m[g] && m[g] < t.__score) {\n                        m[g] = t.__score;\n                        for (var v = l.length - 1; v >= 0; v--) l[v].id == g && l.splice(v, 1);\n                        FamilyTree._search.addNodeToResult(l, r, h, t, u, a)\n                    }\n                } else m[g] = t.__score, FamilyTree._search.addNodeToResult(l, r, h, t, u, a)\n            }\n        }\n    }\n    return l.sort((function (e, t) {\n        return e.__score < t.__score ? 1 : e.__score > t.__score ? -1 : 0\n    })), l\n},FamilyTree._search.addNodeToResult = function (e, t, i, r, a, n) {\n    var o = {};\n    o.id = i.id, FamilyTree.isNEU(i[n]) || (o[n] = i[n]);\n    for (var l = 0; l < t.length; l++) {\n        var s = t[l];\n        FamilyTree.isNEU(i[s]) || FamilyTree.isNEU(o[s]) && (o[s] = i[s])\n    }\n    null != r && (FamilyTree.isNEU(o.__score) && (o.__score = r.__score), FamilyTree.isNEU(o.__searchField) && (o.__searchField = a), FamilyTree.isNEU(o.__searchMarks) && (o.__searchMarks = r.__searchMarks)), e.push(o)\n},FamilyTree._search.searchAndComputeScore = function (e, t, i, r) {\n    if (FamilyTree.isNEU(t)) return null;\n    if (FamilyTree.isNEU(e)) return null;\n    if (!e.length) return null;\n    \"string\" != typeof t && (t = t.toString());\n    var a = t.toLowerCase(), n = FamilyTree._search.searchIndexesOf(a, e);\n    if (!n.length) return null;\n    for (var o = a.length / 100, l = 0, s = 0, d = l > 0 ? 100 : 0, c = 0, m = 0; m < e.length; m++) for (var p = e[m], h = 0; h < n.length; h++) if (-1 != p.indexOf(n[h].searchPhrase)) {\n        c++;\n        break\n    }\n    var f = 100 / (e.length / c);\n    if (n.length) {\n        s = n[0].start;\n        for (h = 0; h < n.length; h++) if (l += n[h].length, n[h].start < s && (s = n[h].start), h >= 1 && n[h - 1].start > n[h].start) {\n            d = 0;\n            break\n        }\n    }\n    var u = 0;\n    0 != l && (u = l / o);\n    var y = l > 0 ? 100 : 0;\n    0 != s && (y = 100 - s / o);\n    var g = 0;\n    r && r[i] && (g = r[i]), f && (f = f / 100 * 50), u > 0 && (u = u / 100 * 10), y > 0 && (y = y / 100 * 10), d > 0 && (d = d / 100 * 10), g > 0 && (g = g / 100 * 20);\n    var v = Math.round(1e4 * (f + u + y + d + g));\n    n.sort((function (e, t) {\n        return e.start < t.start ? -1 : e.start > t.start ? 1 : 0\n    }));\n    var T = t;\n    for (h = n.length - 1; h >= 0; h--) T = (T = T.insert(n[h].start + n[h].length, \"</mark>\")).insert(n[h].start, \"<mark>\");\n    return {__searchMarks: T, __score: v}\n},FamilyTree._search.searchIndexesOf = function (e, t) {\n    var i = [];\n    if (!FamilyTree.isNEU(e)) for (var r = 0; r < t.length; r++) {\n        var a = t[r];\n        if (!FamilyTree.isNEU(a)) for (var n = 0; (n = e.indexOf(a, n)) > -1;) i.push({\n            length: a.length,\n            start: n,\n            searchPhrase: a\n        }), n += a.length\n    }\n    return i.sort((function (e, t) {\n        return e.length < t.length ? 1 : e.length > t.length || e.start < t.start ? -1 : e.start > t.start ? 1 : 0\n    })), i = i.filter((function (e) {\n        for (var t = !1, r = 0; r < i.length; r++) {\n            var a = i[r].start, n = i[r].start + i[r].length - 1, o = e.start, l = e.start + e.length - 1;\n            if (a == o && n == l) {\n                t = !1;\n                break\n            }\n            if (a >= o && n <= l) {\n                t = !0;\n                break\n            }\n            if (a <= o && n >= l) {\n                t = !0;\n                break\n            }\n        }\n        return !t\n    }))\n},FamilyTree.events.on(\"redraw\", (function (e, t) {\n    if (e.config.state) {\n        var i = [], r = [];\n        !function e(t) {\n            if (Array.isArray(t)) for (var a = 0; a < t.length; a++) e(t[a]); else {\n                (\"string\" != typeof t.id || \"string\" == typeof t.id && -1 == t.id.indexOf(\"split\") && -1 == t.id.indexOf(\"mirror\")) && (i.push(t.id), 1 == t.min && r.push(t.id));\n                for (a = 0; a < t.stChildren.length; a++) e(t.stChildren[a]);\n                for (a = 0; a < t.children.length; a++) e(t.children[a])\n            }\n        }(e.roots), FamilyTree.state._put(e.config.roots, e.width(), e.height(), e.response.viewBox, i, r, e.response.adjustify, e.config.state)\n    }\n})),FamilyTree.state = {},FamilyTree.state._buildStateNames = function (e) {\n    return {\n        paramScale: e + \"-scale\",\n        paramX: e + \"-x\",\n        paramY: e + \"-y\",\n        paramExp: e + \"-exp\",\n        paramMin: e + \"-min\",\n        paramRoots: e + \"-roots\",\n        paramAdjustify: e + \"-adjustify\"\n    }\n},FamilyTree.state._put = function (e, t, i, r, a, n, o, l) {\n    if (l && !FamilyTree.isNEU(a) && 0 != a.length) {\n        var s = FamilyTree.state._buildStateNames(l.name),\n            d = {roots: e, scale: Math.min(t / r[2], i / r[3]), x: r[0], y: r[1], exp: a, min: n, adjustify: o};\n        if (l.writeToUrlParams) {\n            var c = new URLSearchParams(window.location.search);\n            c.has(s.paramScale) ? c.set(s.paramScale, d.scale) : c.append(s.paramScale, d.scale), c.has(s.paramX) ? c.set(s.paramX, d.x) : c.append(s.paramX, d.x), c.has(s.paramY) ? c.set(s.paramY, d.y) : c.append(s.paramY, d.y), c.has(s.paramExp) ? c.set(s.paramExp, d.exp.join(\"*\")) : c.append(s.paramExp, d.exp.join(\"*\")), c.has(s.paramRoots) && Array.isArray(d.roots) ? c.set(s.paramRoots, d.roots.join(\"*\")) : Array.isArray(d.roots) && c.append(s.paramRoots, d.roots.join(\"*\")), c.has(s.paramMin) ? c.set(s.paramMin, d.min.join(\"*\")) : c.append(s.paramMin, d.min.join(\"*\")), c.has(s.paramAdjustify) ? c.set(s.paramAdjustify, d.adjustify.x + \"*\" + d.adjustify.y) : c.append(s.paramAdjustify, d.adjustify.x + \"*\" + d.adjustify.y), window.history.replaceState(null, null, \"?\" + c)\n        }\n        l.writeToIndexedDB && (d.id = l.name, FamilyTree.idb.put(d, (function (e) {\n            0 == e && console.error(\"Cannot write row - \" + l.name)\n        }))), l.writeToLocalStorage && FamilyTree.localStorage.setItem(l.name, JSON.stringify(d))\n    }\n},FamilyTree.state._get = function (e, t, i, r) {\n    if (e) {\n        var a = FamilyTree.state._buildStateNames(e.name);\n        if (e.readFromUrlParams) {\n            var n = new URLSearchParams(window.location.search);\n            if (n.has(a.paramScale) && n.has(a.paramX) && n.has(a.paramY) && n.has(a.paramExp) && n.has(a.paramMin) && n.has(a.paramAdjustify)) {\n                var o = {}, l = parseFloat(n.get(a.paramScale)), s = parseFloat(n.get(a.paramX)),\n                    d = parseFloat(n.get(a.paramY));\n                (m = [])[0] = s, m[1] = d, m[2] = t / l, m[3] = i / l, o.vb = m, o.scale = l, o.x = s, o.y = d, o.roots = null, n.has(a.paramRoots) && (o.roots = n.get(a.paramRoots).split(\"*\")), o.exp = n.get(a.paramExp).split(\"*\"), o.min = n.get(a.paramMin).split(\"*\");\n                var c = n.get(a.paramAdjustify).split(\"*\");\n                return o.adjustify = {x: parseFloat(c[0]), y: parseFloat(c[1])}, void r(o)\n            }\n            if (!e.readFromIndexedDB && !e.readFromLocalStorage) return void r(null)\n        }\n        if (e.readFromLocalStorage) {\n            var m;\n            if (null != (o = FamilyTree.localStorage.getItem(e.name))) return o = JSON.parse(o), (m = [])[0] = o.x, m[1] = o.y, m[2] = t / o.scale, m[3] = i / o.scale, o.vb = m, void r(o);\n            if (!e.readFromIndexedDB) return void r(null)\n        }\n        e.readFromIndexedDB && FamilyTree.idb.read(e.name, (function (a, n) {\n            if (0 == a) console.error(\"Cannot read from - \" + e.name), r(null); else if (null == a) r(null); else {\n                var o = [];\n                o[0] = n.x, o[1] = n.y, o[2] = t / n.scale, o[3] = i / n.scale, n.vb = o, r(n)\n            }\n        }))\n    } else r(null)\n},FamilyTree.state.clear = function (e) {\n    if (!e) return !1;\n    try {\n        localStorage.removeItem(e);\n        var t = FamilyTree.state._buildStateNames(e), i = new URLSearchParams(window.location.search);\n        i.has(t.paramScale) && i.delete(t.paramScale), i.has(t.paramX) && i.delete(t.paramX), i.has(t.paramY) && i.delete(t.paramY), i.has(t.paramExp) && i.delete(t.paramExp), i.has(t.paramRoots) && i.delete(t.paramRoots), i.has(t.paramMin) && i.delete(t.paramMin), i.has(t.paramAdjustify) && i.delete(t.paramAdjustify), window.history.replaceState(null, null, \"?\" + i), FamilyTree.idb.delete(e, (function (t) {\n            0 == t && console.error(\"Cannot delete row - \" + e)\n        }))\n    } catch {\n    }\n},FamilyTree._magnify = {},FamilyTree.prototype.magnify = function (e, t, i, r, a) {\n    r || (r = this.config.anim);\n    var n = this.getNode(e), o = this.getNodeElement(e);\n    if (n || o) {\n        var l = FamilyTree._magnify[e];\n        if (l && (null != l.timer && clearInterval(l.timer), null != l.timerBack && clearInterval(l.timerBack), o.setAttribute(\"transform\", \"matrix(\" + l.transformStart.toString() + \")\"), FamilyTree._magnify[e] = null), i) o = o.cloneNode(!0), this.getSvg().appendChild(o);\n        var s = FamilyTree._getTransform(o), d = JSON.parse(JSON.stringify(s));\n        d[0] = t, d[3] = t;\n        var c = n.w + n.w * (t - 1), m = n.h + n.h * (t - 1);\n        d[4] += (n.w - c) / 2, d[5] += (n.h - m) / 2;\n        var p = FamilyTree.animate(o, {transform: s}, {transform: d}, r.duration, r.func);\n        FamilyTree._magnify[e] = {timer: p, transformStart: s, nodeElement: o, front: i}, a && a(o)\n    }\n},FamilyTree.prototype.magnifyBack = function (e, t, i) {\n    t || (t = this.config.anim);\n    var r = FamilyTree._magnify[e];\n    if (r) {\n        null != r.timer && clearInterval(r.timer), null != r.timerBack && clearInterval(r.timerBack);\n        var a = FamilyTree._getTransform(r.nodeElement);\n        r.timerBack = FamilyTree.animate(r.nodeElement, {transform: a}, {transform: r.transformStart}, t.duration, t.func, (function (e) {\n            var t = e[0].getAttribute(FamilyTree.attr.node_id);\n            FamilyTree._magnify[t] && FamilyTree._magnify[t].front && (e[0].parentNode.removeChild(e[0]), FamilyTree._magnify[t] = null), i && i(e[0])\n        }))\n    }\n},void 0 === FamilyTree && (FamilyTree = {}),FamilyTree.events.on(\"init\", (function (e, t) {\n    if (e.config.keyNavigation && (e._addEvent(window, \"keydown\", e._windowKeyDownHandler), FamilyTree.isNEU(e._keyNavigationActiveNodeId) && e.roots && e.roots.length)) {\n        var i = e.roots[0].id;\n        FamilyTree.isNEU(e.config.keyNavigation.focusId) || (i = e.config.keyNavigation.focusId), e._keyNavigationActiveNodeId = i, e.center(e._keyNavigationActiveNodeId)\n    }\n})),FamilyTree.prototype._windowKeyDownHandler = function (e, t) {\n    for (var i = t.target, r = null; i && i != this.element;) {\n        if (i.hasAttribute && i.hasAttribute(FamilyTree.attr.node_id)) {\n            r = i.getAttribute(FamilyTree.attr.node_id);\n            break\n        }\n        i = i.parentNode\n    }\n    if (i) {\n        var a = r ? this.getNode(r) : null, n = {node: a, data: r ? this.get(r) : null, event: t};\n        if (!1 !== FamilyTree.events.publish(\"key-down\", [this, n]) && a) if (\"KeyF\" == t.code) this.searchUI.find(\"\"); else if (\"ArrowRight\" == t.code || a.isAssistant && \"ArrowDown\" == t.code || a.isPartner && \"ArrowDown\" == t.code) {\n            if (s = this.getNode(a.pid)) {\n                var o = s.childrenIds.indexOf(a.id);\n                if (++o < s.childrenIds.length) {\n                    var l = s.childrenIds[o];\n                    this._keyNavigationActiveNodeId = l, this.center(l)\n                }\n            }\n        } else if (\"ArrowLeft\" == t.code) {\n            if (s = this.getNode(a.pid)) {\n                o = s.childrenIds.indexOf(a.id);\n                if (--o >= 0) {\n                    l = s.childrenIds[o];\n                    this._keyNavigationActiveNodeId = l, this.center(l)\n                }\n            }\n        } else if (\"ArrowUp\" == t.code) {\n            var s;\n            if (s = this.getNode(a.pid)) {\n                l = s.id;\n                if (a.isAssistant || s.hasAssistants || a.isPartner || s.hasPartners) {\n                    o = s.childrenIds.indexOf(a.id);\n                    --o >= 0 && (l = s.childrenIds[o])\n                }\n                this._keyNavigationActiveNodeId = l, this.center(l)\n            }\n        } else if (\"ArrowDown\" == t.code) a.childrenIds.length && (this._keyNavigationActiveNodeId = a.childrenIds[0], this.center(a.childrenIds[0])); else if (\"Space\" == t.code) {\n            var d = i.getAttribute(FamilyTree.attr.node_id);\n            return void this.toggleExpandCollapse(d, t)\n        }\n    }\n},FamilyTree.events.on(\"redraw\", (function (e, t) {\n    e.config.keyNavigation && FamilyTree._keyNavigation(e)\n})),FamilyTree.events.on(\"click\", (function (e, t) {\n    e.config && e.config.keyNavigation && (e._keyNavigationActiveNodeId = t.node.id, e.center(t.node.id))\n})),FamilyTree._keyNavigation = function (e) {\n    var t = e.element.querySelector(\":focus\");\n    if (t && t.parentElement && t.parentElement.hasAttribute(FamilyTree.attr.node_id)) {\n        var i = t.parentElement;\n        (a = (r = t).querySelector(\"title\")) && a.parentNode.removeChild(a), r.removeAttribute(\"tabindex\")\n    }\n    if (!FamilyTree.isNEU(e._keyNavigationActiveNodeId) && ((i = e.getNodeElement(e._keyNavigationActiveNodeId)) && i.children.length)) {\n        var r;\n        (r = i.children[0]).setAttribute(\"tabindex\", 2);\n        var a, n = {text: \"\", id: e._keyNavigationActiveNodeId};\n        if (FamilyTree.events.publish(\"screen-reader-text\", [e, n]), !FamilyTree.isNEU(n.text)) (a = document.createElementNS(\"http://www.w3.org/2000/svg\", \"title\")).innerHTML = n.text, r.appendChild(a);\n        FamilyTree.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE && e.searchUI.hide(), r.focus()\n    }\n},FamilyTree.elements = {},FamilyTree.elements.textbox = function (e, t, i, r) {\n    var a = FamilyTree.elements._vidrf(e, t, r);\n    if (a.doNotRender) return {html: \"\"};\n    var n = \"\";\n    return t.btn && (n = `<a href=\"#\" data-input-btn=\"\" class=\"bft-link bft-link-bft-button\">${t.btn}</a>`), {\n        html: `<div class=\"bft-form-field\" style=\"min-width: ${i};\">\\n                    <div class=\"bft-input\" data-bft-input=\"\" ${a.disabledAttribute} ${a.vlidators}>\\n                        <label for=\"${a.id}\">${FamilyTree._escapeGreaterLessSign(a.label)}</label>\\n                        <input ${a.readOnlyAttribute} data-binding=\"${FamilyTree._escapeDoubleQuotes(a.binding)}\" maxlength=\"256\" id=\"${a.id}\" name=\"${a.id}\" type=\"text\" value=\"${FamilyTree._escapeDoubleQuotes(a.value)}\" autocomplete=\"off\">\\n                        ${n}\\n                    </div>\\n                </div>`,\n        id: a.id,\n        value: a.value\n    }\n},FamilyTree.elements.checkbox = function (e, t, i, r) {\n    var a = FamilyTree.elements._vidrf(e, t, r);\n    if (a.doNotRender) return {html: \"\"};\n    var n = a.value ? \"checked\" : \"\", o = r ? 'onclick=\"return false;\"' : \"\";\n    return {\n        html: `<div class=\"bft-form-field\"  style=\"min-width: ${i};\" >\\n                        <label class=\"bft-checkbox\" data-bft-input=\"\" ${a.disabledAttribute}>\\n                            <input ${n} ${o} data-binding=\"${FamilyTree._escapeDoubleQuotes(a.binding)}\" type=\"checkbox\"><span class=\"bft-checkbox-checkmark\" type=\"checkbox\"></span>${FamilyTree._escapeGreaterLessSign(a.label)}\\n                        </label>\\n                    </div>`,\n        id: a.id,\n        value: n\n    }\n},FamilyTree.elements.select = function (e, t, i, r) {\n    if (r) return FamilyTree.elements.textbox(e, t, i, r);\n    var a = FamilyTree.elements._vidrf(e, t, r);\n    return a.doNotRender ? {html: \"\"} : {\n        html: `<div class=\"bft-form-field\" style=\"min-width: ${i};\">\\n                    <div class=\"bft-input\" data-bft-input=\"\" ${a.disabledAttribute} ${a.vlidators}>\\n                        <label for=\"${a.id}\">${FamilyTree._escapeGreaterLessSign(a.label)}</label>\\n                        <select data-binding=\"${FamilyTree._escapeDoubleQuotes(a.binding)}\" ${a.readOnlyAttribute} id=\"${a.id}\" name=\"${a.id}\">\\n                            ${function () {\n            for (var e = \"\", t = 0; t < a.options.length; t++) {\n                var i = a.options[t];\n                e += `<option ${i.value == a.value ? \"selected\" : \"\"} value=\"${FamilyTree._escapeDoubleQuotes(i.value)}\">${FamilyTree._escapeGreaterLessSign(i.text)}</option>`\n            }\n            return e\n        }()}                           \\n                        </select>\\n                    </div>\\n                </div>`,\n        id: a.id,\n        value: a.value\n    }\n},FamilyTree.elements.date = function (e, t, i, r) {\n    var a = FamilyTree.elements._vidrf(e, t, r);\n    return a.doNotRender ? {html: \"\"} : {\n        html: `<div class=\"bft-form-field\" style=\"min-width: ${i};\">\\n                    <div class=\"bft-input\" data-bft-input=\"\" ${a.disabledAttribute} ${a.vlidators}>\\n                        <label for=\"${a.id}\" class=\"hasval\">${FamilyTree._escapeGreaterLessSign(a.label)}</label>\\n                        <input data-binding=\"${FamilyTree._escapeDoubleQuotes(a.binding)}\" ${a.readOnlyAttribute} maxlength=\"256\" id=\"${a.id}\" name=\"${a.id}\" type=\"date\" value=\"${FamilyTree._escapeDoubleQuotes(a.value)}\" autocomplete=\"off\">\\n                    </div>\\n                </div>`,\n        id: a.id,\n        value: a.value\n    }\n},FamilyTree.elements._vidrf = function (e, t, i) {\n    var r = {};\n    if (t.binding || (t.binding = \"\"), t.label || (t.label = \"\"), \"select\" != t.type || Array.isArray(t.options) ? r.options = t.options : r.options = [], r.value = e && !FamilyTree.isNEU(e[t.binding]) ? e[t.binding] : \"\", i && r.options) for (var a = 0; a < r.options.length; a++) if (r.options[a].value == r.value) {\n        r.value = r.options[a].text;\n        break\n    }\n    if (r.id = FamilyTree.elements.generateId(), r.disabledAttribute = i ? \"data-bft-input-disabled\" : \"\", r.readOnlyAttribute = i ? \"readonly\" : \"\", r.id = r.id, i && FamilyTree.isNEU(r.value) && (r.doNotRender = !0), i && \"photo\" == t.binding && (r.id = null, r.doNotRender = !0), r.binding = t.binding, r.label = t.label, r.vlidators = \"\", t.vlidators) for (var n in t.vlidators) r.vlidators += `data-v-${n}=\"${t.vlidators[n]}\" `;\n    return r\n},FamilyTree.elements.ids = [],FamilyTree.elements.generateId = function () {\n    for (; ;) {\n        var e = \"_\" + (\"0000\" + (Math.random() * Math.pow(36, 4) | 0).toString(36)).slice(-4);\n        if (!FamilyTree.elements.ids.has(e)) return FamilyTree.elements.ids.push(e), e\n    }\n},FamilyTree.input = {},FamilyTree.input._timeout = null,FamilyTree.input.initWithTimeout = function () {\n    FamilyTree.input._timeout && (clearTimeout(FamilyTree.input._timeout), FamilyTree.input._timeout = null), FamilyTree.input._timeout = setTimeout(FamilyTree.input.init, 200)\n},FamilyTree.input.init = function (e) {\n    var t;\n    t = e ? e.querySelectorAll(\"[data-bft-input]\") : document.querySelectorAll(\"[data-bft-input]\");\n    for (var i = 0; i < t.length; i++) {\n        var r = t[i], a = null;\n        r.type && \"hidden\" == r.type.toLowerCase() && (a = r), a || (a = r.querySelector(\"input\")), a || (a = r.querySelector(\"select\"));\n        var n = r.querySelector(\"label\");\n        n && (a.value || \"select-one\" == a.type && a.selectedOptions && a.selectedOptions.length && \"\" == a.selectedOptions[0].value && a.selectedOptions[0].innerHTML) && n.classList.add(\"hasval\"), \"checkbox\" != a.type.toLowerCase() && a.addEventListener(\"focus\", (function () {\n            this.classList.remove(\"bft-validation-error\");\n            var e = this.parentNode.querySelector(\"label\");\n            e.classList.add(\"focused\");\n            var t = e.querySelector(\".bft-validation-error-message\");\n            t && t.parentNode.removeChild(t)\n        })), \"checkbox\" != a.type.toLowerCase() && a.addEventListener(\"blur\", (function () {\n            FamilyTree.input.blurHandler(this)\n        }))\n    }\n},FamilyTree.input.blurHandler = function (e) {\n    var t = e.parentNode.querySelector(\"label\");\n    t.classList.remove(\"focused\"), e.value || \"date\" == e.type ? t.classList.add(\"hasval\") : t.classList.remove(\"hasval\")\n},FamilyTree.input.validate = function (e) {\n    var t = null;\n    e.type && \"hidden\" == e.type.toLowerCase() && (t = e), t || (t = e.querySelector(\"input\")), t || (t = e.querySelector(\"select\"));\n    var i = e.querySelector(\"label\");\n    if (t.classList.remove(\"bft-validation-error\"), i) {\n        var r = i.querySelector(\".bft-validation-error-message\");\n        r && r.parentNode.removeChild(r)\n    }\n    t.value && (t.value = t.value.trim());\n    var a = e.getAttribute(\"data-v-required\"), n = e.getAttribute(\"data-v-password\"),\n        o = e.getAttribute(\"data-v-email\"), l = e.getAttribute(\"data-v-emails\");\n    return a && \"\" == t.value ? (i.innerHTML += '<span class=\"bft-validation-error-message\">&nbsp;' + a + \"</span>\", t.classList.add(\"bft-validation-error\"), !1) : n && !FamilyTree.input.validatePassword(t.value) ? (i.innerHTML += '<span class=\"bft-validation-error-message\">&nbsp;' + n + \"</span>\", t.classList.add(\"bft-validation-error\"), !1) : o && !FamilyTree.input.isValidEmail(t.value) ? (i.innerHTML += '<span class=\"bft-validation-error-message\">&nbsp;' + o + \"</span>\", t.classList.add(\"bft-validation-error\"), !1) : !(l && !FamilyTree.input.isValidEmails(t.value)) || (i.innerHTML += '<span class=\"bft-validation-error-message\">&nbsp;' + l + \"</span>\", t.classList.add(\"bft-validation-error\"), !1)\n},FamilyTree.input.validateAndGetData = function (e) {\n    for (var t = e.querySelectorAll(\"[data-bft-input]\"), i = !0, r = 0; r < t.length; r++) {\n        var a = t[r];\n        FamilyTree.input.validate(a) || (i = !1)\n    }\n    if (!i) return !1;\n    var n = e.querySelectorAll(\"[data-binding]\"), o = {};\n    for (r = 0; r < n.length; r++) {\n        var l = n[r], s = l.getAttribute(\"data-binding\");\n        \"checkbox\" == l.type.toLowerCase() ? o[s] = l.checked : o[s] = l.value\n    }\n    return o\n},FamilyTree.input.validatePassword = function (e) {\n    return e && (e = e.trim()), !(e.length < 5) && (!(e.length > 18) && -1 == e.indexOf(\" \"))\n},FamilyTree.input.isValidEmails = function (e) {\n    if (e) for (var t = e.split(\",\"), i = 0; i < t.length; i++) {\n        var r = t[i].trim();\n        if (!FamilyTree.input.isValidEmail(r)) return !1\n    }\n    return !0\n},FamilyTree.input.isValidEmail = function (e) {\n    e && (e = e.trim());\n    return /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())\n},FamilyTree.prototype.hideTreeMenu = function (e, t) {\n    if (this._tree_menu_temp) {\n        var i = this._tree_menu_temp;\n        if (this.manager.oldNodes = this.nodes, this.nodes = i.nodes, this.manager.maxX = i.maxX, this.manager.maxY = i.maxY, this.manager.minX = i.minX, this.manager.minY = i.minY, this.manager.roots = i.roots, this.manager.nodes = i.nodes, this.manager.rootList = i.rootList, this.manager.visibleNodeIds = i.visibleNodeIds, this.manager.bordersByRootIdAndLevel = i.bordersByRootIdAndLevel, this.config.roots = i.config.roots, this.config.nodes = i.config.nodes, this._tree_menu_temp = null, e) {\n            var r = {id: i.id, animFromClickedNode: !1};\n            this._draw(!0, FamilyTree.action.update, r, (function () {\n                t && t()\n            }))\n        }\n    }\n},FamilyTree.prototype.showTreeMenu = function (e) {\n    this.editUI.hide(), null == e && console.error(\"Call addNode without id\");\n    var t = this.getNode(e);\n    t || console.error(\"Cannot get node id: \" + e);\n    var i = this.getNode(t.fid), r = this.getNode(t.mid), a = null, n = null, o = [], l = [];\n    i && (a = this.get(i.id)), r && (n = this.get(r.id));\n    for (var s = 0; s < t.pids.length; s++) {\n        var d = this.get(t.pids[s]);\n        d && o.push(d)\n    }\n    for (s = 0; s < t.ftChildrenIds.length; s++) l.push(this.get(t.ftChildrenIds[s]));\n    var c = this.get(e);\n    this._tree_menu_temp = {\n        maxX: this.manager.maxX,\n        maxY: this.manager.maxY,\n        minX: this.manager.minX,\n        minY: this.manager.minY,\n        roots: this.manager.roots,\n        nodes: this.manager.nodes,\n        rootList: this.manager.rootList,\n        visibleNodeIds: this.manager.visibleNodeIds,\n        bordersByRootIdAndLevel: this.manager.bordersByRootIdAndLevel,\n        id: e,\n        config: {roots: this.config.roots, nodes: this.config.nodes}\n    }, this.config.nodes = [];\n    var m = [];\n    if (n) m.push(n); else {\n        var p = {\n            id: \"_ft_mother\",\n            templateName: \"mother\",\n            _ft_method: \"addParentNode\",\n            _ft_childId: e,\n            _ft_type: \"mid\",\n            _ft_data: {gender: \"female\"}\n        };\n        c.mid = p.id, a ? (a.pids = [p.id], p.pids = [a.id], p._ft_data.pids = [a.id]) : p.pids = [\"_ft_father\"], m.push(p)\n    }\n    if (a) m.push(a); else {\n        var h = {\n            id: \"_ft_father\",\n            templateName: \"father\",\n            _ft_method: \"addParentNode\",\n            _ft_childId: e,\n            _ft_type: \"fid\",\n            _ft_data: {gender: \"male\"}\n        };\n        c.fid = h.id, n ? (n.pids = [h.id], h.pids = [n.id], h._ft_data.pids = [n.id]) : h.pids = [\"_ft_mother\"], m.push(h)\n    }\n    for (s = 0; s < o.length; s++) m.push(o[s]);\n    c.pids || (c.pids = []);\n    var f = {\n        id: \"_ft_partner\",\n        pids: [e],\n        templateName: \"partner\",\n        _ft_method: \"addPartnerNode\",\n        _ft_data: {pids: [e]}\n    };\n    if (\"male\" == c.gender ? (f.templateName = \"wife\", f._ft_data.gender = \"female\") : \"female\" == c.gender && (f.templateName = \"husband\", f._ft_data.gender = \"male\"), c.pids.push(f.id), m.push(f), c.pids) for (s = 0; s < c.pids.length; s++) {\n        if (m.push({\n            id: \"_ft_child_group_\" + s,\n            mid: e,\n            fid: c.pids[s],\n            tags: [\"children-group\"]\n        }), \"_ft_partner\" == c.pids[s]) {\n            var u = {\n                id: \"_ft_son_\" + s,\n                stpid: \"_ft_child_group_\" + s,\n                templateName: \"son\",\n                _ft_method: \"addChildAndPartnerNodes\",\n                _ft_childData: {mid: t.id, fid: f.id, gender: \"male\"},\n                _ft_partnerData: {pids: [e]},\n                _ft_id: e\n            }, y = {\n                id: \"_ft_daughter_\" + s,\n                stpid: \"_ft_child_group_\" + s,\n                templateName: \"daughter\",\n                _ft_method: \"addChildAndPartnerNodes\",\n                _ft_childData: {mid: t.id, fid: f.id, gender: \"female\"},\n                _ft_partnerData: {pids: [e]},\n                _ft_id: e\n            };\n            \"male\" == c.gender && \"female\" == f._ft_data.gender ? (u._ft_childData.mid = f.id, u._ft_childData.fid = c.id, u._ft_partnerData.gender = f._ft_data.gender, y._ft_childData.mid = f.id, y._ft_childData.fid = c.id, y._ft_partnerData.gender = f._ft_data.gender) : \"female\" == c.gender && \"male\" == f._ft_data.gender && (u._ft_childData.mid = c.id, u._ft_childData.fid = f.id, u._ft_partnerData.gender = f._ft_data.gender, y._ft_childData.mid = c.id, y._ft_childData.fid = f.id, y._ft_partnerData.gender = f._ft_data.gender), m.push(u), m.push(y)\n        } else m.push({\n            id: \"_ft_son_\" + s,\n            stpid: \"_ft_child_group_\" + s,\n            templateName: \"son\",\n            _ft_method: \"addChildNode\",\n            _ft_data: {mid: e, fid: c.pids[s], gender: \"male\"}\n        }), m.push({\n            id: \"_ft_daughter_\" + s,\n            stpid: \"_ft_child_group_\" + s,\n            templateName: \"daughter\",\n            _ft_method: \"addChildNode\",\n            _ft_data: {mid: e, fid: c.pids[s], gender: \"female\"}\n        });\n        for (var g = 0; g < l.length; g++) l[g].mid != c.pids[s] && l[g].fid != c.pids[s] || (l[g].mid = void 0, l[g].fid = void 0, l[g].stpid = \"_ft_child_group_\" + s, m.push(l[g]))\n    }\n    var v = [];\n    for (g = 0; g < l.length; g++) (l[g].fid == c.id && FamilyTree.isNEU(l[g].mid) || l[g].mid == c.id && FamilyTree.isNEU(l[g].fid)) && (l[g].fid == c.id ? l[g].mid = \"_ft_partner_for_single_child\" : l[g].mid == c.id && (l[g].fid = \"_ft_partner_for_single_child\"), m.push(l[g]), v.push(l[g].id));\n    if (v.length) {\n        var T = {\n            id: \"_ft_partner_for_single_child\",\n            pids: [e],\n            templateName: \"partner\",\n            _ft_method: \"addPartnerAndParentNodes\",\n            _ft_childIds: v,\n            _ft_partnerData: {pids: [e]},\n            _ft_id: e\n        };\n        \"male\" == c.gender ? (T.templateName = \"wife\", T._ft_partnerData.gender = \"female\") : \"female\" == c.gender && (T.templateName = \"husband\", T._ft_partnerData.gender = \"male\"), c.pids.push(T.id), m.push(T)\n    }\n    var b = {nodes: m, node: c};\n    FamilyTree.events.publish(\"node-tree-menu-show\", [this, b]), b.nodes.push(b.node), this.config.nodes = b.nodes, c = this.get(e);\n    var F = this;\n    FamilyTree.isNEU(c.mid) ? FamilyTree.isNEU(c.fid) || (this.config.roots = [c.fid]) : this.config.roots = [c.mid];\n    var x = {id: e, treeMenuMode: !0};\n    this._draw(!1, FamilyTree.action.update, x, (function () {\n        FamilyTree._moveToBoundaryArea(F.getSvg(), F.getViewBox(), F.response.boundary)\n    }))\n},FamilyTree.ui.css = function () {\n    return '<style data-bft-styles>.bft-button{background-color:#039be5;cursor:pointer;width:calc(100%);height:50px;color:#fff;padding-top:5px;padding-left:7px;padding-right:7px;text-align:center;text-transform:uppercase;border:1px solid #3fc0ff;display:inline-block;border-radius:5px}.bft-button.orange{background-color:#f57c00;border:1px solid #ffa03e}.bft-button.yellow{background-color:#ffca28;border:1px solid #ffdf7c}.bft-button.lower{text-transform:unset}.bft-button.transparent{background-color:transparent}.bft-button:hover{background-color:#35afea}.bft-button.orange:hover{background-color:#f79632}.bft-button.yellow:hover{background-color:#ffd452}.bft-button:active{transform:matrix(.98,0,0,.98,0,0)}.bft-button-icon{text-align:initial;cursor:pointer;margin-bottom:15px;color:#039be5}.bft-dark .bft-button-icon:hover{background-color:#2d2d2d}.bft-light .bft-button-icon:hover{background-color:#ececec}.bft-button-icon>img{height:24px;width:24px;vertical-align:middle;padding:7px}.bft-button:focus{outline:0}.bft-button-icon>img{filter:invert(46%) sepia(66%) saturate(2530%) hue-rotate(171deg) brightness(95%) contrast(98%)}.bft-light .bft-button.transparent{color:#039be5}.bft-light .bft-button.transparent:hover{color:#fff}.bft-button-loading{background-color:transparent;cursor:pointer;width:calc(100% - 2px);height:50px;color:#fff;text-align:center;text-transform:uppercase;border:1px solid #027cb7;display:inline-block;display:flex;justify-content:center;align-items:center;display:none}.bft-button-loading .bft-loading-dots div{margin:0 10px}.bft-link-bft-button{position:absolute;right:10px;top:-1px}@media screen and (max-width:1000px){.bft-link-bft-button{right:50px}}[data-bft-input-disabled] .bft-link-bft-button{display:none}[dir=rtl] .bft-link-bft-button{left:10px;right:unset}.bft-img-button{width:48px;height:48px;cursor:pointer;border-radius:50%;background-color:#039be5;background-repeat:no-repeat;background-size:24px 24px;background-position:center center;margin:3px;display:inline-block}.bft-img-button:hover{background-color:#f57c00}.bft-checkbox{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}.bft-checkbox input{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.bft-checkbox-checkmark{position:absolute;top:0;left:0;height:25px;width:25px;border-radius:5px}.bft-dark [data-bft-input-disabled] .bft-checkbox-checkmark,.bft-dark [data-bft-input-disabled].bft-checkbox input:checked~.bft-checkbox-checkmark,.bft-light [data-bft-input-disabled] .bft-checkbox-checkmark,.bft-light [data-bft-input-disabled].bft-checkbox input:checked~.bft-checkbox-checkmark{background-color:#aeaeae!important}[data-bft-input-disabled].bft-checkbox{cursor:default}[dir=rtl] .bft-checkbox-checkmark{right:0}[dir=rtl] .bft-checkbox{padding-left:unset;padding-right:35px}.bft-dark .bft-checkbox-checkmark{background-color:#333;border:1px solid #5b5b5b}.bft-light .bft-checkbox-checkmark{background-color:#fff;border:1px solid #c7c7c7}.bft-dark .bft-checkbox:hover input~.bft-checkbox-checkmark{background-color:#3c3c3c}.bft-light .bft-checkbox:hover input~.bft-checkbox-checkmark{background-color:#f8f9f9}.bft-dark .bft-checkbox input:checked~.bft-checkbox-checkmark{background-color:#039be5}.bft-light .bft-checkbox input:checked~.bft-checkbox-checkmark{background-color:#039be5}.bft-checkbox-checkmark:after{content:\"\";position:absolute;display:none}.bft-checkbox input:checked~.bft-checkbox-checkmark:after{display:block}.bft-checkbox .bft-checkbox-checkmark:after{left:9px;top:5px;width:5px;height:10px;border:solid #fff;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.bft-filter{user-select:none}.bft-light .bft-filter{color:#757575}.bft-dark .bft-filter{color:#ccc}.bft-filter>div>div{display:inline-block;padding:3px 10px;cursor:pointer}.bft-filter-menu fieldset,.bft-filter>div,.filter-field-selected{border-radius:5px}.bft-filter-menu fieldset{overflow-y:auto;max-height:300px}.bft-filter>div.bft-filter-menu{padding:10px}.bft-light .bft-filter>div.bft-filter-menu,.bft-light .filter-field-selected{background-color:#f8f9f9}.bft-dark .bft-filter>div.bft-filter-menu,.bft-dark .filter-field-selected{background-color:#3c3c3c}.bft-light .bft-filter>div{background-color:#eee}.bft-dark .bft-filter>div{background-color:#333}.bft-form-perspective{transform-style:preserve-3d;perspective:500px;position:absolute;top:32px}.bft-form{box-shadow:rgba(0,0,0,.2) 0 6px 6px 0,rgba(0,0,0,.19) 0 13px 20px 0;padding:14px;transform-origin:top center;user-select:none;display:none;position:relative;max-height:calc(100vh - 100px);overflow-y:auto;border-bottom-left-radius:5px;border-bottom-right-radius:5px}.bft-form-bottom{border-bottom-left-radius:unset;border-bottom-right-radius:unset;border-top-left-radius:5px;border-top-right-radius:5px}.bft-form .separator{margin:0 10px}@media screen and (max-width:1000px){.bft-form-perspective{min-width:100%;max-height:calc(100% - 32px);left:unset!important;right:unset!important;transform:none!important}.bft-form .set{max-height:calc(100vh - 74px)}.bft-form-fieldset{max-width:unset!important}}.bft-light .bft-form .separator{border-bottom:1px solid #c7c7c7}.bft-dark .bft-form .separator{border-bottom:1px solid #5b5b5b}.bft-light .bft-form{background-color:#fff}.bft-dark .bft-form{background-color:#252526}.bft-item{padding:6px 12px 6px 12px;display:flex;flex-direction:row}.bft-light .bft-form .bft-item.selected,.bft-light .bft-form .bft-item:hover{background-color:#0074e8;color:#fff}.bft-dark .bft-form .bft-item.selected,.bft-dark .bft-form .bft-item:hover{background-color:#094771;color:#fff}.bft-item.selected img,.bft-item:hover img{filter:invert(100%)}.bft-item.selected img{visibility:visible!important}.bft-form-fieldset{display:flex;flex-wrap:wrap;margin:0!important}.bft-form-field{flex:1 0 21%;margin:3px;min-width:200px}.bft-form-field-100{flex:1 0 96%;margin:3px;min-width:200px}.bft-input{position:relative}.bft-input>input,.bft-input>select{height:50px;padding:18px 10px 2px 9px;width:100%;box-sizing:border-box;border-style:solid;border-width:1px}.bft-input select{height:50px;padding:20px 5px 4px 5px}[data-bft-input-disabled].bft-input>input,[data-bft-input-disabled].bft-input>select{border-color:transparent!important}.bft-light [data-bft-input-disabled]>input,.bft-light [data-bft-input-disabled]>select{background-color:#fff!important}.bft-dark [data-bft-input-disabled]>input,.bft-dark [data-bft-input-disabled]>select{background-color:#252526!important}[data-bft-input-disabled]>select{appearance:none;padding-left:8px}.bft-input>label{display:inline-block;position:absolute;padding-left:10px;padding-right:10px;color:#acacac;cursor:text;-webkit-transition:all .1s ease-out;-moz-transition:all .1s ease-out;-ms-transition:all .1s ease-out;-o-transition:all .1s ease-out;transition:all .1 ease-out;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:initial;text-align:initial;white-space:nowrap}.bft-input>label{top:12px;overflow:hidden;text-overflow:ellipsis;max-width:calc(100% - 14px)}.bft-input>label.focused,.bft-input>label.hasval{top:-1px}.bft-input>input,.bft-input>select{outline:0;border-radius:5px}.bft-dark .bft-input>label.focused,.bft-light .bft-input>label.focused{color:#039be5}.bft-dark .bft-input>input,.bft-dark .bft-input>select{color:#ccc;background-color:#333;border-color:#5b5b5b}.bft-light .bft-input>input,.bft-light .bft-input>select{color:#757575;background-color:#fff;border-color:#c7c7c7}.bft-light .bft-input>input:focus,.bft-light .bft-input>select:focus{border-color:#039be5;background-color:#f8f9f9}.bft-dark .bft-input>input:focus,.bft-dark .bft-input>select:focus{border-color:#039be5;background-color:#3c3c3c}.bft-dark .bft-input>input.bft-validation-error,.bft-dark .bft-input>select.bft-validation-error,.bft-light .bft-input>input.bft-validation-error,.bft-light .bft-input>select.bft-validation-error{border-color:#ca2a2a}.bft-dark .bft-validation-error-message,.bft-light .bft-validation-error-message{color:#ca2a2a}.bft-link{color:#039be5;cursor:pointer;text-decoration:underline}.bft-link:hover{color:#f57c00}.bft-dark ::-webkit-scrollbar,.bft-light ::-webkit-scrollbar{width:15px;height:15px}.bft-dark ::-webkit-scrollbar-corner{background:#1e1e1e}.bft-dark ::-webkit-scrollbar-track{background:#1e1e1e;border-left:1px solid #333;border-top:1px solid #333}.bft-dark ::-webkit-scrollbar-thumb{background:#424242}.bft-dark ::-webkit-scrollbar-thumb:hover{background:#4f4f4f}.bft-dark ::-webkit-scrollbar-thumb:active{background:#5e5e5e}.bft-light ::-webkit-scrollbar-corner{background:#fff}.bft-light ::-webkit-scrollbar-track{background:#fff;border-left:1px solid #ddd;border-top:1px solid #ddd}.bft-light ::-webkit-scrollbar-thumb{background:#c1c1c1}.bft-light ::-webkit-scrollbar-thumb:hover{background:#929292}.bft-light ::-webkit-scrollbar-thumb:active{background:#666}.bft-edit-form{position:fixed;top:0;right:0;height:100%;width:100%;box-shadow:rgba(0,0,0,.2) 0 6px 6px 0,rgba(0,0,0,.19) 0 13px 20px 0;display:flex;flex-direction:column;height:100%;width:400px}@media screen and (max-width:1000px){.bft-edit-form{width:100%}}.bft-dark .bft-edit-form{background-color:#252526}.bft-light .bft-edit-form{background-color:#fff}.bft-edit-form-header{height:200px;text-align:center;border-radius:10px}.export-service .bft-edit-form-header{border-radius:unset}.bft-edit-form-title{color:#fff;margin:0;padding:14px 17px 7px 17px}.bft-edit-form-avatar{border-radius:50%;width:150px;height:150px;position:absolute;top:75px;border:5px solid #fff;left:50%;transform:translateX(-50%);background-color:#cacaca;box-shadow:rgba(0,0,0,.2) 0 6px 6px 0,rgba(0,0,0,.19) 0 13px 20px 0}.bft-edit-form-close{position:absolute;right:14px;top:14px;width:34px;height:34px;cursor:pointer}.bft-edit-form-fields{flex-grow:1;overflow-y:auto;overflow-x:hidden}.bft-edit-form-fields-inner{margin:0 7px 20px 7px}.bft-family-menu{opacity:0;display:inline-block;position:absolute;text-align:left;user-select:none;min-width:270px;box-shadow:rgba(0,0,0,.2) 0 4px 8px 0,rgba(0,0,0,.19) 0 6px 20px 0;font:13px/28px Helvetica,\"Segoe UI\",Arial,sans-serif;border-radius:10px}.bft-family-menu>div:hover img{filter:invert(100%)}.bft-family-menu [data-item]{text-align:start;padding:7px 10px}.bft-dark .bft-family-menu [data-item]{background-color:#252526;color:#acacac;border-bottom:1px solid #333}.bft-dark .bft-family-menu [data-item]:hover{background-color:#094771!important;color:#fff!important}.bft-dark .bft-family-menu [data-item]:hover svg{filter:brightness(0) invert(1)}.bft-light .bft-family-menu [data-item]{background-color:#fff;color:#333;border-bottom:1px solid #c7c7c7}.bft-light .bft-family-menu [data-item]:hover{background-color:#0074e8!important;color:#fff!important}.bft-light .bft-family-menu [data-item]:hover svg{filter:brightness(0) invert(1)}.bft-family-menu [data-item] svg{vertical-align:middle}.bft-family-menu [data-item]:first-child{border-top-left-radius:7px;border-top-right-radius:7px}.bft-family-menu [data-item]:last-child{border-bottom-width:0;border-bottom-style:none;border-bottom-left-radius:7px;border-bottom-right-radius:7px}.bft-search{position:absolute}@media screen and (max-width:500px){.bft-search{width:calc(100% - 30px);left:15px}}.bft-search .bft-input{margin-bottom:0}.bft-search-input{color:#7a7a7a;width:100%;border:none;outline:0;padding-top:10px;padding-right:47px}.bft-search-image-td{width:43px}.bft-search-text-td{padding-inline-end:7px;line-height:15px;text-align:start}.bft-search table{box-shadow:rgba(0,0,0,.2) 0 4px 8px 0,rgba(0,0,0,.19) 0 6px 20px 0;margin:0 3.5px 0 3.5px;width:calc(100% - 7px);border-radius:7px}.bft-search table tr:first-child td:first-child{border-top-left-radius:7px}.bft-search table tr:first-child td:last-child{border-top-right-radius:7px}[dir=rtl] .bft-search table tr:first-child td:first-child{border-top-left-radius:unset;border-top-right-radius:7px}[dir=rtl] .bft-search table tr:first-child td:last-child{border-top-right-radius:unset;border-top-left-radius:7px}.bft-search table tr:last-child td:first-child{border-bottom-left-radius:7px}.bft-search table tr:last-child td:last-child{border-bottom-right-radius:7px}[dir=rtl] .bft-search table tr:last-child td:first-child{border-bottom-left-radius:unset;border-bottom-right-radius:7px}[dir=rtl] .bft-search table tr:last-child td:last-child{border-bottom-right-radius:unset;border-bottom-left-radius:7px}.bft-dark .bft-search table{background-color:#252526;color:#acacac}.bft-search [data-search-item-id]{cursor:pointer}.bft-search-photo{margin:7px 7px 0 7px;width:32px;height:32px;background-size:cover;background-position:top center;border-radius:50%;display:inline-block;border:1px solid #8c8c8c}.bft-search [data-search-item-id]:hover .bft-link{color:#ffca28}.bft-search [data-search-item-id]:hover .bft-link:hover{color:#f57c00}.bft-dark .bft-search [data-search-item-id] td{border-top:1px solid #333}.bft-dark .bft-search [data-search-item-id]:hover,.bft-dark .bft-search [data-selected=yes]{background-color:#094771;color:#fff}.bft-light .bft-search table{background-color:#fff;color:#333}.bft-light .bft-search [data-search-item-id] td{border-top:1px solid #c7c7c7}.bft-light .bft-search [data-search-item-id]:hover,.bft-light .bft-search [data-selected=yes]{background-color:#0074e8;color:#fff}.bft-search [data-search-item-id]:first-child td{border-top:unset}.bft-ripple-container{position:absolute;top:0;right:0;bottom:0;left:0}.bft-drag-over rect{opacity:.5}.bft-ripple-container span{transform:scale(0);border-radius:100%;position:absolute;opacity:.75;background-color:#fff;animation:bft-ripple 1s}@-moz-keyframes bft-ripple{to{opacity:0;transform:scale(2)}}@-webkit-keyframes bft-ripple{to{opacity:0;transform:scale(2)}}@-o-keyframes bft-ripple{to{opacity:0;transform:scale(2)}}@keyframes bft-ripple{to{opacity:0;transform:scale(2)}}.bft-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;-webkit-transition:.4s;transition:.4s}.bft-slider:before{position:absolute;content:\"\";height:16px;width:16px;left:4px;bottom:4px;background-color:#fff;-webkit-transition:.4s;transition:.4s}.bft-slider.round{border-radius:24px}.bft-slider.round:before{border-radius:50%}svg text:hover{cursor:default}svg.bft-cursor-grab,svg.bft-cursor-grab text:hover{cursor:grab}svg.bft-cursor-nodrop,svg.bft-cursor-nodrop text:hover{cursor:no-drop}svg.bft-cursor-copy,svg.bft-cursor-copy text:hover{cursor:copy}svg.bft-cursor-move,svg.bft-cursor-move text:hover{cursor:move}#bft-close-btn:focus,#bft-close-btn:hover{color:#000;text-decoration:none;cursor:pointer}#bft-id-select:focus{outline:.5px solid #aeaeae}#bft-sampleDialog #title:hover{cursor:default;background:gray}.bft-light{background-color:#fff;font:13px/28px Helvetica,\"Segoe UI\",Arial,sans-serif}.bft-dark{background-color:#1e1e1e;font:13px/28px Helvetica,\"Segoe UI\",Arial,sans-serif}.bft-light .bft-fill{fill:#fff}.bft-dark .bft-fill{fill:#1e1e1e}.bft-dark input,.bft-dark select,.bft-light input,.bft-light select{font:16px Helvetica,\"Segoe UI\",Arial,sans-serif}.bft-dark h1,.bft-light h1{font-size:30px;line-height:1}.bft-edit-form{position:absolute;border-radius:10px}.export-service .bft-edit-form{border-radius:unset}.bft-dark .bft-edit-form{color:#acacac}.bft-light .bft-edit-form{color:#333}.bft-dark ::-webkit-calendar-picker-indicator{filter:invert(70%)}.bft-light ::-webkit-calendar-picker-indicator{filter:invert(50%)}.bft-edit-form-instruments{margin:42px 10px 0 10px;text-align:center;min-height:70px}.bft-img-button svg{position:relative;top:12px}.bft-light .bft-toolbar-container svg circle,.bft-light .bft-toolbar-container svg line,.bft-light .bft-toolbar-container svg path{stroke:#8c8c8c!important}.bft-dark .bft-toolbar-container svg circle,.bft-dark .bft-toolbar-container svg line,.bft-dark .bft-toolbar-container svg path{stroke:#8c8c8c!important}.bft-dark .bft-toolbar-container svg rect{fill:#252526!important}.bft-dark .bft-toolbar-container [data-tlbr=minus] svg{border-left:1px solid #5b5b5b!important;border-right:1px solid #5b5b5b!important;border-bottom:1px solid #5b5b5b!important}.bft-dark .bft-toolbar-container [data-tlbr=plus] svg{border-left:1px solid #5b5b5b!important;border-right:1px solid #5b5b5b!important;border-top:1px solid #5b5b5b!important}.bft-dark .bft-toolbar-container [data-tlbr]>svg{border:1px solid #5b5b5b!important;background-color:#252526!important}.bft-toolbar-layout{height:123px;padding-top:20px;position:absolute;width:100%;left:\"0\";bottom:\"-145px\"}.bft-light .bft-toolbar-layout{border-top:1px solid #c7c7c7;background-color:#f9f9f9}.bft-dark .bft-toolbar-layout{border-top:1px solid #5b5b5b;background-color:#2b2b2b}.bft-dotted-connector path{stroke-dasharray:7}.bft-undo-redo{position:absolute;top:23px;left:23px}@media screen and (max-width:500px){.bft-undo-redo{position:absolute;top:83px;left:23px}}.bft-light .bft-undo-redo path{fill:#cacaca}.bft-dark .bft-undo-redo path{fill:#5b5b5b}.bft-light .bft-undo-redo .bft-ur-clickable path{fill:#9c9c9c}.bft-dark .bft-undo-redo .bft-ur-clickable path{fill:#8c8c8c}.bft-undo-redo .bft-ur-clickable rect{cursor:pointer}.bft-undo-redo>span{position:relative;display:inline-block;user-select:none}.bft-undo-redo .bft-undo-i{left:-6px;top:-6px}.bft-undo-redo .bft-redo-i{right:-6px;bottom:6px}.bft-undo-redo>span>span{color:#fff;position:absolute;display:inline-block;min-width:20px;min-height:20px;border-radius:50%;line-height:20px;text-align:center;padding:1px;user-select:none;cursor:pointer}.bft-light .bft-undo-redo>span>span{background-color:#9c9c9c}.bft-dark .bft-undo-redo>span>span{background-color:#8c8c8c}</style>'\n},FamilyTree.events.on(\"render\", (function (e, t) {\n    if (e.recentRoots || (e.recentRoots = []), e.config.roots) for (var i = 0; i < e.config.roots.length; i++) {\n        var r = e.recentRoots.indexOf(e.config.roots[i]);\n        -1 != r && e.recentRoots.splice(r, 1), e.recentRoots.unshift(e.config.roots[i])\n    }\n})),FamilyTree.events.on(\"show\", (function (e, t) {\n    if (e instanceof FamilyTree.editUI && e.obj._tree_menu_temp) return !1\n})),FamilyTree.events.on(\"render-link\", (function (e, t) {\n    null != t.cnode.ppid && t.cnode.layout != FamilyTree.mixed && (t.html += '<use xlink:href=\"#dot\" x=\"' + t.p.xa + '\" y=\"' + t.p.ya + '\"/>')\n})),FamilyTree.events.on(\"click\", (function (e, t) {\n    if (e instanceof FamilyTree) {\n        var i = e._get(t.node.id);\n        if (i._ft_method) return \"addParentNode\" == i._ft_method ? e[i._ft_method](i._ft_childId, i._ft_type, i._ft_data, null, !0) : \"addChildAndPartnerNodes\" == i._ft_method ? e[i._ft_method](i._ft_id, i._ft_childData, i._ft_partnerData, null, !0) : \"addPartnerAndParentNodes\" == i._ft_method ? e[i._ft_method](i._ft_id, i._ft_childIds, i._ft_partnerData, null, !0) : e[i._ft_method](i._ft_data, null, !0), !1;\n        for (var r = t.event.target; r;) {\n            if (r.getAttribute && (r.hasAttribute(\"data-ctrl-n-t-menu-id\") || r.hasAttribute(\"data-ctrl-n-t-menu-c\"))) {\n                var a = r.getAttribute(\"data-ctrl-n-t-menu-id\");\n                return FamilyTree.isNEU(a) ? e.hideTreeMenu(!0) : e.showTreeMenu(a), t.event.stopPropagation(), t.event.preventDefault(), !1\n            }\n            r = r.parentNode\n        }\n    }\n})),void 0 === FamilyTree && (FamilyTree = {}),FamilyTree.prototype.onField = function (e) {\n    return this.on(\"field\", (function (t, i) {\n        return e.call(t, i)\n    }))\n},FamilyTree.prototype.onInit = function (e) {\n    return this.on(\"init\", (function (t) {\n        return e.call(t)\n    }))\n},FamilyTree.prototype.onRedraw = function (e) {\n    return this.on(\"redraw\", (function (t) {\n        return e.call(t)\n    }))\n},FamilyTree.prototype.onUpdateNode = function (e) {\n    return this.on(\"update\", (function (t, i, r) {\n        var a = {oldData: i, newData: r};\n        return e.call(t, a)\n    }))\n},FamilyTree.prototype.onUpdated = function (e) {\n    return this.on(\"updated\", (function (t) {\n        return e.call(t)\n    }))\n},FamilyTree.prototype.onRemoveNode = function (e) {\n    return this.on(\"remove\", (function (t, i, r) {\n        var a = {id: i, newPidsAndStpidsForIds: r};\n        return e.call(t, a)\n    }))\n},FamilyTree.prototype.onAddNode = function (e) {\n    return this.on(\"add\", (function (t, i) {\n        var r = {data: i};\n        return e.call(t, r)\n    }))\n},FamilyTree.prototype.onDrop = function (e) {\n    return this.on(\"drop\", (function (t, i, r, a, n) {\n        var o = {dragId: i, dropId: r, dragNodeElement: a, event: n};\n        return e.call(t, o)\n    }))\n},FamilyTree.prototype.onDrag = function (e) {\n    return this.on(\"drag\", (function (t, i, r, a) {\n        var n = {dragId: i, event: r, nodeIds: a};\n        return e.call(t, n)\n    }))\n},FamilyTree.prototype.onExpandCollpaseButtonClick = function (e) {\n    return this.on(\"expcollclick\", (function (t, i, r, a) {\n        var n = {collapsing: i, id: r, ids: a};\n        return e.call(t, n)\n    }))\n},FamilyTree.prototype.onExportStart = function (e) {\n    return this.on(\"exportstart\", (function (t, i) {\n        return e.call(t, i)\n    }))\n},FamilyTree.prototype.onExportEnd = function (e) {\n    return this.on(\"exportend\", (function (t, i) {\n        return e.call(t, i)\n    }))\n},FamilyTree.prototype.onNodeClick = function (e) {\n    return this.on(\"click\", (function (t, i) {\n        return e.call(t, i)\n    }))\n},FamilyTree.prototype.onNodeDoubleClick = function (e) {\n    return this.on(\"dbclick\", (function (t, i) {\n        var r = {data: i};\n        return e.call(t, r)\n    }))\n},FamilyTree.prototype.onUpdateNode = function (e) {\n    return this.on(\"update\", (function (t, i) {\n        return e.call(t, i)\n    }))\n},FamilyTree.prototype.onNodeTreeMenuShow = function (e) {\n    return this.on(\"node-tree-menu-show\", (function (t, i) {\n        return e.call(t, i)\n    }))\n},FamilyTree.prototype.onRemoveNode = null,FamilyTree.prototype.onAddNode = null,FamilyTree.filterUI = function () {\n},FamilyTree.filterUI.prototype.init = function (e) {\n    this.instance = e, this.element = null, this.filterBy = null, this._event_id = FamilyTree._guid()\n},FamilyTree.filterUI.prototype.addFilterTag = function (e) {\n    if (!this.instance.config.filterBy) return !1;\n    if (FamilyTree.isNEU(e)) return !1;\n    if (null !== this.filterBy || \"object\" != typeof this.instance.config.filterBy || Array.isArray(this.instance.config.filterBy) || (this.filterBy = JSON.parse(JSON.stringify(this.instance.config.filterBy))), null != this.filterBy) for (var t in this.filterBy) {\n        var i = e[t];\n        if (null != i) {\n            var r = this.filterBy[t];\n            if (null != r) {\n                var a = r[i];\n                if (null != a && !1 === a.checked) return !0\n            }\n        }\n    }\n    return !1\n},FamilyTree.filterUI.prototype.show = function (e) {\n    var t = this.element.querySelector('[data-filter-field=\"' + e + '\"]');\n    t && t.click()\n},FamilyTree.filterUI.prototype.hide = function () {\n    var e = this.instance.element.querySelector(\"[data-filter-close]\");\n    e && e.click()\n},FamilyTree.filterUI.prototype.update = function () {\n    if (this.instance.config.filterBy) {\n        var e = {};\n        if (\"all\" == this.instance.config.filterBy) for (var t = FamilyTree.manager.getAllFields(this.instance.config), i = 0; i < t.length; i++) {\n            var r = t[i];\n            \"tags\" != r && \"id\" != r && \"pid\" != r && \"ppid\" != r && \"stpid\" != r && (e[r] = {})\n        } else if (Array.isArray(this.instance.config.filterBy)) for (i = 0; i < this.instance.config.filterBy.length; i++) e[this.instance.config.filterBy[i]] = {}; else if (\"object\" == typeof this.instance.config.filterBy) for (var a in this.instance.config.filterBy) e[a] = {};\n        for (var n in e) {\n            var o = e[n];\n            for (i = 0; i < this.instance.config.nodes.length; i++) {\n                var l = this.instance.config.nodes[i][n];\n                null != l && (o[l] || (o[l] = {checked: !0, text: l}))\n            }\n        }\n        if (null != this.filterBy) for (var s in e) if (this.filterBy[s]) for (var d in e[s]) this.filterBy[s][d] && (e[s][d] = this.filterBy[s][d]);\n        this.filterBy = e;\n        var c = this;\n        this.element = this.instance.element.querySelector(\"[data-filter]\"), this.element && this.element.parentNode.removeChild(this.element), this.element = document.createElement(\"div\"), this.element.setAttribute(\"data-filter\", \"\"), this.element.style.position = \"absolute\", this.element.setAttribute(\"class\", \"bft-filter\"), this.instance.config.undoRedoStorageName ? (this.element.style.top = 0, this.element.style.left = \"50%\", this.element.style.transform = \"translate(-50%)\") : (this.element.style.top = this.instance.config.padding + \"px\", this.element.style.left = this.instance.config.padding + \"px\");\n        var m = \"\";\n        for (var s in this.filterBy) {\n            var p = {name: s, html: `<div data-filter-field=\"${s}\">${s}</div>`};\n            FamilyTree.events.publish(\"add-filter\", [c, p]), m += p.html\n        }\n        this.element.innerHTML = `<div>${m}</div>`, this.element.addEventListener(\"click\", (function (e) {\n            if (e.target.hasAttribute(\"data-filter-close\") || e.target.hasAttribute(\"data-filter-field\")) {\n                for (var t = e.target.getAttribute(\"data-filter-field\"), i = c.instance.element.querySelectorAll(\"[data-filter-menu]\"), r = 0; r < i.length; r++) i[r].style.display = \"none\";\n                var a = c.instance.element.querySelectorAll(\".filter-field-selected\");\n                for (r = 0; r < a.length; r++) a[r].classList.remove(\"filter-field-selected\");\n                var n = c.instance.element.querySelector(\"[data-filter-close]\");\n                if (n && n.parentNode.removeChild(n), e.target.hasAttribute(\"data-filter-close\")) return;\n                if (!e.target.hasAttribute(\"data-filter-field\")) return;\n                var o = c.instance.element.querySelector(`[data-filter-menu=\"${t}\"]`);\n                if (!o) {\n                    var l = {\n                        name: t,\n                        text: \"[All]\",\n                        value: t,\n                        checked: !0,\n                        html: `<div>\\n                        <input data-all type=\"checkbox\" id=\"${t}\" name=\"${t}\" checked>\\n                        <label for=\"${t}\">[All]</label>\\n                    </div>`\n                    };\n                    FamilyTree.events.publish(\"add-item\", [c, l]);\n                    var s = l.html;\n                    for (var d in c.filterBy[t]) {\n                        var m = c.filterBy[t][d], p = m.text;\n                        null == p && (p = d), l = {\n                            name: t,\n                            text: p,\n                            value: d,\n                            checked: m.checked,\n                            html: `<div>\\n                            <input  type=\"checkbox\" id=\"${d}\" name=\"${d}\" ${m.checked ? \"checked\" : \"\"}>\\n                            <label for=\"${d}\">${p}</label>\\n                        </div>`\n                        }, FamilyTree.events.publish(\"add-item\", [c, l]), s += l.html\n                    }\n                    (o = document.createElement(\"div\")).innerHTML = `<fieldset>\\n                                                    <legend>Filter by ${t}:</legend>\\n                                                    ${s}\\n                                                </fieldset>`, o.setAttribute(\"data-filter-menu\", t), o.classList.add(\"bft-filter-menu\"), e.target.parentNode.parentNode.appendChild(o);\n                    var h = o.querySelectorAll(\"input\");\n                    for (r = 0; r < h.length; r++) h[r].addEventListener(\"change\", (function (e) {\n                        for (var t = e.target; t && !t.hasAttribute(\"data-filter-menu\");) t = t.parentNode;\n                        if (t) {\n                            var i = t.getAttribute(\"data-filter-menu\");\n                            if (e.target.hasAttribute(\"data-all\")) {\n                                for (var r = e.target.parentNode.parentNode.querySelectorAll(\"input\"), a = 0; a < r.length; a++) if (r[a] != e.target) for (var n in r[a].checked = e.target.checked, c.filterBy[i]) c.filterBy[i][n].checked = e.target.checked\n                            } else if (null != c.filterBy[i][this.name] && (c.filterBy[i][this.name].checked = this.checked), this.checked) for (var o = c.instance.config.nodes, l = 0; l < o.length; l++) if (o[l][i] == this.name) for (var s = o[l]; s;) if (FamilyTree.isNEU(s.stpid)) s = FamilyTree.isNEU(s.pid) ? null : c.instance._get(s.pid); else if ((s = c.instance._get(s.stpid))[i]) {\n                                var d = e.target.parentNode.parentNode.querySelector('[name=\"' + s[i] + '\"]');\n                                d ? (d.checked = this.checked, c.filterBy[i][s[i]].checked = this.checked) : console.error('Cannot find element with selector: [name=\"' + s[i] + '\"]')\n                            }\n                            c.instance.draw()\n                        }\n                    }))\n                }\n                o.style.display = \"block\", e.target.classList.add(\"filter-field-selected\"), (n = document.createElement(\"div\")).classList.add(\"close\"), n.innerHTML = \"x\", n.setAttribute(\"data-filter-close\", \"\"), e.target.parentNode.appendChild(n), FamilyTree.events.publish(\"show-items\", [c, {name: t}])\n            }\n        })), this.instance.element.appendChild(this.element), FamilyTree.events.publish(\"update\", [this, {}])\n    }\n},FamilyTree.filterUI.prototype.on = function (e, t) {\n    return FamilyTree.events.on(e, t, this._event_id), this\n},void 0 === FamilyTree && (FamilyTree = {}),void 0 === FamilyTree.remote && (FamilyTree.remote = {}),FamilyTree.LIMIT_NODES = !0,FamilyTree.remote._fromResDTO = function (e, t, i, r, a) {\n    var n = t[e.id];\n    e.x = n.p[0], e.y = n.p[1], e.w = n.p[2], e.h = n.p[3], null != n.ln && (e.leftNeighbor = a[n.ln]), null != n.rn && (e.rightNeighbor = a[n.rn]);\n    for (var o = 0; o < e.stChildren.length; o++) FamilyTree.remote._fromResDTO(e.stChildren[o], t, i, r, a);\n    for (o = 0; o < e.children.length; o++) FamilyTree.remote._fromResDTO(e.children[o], t, i, r, a)\n},FamilyTree.remote._toReqDTO = function (e, t) {\n    var i = {p: [e.id, null != e.parent ? e.parent.id : null, null != e.stParent ? e.stParent.id : null, e.w, e.h]};\n    e.children.length > 0 && (i.c = FamilyTree.remote._convertToIdArray(e.children)), e.stChildren.length > 0 && (i.v = FamilyTree.remote._convertToIdArray(e.stChildren)), null != e.layout && 0 != e.layout && (i.l = e.layout), e.isAssistant && (i.a = 1), e.isSplit && (i.s = e.isSplit), e.isMirror && (i.im = e.isMirror), e.padding && (i.q = e.padding), e.lcn && (i.k = e.lcn), e.stContainerNodes && (i.b = FamilyTree.remote._convertToIdArray(e.stContainerNodes)), e.isPartner && (i.i = e.isPartner), e.hasPartners && (i.g = e.hasPartners), e.partnerSeparation && (i.e = e.partnerSeparation), t.push(i);\n    for (var r = 0; r < e.stChildren.length; r++) FamilyTree.remote._toReqDTO(e.stChildren[r], t);\n    for (r = 0; r < e.children.length; r++) FamilyTree.remote._toReqDTO(e.children[r], t)\n},FamilyTree.remote._toReqLayoutConfigsDTO = function (e) {\n    var t = {};\n    for (var i in e) {\n        var r = e[i];\n        t[i] || (t[i] = []), t[i][0] = r.orientation, t[i][1] = r.levelSeparation, t[i][2] = r.mixedHierarchyNodesSeparation, t[i][3] = r.subtreeSeparation, t[i][4] = r.siblingSeparation, t[i][5] = r.layout, t[i][6] = r.columns, t[i][7] = r.collapse, t[i][8] = r.assistantSeparation, t[i][9] = r.partnerNodeSeparation\n    }\n    return t\n},FamilyTree.remote._convertToIdArray = function (e) {\n    for (var t = [], i = 0; i < e.length; i++) t.push(e[i].id);\n    return t\n},FamilyTree.remote._setPositions = function (e, t, i, r) {\n    for (var a = [], n = [], o = FamilyTree.remote._toReqLayoutConfigsDTO(t), l = 0; l < e.length; l++) n.push(e[l].id), FamilyTree.remote._toReqDTO(e[l], a);\n    var s = {n: a, c: o, r: n, v: \"8.12.02\"};\n    if (FamilyTree.LIMIT_NODES || (s.l = !0), null != FamilyTree.remote._fromReqDTO) FamilyTree.remote._fromReqDTO(s.n, s.r, s.c, (function (t) {\n        for (var a = 0; a < e.length; a++) FamilyTree.remote._fromResDTO(e[a], t, 0, e, r);\n        i()\n    })); else {\n        s = JSON.stringify(s);\n        var d = FamilyTree.localStorage.getItem(s);\n        d && (d = JSON.parse(d)), d && !d.limit ? FamilyTree.remote._proceed(e, d, r, i) : FamilyTree.remote._findRegion((function (t) {\n            FamilyTree._ajax(t, \"post\", s, \"json\", (function (t) {\n                t.error ? i(2) : (FamilyTree.remote._proceed(e, t, r, i), FamilyTree.localStorage.setItem(s, JSON.stringify(t)))\n            }))\n        }))\n    }\n},FamilyTree.remote._proceed = function (e, t, i, r) {\n    if (\"string\" == typeof t && (t = JSON.parse(t)), t.limit && 1 == t.limit) r(t.limit); else {\n        for (var a = 0; a < e.length; a++) FamilyTree.remote._fromResDTO(e[a], t, 0, e, i);\n        r()\n    }\n},FamilyTree.remote._findRegion = function (e) {\n    var t = FamilyTree.localStorage.getItem(\"funcUrl\");\n    if (t) e(t); else {\n        for (var i = [\"au-e\", \"au-se\", \"brs\", \"ca\", \"ca-e\", \"easia\", \"eus-2\", \"eus\", \"fr\", \"ind\", \"jp-e\", \"jp-w\", \"kr\", \"n-eu\", \"se-asia\", \"s-ind\", \"uk-s\", \"uk-w\", \"us\", \"us-n-c\", \"us-s-c\", \"w-c-us\", \"w-eu\", \"w-ind\", \"w-us-2\", \"wus\"], r = [], a = 0; a < i.length; a++) r.push(new XMLHttpRequest);\n        for (a = 0; a < i.length; a++) !function () {\n            var t = \"https://\" + i[a] + \"-balkangraph.azurewebsites.net/api/OrgChartJS\", n = r[a];\n            n.onreadystatechange = function () {\n                if (4 == this.readyState && 200 == this.status) {\n                    FamilyTree.localStorage.setItem(\"funcUrl\", t), e(t);\n                    for (var i = 0; i < r.length; i++) r[i].abort()\n                }\n            }, n.open(\"GET\", t, !0), n.send()\n        }()\n    }\n};\n"],"mappings":"AAAA,IAAIA,UAAU,GAAG,SAAAA,CAAUC,CAAC,EAAEC,CAAC,EAAE;EAC7B,IAAIC,CAAC,GAAG,IAAI;EACZ,IAAI,CAAC,QAAQ,IAAI,OAAOF,CAAC,IAAIA,CAAC,YAAYG,MAAM,MAAMH,CAAC,GAAGI,QAAQ,CAACC,aAAa,CAACL,CAAC,CAAC,CAAC,EAAE,IAAI,CAACM,OAAO,GAAGN,CAAC,EAAE,IAAI,CAACO,MAAM,GAAGR,UAAU,CAACS,SAAS,CAACT,UAAU,CAACU,cAAc,CAACR,CAAC,CAAC,EAAEA,CAAC,CAAC,EAAE,IAAI,CAACS,cAAc,GAAG;IAC/LC,IAAI,EAAE;MACFC,WAAW,EAAE,IAAI,CAACL,MAAM,CAACK,WAAW;MACpCC,eAAe,EAAE,IAAI,CAACN,MAAM,CAACM,eAAe;MAC5CC,6BAA6B,EAAE,IAAI,CAACP,MAAM,CAACO,6BAA6B;MACxEC,mBAAmB,EAAE,IAAI,CAACR,MAAM,CAACQ,mBAAmB;MACpDC,iBAAiB,EAAE,IAAI,CAACT,MAAM,CAACS,iBAAiB;MAChDC,iBAAiB,EAAE,IAAI,CAACV,MAAM,CAACU,iBAAiB;MAChDC,MAAM,EAAE,IAAI,CAACX,MAAM,CAACW,MAAM;MAC1BC,OAAO,EAAE,IAAI,CAACZ,MAAM,CAACY,OAAO;MAC5BC,QAAQ,EAAE,IAAI,CAACb,MAAM,CAACa,QAAQ;MAC9BC,qBAAqB,EAAE,IAAI,CAACd,MAAM,CAACc;IACvC;EACJ,CAAC,EAAE,IAAI,CAACd,MAAM,CAACe,IAAI,EAAE,KAAK,IAAIC,CAAC,IAAI,IAAI,CAAChB,MAAM,CAACe,IAAI,EAAE;IACjD,IAAIE,CAAC,GAAG,IAAI,CAACjB,MAAM,CAACe,IAAI,CAACC,CAAC,CAAC;IAC3B,IAAI,IAAIC,CAAC,CAACC,aAAa,KAAK,IAAI,CAACf,cAAc,CAACa,CAAC,CAAC,GAAG;MACjDX,WAAW,EAAE,IAAI,IAAIY,CAAC,CAACC,aAAa,CAACb,WAAW,GAAGY,CAAC,CAACC,aAAa,CAACb,WAAW,GAAG,IAAI,CAACL,MAAM,CAACK,WAAW;MACxGC,eAAe,EAAE,IAAI,IAAIW,CAAC,CAACC,aAAa,CAACZ,eAAe,GAAGW,CAAC,CAACC,aAAa,CAACZ,eAAe,GAAG,IAAI,CAACN,MAAM,CAACM,eAAe;MACxHC,6BAA6B,EAAE,IAAI,IAAIU,CAAC,CAACC,aAAa,CAACX,6BAA6B,GAAGU,CAAC,CAACC,aAAa,CAACX,6BAA6B,GAAG,IAAI,CAACP,MAAM,CAACO,6BAA6B;MAChLC,mBAAmB,EAAE,IAAI,IAAIS,CAAC,CAACC,aAAa,CAACV,mBAAmB,GAAGS,CAAC,CAACC,aAAa,CAACV,mBAAmB,GAAG,IAAI,CAACR,MAAM,CAACQ,mBAAmB;MACxIC,iBAAiB,EAAE,IAAI,IAAIQ,CAAC,CAACC,aAAa,CAACT,iBAAiB,GAAGQ,CAAC,CAACC,aAAa,CAACT,iBAAiB,GAAG,IAAI,CAACT,MAAM,CAACS,iBAAiB;MAChIC,iBAAiB,EAAE,IAAI,IAAIO,CAAC,CAACC,aAAa,CAACR,iBAAiB,GAAGO,CAAC,CAACC,aAAa,CAACR,iBAAiB,GAAG,IAAI,CAACV,MAAM,CAACU,iBAAiB;MAChIC,MAAM,EAAE,IAAI,IAAIM,CAAC,CAACC,aAAa,CAACP,MAAM,GAAGM,CAAC,CAACC,aAAa,CAACP,MAAM,GAAG,IAAI,CAACX,MAAM,CAACW,MAAM;MACpFC,OAAO,EAAE,IAAI,IAAIK,CAAC,CAACC,aAAa,CAACN,OAAO,GAAGK,CAAC,CAACC,aAAa,CAACN,OAAO,GAAG,IAAI,CAACZ,MAAM,CAACY,OAAO;MACxFC,QAAQ,EAAE,IAAI,IAAII,CAAC,CAACC,aAAa,CAACL,QAAQ,GAAGI,CAAC,CAACC,aAAa,CAACL,QAAQ,GAAG,IAAI,CAACb,MAAM,CAACa,QAAQ;MAC5FC,qBAAqB,EAAE,IAAI,IAAIG,CAAC,CAACC,aAAa,CAACJ,qBAAqB,GAAGG,CAAC,CAACC,aAAa,CAACJ,qBAAqB,GAAG,IAAI,CAACd,MAAM,CAACc;IAC/H,CAAC,CAAC;EACN;EACA,IAAI,CAACK,SAAS,GAAG3B,UAAU,CAAC4B,KAAK,CAAC,CAAC,EAAE5B,UAAU,CAAC6B,eAAe,CAAC,IAAI,CAACrB,MAAM,CAAC,KAAK,IAAI,CAACsB,QAAQ,GAAG,CAAC,CAAC,EAAE,IAAI,CAACtB,MAAM,CAACuB,EAAE,KAAK,IAAI,CAACA,EAAE,GAAG/B,UAAU,CAAC+B,EAAE,CAAC,EAAE,IAAI,CAACvB,MAAM,CAACwB,MAAM,GAAG,IAAI,CAACA,MAAM,GAAG,IAAI,CAACxB,MAAM,CAACwB,MAAM,GAAG,IAAI,CAACA,MAAM,GAAG,IAAIhC,UAAU,CAACgC,MAAM,CAAD,CAAC,EAAE,IAAI,CAACA,MAAM,CAACC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAACzB,MAAM,CAAC0B,QAAQ,GAAG,IAAI,CAACA,QAAQ,GAAG,IAAI,CAAC1B,MAAM,CAAC0B,QAAQ,GAAG,IAAI,CAACA,QAAQ,GAAG,IAAIlC,UAAU,CAACkC,QAAQ,CAAD,CAAC,EAAE,IAAI,CAACA,QAAQ,CAACD,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAACE,OAAO,GAAG,IAAInC,UAAU,CAACmC,OAAO,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC3B,MAAM,CAAC4B,QAAQ,GAAG,IAAI,CAACA,QAAQ,GAAG,IAAI,CAAC5B,MAAM,CAAC4B,QAAQ,GAAG,IAAI,CAACA,QAAQ,GAAG,IAAIpC,UAAU,CAACoC,QAAQ,CAAD,CAAC,EAAE,IAAI,CAAC5B,MAAM,CAAC6B,UAAU,GAAG,IAAI,CAACA,UAAU,GAAG,IAAI,CAAC7B,MAAM,CAAC6B,UAAU,GAAG,IAAI,CAACA,UAAU,GAAG,IAAIrC,UAAU,CAACsC,MAAM,CAAD,CAAC,EAAE,IAAI,CAACD,UAAU,CAACJ,IAAI,CAAC,IAAI,EAAE,IAAI,CAACzB,MAAM,CAAC+B,QAAQ,CAAC,EAAE,IAAI,CAAC/B,MAAM,CAACgC,gBAAgB,GAAG,IAAI,CAACA,gBAAgB,GAAG,IAAI,CAAChC,MAAM,CAACgC,gBAAgB,GAAG,IAAI,CAACA,gBAAgB,GAAG,IAAIxC,UAAU,CAACyC,YAAY,CAAD,CAAC,EAAE,IAAI,CAACD,gBAAgB,CAACP,IAAI,CAAC,IAAI,EAAE,IAAI,CAACzB,MAAM,CAACkC,cAAc,CAAC,EAAE,IAAI,CAAClC,MAAM,CAACmC,iBAAiB,GAAG,IAAI,CAACA,iBAAiB,GAAG,IAAI,CAACnC,MAAM,CAACmC,iBAAiB,GAAG,IAAI,CAACA,iBAAiB,GAAG,IAAI3C,UAAU,CAACsC,MAAM,CAAD,CAAC,EAAE,IAAI,CAACK,iBAAiB,CAACV,IAAI,CAAC,IAAI,EAAE,IAAI,CAACzB,MAAM,CAACoC,eAAe,CAAC,EAAE,IAAI,CAACpC,MAAM,CAACqC,SAAS,GAAG,IAAI,CAACA,SAAS,GAAG,IAAI,CAACrC,MAAM,CAACqC,SAAS,GAAG,IAAI,CAACA,SAAS,GAAG,IAAI7C,UAAU,CAAC6C,SAAS,CAAD,CAAC,EAAE,IAAI,CAACrC,MAAM,CAACsC,UAAU,GAAG,IAAI,CAACA,UAAU,GAAG,IAAI,CAACtC,MAAM,CAACsC,UAAU,GAAG,IAAI,CAACA,UAAU,GAAG,IAAI9C,UAAU,CAAC8C,UAAU,CAAD,CAAC,EAAE,IAAI,CAACA,UAAU,CAACb,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAACzB,MAAM,CAAC8B,MAAM,GAAG,IAAI,CAACA,MAAM,GAAG,IAAI,CAAC9B,MAAM,CAAC8B,MAAM,GAAG,IAAI,CAACA,MAAM,GAAG,IAAItC,UAAU,CAACsC,MAAM,CAAD,CAAC,EAAE,IAAI,CAACA,MAAM,CAACL,IAAI,CAAC,IAAI,EAAE,IAAI,CAACzB,MAAM,CAACuC,IAAI,CAAC,EAAE,IAAI,CAACvC,MAAM,CAACwC,SAAS,KAAK,IAAI,CAACA,SAAS,GAAG,IAAIhD,UAAU,CAACgD,SAAS,CAAC,IAAI,CAACzC,OAAO,EAAE,IAAI,CAACC,MAAM,EAAG,YAAY;IACrjD,OAAO;MAACyC,QAAQ,EAAE9C,CAAC,CAAC+C,QAAQ,CAACD,QAAQ;MAAEE,KAAK,EAAEhD,CAAC,CAACiD,QAAQ,CAAC,CAAC;MAAEC,OAAO,EAAElD,CAAC,CAACmD,UAAU,CAAC,CAAC;MAAEC,OAAO,EAAEpD,CAAC,CAACK,MAAM,CAAC+C;IAAO,CAAC;EACnH,CAAC,EAAI,UAAUtD,CAAC,EAAE;IACdE,CAAC,CAACqD,UAAU,CAACvD,CAAC,CAAC;EACnB,CAAC,EAAI,YAAY;IACbE,CAAC,CAACsD,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAACC,OAAO,CAAC;EAC1C,CAAE,CAAC,CAAC,EAAE,IAAI,CAACnD,MAAM,CAACoD,SAAS,KAAK,IAAI,CAACA,SAAS,GAAG,IAAI5D,UAAU,CAAC4D,SAAS,CAAC,IAAI,CAACrD,OAAO,EAAE,IAAI,CAACC,MAAM,EAAG,YAAY;IAC9G,OAAO;MAACyC,QAAQ,EAAE9C,CAAC,CAAC+C,QAAQ,CAACD,QAAQ;MAAEE,KAAK,EAAEhD,CAAC,CAACiD,QAAQ,CAAC,CAAC;MAAEC,OAAO,EAAElD,CAAC,CAACmD,UAAU,CAAC,CAAC;MAAEC,OAAO,EAAEpD,CAAC,CAACK,MAAM,CAAC+C;IAAO,CAAC;EACnH,CAAC,EAAI,UAAUtD,CAAC,EAAE;IACdE,CAAC,CAACqD,UAAU,CAACvD,CAAC,CAAC;EACnB,CAAC,EAAI,YAAY;IACbE,CAAC,CAACsD,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAACC,OAAO,CAAC;EAC1C,CAAE,CAAC,CAAC,EAAE,IAAI,CAACnD,MAAM,CAACqD,UAAU,GAAG,IAAI,CAACA,UAAU,GAAG,IAAI,CAACrD,MAAM,CAACqD,UAAU,GAAG,IAAI,CAACA,UAAU,GAAG,IAAI7D,UAAU,CAAC6D,UAAU,CAAD,CAAC,EAAE,IAAI,CAACtD,OAAO,CAACuD,SAAS,CAACC,GAAG,CAAC,MAAM,GAAG,IAAI,CAACvD,MAAM,CAACwD,IAAI,CAAC,EAAE,IAAI,CAACC,cAAc,GAAG,IAAI,EAAE,IAAI,CAACC,QAAQ,GAAG,IAAI,EAAE,IAAI,CAACC,MAAM,GAAG,IAAI,EAAE,IAAI,CAACC,YAAY,GAAG,CAAC,CAAC,EAAE,IAAI,CAACC,OAAO,GAAG,CAAC,CAAC,EAAE,IAAI,CAACC,aAAa,GAAG,IAAI,EAAE,IAAI,CAACC,aAAa,GAAG,IAAI,EAAE,IAAI,CAACrB,QAAQ,GAAG,IAAI,EAAE,IAAI,CAACsB,KAAK,GAAG,IAAI,EAAE,IAAI,CAACC,SAAS,GAAG,IAAI,EAAEzE,UAAU,CAAC0E,qBAAqB,CAAC,IAAI,CAACnE,OAAO,EAAG,UAAUN,CAAC,EAAE;IAC9cE,CAAC,CAACsE,SAAS,GAAGxE,CAAC,EAAE,CAAC,CAAC,KAAKD,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,mBAAmB,EAAE,CAACzE,CAAC,CAAC,CAAC,IAAIH,UAAU,CAAC6E,YAAY,IAAI1E,CAAC,CAACsE,SAAS,KAAKtE,CAAC,CAACkE,OAAO,GAAGlE,CAAC,CAACsD,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAACoB,MAAM,CAAC,IAAI3E,CAAC,CAAC4E,uBAAuB,CAAC,CAAC,EAAE5E,CAAC,CAACsD,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAACzB,IAAI,CAAC,CAAC,CAAC;EACrP,CAAE,CAAC,CAAC;AACR,CAAC;AAAC+C,EAAA,GA7CEhF,UAAU;AA8CdA,UAAU,CAACU,cAAc,GAAG,UAAUT,CAAC,EAAE;EACrC,OAAO;IACHgF,WAAW,EAAE,CAAC,CAAC;IACfjB,IAAI,EAAE,OAAO;IACbkB,WAAW,EAAE,CAAC,CAAC;IACfC,cAAc,EAAE,CAAC,CAAC;IAClBC,YAAY,EAAE,CAAC,CAAC;IAChBC,WAAW,EAAE,CAAC,CAAC;IACfC,SAAS,EAAE,CAAC,CAAC;IACbC,aAAa,EAAE,CAAC,CAAC;IACjBC,OAAO,EAAE,CAAC,CAAC;IACXjD,QAAQ,EAAE,IAAI;IACdG,cAAc,EAAE,IAAI;IACpBE,eAAe,EAAE,IAAI;IACrBG,IAAI,EAAE,IAAI;IACV0C,OAAO,EAAE,CAAC,CAAC;IACXC,MAAM,EAAE,CAAC,CAAC;IACVC,cAAc,EAAE3F,UAAU,CAAC0D,MAAM,CAACkC,OAAO;IACzCC,gBAAgB,EAAE7F,UAAU,CAAC8F,IAAI;IACjCC,WAAW,EAAE/F,UAAU,CAAC0D,MAAM,CAACsC,IAAI;IACnCC,WAAW,EAAEjG,UAAU,CAAC8F,IAAI;IAC5BI,WAAW,EAAElG,UAAU,CAAC8F,IAAI;IAC5BK,QAAQ,EAAE,KAAK;IACf5E,IAAI,EAAE,CAAC,CAAC;IACR6E,GAAG,EAAE,CAAC,CAAC;IACPC,WAAW,EAAE,CAAC,CAAC;IACfC,WAAW,EAAE,CAAC,CAAC;IACfC,YAAY,EAAE,IAAI;IAClBC,kBAAkB,EAAE,IAAI;IACxBC,kBAAkB,EAAE,IAAI;IACxBC,wBAAwB,EAAE,IAAI;IAC9BlC,KAAK,EAAE,EAAE;IACTmC,MAAM,EAAE,EAAE;IACVC,MAAM,EAAE,EAAE;IACVC,gBAAgB,EAAE,EAAE;IACpBC,WAAW,EAAE,EAAE;IACfC,mBAAmB,EAAE,IAAI;IACzBjG,eAAe,EAAE,EAAE;IACnBI,iBAAiB,EAAE,EAAE;IACrBD,iBAAiB,EAAE,EAAE;IACrBF,6BAA6B,EAAE,EAAE;IACjCC,mBAAmB,EAAE,GAAG;IACxBgG,oBAAoB,EAAE,EAAE;IACxBC,8BAA8B,EAAE,EAAE;IAClC3F,qBAAqB,EAAE,EAAE;IACzBF,OAAO,EAAE,EAAE;IACXmC,OAAO,EAAE,EAAE;IACX1C,WAAW,EAAEb,UAAU,CAACa,WAAW,CAACqG,GAAG;IACvC/F,MAAM,EAAEnB,UAAU,CAACmB,MAAM,CAACgG,MAAM;IAChCC,YAAY,EAAE,CAAC;IACfC,SAAS,EAAE,IAAI;IACfC,QAAQ,EAAE,EAAE;IACZC,QAAQ,EAAE,CAAC;IACXC,OAAO,EAAE,IAAI;IACbxF,MAAM,EAAE,IAAI;IACZE,QAAQ,EAAE,IAAI;IACdE,QAAQ,EAAE,IAAI;IACdY,SAAS,EAAE,IAAI;IACfY,SAAS,EAAE,IAAI;IACfvB,UAAU,EAAE,IAAI;IAChBG,gBAAgB,EAAE,IAAI;IACtBG,iBAAiB,EAAE,IAAI;IACvBE,SAAS,EAAE,IAAI;IACfC,UAAU,EAAE,IAAI;IAChBR,MAAM,EAAE,IAAI;IACZuB,UAAU,EAAE,IAAI;IAChB4D,SAAS,EAAE,2BAA2B;IACtCpG,QAAQ,EAAE,CAAC,CAAC;IACZqG,MAAM,EAAE,CAAC,CAAC;IACVC,KAAK,EAAE3H,UAAU,CAAC4H,MAAM;IACxBC,EAAE,EAAE,IAAI;IACRC,IAAI,EAAE;MAACC,IAAI,EAAE/H,UAAU,CAAC8H,IAAI,CAACE,MAAM;MAAEC,QAAQ,EAAE;IAAG,CAAC;IACnDjC,IAAI,EAAE;MAACkC,KAAK,EAAE,GAAG;MAAEC,MAAM,EAAE;IAAE,CAAC;IAC9BC,KAAK,EAAE,IAAI;IACXC,KAAK,EAAE,IAAI;IACXC,QAAQ,EAAE;MACNC,QAAQ,EAAE,CAAC,CAAC;MACZC,YAAY,EAAE,MAAM;MACpBC,YAAY,EAAE,KAAK;MACnBC,OAAO,EAAE,iBAAiB;MAC1BC,UAAU,EAAE,KAAK;MACjBC,gBAAgB,EAAE,YAAY;MAC9BC,eAAe,EAAE,gBAAgB;MACjCC,SAAS,EAAE,QAAQ;MACnBC,0BAA0B,EAAE,CAAC,CAAC;MAC9BC,YAAY,EAAE,IAAI;MAClBC,OAAO,EAAE;QACLC,IAAI,EAAE;UACFC,IAAI,EAAEnJ,UAAU,CAACmJ,IAAI,CAACD,IAAI,CAAC,EAAE,EAAE,EAAE,EAAE,MAAM,CAAC;UAC1CE,IAAI,EAAE,MAAM;UACZC,cAAc,EAAE,CAAC,CAAC;UAClBC,iBAAiB,EAAE,CAAC;QACxB,CAAC;QACDC,KAAK,EAAE;UAACJ,IAAI,EAAEnJ,UAAU,CAACmJ,IAAI,CAACI,KAAK,CAAC,EAAE,EAAE,EAAE,EAAE,MAAM,CAAC;UAAEH,IAAI,EAAE;QAAO,CAAC;QACnEI,GAAG,EAAE;UAACL,IAAI,EAAEnJ,UAAU,CAACmJ,IAAI,CAACK,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,MAAM,CAAC;UAAEJ,IAAI,EAAE;QAAa,CAAC;QACrEK,MAAM,EAAE;UAACN,IAAI,EAAEnJ,UAAU,CAACmJ,IAAI,CAACM,MAAM,CAAC,EAAE,EAAE,EAAE,EAAE,MAAM,CAAC;UAAEL,IAAI,EAAE,QAAQ;UAAEE,iBAAiB,EAAE,CAAC;QAAC;MAChG,CAAC;MACDI,QAAQ,EAAE;IACd;EACJ,CAAC;AACL,CAAC,EAAE1J,UAAU,CAAC2J,SAAS,CAACC,IAAI,GAAG,UAAU3J,CAAC,EAAEC,CAAC,EAAE;EAC3C,IAAIC,CAAC,GAAG,IAAI;EACZ,OAAO,IAAI,CAACK,MAAM,CAACgE,KAAK,GAAGvE,CAAC,EAAE,IAAI,CAACwD,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAACzB,IAAI,EAAE,KAAK,CAAC,EAAG,YAAY;IACtF9B,CAAC,CAAC+B,QAAQ,CAAC4C,MAAM,CAAC,CAAC,EAAE5E,CAAC,IAAIA,CAAC,CAAC,CAAC;EACjC,CAAE,CAAC,EAAE,IAAI;AACb,CAAC,EAAEF,UAAU,CAAC2J,SAAS,CAACE,OAAO,GAAG,UAAU5J,CAAC,EAAEC,CAAC,EAAE;EAC9C,IAAIC,CAAC,GAAGH,UAAU,CAAC8J,SAAS,CAAC7J,CAAC,CAAC;EAC/B,OAAO,IAAI,CAAC2J,IAAI,CAACzJ,CAAC,EAAED,CAAC,CAAC;AAC1B,CAAC,EAAEF,UAAU,CAAC2J,SAAS,CAACI,MAAM,GAAG,YAAY;EACzC,OAAO/J,UAAU,CAACgK,SAAS,CAAC,IAAI,CAACxJ,MAAM,CAACgE,KAAK,CAAC;AAClD,CAAC,EAAExE,UAAU,CAAC2J,SAAS,CAACM,EAAE,GAAG,UAAUhK,CAAC,EAAEC,CAAC,EAAE;EACzC,OAAOF,UAAU,CAAC2E,MAAM,CAACsF,EAAE,CAAChK,CAAC,EAAEC,CAAC,EAAE,IAAI,CAACyB,SAAS,CAAC,EAAE,IAAI;AAC3D,CAAC,EAAE3B,UAAU,CAAC2J,SAAS,CAACO,cAAc,GAAG,UAAUjK,CAAC,EAAEC,CAAC,EAAE;EACrD,OAAOF,UAAU,CAAC2E,MAAM,CAAC8E,MAAM,CAACxJ,CAAC,EAAEC,CAAC,EAAE,IAAI,CAACyB,SAAS,CAAC;AACzD,CAAC,EAAE3B,UAAU,CAAC2J,SAAS,CAACQ,IAAI,GAAG,UAAUlK,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EAC9C,IAAI,IAAIF,CAAC,KAAKA,CAAC,GAAGD,UAAU,CAAC0D,MAAM,CAACoB,MAAM,CAAC,EAAE,IAAI,CAACrB,KAAK,CAAC,CAAC,CAAC,EAAExD,CAAC,EAAEC,CAAC,EAAEC,CAAC,CAAC;AACxE,CAAC,EAAEH,UAAU,CAAC2J,SAAS,CAAClG,KAAK,GAAG,UAAUxD,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;EAClD,IAAIC,CAAC,GAAG,IAAI;EACZ,IAAI,CAACzB,UAAU,CAAC6E,YAAY,IAAI,IAAI,CAACJ,SAAS,EAAE,IAAIzE,UAAU,CAAC6E,YAAY,IAAI,IAAI,CAACT,YAAY,KAAK,IAAI,CAACW,uBAAuB,CAAC,CAAC,EAAE,CAAC,IAAI,IAAI,CAACqF,KAAK,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,CAACC,MAAM,CAAC,CAAC,CAAC,EAAE;IAC3K,IAAI,CAACC,6BAA6B,GAAG,CAAC,CAAC;IACvC,IAAIC,CAAC,GAAGrK,CAAC,IAAIF,UAAU,CAAC0D,MAAM,CAACzB,IAAI,GAAG,IAAI,GAAG,IAAI,CAACqB,UAAU,CAAC,CAAC;IAC9D,IAAI,CAACnB,OAAO,CAACqI,IAAI,CAACvK,CAAC,EAAE,IAAI,CAACmK,KAAK,CAAC,CAAC,EAAE,IAAI,CAACC,MAAM,CAAC,CAAC,EAAEE,CAAC,EAAErK,CAAC,EAAEC,CAAC,EAAG,UAAUF,CAAC,EAAE;MACrE,IAAI,CAACwB,CAAC,CAACqB,UAAU,CAAC2H,IAAI,CAACxK,CAAC,CAACyK,KAAK,CAAC,EAAE;QAC7BxK,CAAC,IAAIF,UAAU,CAAC0D,MAAM,CAACiH,SAAS,KAAKlJ,CAAC,CAAC+C,KAAK,GAAGvE,CAAC,CAACuE,KAAK,EAAE/C,CAAC,CAACmJ,cAAc,GAAG3K,CAAC,CAAC2K,cAAc,EAAEnJ,CAAC,CAAC2G,KAAK,GAAGnI,CAAC,CAACmI,KAAK,CAAC,EAAE3G,CAAC,CAACO,MAAM,CAAC6I,MAAM,GAAG5K,CAAC,CAAC6K,SAAS;QAC9I,IAAIP,CAAC,GAAG;UAACQ,IAAI,EAAE;QAAE,CAAC;QAClB/K,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,YAAY,EAAE,CAACnD,CAAC,EAAE8I,CAAC,CAAC,CAAC;QAC/C,IAAIS,CAAC,GAAGvJ,CAAC,CAACM,EAAE,CAACgJ,IAAI,CAACR,CAAC,CAACQ,IAAI,CAAC;UAAEE,CAAC,GAAGxJ,CAAC,CAAC2B,QAAQ,CAACnD,CAAC,CAACoD,OAAO,CAAC;QACpD2H,CAAC,IAAIvJ,CAAC,CAACM,EAAE,CAACmJ,OAAO,CAACzJ,CAAC,CAACjB,MAAM,EAAEN,CAAC,EAAE+K,CAAC,CAAC;QACjC,IAAIE,CAAC,GAAG1J,CAAC,CAAC6B,UAAU,CAAC,CAAC;UAAE8H,CAAC,GAAGnL,CAAC,CAACoD,OAAO;QACrCkH,CAAC,GAAG;UAACc,OAAO,EAAEL,CAAC;UAAEM,GAAG,EAAErL;QAAC,CAAC;QACxBD,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,WAAW,EAAE,CAACnD,CAAC,EAAE8I,CAAC,CAAC,CAAC,EAAES,CAAC,GAAGT,CAAC,CAACc,OAAO;QAC7D,KAAK,IAAIE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGtL,CAAC,CAAC2K,cAAc,CAACY,MAAM,EAAED,CAAC,EAAE,EAAE;UAC9C,IAAIE,CAAC,GAAGxL,CAAC,CAACuE,KAAK,CAACvE,CAAC,CAAC2K,cAAc,CAACW,CAAC,CAAC,CAAC;YAAEG,CAAC,GAAGjK,CAAC,CAACkK,IAAI,CAACF,CAAC,CAACG,EAAE,CAAC;UACtD5L,UAAU,CAAC6L,yBAAyB,KAAKb,CAAC,IAAIvJ,CAAC,CAACM,EAAE,CAAC+J,IAAI,CAACL,CAAC,EAAEhK,CAAC,EAAEwJ,CAAC,EAAEhL,CAAC,CAAC8L,uBAAuB,EAAE9L,CAAC,CAACuE,KAAK,EAAEtE,CAAC,CAAC,CAAC,EAAE8K,CAAC,IAAIvJ,CAAC,CAACM,EAAE,CAACiK,IAAI,CAACP,CAAC,EAAEC,CAAC,EAAEzL,CAAC,CAACgM,UAAU,EAAExK,CAAC,CAACjB,MAAM,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAEN,CAAC,EAAE+K,CAAC,EAAExJ,CAAC,CAAC;QAC3L;QACA,KAAK8J,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGtL,CAAC,CAAC2K,cAAc,CAACY,MAAM,EAAED,CAAC,EAAE,EAAE;UAC1CE,CAAC,GAAGxL,CAAC,CAACuE,KAAK,CAACvE,CAAC,CAAC2K,cAAc,CAACW,CAAC,CAAC,CAAC;UAChCvL,UAAU,CAAC6L,yBAAyB,KAAKb,CAAC,IAAIvJ,CAAC,CAACM,EAAE,CAAC+J,IAAI,CAACL,CAAC,EAAEhK,CAAC,EAAEwJ,CAAC,EAAEhL,CAAC,CAAC8L,uBAAuB,EAAE9L,CAAC,CAACuE,KAAK,EAAEtE,CAAC,CAAC,CAAC,EAAE8K,CAAC,IAAIvJ,CAAC,CAACM,EAAE,CAACmK,iBAAiB,CAACzK,CAAC,EAAEgK,CAAC,EAAEhK,CAAC,CAACd,cAAc,EAAET,CAAC,EAAE+K,CAAC,CAAC;QACvK;QACAV,CAAC,GAAG;UAACc,OAAO,EAAEL,CAAC;UAAEM,GAAG,EAAErL;QAAC,CAAC;QACxB,IAAID,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,QAAQ,EAAE,CAACnD,CAAC,EAAE8I,CAAC,CAAC,CAAC,EAAES,CAAC,GAAGT,CAAC,CAACc,OAAO,EAAEpL,CAAC,GAAGsK,CAAC,CAACe,GAAG,EAAEN,CAAC,IAAIvJ,CAAC,CAACM,EAAE,CAACoK,MAAM,CAAC1K,CAAC,CAACjB,MAAM,CAAC,EAAEN,CAAC,KAAKF,UAAU,CAAC0D,MAAM,CAACiH,SAAS,EAAE;UACtIzK,CAAC,KAAKF,UAAU,CAAC0D,MAAM,CAAC0I,UAAU,IAAIlM,CAAC,KAAKF,UAAU,CAAC0D,MAAM,CAAC2I,MAAM,IAAInM,CAAC,KAAKF,UAAU,CAAC0D,MAAM,CAACgE,MAAM,IAAIxH,CAAC,KAAKF,UAAU,CAAC0D,MAAM,CAACrC,QAAQ,IAAInB,CAAC,KAAKF,UAAU,CAAC0D,MAAM,CAACoB,MAAM,KAAKsG,CAAC,GAAGD,CAAC,CAAC,EAAEjL,CAAC,KAAKF,UAAU,CAAC0D,MAAM,CAACzB,IAAI,IAAI,IAAI,IAAIkJ,CAAC,KAAKC,CAAC,GAAGD,CAAC,CAAC,EAAE1J,CAAC,CAACyB,QAAQ,GAAGjD,CAAC;UAC7PqM,CAAC,GAAG7K,CAAC,CAACM,EAAE,CAACwK,GAAG,CAAC9K,CAAC,CAAC2I,KAAK,CAAC,CAAC,EAAE3I,CAAC,CAAC4I,MAAM,CAAC,CAAC,EAAEe,CAAC,EAAE3J,CAAC,CAACjB,MAAM,EAAEwK,CAAC,CAAC;UACnD,IAAIvJ,CAAC,CAAC2C,YAAY,EAAE;YAChB,IAAIoI,CAAC,GAAG/K,CAAC,CAACgL,MAAM,CAAC,CAAC;cAAEC,CAAC,GAAGF,CAAC,CAACG,UAAU;YACpCD,CAAC,CAACE,WAAW,CAACJ,CAAC,CAAC,EAAEE,CAAC,CAACG,kBAAkB,CAAC,YAAY,EAAEP,CAAC,CAAC,EAAE7K,CAAC,CAACqL,oBAAoB,CAAC,CAAC,EAAErL,CAAC,CAACuB,SAAS,CAAC+J,WAAW,CAACtL,CAAC,CAACgL,MAAM,CAAC,CAAC,CAAC,EAAEhL,CAAC,CAACmC,SAAS,CAACmJ,WAAW,CAACtL,CAAC,CAACgL,MAAM,CAAC,CAAC,CAAC,EAAEhL,CAAC,CAACuB,SAAS,CAACgK,WAAW,CAAC,CAAC,EAAEvL,CAAC,CAACmC,SAAS,CAACoJ,WAAW,CAAC,CAAC;UACrN,CAAC,MAAMvL,CAAC,CAAClB,OAAO,CAAC0M,SAAS,GAAGxL,CAAC,CAACM,EAAE,CAACmL,GAAG,CAAC,CAAC,GAAGZ,CAAC,GAAG7K,CAAC,CAACM,EAAE,CAACoL,UAAU,CAAC1L,CAAC,CAACjB,MAAM,CAAC,EAAEiB,CAAC,CAAC2L,wBAAwB,CAAC,CAAC,EAAE3L,CAAC,CAACqL,oBAAoB,CAAC,CAAC,EAAErL,CAAC,CAACuB,SAAS,CAACqK,MAAM,CAAC5L,CAAC,CAAC2I,KAAK,CAAC,CAAC,EAAE3I,CAAC,CAACjB,MAAM,CAAC+C,OAAO,CAAC,EAAE9B,CAAC,CAACuB,SAAS,CAACgK,WAAW,CAAC,CAAC,EAAEvL,CAAC,CAACuB,SAAS,CAAC+J,WAAW,CAACtL,CAAC,CAACgL,MAAM,CAAC,CAAC,CAAC,EAAEhL,CAAC,CAACmC,SAAS,CAACyJ,MAAM,CAAC5L,CAAC,CAAC4I,MAAM,CAAC,CAAC,EAAE5I,CAAC,CAACjB,MAAM,CAAC+C,OAAO,CAAC,EAAE9B,CAAC,CAACmC,SAAS,CAACoJ,WAAW,CAAC,CAAC,EAAEvL,CAAC,CAACmC,SAAS,CAACmJ,WAAW,CAACtL,CAAC,CAACgL,MAAM,CAAC,CAAC,CAAC,EAAEhL,CAAC,CAACjB,MAAM,CAAC4E,YAAY,IAAI3D,CAAC,CAACW,QAAQ,CAACH,IAAI,CAACR,CAAC,CAAC,EAAEA,CAAC,CAACoB,SAAS,CAACZ,IAAI,CAACR,CAAC,EAAEA,CAAC,CAACjB,MAAM,CAACiF,OAAO,CAAC,EAAEhE,CAAC,CAACoC,UAAU,CAAC5B,IAAI,CAACR,CAAC,CAAC;UAC5c,IAAI6L,CAAC,GAAG,CAAC,CAAC;YAAEC,CAAC,GAAG9L,CAAC,CAACyB,QAAQ,CAAC+I,UAAU;UACrC,IAAIsB,CAAC,CAAC,CAAC,CAAC,CAAC/B,MAAM,GAAG,CAAC,EAAE;YACjB/J,CAAC,CAAC+L,oBAAoB,CAACD,CAAC,CAAC,CAAC,CAAC,CAAC/B,MAAM,CAAC;YACnC,KAAKD,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGgC,CAAC,CAAC,CAAC,CAAC,CAAC/B,MAAM,EAAED,CAAC,EAAE,EAAEgC,CAAC,CAAC,CAAC,CAAC,CAAChC,CAAC,CAAC,GAAG9J,CAAC,CAACgM,cAAc,CAACF,CAAC,CAAC,CAAC,CAAC,CAAChC,CAAC,CAAC,CAAC;YACrEvL,UAAU,CAAC0N,OAAO,CAACH,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAE9L,CAAC,CAACjB,MAAM,CAACsH,IAAI,CAACG,QAAQ,EAAExG,CAAC,CAACjB,MAAM,CAACsH,IAAI,CAACC,IAAI,EAAG,YAAY;cAC1FuF,CAAC,KAAK9L,CAAC,IAAIA,CAAC,CAAC,CAAC,EAAExB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,QAAQ,EAAE,CAACnD,CAAC,CAAC,CAAC,EAAEA,CAAC,CAACkM,mBAAmB,CAAC,CAAC,EAAEL,CAAC,GAAG,CAAC,CAAC,CAAC;YAC9F,CAAE,CAAC;UACP;UACApN,CAAC,KAAKF,UAAU,CAAC0D,MAAM,CAAC0I,UAAU,GAAGpM,UAAU,CAAC0N,OAAO,CAACjM,CAAC,CAACgL,MAAM,CAAC,CAAC,EAAE;YAACmB,OAAO,EAAEzC;UAAC,CAAC,EAAE;YAACyC,OAAO,EAAEnM,CAAC,CAACyB,QAAQ,CAACG;UAAO,CAAC,EAAE5B,CAAC,CAACjB,MAAM,CAACsH,IAAI,CAACG,QAAQ,EAAExG,CAAC,CAACjB,MAAM,CAACsH,IAAI,CAACC,IAAI,EAAG,YAAY;YACtKtG,CAAC,CAACoM,MAAM,CAAC1N,CAAC,CAAC2N,OAAO,CAACC,QAAQ,CAAC,EAAET,CAAC,KAAK9L,CAAC,IAAIA,CAAC,CAAC,CAAC,EAAExB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,QAAQ,EAAE,CAACnD,CAAC,CAAC,CAAC,EAAEA,CAAC,CAACkM,mBAAmB,CAAC,CAAC,EAAEL,CAAC,GAAG,CAAC,CAAC,CAAC;UAC5H,CAAC,EAAI,YAAY;YACb7L,CAAC,CAACuB,SAAS,CAACgK,WAAW,CAAC,CAAC,EAAEvL,CAAC,CAACmC,SAAS,CAACoJ,WAAW,CAAC,CAAC;UACxD,CAAE,CAAC,GAAG,CAAC7B,CAAC,IAAI,CAAC1J,CAAC,CAACyB,QAAQ,IAAIiI,CAAC,CAAC,CAAC,CAAC,IAAI1J,CAAC,CAACyB,QAAQ,CAACG,OAAO,CAAC,CAAC,CAAC,IAAI8H,CAAC,CAAC,CAAC,CAAC,IAAI1J,CAAC,CAACyB,QAAQ,CAACG,OAAO,CAAC,CAAC,CAAC,IAAI8H,CAAC,CAAC,CAAC,CAAC,IAAI1J,CAAC,CAACyB,QAAQ,CAACG,OAAO,CAAC,CAAC,CAAC,IAAI8H,CAAC,CAAC,CAAC,CAAC,IAAI1J,CAAC,CAACyB,QAAQ,CAACG,OAAO,CAAC,CAAC,CAAC,IAAInD,CAAC,KAAKF,UAAU,CAAC0D,MAAM,CAAC2I,MAAM,IAAInM,CAAC,KAAKF,UAAU,CAAC0D,MAAM,CAACgE,MAAM,IAAIxH,CAAC,KAAKF,UAAU,CAAC0D,MAAM,CAACrC,QAAQ,IAAInB,CAAC,KAAKF,UAAU,CAAC0D,MAAM,CAACoB,MAAM,IAAI5E,CAAC,KAAKF,UAAU,CAAC0D,MAAM,CAACzB,IAAI,GAAG,CAAC,IAAIsL,CAAC,CAAC,CAAC,CAAC,CAAC/B,MAAM,KAAK8B,CAAC,KAAK9L,CAAC,IAAIA,CAAC,CAAC,CAAC,EAAExB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,QAAQ,EAAE,CAACnD,CAAC,CAAC,CAAC,EAAE6L,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAGtN,UAAU,CAAC0N,OAAO,CAACjM,CAAC,CAACgL,MAAM,CAAC,CAAC,EAAE;YAACmB,OAAO,EAAEzC;UAAC,CAAC,EAAE;YAACyC,OAAO,EAAEnM,CAAC,CAACyB,QAAQ,CAACG;UAAO,CAAC,EAAE,CAAC,GAAG5B,CAAC,CAACjB,MAAM,CAACsH,IAAI,CAACG,QAAQ,EAAExG,CAAC,CAACjB,MAAM,CAACsH,IAAI,CAACC,IAAI,EAAG,YAAY;YACviBtG,CAAC,CAACuB,SAAS,CAACgK,WAAW,CAAC,CAAC,EAAEvL,CAAC,CAACmC,SAAS,CAACoJ,WAAW,CAAC,CAAC,EAAEM,CAAC,KAAK9L,CAAC,IAAIA,CAAC,CAAC,CAAC,EAAExB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,QAAQ,EAAE,CAACnD,CAAC,CAAC,CAAC,EAAE6L,CAAC,GAAG,CAAC,CAAC,CAAC;UAC3H,CAAE,CAAC,EAAE7L,CAAC,CAAC2C,YAAY,KAAK3C,CAAC,CAAC2C,YAAY,GAAG,CAAC,CAAC,EAAE3C,CAAC,CAACS,QAAQ,CAAC4C,MAAM,CAAC,CAAC,EAAE9E,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,MAAM,EAAE,CAACnD,CAAC,CAAC,CAAC,CAAC,EAAE,CAACA,CAAC,CAAC4C,OAAO,IAAIpE,CAAC,IAAIA,CAAC,CAACuE,KAAK,IAAIwJ,MAAM,CAACC,IAAI,CAAChO,CAAC,CAACuE,KAAK,CAAC,CAACgH,MAAM,KAAK/J,CAAC,CAAC4C,OAAO,GAAG,CAAC,CAAC,CAAC;QAC5L,CAAC,MAAM;UACH,IAAI6J,CAAC,GAAGjO,CAAC,CAACgD,QAAQ;YAAEkL,CAAC,GAAGD,CAAC,CAACE,IAAI,GAAGF,CAAC,CAACG,IAAI;YAAEC,CAAC,GAAGJ,CAAC,CAACK,IAAI,GAAGL,CAAC,CAACM,IAAI;YACxDlC,CAAC,GAAG7K,CAAC,CAACM,EAAE,CAACwK,GAAG,CAAC4B,CAAC,EAAEG,CAAC,EAAE,CAACJ,CAAC,CAACG,IAAI,EAAEH,CAAC,CAACM,IAAI,EAAEL,CAAC,EAAEG,CAAC,CAAC,EAAE7M,CAAC,CAACjB,MAAM,EAAEwK,CAAC,EAAEC,CAAC,CAAC;UAC9DzJ,CAAC,CAAC8K,CAAC,CAAC;QACR;MACJ;IACJ,CAAC,EAAI,UAAUrM,CAAC,EAAE;MACdD,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,OAAO,EAAE,CAACnD,CAAC,EAAExB,CAAC,CAAC,CAAC;IAC9C,CAAE,CAAC;EACP,CAAC,MAAMwO,OAAO,CAACC,KAAK,CAAC,uHAAuH,CAAC;AACjJ,CAAC,EAAE1O,UAAU,CAAC2J,SAAS,CAAC5E,uBAAuB,GAAG,YAAY;EAC1D,IAAI,CAACxE,OAAO,CAACoO,KAAK,CAACC,QAAQ,GAAG,QAAQ,EAAE,IAAI,CAACrO,OAAO,CAACoO,KAAK,CAACE,QAAQ,GAAG,UAAU,EAAE,CAAC,IAAI,IAAI,CAACtO,OAAO,CAACuO,YAAY,KAAK,IAAI,CAACvO,OAAO,CAACoO,KAAK,CAACtE,MAAM,GAAG,MAAM,EAAE,CAAC,IAAI,IAAI,CAAC9J,OAAO,CAACuO,YAAY,KAAK,IAAI,CAACvO,OAAO,CAACoO,KAAK,CAACtE,MAAM,GAAG,OAAO,CAAC,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC9J,OAAO,CAACwO,WAAW,KAAK,IAAI,CAACxO,OAAO,CAACoO,KAAK,CAACvE,KAAK,GAAG,MAAM,EAAE,CAAC,IAAI,IAAI,CAAC7J,OAAO,CAACwO,WAAW,KAAK,IAAI,CAACxO,OAAO,CAACoO,KAAK,CAACvE,KAAK,GAAG,OAAO,CAAC,CAAC;AAClX,CAAC,EAAEpK,UAAU,CAAC2J,SAAS,CAACS,KAAK,GAAG,YAAY;EACxC,OAAO,IAAI,CAAC7J,OAAO,CAACwO,WAAW;AACnC,CAAC,EAAE/O,UAAU,CAAC2J,SAAS,CAACU,MAAM,GAAG,YAAY;EACzC,OAAO,IAAI,CAAC9J,OAAO,CAACuO,YAAY;AACpC,CAAC,EAAE9O,UAAU,CAAC2J,SAAS,CAACrG,UAAU,GAAG,YAAY;EAC7C,IAAIrD,CAAC,GAAG,IAAI,CAACwM,MAAM,CAAC,CAAC;EACrB,OAAOzM,UAAU,CAACgP,WAAW,CAAC/O,CAAC,CAAC;AACpC,CAAC,EAAED,UAAU,CAAC2J,SAAS,CAACnG,UAAU,GAAG,UAAUvD,CAAC,EAAE;EAC9C,IAAI,CAACwM,MAAM,CAAC,CAAC,CAACwC,YAAY,CAAC,SAAS,EAAEhP,CAAC,CAACiP,QAAQ,CAAC,CAAC,CAAC;AACvD,CAAC,EAAElP,UAAU,CAAC2J,SAAS,CAACvG,QAAQ,GAAG,UAAUnD,CAAC,EAAE;EAC5C,OAAOA,CAAC,KAAKA,CAAC,GAAG,IAAI,CAACqD,UAAU,CAAC,CAAC,CAAC,EAAEtD,UAAU,CAACoD,QAAQ,CAACnD,CAAC,EAAE,IAAI,CAACmK,KAAK,CAAC,CAAC,EAAE,IAAI,CAACC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC7J,MAAM,CAAC4G,YAAY,EAAE,IAAI,CAAC5G,MAAM,CAAC+G,QAAQ,EAAE,IAAI,CAAC/G,MAAM,CAAC8G,QAAQ,CAAC;AAClK,CAAC,EAAEtH,UAAU,CAAC2J,SAAS,CAACwF,QAAQ,GAAG,UAAUlP,CAAC,EAAE;EAC5CA,CAAC,GAAG,IAAI,CAACO,MAAM,CAAC+G,QAAQ,KAAKtH,CAAC,GAAG,IAAI,CAACO,MAAM,CAAC+G,QAAQ,CAAC,EAAEtH,CAAC,GAAG,IAAI,CAACO,MAAM,CAAC8G,QAAQ,KAAKrH,CAAC,GAAG,IAAI,CAACO,MAAM,CAAC8G,QAAQ,CAAC;EAC9G,IAAIpH,CAAC,GAAG,IAAI,CAACoD,UAAU,CAAC,CAAC,CAAC8L,KAAK,CAAC,CAAC,CAAC;IAAEjP,CAAC,GAAG,IAAI,CAACiK,KAAK,CAAC,CAAC;IAAE5I,CAAC,GAAG,IAAI,CAAC6I,MAAM,CAAC,CAAC;IAAE5I,CAAC,GAAGtB,CAAC,GAAGD,CAAC,CAAC,CAAC,CAAC;IAAEqK,CAAC,GAAG/I,CAAC,GAAGtB,CAAC,CAAC,CAAC,CAAC;IAC/F8K,CAAC,GAAGvJ,CAAC,GAAG8I,CAAC,GAAGA,CAAC,GAAG9I,CAAC;IAAEwJ,CAAC,GAAG/K,CAAC;IAAEiL,CAAC,GAAGjL,CAAC,CAAC,CAAC,CAAC;IAAEkL,CAAC,GAAGlL,CAAC,CAAC,CAAC,CAAC;EAChD,OAAOA,CAAC,CAAC,CAAC,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAC,IAAID,CAAC,GAAG+K,CAAC,CAAC,EAAE9K,CAAC,CAAC,CAAC,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAC,IAAID,CAAC,GAAG+K,CAAC,CAAC,EAAE9K,CAAC,CAAC,CAAC,CAAC,GAAG+K,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC/K,CAAC,CAAC,CAAC,CAAC,GAAGiL,CAAC,IAAI,CAAC,EAAEjL,CAAC,CAAC,CAAC,CAAC,GAAG+K,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC/K,CAAC,CAAC,CAAC,CAAC,GAAGkL,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC5H,UAAU,CAACtD,CAAC,CAAC,EAAEF,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE3E,CAAC;AACvL,CAAC,EAAED,UAAU,CAAC2J,SAAS,CAACkE,MAAM,GAAG,UAAU5N,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EAChD,IAAIqB,CAAC,GAAG,IAAI,CAAC6N,OAAO,CAACpP,CAAC,CAAC;EACvB,IAAI,IAAI,IAAIuB,CAAC,EAAE;IACX,IAAIC,CAAC,GAAG,IAAI,CAACgM,cAAc,CAACxN,CAAC,CAAC;IAC9B,IAAI,IAAI,IAAIwB,CAAC,EAAE;MACX,IAAI8I,CAAC,GAAG,IAAI,CAACnH,QAAQ,CAAC,CAAC;QAAE4H,CAAC,GAAGxJ,CAAC,CAAC8N,CAAC,GAAG,CAAC;QAAErE,CAAC,GAAGzJ,CAAC,CAACgL,CAAC,GAAG,CAAC;MACjD,IAAI,KAAK,CAAC,KAAKtM,CAAC,IAAI,KAAK,CAAC,KAAKC,CAAC,EAAE;QAC9B,IAAIgL,CAAC,GAAG1J,CAAC,CAAC8N,qBAAqB,CAAC,CAAC;QACjCvE,CAAC,GAAG9K,CAAC,GAAGqK,CAAC,GAAGY,CAAC,CAACqE,IAAI,GAAGjF,CAAC,EAAEU,CAAC,GAAG9K,CAAC,GAAGoK,CAAC,GAAGY,CAAC,CAACjE,GAAG,GAAGqD,CAAC;MACjD;MACA,IAAIa,CAAC,GAAG5J,CAAC,CAAC8N,CAAC;QAAE/D,CAAC,GAAG/J,CAAC,CAACgL,CAAC;QAAEf,CAAC,GAAGL,CAAC,GAAGJ,CAAC,GAAGA,CAAC,GAAGI,CAAC,GAAGJ,CAAC,GAAGA,CAAC;QAAEU,CAAC,GAAGH,CAAC,GAAGN,CAAC,GAAGA,CAAC,GAAGM,CAAC,GAAGN,CAAC,GAAGA,CAAC;QAAEuB,CAAC,GAAGf,CAAC,GAAGC,CAAC,GAAGD,CAAC,GAAGC,CAAC;QACzFgB,CAAC,GAAGrM,QAAQ,CAACoP,eAAe,CAAC,4BAA4B,EAAE,GAAG,CAAC;QAC/DnC,CAAC,GAAGjN,QAAQ,CAACoP,eAAe,CAAC,4BAA4B,EAAE,UAAU,CAAC;QACtElC,CAAC,GAAGlN,QAAQ,CAACoP,eAAe,CAAC,4BAA4B,EAAE,MAAM,CAAC;QAClEvB,CAAC,GAAG7N,QAAQ,CAACoP,eAAe,CAAC,4BAA4B,EAAE,QAAQ,CAAC;QAAEtB,CAAC,GAAGnO,UAAU,CAAC0P,QAAQ,CAAC,CAAC;MACnGpC,CAAC,CAAC2B,YAAY,CAAC,IAAI,EAAEd,CAAC,CAAC;MACvB,IAAIG,CAAC,GAAG;QAACT,MAAM,EAAE7N,UAAU,CAACE,CAAC,CAACsB,CAAC,CAACmO,YAAY,EAAEnO,CAAC,CAAC4E,GAAG,EAAE,IAAI,CAAChD,QAAQ,CAAC,CAAC,CAAC,CAACyK,MAAM;QAAE7B,IAAI,EAAExK;MAAC,CAAC;MACtFxB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,QAAQ,EAAE,CAAC,IAAI,EAAE0J,CAAC,CAAC,CAAC,EAAEf,CAAC,CAAC0B,YAAY,CAAC,GAAG,EAAEX,CAAC,CAACT,MAAM,CAAC+B,IAAI,GAAGtB,CAAC,CAACT,MAAM,CAAC+B,IAAI,CAACC,CAAC,GAAG,CAAC,CAAC,EAAEtC,CAAC,CAAC0B,YAAY,CAAC,GAAG,EAAEX,CAAC,CAACT,MAAM,CAAC+B,IAAI,GAAGtB,CAAC,CAACT,MAAM,CAAC+B,IAAI,CAACrC,CAAC,GAAG,CAAC,CAAC,EAAEA,CAAC,CAAC0B,YAAY,CAAC,OAAO,EAAEX,CAAC,CAACT,MAAM,CAAC+B,IAAI,GAAGtB,CAAC,CAACT,MAAM,CAAC+B,IAAI,CAACxF,KAAK,GAAG5I,CAAC,CAAC8N,CAAC,CAAC,EAAE/B,CAAC,CAAC0B,YAAY,CAAC,QAAQ,EAAEX,CAAC,CAACT,MAAM,CAAC+B,IAAI,GAAGtB,CAAC,CAACT,MAAM,CAAC+B,IAAI,CAACvF,MAAM,GAAG7I,CAAC,CAACgL,CAAC,CAAC,EAAEe,CAAC,CAAC0B,YAAY,CAAC,IAAI,EAAEX,CAAC,CAACT,MAAM,CAACiC,MAAM,CAAC,EAAEvC,CAAC,CAAC0B,YAAY,CAAC,IAAI,EAAEX,CAAC,CAACT,MAAM,CAACiC,MAAM,CAAC,EAAE5B,CAAC,CAACe,YAAY,CAAC,WAAW,EAAE,OAAO,GAAGd,CAAC,GAAG,GAAG,CAAC,EAAED,CAAC,CAACe,YAAY,CAAC,IAAI,EAAEjE,CAAC,CAAC,EAAEkD,CAAC,CAACe,YAAY,CAAC,IAAI,EAAEhE,CAAC,CAAC,EAAEiD,CAAC,CAACe,YAAY,CAAC,GAAG,EAAE,CAAC,CAAC,EAAEf,CAAC,CAACe,YAAY,CAAC,MAAM,EAAEX,CAAC,CAACT,MAAM,CAACkC,KAAK,CAAC,EAAE7B,CAAC,CAACe,YAAY,CAAC,OAAO,EAAE,YAAY,CAAC,EAAE3B,CAAC,CAAC0C,WAAW,CAACzC,CAAC,CAAC,EAAEb,CAAC,CAACsD,WAAW,CAAC1C,CAAC,CAAC,EAAEZ,CAAC,CAACsD,WAAW,CAAC9B,CAAC,CAAC,EAAEzM,CAAC,CAACuO,WAAW,CAACtD,CAAC,CAAC,EAAE1M,UAAU,CAAC0N,OAAO,CAACQ,CAAC,EAAE;QAC/pB1M,CAAC,EAAE,CAAC;QACJyO,OAAO,EAAE;MACb,CAAC,EAAE;QAACzO,CAAC,EAAEgL,CAAC;QAAEyD,OAAO,EAAE;MAAC,CAAC,EAAE,GAAG,EAAEjQ,UAAU,CAAC8H,IAAI,CAACE,MAAM,EAAG,YAAY;QAC7DvG,CAAC,CAACmL,WAAW,CAACF,CAAC,CAAC;MACpB,CAAE,CAAC;IACP;EACJ;AACJ,CAAC,EAAE1M,UAAU,CAAC2J,SAAS,CAACuG,MAAM,GAAG,UAAUjQ,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EAChD,IAAIqB,CAAC;IAAEC,CAAC;IAAE8I,CAAC,GAAGtK,CAAC;IAAE+K,CAAC,GAAG,CAAC,CAAC;IAAEC,CAAC,GAAG,CAAC,CAAC;EAC/B/K,CAAC,IAAI,IAAI,IAAIA,CAAC,CAACiQ,WAAW,KAAK3O,CAAC,GAAGtB,CAAC,CAACiQ,WAAW,CAAC,EAAEjQ,CAAC,IAAI,IAAI,IAAIA,CAAC,CAACkQ,aAAa,KAAK3O,CAAC,GAAGvB,CAAC,CAACkQ,aAAa,CAAC,EAAElQ,CAAC,IAAI,IAAI,IAAIA,CAAC,CAAC6N,QAAQ,KAAKxD,CAAC,GAAGrK,CAAC,CAAC6N,QAAQ,CAAC,EAAE7N,CAAC,IAAI,IAAI,IAAIA,CAAC,CAACmQ,QAAQ,KAAKrF,CAAC,GAAG9K,CAAC,CAACmQ,QAAQ,CAAC,EAAEnQ,CAAC,IAAI,IAAI,IAAIA,CAAC,CAACoQ,UAAU,KAAKrF,CAAC,GAAG/K,CAAC,CAACoQ,UAAU,CAAC;EACnP,IAAInF,CAAC,GAAG;IAACgF,WAAW,EAAE3O,CAAC;IAAE4O,aAAa,EAAE3O,CAAC;IAAEsM,QAAQ,EAAExD,CAAC;IAAE8F,QAAQ,EAAErF,CAAC;IAAEsF,UAAU,EAAErF;EAAC,CAAC;EACnF,IAAI,CAACxH,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAAC0I,UAAU,EAAE;IAACR,EAAE,EAAE3L,CAAC;IAAE6N,OAAO,EAAE3C;EAAC,CAAC,EAAEhL,CAAC,CAAC;AACxE,CAAC,EAAEH,UAAU,CAAC2J,SAAS,CAAC4G,GAAG,GAAG,UAAUtQ,CAAC,EAAE;EACvC,IAAI,CAACO,MAAM,CAAC4G,YAAY,GAAGpH,UAAU,CAACwQ,KAAK,CAACvN,QAAQ,EAAE,IAAI,CAACQ,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAACzB,IAAI,EAAE;IAACwO,MAAM,EAAE;EAAK,CAAC,EAAExQ,CAAC,CAAC;AACpH,CAAC,EAAED,UAAU,CAAC2J,SAAS,CAAC+G,gBAAgB,GAAG,YAAY;EACnD,IAAIzQ,CAAC,GAAGI,QAAQ,CAACC,aAAa,CAAC,GAAG,GAAGN,UAAU,CAAC2Q,IAAI,CAACC,IAAI,GAAG,iBAAiB,CAAC;EAC9EvQ,QAAQ,CAACwQ,iBAAiB,IAAI,IAAI,CAACtQ,OAAO,IAAIF,QAAQ,CAACyQ,uBAAuB,IAAI,IAAI,CAACvQ,OAAO,IAAIF,QAAQ,CAAC0Q,oBAAoB,IAAI,IAAI,CAACxQ,OAAO,IAAIF,QAAQ,CAAC2Q,mBAAmB,IAAI,IAAI,CAACzQ,OAAO,IAAIF,QAAQ,CAAC4Q,cAAc,GAAG5Q,QAAQ,CAAC4Q,cAAc,CAAC,CAAC,GAAG5Q,QAAQ,CAAC6Q,mBAAmB,GAAG7Q,QAAQ,CAAC6Q,mBAAmB,CAAC,CAAC,GAAG7Q,QAAQ,CAAC8Q,oBAAoB,GAAG9Q,QAAQ,CAAC8Q,oBAAoB,CAAC,CAAC,GAAG9Q,QAAQ,CAAC+Q,gBAAgB,IAAI/Q,QAAQ,CAAC+Q,gBAAgB,CAAC,CAAC,EAAEnR,CAAC,KAAKA,CAAC,CAACgN,SAAS,GAAGjN,UAAU,CAAC6C,SAAS,CAACwO,kBAAkB,CAAC,KAAK,IAAI,CAAC9Q,OAAO,CAAC+Q,iBAAiB,GAAG,IAAI,CAAC/Q,OAAO,CAAC+Q,iBAAiB,CAAC,CAAC,GAAG,IAAI,CAAC/Q,OAAO,CAACgR,oBAAoB,GAAG,IAAI,CAAChR,OAAO,CAACgR,oBAAoB,CAAC,CAAC,GAAG,IAAI,CAAChR,OAAO,CAACiR,uBAAuB,GAAG,IAAI,CAACjR,OAAO,CAACiR,uBAAuB,CAAC,CAAC,GAAG,IAAI,CAACjR,OAAO,CAACkR,mBAAmB,IAAI,IAAI,CAAClR,OAAO,CAACkR,mBAAmB,CAAC,CAAC,EAAExR,CAAC,KAAKA,CAAC,CAACgN,SAAS,GAAGjN,UAAU,CAAC6C,SAAS,CAAC6O,mBAAmB,CAAC,CAAC;AAC91B,CAAC,EAAE1R,UAAU,CAAC2J,SAAS,CAAC0F,OAAO,GAAG,UAAUpP,CAAC,EAAE;EAC3C,OAAO,IAAI,CAACuE,KAAK,CAACvE,CAAC,CAAC;AACxB,CAAC,EAAED,UAAU,CAAC2J,SAAS,CAACgI,SAAS,GAAG,UAAU1R,CAAC,EAAEC,CAAC,EAAE;EAChDA,CAAC,KAAKA,CAAC,GAAG,MAAM,CAAC,EAAE,IAAI,CAACS,cAAc,CAACT,CAAC,CAAC,CAACiB,MAAM,GAAGlB,CAAC,EAAE,MAAM,IAAIC,CAAC,KAAK,IAAI,CAACM,MAAM,CAACW,MAAM,GAAGlB,CAAC,CAAC,EAAE,IAAI,CAACwD,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAACoB,MAAM,CAAC;AAC3I,CAAC,EAAE9E,UAAU,CAAC2J,SAAS,CAACiI,cAAc,GAAG,UAAU3R,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACxD,IAAIqB,CAAC,GAAG,IAAI;EACZtB,CAAC,KAAKA,CAAC,GAAG,MAAM,CAAC,EAAE,IAAI,CAACS,cAAc,CAACT,CAAC,CAAC,CAACW,WAAW,GAAGZ,CAAC,EAAE,MAAM,IAAIC,CAAC,KAAK,IAAI,CAACM,MAAM,CAACK,WAAW,GAAGZ,CAAC,CAAC,EAAE,IAAI,CAACwD,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAACoB,MAAM,EAAE,KAAK,CAAC,EAAG,YAAY;IACnK9E,UAAU,CAAC6R,mBAAmB,CAACrQ,CAAC,CAACiL,MAAM,CAAC,CAAC,EAAEjL,CAAC,CAAC8B,UAAU,CAAC,CAAC,EAAE9B,CAAC,CAAC0B,QAAQ,CAACD,QAAQ,EAAG,YAAY;MACzFzB,CAAC,CAACiC,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAACoO,GAAG,CAAC,EAAE3R,CAAC,IAAIA,CAAC,CAAC,CAAC;IAChD,CAAE,CAAC;EACP,CAAE,CAAC;AACP,CAAC,EAAEH,UAAU,CAAC2J,SAAS,CAACoI,MAAM,GAAG,UAAU9R,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EAChD,OAAOH,UAAU,CAACgS,KAAK,CAAC9R,CAAC,CAAC,KAAKA,CAAC,GAAG,IAAI,CAACkC,QAAQ,CAAC6P,aAAa,CAAC,EAAEjS,UAAU,CAACgS,KAAK,CAAC7R,CAAC,CAAC,KAAKA,CAAC,GAAGD,CAAC,CAAC,EAAEF,UAAU,CAACkS,OAAO,CAACH,MAAM,CAAC,IAAI,CAACvR,MAAM,CAACgE,KAAK,EAAEvE,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE,IAAI,CAACK,MAAM,CAACgG,kBAAkB,EAAE,IAAI,CAAChG,MAAM,CAACiG,kBAAkB,EAAE,IAAI,CAACrE,QAAQ,CAAC+P,yBAAyB,CAAC;AACnQ,CAAC,EAAEnS,UAAU,CAAC2J,SAAS,CAAC6D,oBAAoB,GAAG,UAAUvN,CAAC,EAAE;EACxD,IAAI,CAAC,IAAI,IAAI,CAACqK,6BAA6B,IAAI,EAAErK,CAAC,IAAIA,CAAC,GAAGD,UAAU,CAACoS,cAAc,CAAC,EAAE;IAClF,IAAIlS,CAAC,GAAG,IAAI,CAACK,OAAO,CAAC8R,oBAAoB,CAAC,MAAM,CAAC;IACjD,IAAInS,CAAC,CAACsL,MAAM,GAAGxL,UAAU,CAACsS,cAAc,EAAE,KAAK,IAAInS,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,CAAC,CAACsL,MAAM,EAAErL,CAAC,EAAE,EAAED,CAAC,CAACC,CAAC,CAAC,CAACwO,KAAK,CAAC4D,OAAO,GAAG,MAAM;IACxG,IAAI/Q,CAAC,GAAG,IAAI,CAACjB,OAAO,CAAC8R,oBAAoB,CAAC,OAAO,CAAC;IAClD,IAAI7Q,CAAC,CAACgK,MAAM,GAAGxL,UAAU,CAACwS,gBAAgB,EAAE,KAAKrS,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGqB,CAAC,CAACgK,MAAM,EAAErL,CAAC,EAAE,EAAEqB,CAAC,CAACrB,CAAC,CAAC,CAACwO,KAAK,CAAC4D,OAAO,GAAG,MAAM;IACtG,IAAI9Q,CAAC,GAAG,IAAI,CAAClB,OAAO,CAACkS,gBAAgB,CAAC,GAAG,GAAGzS,UAAU,CAAC2Q,IAAI,CAAC+B,OAAO,GAAG,GAAG,CAAC;IAC1E,IAAIjR,CAAC,CAAC+J,MAAM,GAAGxL,UAAU,CAAC2S,eAAe,EAAE,KAAKxS,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGsB,CAAC,CAAC+J,MAAM,EAAErL,CAAC,EAAE,EAAEsB,CAAC,CAACtB,CAAC,CAAC,CAACwO,KAAK,CAAC4D,OAAO,GAAG,MAAM;IACrG,IAAIhI,CAAC,GAAG,IAAI,CAAChK,OAAO,CAACkS,gBAAgB,CAAC,GAAG,GAAGzS,UAAU,CAAC2Q,IAAI,CAACiC,kBAAkB,GAAG,GAAG,CAAC;IACrF,IAAIrI,CAAC,CAACiB,MAAM,GAAGxL,UAAU,CAAC6S,iBAAiB,EAAE,KAAK1S,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGoK,CAAC,CAACiB,MAAM,EAAErL,CAAC,EAAE,EAAEoK,CAAC,CAACpK,CAAC,CAAC,CAACwO,KAAK,CAAC4D,OAAO,GAAG,MAAM;IACvG,IAAIvH,CAAC,GAAG,IAAI,CAACzK,OAAO,CAACkS,gBAAgB,CAAC,GAAG,GAAGzS,UAAU,CAAC2Q,IAAI,CAACmC,aAAa,GAAG,GAAG,CAAC;IAChF,IAAI9H,CAAC,CAACQ,MAAM,GAAGxL,UAAU,CAAC6S,iBAAiB,EAAE,KAAK1S,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG6K,CAAC,CAACQ,MAAM,EAAErL,CAAC,EAAE,EAAE6K,CAAC,CAAC7K,CAAC,CAAC,CAACwO,KAAK,CAAC4D,OAAO,GAAG,MAAM;IACvG,IAAI,CAACjI,6BAA6B,GAAG,CAAC,CAAC;EAC3C;AACJ,CAAC,EAAEtK,UAAU,CAAC2J,SAAS,CAACgE,mBAAmB,GAAG,YAAY;EACtD,KAAK,IAAI1N,CAAC,GAAG,IAAI,CAACM,OAAO,CAAC8R,oBAAoB,CAAC,MAAM,CAAC,EAAEnS,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,CAAC,CAACuL,MAAM,EAAEtL,CAAC,EAAE,EAAED,CAAC,CAACC,CAAC,CAAC,CAACyO,KAAK,CAAC4D,OAAO,GAAG,EAAE;EACzG,IAAIpS,CAAC,GAAG,IAAI,CAACI,OAAO,CAAC8R,oBAAoB,CAAC,OAAO,CAAC;EAClD,KAAKnS,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGC,CAAC,CAACqL,MAAM,EAAEtL,CAAC,EAAE,EAAEC,CAAC,CAACD,CAAC,CAAC,CAACyO,KAAK,CAAC4D,OAAO,GAAG,EAAE;EACtD,IAAI/Q,CAAC,GAAG,IAAI,CAACjB,OAAO,CAACkS,gBAAgB,CAAC,GAAG,GAAGzS,UAAU,CAAC2Q,IAAI,CAAC+B,OAAO,GAAG,GAAG,CAAC;EAC1E,KAAKxS,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGsB,CAAC,CAACgK,MAAM,EAAEtL,CAAC,EAAE,EAAEsB,CAAC,CAACtB,CAAC,CAAC,CAACyO,KAAK,CAAC4D,OAAO,GAAG,EAAE;EACtD,IAAI9Q,CAAC,GAAG,IAAI,CAAClB,OAAO,CAACkS,gBAAgB,CAAC,GAAG,GAAGzS,UAAU,CAAC2Q,IAAI,CAACiC,kBAAkB,GAAG,GAAG,CAAC;EACrF,KAAK1S,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGuB,CAAC,CAAC+J,MAAM,EAAEtL,CAAC,EAAE,EAAEuB,CAAC,CAACvB,CAAC,CAAC,CAACyO,KAAK,CAAC4D,OAAO,GAAG,EAAE;EACtD,IAAIhI,CAAC,GAAG,IAAI,CAAChK,OAAO,CAACkS,gBAAgB,CAAC,GAAG,GAAGzS,UAAU,CAAC2Q,IAAI,CAACmC,aAAa,GAAG,GAAG,CAAC;EAChF,KAAK5S,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGqK,CAAC,CAACiB,MAAM,EAAEtL,CAAC,EAAE,EAAEqK,CAAC,CAACrK,CAAC,CAAC,CAACyO,KAAK,CAAC4D,OAAO,GAAG,EAAE;EACtD,IAAI,CAACjI,6BAA6B,GAAG,CAAC,CAAC;AAC3C,CAAC,EAAEtK,UAAU,CAAC2J,SAAS,CAACoJ,OAAO,GAAG,UAAU9S,CAAC,EAAEC,CAAC,EAAE;EAC9C,KAAK,IAAIC,CAAC,GAAG,IAAI,CAACkP,OAAO,CAACnP,CAAC,CAAC,EAAEC,CAAC,GAAG;IAC9B,IAAIA,CAAC,CAACyL,EAAE,IAAI3L,CAAC,EAAE,OAAO,CAAC,CAAC;IACxBE,CAAC,GAAGA,CAAC,CAAC6S,MAAM,GAAG7S,CAAC,CAAC6S,MAAM,GAAG7S,CAAC,CAAC8S,QAAQ;EACxC;EACA,OAAO,CAAC,CAAC;AACb,CAAC,EAAEjT,UAAU,CAAC2J,SAAS,CAACuJ,eAAe,GAAG,UAAUjT,CAAC,EAAE;EACnD,KAAK,IAAIC,CAAC,GAAG,EAAE,EAAEC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,CAAC,CAACkT,WAAW,CAAC3H,MAAM,EAAErL,CAAC,EAAE,EAAE;IACnD,IAAIqB,CAAC,GAAG,IAAI,CAAC6N,OAAO,CAACpP,CAAC,CAACkT,WAAW,CAAChT,CAAC,CAAC,CAAC;IACtC,CAAC,IAAIqB,CAAC,CAAC4R,SAAS,IAAIlT,CAAC,CAACmT,IAAI,CAAC7R,CAAC,CAACoK,EAAE,CAAC;EACpC;EACA,OAAO1L,CAAC;AACZ,CAAC,EAAEF,UAAU,CAAC2J,SAAS,CAAC2J,UAAU,GAAG,YAAY;EAC7C,IAAI,IAAI,CAACnR,OAAO,CAACkG,KAAK,EAAE;IACpB,IAAIpI,CAAC,GAAG,CAAC,CAAC;IACV,OAAOA,CAAC,CAACsT,GAAG,GAAG,IAAI,CAACpR,OAAO,CAACkG,KAAK,CAACkL,GAAG,CAACC,IAAI,CAAC,GAAG,CAAC,EAAEvT,CAAC,CAACmG,GAAG,GAAG,IAAI,CAACjE,OAAO,CAACkG,KAAK,CAACjC,GAAG,CAACoN,IAAI,CAAC,GAAG,CAAC,EAAEvT,CAAC,CAACwT,SAAS,GAAG,IAAI,CAACtR,OAAO,CAACkG,KAAK,CAACoL,SAAS,CAAC5D,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC1N,OAAO,CAACkG,KAAK,CAACoL,SAAS,CAAClG,CAAC,EAAEtN,CAAC,CAACkD,KAAK,GAAG,IAAI,CAAChB,OAAO,CAACkG,KAAK,CAAClF,KAAK,EAAElD,CAAC,CAACsN,CAAC,GAAG,IAAI,CAACpL,OAAO,CAACkG,KAAK,CAACwH,CAAC,EAAE5P,CAAC,CAAC4P,CAAC,GAAG,IAAI,CAAC1N,OAAO,CAACkG,KAAK,CAACkF,CAAC,EAAE,IAAImG,eAAe,CAACzT,CAAC,CAAC,CAACiP,QAAQ,CAAC,CAAC;EACjT;EACA,OAAO,EAAE;AACb,CAAC,EAAElP,UAAU,CAAC2J,SAAS,CAACgK,UAAU,GAAG,YAAY;EAC7C,SAAU;IACN,IAAI1T,CAAC,GAAG,GAAG,GAAG,CAAC,MAAM,GAAG,CAAC2T,IAAI,CAACC,MAAM,CAAC,CAAC,GAAGD,IAAI,CAACE,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,EAAE5E,QAAQ,CAAC,EAAE,CAAC,EAAEE,KAAK,CAAC,CAAC,CAAC,CAAC;IACrF,IAAI,IAAI,IAAI,IAAI,CAAC5K,KAAK,IAAI,CAAC,IAAI,CAACA,KAAK,CAACuP,cAAc,CAAC9T,CAAC,CAAC,EAAE,OAAOA,CAAC;EACrE;AACJ,CAAC,EAAED,UAAU,CAAC2J,SAAS,CAACqK,sBAAsB,GAAG,UAAU/T,CAAC,EAAEC,CAAC,EAAE;EAC7D,KAAK,IAAIC,CAAC,GAAG,IAAI,EAAEqB,CAAC,GAAG,IAAI,CAACiL,MAAM,CAAC,CAAC,EAAEhL,CAAC,GAAG,IAAI,CAAC6B,UAAU,CAAC,CAAC,EAAEiH,CAAC,GAAG,IAAI,EAAES,CAAC,GAAG,IAAI,EAAEC,CAAC,GAAG,IAAI,EAAEE,CAAC,GAAG,IAAI,EAAEC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGnL,CAAC,CAACuL,MAAM,EAAEJ,CAAC,EAAE,EAAE;IAC3H,IAAIG,CAAC,GAAG,IAAI,CAAC/G,KAAK,CAACvE,CAAC,CAACmL,CAAC,CAAC,CAAC;IACxB,CAAC,IAAI,KAAKb,CAAC,IAAIA,CAAC,GAAGgB,CAAC,CAACsE,CAAC,GAAGtE,CAAC,CAAC+D,CAAC,MAAM/E,CAAC,GAAGgB,CAAC,CAACsE,CAAC,GAAGtE,CAAC,CAAC+D,CAAC,CAAC,EAAE,CAAC,IAAI,KAAKtE,CAAC,IAAIA,CAAC,GAAGO,CAAC,CAACgC,CAAC,GAAGhC,CAAC,CAACiB,CAAC,MAAMxB,CAAC,GAAGO,CAAC,CAACgC,CAAC,GAAGhC,CAAC,CAACiB,CAAC,CAAC,EAAE,CAAC,IAAI,KAAKvB,CAAC,IAAIA,CAAC,GAAGM,CAAC,CAACsE,CAAC,MAAM5E,CAAC,GAAGM,CAAC,CAACsE,CAAC,CAAC,EAAE,CAAC,IAAI,KAAK1E,CAAC,IAAIA,CAAC,GAAGI,CAAC,CAACgC,CAAC,MAAMpC,CAAC,GAAGI,CAAC,CAACgC,CAAC,CAAC;EAClL;EACA,IAAI9B,CAAC,GAAG,IAAI,CAACrB,KAAK,CAAC,CAAC;IAAEsB,CAAC,GAAG,IAAI,CAACrB,MAAM,CAAC,CAAC;IAAEmC,CAAC,GAAGf,CAAC,IAAI0C,CAAC,GAAG5D,CAAC,GAAGU,CAAC,GAAG,CAAC,GAAG,IAAI,CAACzK,MAAM,CAAC+C,OAAO,CAAC;IAClFmJ,CAAC,GAAGhB,CAAC,IAAI4C,CAAC,GAAGtD,CAAC,GAAGG,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC3K,MAAM,CAAC+C,OAAO,CAAC;IAAE+J,CAAC,GAAGd,CAAC,GAAGE,CAAC,GAAGA,CAAC,GAAGF,CAAC;IAAEe,CAAC,GAAGqG,IAAI,CAACK,IAAI,CAACxI,CAAC,GAAG6B,CAAC,CAAC;IAAEY,CAAC,GAAG0F,IAAI,CAACK,IAAI,CAACvI,CAAC,GAAG4B,CAAC,CAAC;IAC5Ga,CAAC,GAAG,CAAC;IAAEG,CAAC,GAAG,CAAC;EAChB,IAAIf,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC/M,MAAM,CAAC+C,OAAO,IAAIgH,CAAC,GAAGU,CAAC,EAAEkD,CAAC,GAAG,CAAC5D,CAAC,GAAGU,CAAC,IAAI,CAAC,GAAGsC,CAAC,GAAG,CAAC,CAAC,KAAM,QAAQY,CAAC,GAAG+F,SAAS,CAACrE,CAAC,GAAGtC,CAAC,GAAG,CAAC,GAAGvN,UAAU,CAACmC,OAAO,CAACgS,aAAa,CAACD,SAAS,EAAE,IAAI,CAAC1T,MAAM,CAAC,GAAG,CAAC,EAAE,IAAI,CAACA,MAAM,CAACK,WAAW;IAC3L,KAAKb,UAAU,CAACa,WAAW,CAACuT,KAAK;IACjC,KAAKpU,UAAU,CAACa,WAAW,CAACwT,SAAS;MACjC,CAAClG,CAAC,GAAG,EAAEZ,CAAC,GAAG,CAAC,GAAG,CAACtC,CAAC,GAAGV,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC/J,MAAM,CAAC+C,OAAO,GAAGgK,CAAC,KAAKY,CAAC,GAAG,IAAI,CAAC3N,MAAM,CAAC+C,OAAO,GAAGgK,CAAC,CAAC;MACvF;IACJ,KAAKvN,UAAU,CAACa,WAAW,CAAC2O,IAAI;IAChC,KAAKxP,UAAU,CAACa,WAAW,CAACyT,WAAW;IACvC,KAAKtU,UAAU,CAACa,WAAW,CAAC0T,QAAQ;IACpC,KAAKvU,UAAU,CAACa,WAAW,CAAC2T,QAAQ;MAChC,CAACrG,CAAC,GAAG,EAAEZ,CAAC,GAAG,CAAC,GAAG,CAAChD,CAAC,GAAGU,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAACzK,MAAM,CAAC+C,OAAO,KAAK4K,CAAC,GAAG,CAAC,IAAI,CAAC3N,MAAM,CAAC+C,OAAO,CAAC;EACzF;EACA,IAAI2K,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC1N,MAAM,CAAC+C,OAAO,IAAIyH,CAAC,GAAGG,CAAC,EAAEmD,CAAC,GAAG,CAACtD,CAAC,GAAGG,CAAC,IAAI,CAAC,GAAG+C,CAAC,GAAG,CAAC,CAAC,KAAM,QAAQ,CAACI,CAAC,GAAG,EAAEJ,CAAC,GAAG,CAAC,GAAG,CAAClD,CAAC,GAAGG,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC3K,MAAM,CAAC+C,OAAO,KAAK+K,CAAC,GAAG,CAAC,IAAI,CAAC9N,MAAM,CAAC+C,OAAO,CAAC,EAAE,IAAI,CAAC/C,MAAM,CAACK,WAAW;IACtL,KAAKb,UAAU,CAACa,WAAW,CAAC4T,MAAM;IAClC,KAAKzU,UAAU,CAACa,WAAW,CAACyT,WAAW;MACnC,CAAChG,CAAC,GAAG,EAAEJ,CAAC,GAAG,CAAC,GAAG,CAAC/C,CAAC,GAAGH,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAACxK,MAAM,CAAC+C,OAAO,GAAG2K,CAAC,KAAKI,CAAC,GAAG,IAAI,CAAC9N,MAAM,CAAC+C,OAAO,GAAG2K,CAAC,CAAC;MACvF;IACJ,KAAKlO,UAAU,CAACa,WAAW,CAAC2O,IAAI;IAChC,KAAKxP,UAAU,CAACa,WAAW,CAACuT,KAAK;MAC7B9F,CAAC,GAAG4F,SAAS,CAAC3G,CAAC,GAAGW,CAAC,GAAG,CAAC,GAAGlO,UAAU,CAACmC,OAAO,CAACgS,aAAa,CAACD,SAAS,EAAE,IAAI,CAAC1T,MAAM,CAAC,GAAG,CAAC;EAC9F;EACA,IAAI8L,CAAC,GAAG,CAAC6B,CAAC,EAAEG,CAAC,EAAEf,CAAC,EAAEW,CAAC,CAAC;EACpBzM,CAAC,CAAC,CAAC,CAAC,KAAK6K,CAAC,CAAC,CAAC,CAAC,IAAI7K,CAAC,CAAC,CAAC,CAAC,KAAK6K,CAAC,CAAC,CAAC,CAAC,GAAGtM,UAAU,CAAC0N,OAAO,CAAClM,CAAC,EAAE;IAAC6B,OAAO,EAAE5B;EAAC,CAAC,EAAE;IAAC4B,OAAO,EAAEiJ;EAAC,CAAC,EAAE,IAAI,CAAC9L,MAAM,CAACsH,IAAI,CAACG,QAAQ,EAAE,IAAI,CAACzH,MAAM,CAACsH,IAAI,CAACC,IAAI,EAAG,YAAY;IAC9I5H,CAAC,CAACgK,IAAI,CAACnK,UAAU,CAAC0D,MAAM,CAACoB,MAAM,EAAE,KAAK,CAAC,EAAE5E,CAAC,CAAC;EAC/C,CAAE,CAAC,GAAGA,CAAC,IAAIA,CAAC,CAAC,CAAC;AAClB,CAAC,EAAEF,UAAU,CAAC2J,SAAS,CAAC+K,oBAAoB,GAAG,UAAUzU,CAAC,EAAE;EACxD,OAAO,CAACA,CAAC,CAAC+S,MAAM,IAAI,CAAChT,UAAU,CAACgS,KAAK,CAAC/R,CAAC,CAAC0U,GAAG,CAAC,IAAI,IAAI,CAACtF,OAAO,CAACpP,CAAC,CAAC0U,GAAG,CAAC;AACvE,CAAC,EAAE3U,UAAU,CAAC2J,SAAS,CAACiL,OAAO,GAAG,YAAY;EAC1C,IAAI,CAACC,YAAY,CAACC,MAAM,EAAE,QAAQ,CAAC,EAAE9U,UAAU,CAAC2E,MAAM,CAACoQ,gBAAgB,CAAC,IAAI,CAACpT,SAAS,CAAC,EAAE,IAAI,CAACpB,OAAO,CAAC0M,SAAS,GAAG,IAAI;AAC1H,CAAC,EAAEjN,UAAU,CAACgV,eAAe,GAAGhV,UAAU,CAACU,cAAc,EAAEV,UAAU,CAACU,cAAc,GAAG,UAAUT,CAAC,EAAE;EAChG,IAAIC,CAAC,GAAGF,UAAU,CAACgV,eAAe,CAAC,CAAC;EACpC,OAAO9U,CAAC,CAAC+U,YAAY,GAAG,IAAI,EAAE/U,CAAC,CAACiG,QAAQ,GAAG,OAAO,EAAEjG,CAAC,CAAC8D,IAAI,GAAG,OAAO,EAAE9D,CAAC,CAAC8G,oBAAoB,GAAG,EAAE,EAAE9G,CAAC,CAAC+G,8BAA8B,GAAG,EAAE,EAAE/G,CAAC,CAACgB,iBAAiB,GAAG,EAAE,EAAEhB,CAAC,CAACqB,IAAI,CAAC,gBAAgB,CAAC,GAAG;IAC3L4E,QAAQ,EAAE,QAAQ;IAClBzE,aAAa,EAAE;MAACR,iBAAiB,EAAE,CAAC;MAAEE,OAAO,EAAE;IAAC;EACpD,CAAC,EAAEnB,CAAC,IAAIA,CAAC,CAACkG,QAAQ,IAAIjG,CAAC,CAACqB,IAAI,CAAC2T,IAAI,GAAG;IAAC/O,QAAQ,EAAElG,CAAC,CAACkG,QAAQ,GAAG;EAAO,CAAC,EAAEjG,CAAC,CAACqB,IAAI,CAAC4T,MAAM,GAAG;IAAChP,QAAQ,EAAElG,CAAC,CAACkG,QAAQ,GAAG;EAAS,CAAC,KAAKjG,CAAC,CAACqB,IAAI,CAAC2T,IAAI,GAAG;IAAC/O,QAAQ,EAAEjG,CAAC,CAACiG,QAAQ,GAAG;EAAO,CAAC,EAAEjG,CAAC,CAACqB,IAAI,CAAC4T,MAAM,GAAG;IAAChP,QAAQ,EAAEjG,CAAC,CAACiG,QAAQ,GAAG;EAAS,CAAC,CAAC,EAAEjG,CAAC;AACvO,CAAC,EAAEF,UAAU,CAAC2J,SAAS,CAACyL,sBAAsB,GAAG,UAAUnV,CAAC,EAAE;EAC1D,IAAI,CAACoV,WAAW,KAAK,IAAI,CAACA,WAAW,GAAG,EAAE,CAAC;EAC3C,IAAInV,CAAC,GAAG,IAAI,CAACmV,WAAW;IAAElV,CAAC,GAAG,IAAI,CAACkP,OAAO,CAACpP,CAAC,CAAC;EAC7C,OAAOE,CAAC,IAAIA,CAAC,CAACmV,IAAI,CAACC,IAAI,CAAE,UAAUtV,CAAC,EAAEE,CAAC,EAAE;IACrC,IAAIqB,CAAC,GAAGtB,CAAC,CAACsV,OAAO,CAACvV,CAAC,CAAC;MAAEwB,CAAC,GAAGvB,CAAC,CAACsV,OAAO,CAACrV,CAAC,CAAC;IACtC,OAAO,CAAC,CAAC,IAAIqB,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,IAAIC,CAAC,GAAG,CAAC,GAAG,GAAGD,CAAC,GAAGC,CAAC;EACjD,CAAE,CAAC,EAAEtB,CAAC,CAACmV,IAAI,IAAI,EAAE;AACrB,CAAC,EAAEtV,UAAU,CAAC2J,SAAS,CAAC+K,oBAAoB,GAAG,UAAUzU,CAAC,EAAE;EACxD,OAAO,EAAEA,CAAC,CAAC+S,MAAM,IAAIhT,UAAU,CAACgS,KAAK,CAAC/R,CAAC,CAAC0U,GAAG,CAAC,IAAI,CAAC,IAAI,CAACtF,OAAO,CAACpP,CAAC,CAAC0U,GAAG,CAAC,CAAC,IAAK,EAAE,CAAC1U,CAAC,CAACwV,SAAS,IAAIzV,UAAU,CAACgS,KAAK,CAAC/R,CAAC,CAACyV,GAAG,CAAC,IAAI,CAAC,IAAI,CAACrG,OAAO,CAACpP,CAAC,CAACyV,GAAG,CAAC,CAAC,IAAK,EAAE,CAACzV,CAAC,CAACwV,SAAS,IAAIzV,UAAU,CAACgS,KAAK,CAAC/R,CAAC,CAAC0V,GAAG,CAAC,IAAI,CAAC,IAAI,CAACtG,OAAO,CAACpP,CAAC,CAAC0V,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE1V,CAAC,CAACwV,SAAS,IAAIxV,CAAC,CAAC2V,IAAI,CAACpK,MAAM,GAAG,CAAC,CAAG;AACjQ,CAAC,EAAExL,UAAU,CAAC2J,SAAS,CAACkM,OAAO,GAAG7V,UAAU,CAAC2J,SAAS,CAACuG,MAAM,EAAElQ,UAAU,CAAC2J,SAAS,CAACuG,MAAM,GAAG,UAAUjQ,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EAC5G,IAAIqB,CAAC,GAAG,IAAI,CAAC4T,sBAAsB,CAACnV,CAAC,CAAC;EACtC6V,KAAK,CAACC,OAAO,CAAC,IAAI,CAACvV,MAAM,CAAC4H,KAAK,CAAC,KAAKA,KAAK,GAAG,EAAE,CAAC,EAAEpI,UAAU,CAACgW,iBAAiB,CAAC,IAAI,CAACxV,MAAM,CAAC4H,KAAK,EAAE5G,CAAC,EAAE,IAAI,CAACW,OAAO,CAAC8T,QAAQ,CAAC,EAAE,IAAI,CAACJ,OAAO,CAAC5V,CAAC,EAAEC,CAAC,EAAEC,CAAC,CAAC;AACtJ,CAAC,EAAEH,UAAU,CAACkW,YAAY,GAAG,CAAC,CAAC,EAAElW,UAAU,CAACkW,YAAY,CAACC,OAAO,GAAG,UAAUlW,CAAC,EAAE;EAC5E,IAAIC,CAAC,GAAGgW,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC;EACvC,IAAIjW,CAAC,EAAE;IACH,IAAI,CAACA,CAAC,GAAG,IAAIkW,IAAI,CAAClW,CAAC,CAAC,IAAI,IAAIkW,IAAI,CAAD,CAAC,EAAE;MAC9B,KAAK,IAAIjW,CAAC,GAAG,CAAC,EAAEqB,CAAC,GAAG0U,YAAY,CAAC1K,MAAM,EAAErL,CAAC,GAAGqB,CAAC,EAAE,EAAErB,CAAC,EAAE;QACjD,IAAIsB,CAAC,GAAGyU,YAAY,CAACG,GAAG,CAAClW,CAAC,CAAC;QAC3BsB,CAAC,IAAIA,CAAC,CAAC6U,UAAU,IAAI7U,CAAC,CAAC6U,UAAU,CAAC,MAAM,CAAC,IAAIJ,YAAY,CAACK,UAAU,CAAC9U,CAAC,CAAC;MAC3E;MACAyU,YAAY,CAACK,UAAU,CAAC,SAAS,CAAC;IACtC;EACJ,CAAC,MAAM,CAACrW,CAAC,GAAG,IAAIkW,IAAI,CAAD,CAAC,EAAEI,OAAO,CAACtW,CAAC,CAACuW,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,EAAEvW,CAAC,GAAGA,CAAC,CAACwW,WAAW,CAAC,CAAC,EAAER,YAAY,CAACS,OAAO,CAAC,SAAS,EAAEzW,CAAC,CAAC;EACvG,OAAOgW,YAAY,CAACC,OAAO,CAAClW,CAAC,CAAC;AAClC,CAAC,EAAED,UAAU,CAACkW,YAAY,CAACS,OAAO,GAAG,UAAU1W,CAAC,EAAEC,CAAC,EAAE;EACjD,IAAI;IACAgW,YAAY,CAACS,OAAO,CAAC1W,CAAC,EAAEC,CAAC,CAAC;EAC9B,CAAC,CAAC,OAAOD,CAAC,EAAE;IACRA,CAAC,CAAC2W,IAAI,IAAI3W,CAAC,CAAC4W,kBAAkB,IAAIpI,OAAO,CAACqI,IAAI,CAAC,8BAA8B,CAAC,EAAEZ,YAAY,CAACa,KAAK,CAAC,CAAC,KAAKtI,OAAO,CAACC,KAAK,CAAC,2BAA2B,GAAGzO,CAAC,CAAC2W,IAAI,CAAC,EAAEnI,OAAO,CAACC,KAAK,CAACzO,CAAC,CAAC,CAAC;EACnL;AACJ,CAAC,EAAED,UAAU,CAAC2J,SAAS,CAACqN,aAAa,GAAG,UAAU/W,CAAC,EAAEC,CAAC,EAAE;EACpD,IAAI,IAAI,IAAIA,CAAC,IAAI,IAAI,IAAIA,CAAC,EAAE,OAAO,CAAC,CAAC;EACrC,IAAI,IAAI,IAAID,CAAC,IAAI,IAAI,IAAIA,CAAC,EAAE,OAAO,CAAC,CAAC;EACrC,IAAIA,CAAC,IAAIC,CAAC,EAAE,OAAO,CAAC,CAAC;EACrB,IAAIC,CAAC,GAAG,IAAI,CAACkP,OAAO,CAACnP,CAAC,CAAC;IAAEsB,CAAC,GAAG,IAAI,CAAC6N,OAAO,CAACpP,CAAC,CAAC;EAC5C,OAAO,EAAEE,CAAC,IAAIqB,CAAC,KAAKrB,CAAC,CAACsV,SAAS,IAAItV,CAAC,CAAC8W,WAAW,IAAIzV,CAAC,CAAC0V,WAAW,IAAI/W,CAAC,CAACgX,aAAa,IAAI3V,CAAC,CAACiU,SAAS,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC1C,OAAO,CAAC9S,CAAC,EAAEC,CAAC,CAAC;AAChI,CAAC,EAAEF,UAAU,CAAC2J,SAAS,CAACyN,cAAc,GAAGpX,UAAU,CAAC2J,SAAS,CAACqN,aAAa,EAAEhX,UAAU,CAAC2J,SAAS,CAAC0N,UAAU,GAAG,UAAUpX,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EAC9H,IAAIqB,CAAC,GAAG,IAAI;IAAEC,CAAC,GAAG,IAAI,CAAC6V,GAAG,CAACrX,CAAC,CAAC2L,EAAE,CAAC;EAChC,IAAI,CAAC,CAAC,KAAKzL,CAAC,IAAI,CAAC,CAAC,KAAKH,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,QAAQ,EAAE,CAAC,IAAI,EAAEnD,CAAC,EAAExB,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;EACnF,IAAI,CAAC6E,MAAM,CAAC7E,CAAC,CAAC,EAAED,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC1C,QAAQ,CAAC4C,MAAM,CAAC,CAAC;EACpF,IAAIyF,CAAC,GAAG,IAAI,CAAC8E,OAAO,CAACpP,CAAC,CAAC2L,EAAE,CAAC;IAAEZ,CAAC,GAAGT,CAAC,CAACoK,GAAG;EACrC,IAAI,IAAI3J,CAAC,KAAKA,CAAC,GAAGT,CAAC,CAACgN,KAAK,CAAC,EAAE,IAAI,CAAC9T,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAACoB,MAAM,EAAE;IAAC8G,EAAE,EAAEZ;EAAC,CAAC,EAAG,YAAY;IACvFxJ,CAAC,CAACqM,MAAM,CAAC5N,CAAC,CAAC2L,EAAE,CAAC,EAAE1L,CAAC,IAAIA,CAAC,CAAC,CAAC;EAC5B,CAAE,CAAC;AACP,CAAC,EAAEF,UAAU,CAAC2J,SAAS,CAAC7E,MAAM,GAAG,UAAU7E,CAAC,EAAE;EAC1C,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACM,MAAM,CAACgE,KAAK,CAACgH,MAAM,EAAEtL,CAAC,EAAE,EAAE,IAAI,IAAI,CAACM,MAAM,CAACgE,KAAK,CAACtE,CAAC,CAAC,CAAC0L,EAAE,IAAI3L,CAAC,CAAC2L,EAAE,EAAE;IACpF,IAAI,CAAC4L,eAAe,CAAC,CAAC,EAAE,IAAI,CAACC,SAAS,CAAC,CAAC,EAAE,IAAI,CAACjX,MAAM,CAACgE,KAAK,CAACtE,CAAC,CAAC,GAAGD,CAAC;IAClE;EACJ;EACA,OAAO,IAAI;AACf,CAAC,EAAED,UAAU,CAAC2J,SAAS,CAAC+N,UAAU,GAAG,UAAUzX,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACpD,IAAIqB,CAAC,GAAG,IAAI;EACZ,IAAI,CAAC,IAAI,CAACmW,SAAS,CAAC1X,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;EACjC,IAAIwB,CAAC,GAAG,IAAI,CAACmW,0BAA0B,CAAC3X,CAAC,CAAC;EAC1C,IAAI,CAAC,CAAC,KAAKE,CAAC,IAAI,CAAC,CAAC,KAAKH,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,QAAQ,EAAE,CAAC,IAAI,EAAE3E,CAAC,EAAEwB,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;EACnF,OAAO,IAAI,CAACgI,MAAM,CAACxJ,CAAC,CAAC,EAAED,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC1C,QAAQ,CAAC4C,MAAM,CAAC,CAAC,EAAE,IAAI,CAACrB,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAACoB,MAAM,EAAE,IAAI,EAAG,YAAY;IACrJtD,CAAC,CAAChB,MAAM,CAACkF,MAAM,IAAI1F,UAAU,CAAC6R,mBAAmB,CAACrQ,CAAC,CAACiL,MAAM,CAAC,CAAC,EAAEjL,CAAC,CAAC8B,UAAU,CAAC,CAAC,EAAE9B,CAAC,CAAC0B,QAAQ,CAACD,QAAQ,CAAC,EAAE/C,CAAC,IAAIA,CAAC,CAAC,CAAC;EAChH,CAAE,CAAC,EAAE,CAAC,CAAC;AACX,CAAC,EAAEF,UAAU,CAAC2J,SAAS,CAACF,MAAM,GAAG,UAAUxJ,CAAC,EAAE;EAC1C,IAAIC,CAAC,GAAG,IAAI,CAACoX,GAAG,CAACrX,CAAC,CAAC;EACnB,IAAIC,CAAC,EAAE;IACH,IAAI,CAACsX,eAAe,CAAC,CAAC,EAAE,IAAI,CAACC,SAAS,CAAC,CAAC;IACxC,KAAK,IAAItX,CAAC,GAAG,IAAI,CAACK,MAAM,CAACgE,KAAK,CAACgH,MAAM,GAAG,CAAC,EAAErL,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE,IAAI,CAACK,MAAM,CAACgE,KAAK,CAACrE,CAAC,CAAC,CAACwU,GAAG,IAAI1U,CAAC,IAAI,IAAI,CAACO,MAAM,CAACgE,KAAK,CAACrE,CAAC,CAAC,CAACoX,KAAK,IAAItX,CAAC,KAAK,IAAI,CAACO,MAAM,CAACgE,KAAK,CAACrE,CAAC,CAAC,CAACwU,GAAG,GAAGzU,CAAC,CAACyU,GAAG,EAAE,IAAI,CAACnU,MAAM,CAACgE,KAAK,CAACrE,CAAC,CAAC,CAACoX,KAAK,GAAGrX,CAAC,CAACqX,KAAK,CAAC,EAAE,IAAI,CAAC/W,MAAM,CAACgE,KAAK,CAACrE,CAAC,CAAC,CAACyL,EAAE,IAAI3L,CAAC,IAAI,IAAI,CAACO,MAAM,CAACgE,KAAK,CAACqT,MAAM,CAAC1X,CAAC,EAAE,CAAC,CAAC;EACxQ;EACA,OAAO,IAAI;AACf,CAAC,EAAEH,UAAU,CAAC2J,SAAS,CAACiO,0BAA0B,GAAG,UAAU3X,CAAC,EAAE;EAC9D,IAAIC,CAAC,GAAG,IAAI,CAACoX,GAAG,CAACrX,CAAC,CAAC;IAAEE,CAAC,GAAG,CAAC,CAAC;IAAEqB,CAAC,GAAG,CAAC,CAAC;EACnC,IAAItB,CAAC,EAAE,KAAK,IAAIuB,CAAC,GAAG,IAAI,CAACjB,MAAM,CAACgE,KAAK,CAACgH,MAAM,GAAG,CAAC,EAAE/J,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE,IAAI,CAACjB,MAAM,CAACgE,KAAK,CAAC/C,CAAC,CAAC,CAACkT,GAAG,IAAI1U,CAAC,GAAGE,CAAC,CAAC,IAAI,CAACK,MAAM,CAACgE,KAAK,CAAC/C,CAAC,CAAC,CAACmK,EAAE,CAAC,GAAG1L,CAAC,CAACyU,GAAG,GAAG,IAAI,CAACnU,MAAM,CAACgE,KAAK,CAAC/C,CAAC,CAAC,CAAC8V,KAAK,IAAItX,CAAC,KAAKuB,CAAC,CAAC,IAAI,CAAChB,MAAM,CAACgE,KAAK,CAAC/C,CAAC,CAAC,CAACmK,EAAE,CAAC,GAAG1L,CAAC,CAACqX,KAAK,CAAC;EAC7M,OAAO;IAACO,aAAa,EAAE3X,CAAC;IAAE4X,eAAe,EAAEvW;EAAC,CAAC;AACjD,CAAC,EAAExB,UAAU,CAAC2J,SAAS,CAACqO,OAAO,GAAG,UAAU/X,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACjD,IAAIqB,CAAC,GAAG,IAAI;EACZ,IAAI,CAAC,CAAC,KAAKrB,CAAC,IAAI,CAAC,CAAC,KAAKH,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,KAAK,EAAE,CAAC,IAAI,EAAE3E,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;EAC7E,IAAI,CAAC8D,GAAG,CAAC9D,CAAC,CAAC,EAAED,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC1C,QAAQ,CAAC4C,MAAM,CAAC,CAAC,EAAEtD,CAAC,CAACiC,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAAC2I,MAAM,EAAE;IACrHT,EAAE,EAAE3L,CAAC,CAAC0U,GAAG;IACTsD,cAAc,EAAEhY,CAAC,CAAC2L;EACtB,CAAC,EAAG,YAAY;IACZpK,CAAC,CAACqM,MAAM,CAAC5N,CAAC,CAAC2L,EAAE,CAAC,EAAE1L,CAAC,IAAIA,CAAC,CAAC,CAAC;EAC5B,CAAE,CAAC;AACP,CAAC,EAAEF,UAAU,CAAC2J,SAAS,CAAC5F,GAAG,GAAG,UAAU9D,CAAC,EAAE;EACvC,IAAI,IAAI,IAAIA,CAAC,CAAC2L,EAAE,IAAI6C,OAAO,CAACC,KAAK,CAAC,yBAAyB,CAAC,EAAE,IAAI,CAAC8I,eAAe,CAAC,CAAC,EAAE,IAAI,CAACC,SAAS,CAAC,CAAC,EAAE,IAAI,CAACjX,MAAM,CAAC6G,SAAS,IAAI,CAACrH,UAAU,CAACgS,KAAK,CAAC/R,CAAC,CAAC0U,GAAG,CAAC,EAAE;IACvJ,IAAIzU,CAAC,GAAG,IAAI,CAACyL,IAAI,CAAC1L,CAAC,CAAC0U,GAAG,CAAC;IACxBzU,CAAC,KAAK,IAAI,IAAIA,CAAC,CAACgY,KAAK,KAAKjY,CAAC,CAACiY,KAAK,GAAGhY,CAAC,CAACgY,KAAK,CAAC,EAAE,IAAI,IAAIhY,CAAC,CAACiY,KAAK,KAAKlY,CAAC,CAACkY,KAAK,GAAGjY,CAAC,CAACiY,KAAK,CAAC,CAAC;EACzF;EACA,OAAO,IAAI,CAAC3X,MAAM,CAACgE,KAAK,CAAC6O,IAAI,CAACpT,CAAC,CAAC,EAAE,IAAI;AAC1C,CAAC,EAAED,UAAU,CAAC2J,SAAS,CAACyO,UAAU,GAAG,UAAUnY,CAAC,EAAEC,CAAC,EAAE;EACjD,IAAI,CAACmY,WAAW,CAACpY,CAAC,CAAC,EAAE,IAAI,CAACwD,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAACoB,MAAM,EAAE,KAAK,CAAC,EAAE5E,CAAC,CAAC;AAC5E,CAAC,EAAEF,UAAU,CAAC2J,SAAS,CAAC0O,WAAW,GAAG,UAAUpY,CAAC,EAAE;EAC/C,KAAK,IAAIC,CAAC,GAAG,SAAAA,CAAUA,CAAC,EAAE;MACtB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,CAAC,CAACsL,MAAM,EAAErL,CAAC,EAAE,EAAE;QAC/B,IAAIqB,CAAC,GAAGtB,CAAC,CAACC,CAAC,CAAC;QACZ,KAAK,IAAIsB,CAAC,IAAIxB,CAAC,EAAE;UACb,IAAIsK,CAAC,GAAGtK,CAAC,CAACwB,CAAC,CAAC;UACZD,CAAC,CAAC8W,IAAI,IAAI7W,CAAC,KAAKD,CAAC,CAAC8W,IAAI,GAAG/N,CAAC,CAAC,EAAE/I,CAAC,CAAC+W,EAAE,IAAI9W,CAAC,KAAKD,CAAC,CAAC+W,EAAE,GAAGhO,CAAC,CAAC;QACxD;MACJ;IACJ,CAAC,EAAEpK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACK,MAAM,CAACgE,KAAK,CAACgH,MAAM,EAAErL,CAAC,EAAE,EAAE;IACzC,IAAIqB,CAAC,GAAG,IAAI,CAAChB,MAAM,CAACgE,KAAK,CAACrE,CAAC,CAAC;IAC5B,KAAK,IAAIsB,CAAC,IAAIxB,CAAC,EAAE;MACb,IAAIsK,CAAC,GAAGtK,CAAC,CAACwB,CAAC,CAAC;MACZD,CAAC,CAACoK,EAAE,IAAInK,CAAC,KAAKD,CAAC,CAACoK,EAAE,GAAGrB,CAAC,CAAC,EAAE/I,CAAC,CAACmT,GAAG,IAAIlT,CAAC,KAAKD,CAAC,CAACmT,GAAG,GAAGpK,CAAC,CAAC,EAAE/I,CAAC,CAAC+V,KAAK,IAAI9V,CAAC,KAAKD,CAAC,CAAC+V,KAAK,GAAGhN,CAAC,CAAC,EAAE/I,CAAC,CAACgX,IAAI,IAAI/W,CAAC,KAAKD,CAAC,CAACgX,IAAI,GAAGjO,CAAC,CAAC;IAClH;EACJ;EACA,IAAIuL,KAAK,CAACC,OAAO,CAAC,IAAI,CAACvV,MAAM,CAAC4H,KAAK,CAAC,EAAE,KAAKjI,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACK,MAAM,CAAC4H,KAAK,CAACoD,MAAM,EAAErL,CAAC,EAAE,EAAEH,UAAU,CAACgS,KAAK,CAAC/R,CAAC,CAAC,IAAI,CAACO,MAAM,CAAC4H,KAAK,CAACjI,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,CAACK,MAAM,CAAC4H,KAAK,CAACjI,CAAC,CAAC,GAAGF,CAAC,CAAC,IAAI,CAACO,MAAM,CAAC4H,KAAK,CAACjI,CAAC,CAAC,CAAC,CAAC;EAClL,IAAI,IAAI,CAACqE,KAAK,EAAE,KAAK,IAAIwG,CAAC,IAAI,IAAI,CAACxG,KAAK,EAAE,IAAI,CAACxE,UAAU,CAACgS,KAAK,CAAC/R,CAAC,CAAC+K,CAAC,CAAC,CAAC,EAAE;IACnET,CAAC,GAAGtK,CAAC,CAAC+K,CAAC,CAAC;IACR,CAACC,CAAC,GAAG,IAAI,CAACzG,KAAK,CAACwG,CAAC,CAAC,EAAEY,EAAE,GAAGrB,CAAC,EAAE,IAAI,CAAC/F,KAAK,CAAC+F,CAAC,CAAC,GAAGU,CAAC;EACjD;EACA,IAAI,IAAI,CAAC9I,OAAO,CAACsW,QAAQ,EAAE,KAAK,IAAIzN,CAAC,IAAI,IAAI,CAAC7I,OAAO,CAACsW,QAAQ,EAAE,IAAI,CAACzY,UAAU,CAACgS,KAAK,CAAC/R,CAAC,CAAC+K,CAAC,CAAC,CAAC,EAAE;IACzFT,CAAC,GAAGtK,CAAC,CAAC+K,CAAC,CAAC;IACR,CAACC,CAAC,GAAG,IAAI,CAAC9I,OAAO,CAACsW,QAAQ,CAACzN,CAAC,CAAC,EAAEY,EAAE,GAAGrB,CAAC,EAAE,IAAI,CAACpI,OAAO,CAACsW,QAAQ,CAAClO,CAAC,CAAC,GAAGU,CAAC;EACvE;EACA,IAAI,IAAI,CAAC7C,KAAK,EAAE,KAAK,IAAI4C,CAAC,IAAI,IAAI,CAAC5C,KAAK,EAAE,IAAI,CAACpI,UAAU,CAACgS,KAAK,CAAC/R,CAAC,CAAC+K,CAAC,CAAC,CAAC,EAAE;IACnE,IAAIC,CAAC;IACLV,CAAC,GAAGtK,CAAC,CAAC+K,CAAC,CAAC;IACR,CAACC,CAAC,GAAG,IAAI,CAAC7C,KAAK,CAAC4C,CAAC,CAAC,EAAEY,EAAE,GAAGrB,CAAC,EAAE,IAAI,CAACnC,KAAK,CAACmC,CAAC,CAAC,GAAGU,CAAC;EACjD;EACA/K,CAAC,CAAC,IAAI,CAACM,MAAM,CAACmG,MAAM,CAAC,EAAEzG,CAAC,CAAC,IAAI,CAACM,MAAM,CAACoG,MAAM,CAAC,EAAE1G,CAAC,CAAC,IAAI,CAACM,MAAM,CAACqG,gBAAgB,CAAC,EAAE3G,CAAC,CAAC,IAAI,CAACM,MAAM,CAACsG,WAAW,CAAC;AAC7G,CAAC,EAAE9G,UAAU,CAAC2J,SAAS,CAACgC,IAAI,GAAG,UAAU1L,CAAC,EAAE;EACxC,IAAIC,CAAC,GAAG,IAAI,CAACwY,KAAK,CAACzY,CAAC,CAAC;EACrB,IAAIC,CAAC,EAAE,OAAOA,CAAC;EACf,IAAI,CAAC,IAAI,CAACM,MAAM,CAACqG,gBAAgB,CAAC2E,MAAM,IAAI,IAAI,CAAChL,MAAM,CAACsG,WAAW,CAAC0E,MAAM,KAAK,CAACxL,UAAU,CAACgS,KAAK,CAAC/R,CAAC,CAAC,IAAI,QAAQ,IAAI,OAAOA,CAAC,KAAK,CAAC,CAAC,IAAIA,CAAC,CAACuV,OAAO,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC,IAAIvV,CAAC,CAACuV,OAAO,CAAC,gBAAgB,CAAC,CAAC,EAAE;IAC3M,IAAIrV,CAAC,GAAG,CAACF,CAAC,GAAG,CAACA,CAAC,GAAGA,CAAC,CAAC0Y,OAAO,CAAC,sBAAsB,EAAE,EAAE,CAAC,EAAEA,OAAO,CAAC,gBAAgB,EAAE,EAAE,CAAC,EAAEnD,OAAO,CAAC,aAAa,CAAC;IAC9G,IAAIvV,CAAC,GAAGA,CAAC,CAAC2Y,SAAS,CAACzY,CAAC,GAAG,aAAa,CAACqL,MAAM,CAAC,EAAEtL,CAAC,GAAG,IAAI,CAACwY,KAAK,CAACzY,CAAC,CAAC,EAAE,OAAOC,CAAC;EAC9E;EACA,OAAO,IAAI;AACf,CAAC,EAAEF,UAAU,CAAC2J,SAAS,CAAC+O,KAAK,GAAG,UAAUzY,CAAC,EAAE;EACzC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACM,MAAM,CAACgE,KAAK,CAACgH,MAAM,EAAEtL,CAAC,EAAE,EAAE,IAAI,IAAI,CAACM,MAAM,CAACgE,KAAK,CAACtE,CAAC,CAAC,CAAC0L,EAAE,IAAI3L,CAAC,EAAE,OAAO,IAAI,CAACO,MAAM,CAACgE,KAAK,CAACtE,CAAC,CAAC;EAChH,OAAO,IAAI;AACf,CAAC,EAAEF,UAAU,CAAC2J,SAAS,CAAC2N,GAAG,GAAG,UAAUrX,CAAC,EAAE;EACvC,IAAIC,CAAC,GAAG,IAAI,CAACyL,IAAI,CAAC1L,CAAC,CAAC;EACpB,OAAO,IAAI,IAAIC,CAAC,GAAG,IAAI,GAAG2Y,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAAC7Y,CAAC,CAAC,CAAC;AAC3D,CAAC,EAAEF,UAAU,CAAC2J,SAAS,CAACgO,SAAS,GAAG,UAAU1X,CAAC,EAAE;EAC7C,IAAIC,CAAC,GAAG,IAAI,CAACmP,OAAO,CAACpP,CAAC,CAAC;EACvB,OAAO,CAAC,CAACC,CAAC,IAAK,CAACA,CAAC,CAAC+W,WAAW,IAAI,CAAC/W,CAAC,CAACiX,aAAc;AACtD,CAAC,EAAEnX,UAAU,CAAC2J,SAAS,CAACqP,YAAY,GAAG,UAAU/Y,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACtD,IAAI,CAAC8Y,YAAY,CAAC,CAAC,CAAC,CAAC;EACrB,IAAIzX,CAAC,GAAG,IAAI;EACZ,IAAI,CAACvB,CAAC,IAAID,UAAU,CAACgS,KAAK,CAAC/R,CAAC,CAACyV,GAAG,CAAC,IAAI1V,UAAU,CAACgS,KAAK,CAAC/R,CAAC,CAAC0V,GAAG,CAAC,EAAElH,OAAO,CAACC,KAAK,CAAC,yBAAyB,CAAC,CAAC,KAAM;IACzG1O,UAAU,CAACgS,KAAK,CAAC/R,CAAC,CAAC2L,EAAE,CAAC,KAAK3L,CAAC,CAAC2L,EAAE,GAAG,IAAI,CAAC+H,UAAU,CAAC,CAAC,CAAC;IACpD,IAAIlS,CAAC,GAAG;MAACyX,YAAY,EAAE,CAACjZ,CAAC,CAAC;MAAEkZ,eAAe,EAAE,EAAE;MAAEC,YAAY,EAAE;IAAI,CAAC;IACpE,IAAI,CAAC,CAAC,KAAKjZ,CAAC,EAAE,IAAI,CAAC,CAAC,KAAKH,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,QAAQ,EAAE,CAAC,IAAI,EAAEnD,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;IAClFD,CAAC,CAAC6X,2BAA2B,CAAC5X,CAAC,EAAEtB,CAAC,CAAC;IACnC,IAAIoK,CAAC,GAAG,EAAE;IACVvK,UAAU,CAACgS,KAAK,CAACvQ,CAAC,CAACyX,YAAY,CAAC,CAAC,CAAC,CAACvE,GAAG,CAAC,GAAG3U,UAAU,CAACgS,KAAK,CAACvQ,CAAC,CAACyX,YAAY,CAAC,CAAC,CAAC,CAACxD,GAAG,CAAC,GAAG1V,UAAU,CAACgS,KAAK,CAACvQ,CAAC,CAACyX,YAAY,CAAC,CAAC,CAAC,CAACvD,GAAG,CAAC,KAAKpL,CAAC,GAAG9I,CAAC,CAACyX,YAAY,CAAC,CAAC,CAAC,CAACvD,GAAG,CAAC,GAAGpL,CAAC,GAAG9I,CAAC,CAACyX,YAAY,CAAC,CAAC,CAAC,CAACxD,GAAG,GAAGnL,CAAC,GAAG9I,CAAC,CAACyX,YAAY,CAAC,CAAC,CAAC,CAACvE,GAAG,EAAEnT,CAAC,CAACiC,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAAC2I,MAAM,EAAE;MACtPT,EAAE,EAAErB,CAAC;MACL0N,cAAc,EAAExW,CAAC,CAACyX,YAAY,CAAC,CAAC,CAAC,CAACtN;IACtC,CAAC,EAAG,YAAY;MACZpK,CAAC,CAACqM,MAAM,CAACpM,CAAC,CAACyX,YAAY,CAAC,CAAC,CAAC,CAACtN,EAAE,CAAC,EAAE1L,CAAC,IAAIA,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAKC,CAAC,IAAIH,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,SAAS,EAAE,CAACpD,CAAC,EAAEC,CAAC,CAAC,CAAC,EAAED,CAAC,CAACU,QAAQ,CAAC4C,MAAM,CAAC,CAAC;IAC3H,CAAE,CAAC;EACP;AACJ,CAAC,EAAE9E,UAAU,CAAC2J,SAAS,CAAC2P,uBAAuB,GAAG,UAAUrZ,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;EACvE,IAAI,CAACwX,YAAY,CAAC,CAAC,CAAC,CAAC;EACrB,IAAI1O,CAAC,GAAG,IAAI;EACZ,IAAI,CAACrK,CAAC,IAAIF,UAAU,CAACgS,KAAK,CAAC9R,CAAC,CAACwV,GAAG,CAAC,IAAI1V,UAAU,CAACgS,KAAK,CAAC9R,CAAC,CAACyV,GAAG,CAAC,EAAElH,OAAO,CAACC,KAAK,CAAC,2CAA2C,CAAC,CAAC,KAAM,IAAIvO,CAAC,EAAE;IAClIH,UAAU,CAACgS,KAAK,CAAC9R,CAAC,CAAC0L,EAAE,CAAC,KAAK1L,CAAC,CAAC0L,EAAE,GAAG,IAAI,CAAC+H,UAAU,CAAC,CAAC,CAAC,EAAE3T,UAAU,CAACgS,KAAK,CAAC7R,CAAC,CAACyL,EAAE,CAAC,KAAKzL,CAAC,CAACyL,EAAE,GAAG,IAAI,CAAC+H,UAAU,CAAC,CAAC,CAAC,EAAE,aAAa,IAAIzT,CAAC,CAACwV,GAAG,GAAGxV,CAAC,CAACwV,GAAG,GAAGvV,CAAC,CAACyL,EAAE,GAAG,aAAa,IAAI1L,CAAC,CAACyV,GAAG,KAAKzV,CAAC,CAACyV,GAAG,GAAGxV,CAAC,CAACyL,EAAE,CAAC;IAC5L,IAAIZ,CAAC,GAAG,EAAE;MAAEC,CAAC,GAAG,IAAI;IACpB6K,KAAK,CAACC,OAAO,CAAC5V,CAAC,CAACyV,IAAI,CAAC,KAAK,CAAC,IAAIzV,CAAC,CAACyV,IAAI,CAACpK,MAAM,IAAIiD,OAAO,CAACC,KAAK,CAAC,kEAAkE,CAAC,EAAEzD,CAAC,GAAG,IAAI,CAACqM,GAAG,CAACnX,CAAC,CAACyV,IAAI,CAAC,CAAC,CAAC,CAAC,EAAEE,KAAK,CAACC,OAAO,CAAC9K,CAAC,CAAC2K,IAAI,CAAC,KAAK3K,CAAC,CAAC2K,IAAI,GAAG,EAAE,CAAC,EAAE3K,CAAC,CAAC2K,IAAI,CAACvC,IAAI,CAAClT,CAAC,CAACyL,EAAE,CAAC,EAAEZ,CAAC,CAACqI,IAAI,CAACpI,CAAC,CAAC,CAAC;IACjO,IAAIE,CAAC,GAAG;MAAC+N,YAAY,EAAE,CAAChZ,CAAC,EAAEC,CAAC,CAAC;MAAEgZ,eAAe,EAAEnO,CAAC;MAAEoO,YAAY,EAAE;IAAI,CAAC;IACtE,IAAI,CAAC,CAAC,KAAK3X,CAAC,EAAE,IAAI,CAAC,CAAC,KAAKzB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,QAAQ,EAAE,CAAC,IAAI,EAAEuG,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;IAClFZ,CAAC,CAAC8O,2BAA2B,CAAClO,CAAC,EAAE1J,CAAC,CAAC;IACnC,IAAI2J,CAAC,GAAGb,CAAC,CAAC6K,sBAAsB,CAACnV,CAAC,CAAC;IACnCD,UAAU,CAACgW,iBAAiB,CAACzL,CAAC,CAAC/J,MAAM,CAAC4H,KAAK,EAAEgD,CAAC,EAAEb,CAAC,CAACpI,OAAO,CAAC8T,QAAQ,CAAC;IACnE,IAAI1K,CAAC,GAAG,EAAE;IACVN,CAAC,GAAGM,CAAC,GAAGN,CAAC,CAACW,EAAE,GAAG5L,UAAU,CAACgS,KAAK,CAAC9R,CAAC,CAACyU,GAAG,CAAC,GAAG3U,UAAU,CAACgS,KAAK,CAAC9R,CAAC,CAACwV,GAAG,CAAC,GAAG1V,UAAU,CAACgS,KAAK,CAAC9R,CAAC,CAACyV,GAAG,CAAC,KAAKpK,CAAC,GAAGrL,CAAC,CAACyV,GAAG,CAAC,GAAGpK,CAAC,GAAGrL,CAAC,CAACwV,GAAG,GAAGnK,CAAC,GAAGrL,CAAC,CAACyU,GAAG,EAAEpK,CAAC,CAAC9G,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAACoB,MAAM,EAAE;MAAC8G,EAAE,EAAEL;IAAC,CAAC,EAAG,YAAY;MAC3LhB,CAAC,CAACsD,MAAM,CAAC3N,CAAC,CAAC0L,EAAE,CAAC,EAAErB,CAAC,CAACsD,MAAM,CAAC1N,CAAC,CAACyL,EAAE,CAAC,EAAEpK,CAAC,IAAIA,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAKC,CAAC,IAAIzB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,SAAS,EAAE,CAAC2F,CAAC,EAAEY,CAAC,CAAC,CAAC,EAAEZ,CAAC,CAACrI,QAAQ,CAAC4C,MAAM,CAAC,CAAC;IAC3H,CAAE,CAAC,EAAE,CAAC,CAAC,KAAKrD,CAAC,IAAIzB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,UAAU,EAAE,CAAC2F,CAAC,EAAEY,CAAC,CAAC,CAAC;EAClE,CAAC,MAAMsD,OAAO,CAACC,KAAK,CAAC,sCAAsC,CAAC;AAChE,CAAC,EAAE1O,UAAU,CAAC2J,SAAS,CAAC4P,wBAAwB,GAAG,UAAUtZ,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;EACxE,IAAI,CAACwX,YAAY,CAAC,CAAC,CAAC,CAAC;EACrB,IAAI1O,CAAC,GAAG,IAAI;EACZ,IAAI,CAACvK,UAAU,CAACgS,KAAK,CAAC9R,CAAC,CAAC,IAAIA,CAAC,CAACsL,MAAM;IAAE,IAAIrL,CAAC,EAAE;MACzCH,UAAU,CAACgS,KAAK,CAAC7R,CAAC,CAACyL,EAAE,CAAC,KAAKzL,CAAC,CAACyL,EAAE,GAAG,IAAI,CAAC+H,UAAU,CAAC,CAAC,CAAC;MACpD,KAAK,IAAI3I,CAAC,GAAG,EAAE,EAAEC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG/K,CAAC,CAACsL,MAAM,EAAEP,CAAC,EAAE,EAAE;QACvC,IAAIE,CAAC,GAAG,IAAI,CAACmM,GAAG,CAACpX,CAAC,CAAC+K,CAAC,CAAC,CAAC;QACtB,IAAI,CAACjL,UAAU,CAACgS,KAAK,CAAC7G,CAAC,CAACuK,GAAG,CAAC,IAAI,CAAC1V,UAAU,CAACgS,KAAK,CAAC7G,CAAC,CAACwK,GAAG,CAAC,EAAE,OAAO,KAAKlH,OAAO,CAACC,KAAK,CAAC,gEAAgE,CAAC;QACrJ1O,UAAU,CAACgS,KAAK,CAAC7G,CAAC,CAACuK,GAAG,CAAC,GAAGvK,CAAC,CAACuK,GAAG,GAAGvV,CAAC,CAACyL,EAAE,GAAG5L,UAAU,CAACgS,KAAK,CAAC7G,CAAC,CAACuK,GAAG,CAAC,KAAKvK,CAAC,CAACwK,GAAG,GAAGxV,CAAC,CAACyL,EAAE,CAAC,EAAEZ,CAAC,CAACqI,IAAI,CAAClI,CAAC,CAAC;MACjG;MACA,IAAIC,CAAC,GAAG,IAAI;MACZ0K,KAAK,CAACC,OAAO,CAAC5V,CAAC,CAACyV,IAAI,CAAC,KAAK,CAAC,IAAIzV,CAAC,CAACyV,IAAI,CAACpK,MAAM,IAAIiD,OAAO,CAACC,KAAK,CAAC,kEAAkE,CAAC,EAAEtD,CAAC,GAAG,IAAI,CAACkM,GAAG,CAACnX,CAAC,CAACyV,IAAI,CAAC,CAAC,CAAC,CAAC,EAAEE,KAAK,CAACC,OAAO,CAAC3K,CAAC,CAACwK,IAAI,CAAC,KAAKxK,CAAC,CAACwK,IAAI,GAAG,EAAE,CAAC,EAAExK,CAAC,CAACwK,IAAI,CAACvC,IAAI,CAAClT,CAAC,CAACyL,EAAE,CAAC,EAAEZ,CAAC,CAACqI,IAAI,CAACjI,CAAC,CAAC,CAAC;MACjO,IAAIG,CAAC,GAAG;QAAC2N,YAAY,EAAE,CAAC/Y,CAAC,CAAC;QAAEgZ,eAAe,EAAEnO,CAAC;QAAEoO,YAAY,EAAE;MAAI,CAAC;MACnE,IAAI,CAAC,CAAC,KAAK3X,CAAC,EAAE,IAAI,CAAC,CAAC,KAAKzB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,QAAQ,EAAE,CAAC,IAAI,EAAE2G,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;MAClFhB,CAAC,CAAC8O,2BAA2B,CAAC9N,CAAC,EAAE9J,CAAC,CAAC;MACnC,IAAIgK,CAAC,GAAGlB,CAAC,CAAC6K,sBAAsB,CAACnV,CAAC,CAAC;MACnCD,UAAU,CAACgW,iBAAiB,CAACzL,CAAC,CAAC/J,MAAM,CAAC4H,KAAK,EAAEqD,CAAC,EAAElB,CAAC,CAACpI,OAAO,CAAC8T,QAAQ,CAAC;MACnE,IAAIvK,CAAC,GAAG,EAAE;MACVN,CAAC,KAAKM,CAAC,GAAGN,CAAC,CAACQ,EAAE,CAAC,EAAErB,CAAC,CAAC9G,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAACoB,MAAM,EAAE;QAAC8G,EAAE,EAAEF;MAAC,CAAC,EAAG,YAAY;QACzEnB,CAAC,CAACsD,MAAM,CAAC1N,CAAC,CAACyL,EAAE,CAAC,EAAEpK,CAAC,IAAIA,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAKC,CAAC,IAAIzB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,SAAS,EAAE,CAAC2F,CAAC,EAAEgB,CAAC,CAAC,CAAC,EAAEhB,CAAC,CAACrI,QAAQ,CAAC4C,MAAM,CAAC,CAAC;MAC3G,CAAE,CAAC,EAAE,CAAC,CAAC,KAAKrD,CAAC,IAAIzB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,UAAU,EAAE,CAAC2F,CAAC,EAAEgB,CAAC,CAAC,CAAC;IAClE,CAAC,MAAMkD,OAAO,CAACC,KAAK,CAAC,uCAAuC,CAAC;EAAC,OAAMD,OAAO,CAACC,KAAK,CAAC,uCAAuC,CAAC;AAC9H,CAAC,EAAE1O,UAAU,CAAC2J,SAAS,CAAC6P,cAAc,GAAG,UAAUvZ,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACxD,IAAI,CAAC8Y,YAAY,CAAC,CAAC,CAAC,CAAC;EACrB,IAAIzX,CAAC,GAAG,IAAI;EACZ,IAAIvB,CAAC,IAAI6V,KAAK,CAACC,OAAO,CAAC9V,CAAC,CAAC2V,IAAI,CAAC,IAAI,CAAC,IAAI3V,CAAC,CAAC2V,IAAI,CAACpK,MAAM,EAAE;IAClDxL,UAAU,CAACgS,KAAK,CAAC/R,CAAC,CAAC2L,EAAE,CAAC,KAAK3L,CAAC,CAAC2L,EAAE,GAAG,IAAI,CAAC+H,UAAU,CAAC,CAAC,CAAC;IACpD,IAAIlS,CAAC,GAAG,IAAI,CAAC6V,GAAG,CAACrX,CAAC,CAAC2V,IAAI,CAAC,CAAC,CAAC,CAAC;IAC3BE,KAAK,CAACC,OAAO,CAACtU,CAAC,CAACmU,IAAI,CAAC,KAAKnU,CAAC,CAACmU,IAAI,GAAG,EAAE,CAAC,EAAEnU,CAAC,CAACmU,IAAI,CAACvC,IAAI,CAACpT,CAAC,CAAC2L,EAAE,CAAC;IACzD,IAAIrB,CAAC,GAAG;MAAC6O,YAAY,EAAE,IAAI;MAAED,eAAe,EAAE,CAAC1X,CAAC,CAAC;MAAEyX,YAAY,EAAE,CAACjZ,CAAC;IAAC,CAAC;IACrE,IAAI,CAAC,CAAC,KAAKE,CAAC,EAAE,IAAI,CAAC,CAAC,KAAKH,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,QAAQ,EAAE,CAAC,IAAI,EAAE2F,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;IAClF/I,CAAC,CAAC6X,2BAA2B,CAAC9O,CAAC,EAAEpK,CAAC,CAAC;IACnC,IAAI6K,CAAC,GAAGxJ,CAAC,CAAC4T,sBAAsB,CAAC7K,CAAC,CAAC4O,eAAe,CAAC,CAAC,CAAC,CAACvN,EAAE,CAAC;IACzD5L,UAAU,CAACgW,iBAAiB,CAACxU,CAAC,CAAChB,MAAM,CAAC4H,KAAK,EAAE4C,CAAC,EAAExJ,CAAC,CAACW,OAAO,CAAC8T,QAAQ,CAAC;IACnE,IAAIhL,CAAC,GAAGV,CAAC,CAAC4O,eAAe,CAAC,CAAC,CAAC,CAACvN,EAAE;IAC/BpK,CAAC,CAACiC,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAAC2I,MAAM,EAAE;MAACT,EAAE,EAAEX,CAAC;MAAEgN,cAAc,EAAE1N,CAAC,CAAC2O,YAAY,CAAC,CAAC,CAAC,CAACtN;IAAE,CAAC,EAAG,YAAY;MAC9FpK,CAAC,CAACqM,MAAM,CAACtD,CAAC,CAAC2O,YAAY,CAAC,CAAC,CAAC,CAACtN,EAAE,CAAC,EAAE1L,CAAC,IAAIA,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAKC,CAAC,IAAIH,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,SAAS,EAAE,CAACpD,CAAC,EAAE+I,CAAC,CAAC,CAAC,EAAE/I,CAAC,CAACU,QAAQ,CAAC4C,MAAM,CAAC,CAAC;IAC3H,CAAE,CAAC,EAAE,CAAC,CAAC,KAAK3E,CAAC,IAAIH,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,UAAU,EAAE,CAACpD,CAAC,EAAE+I,CAAC,CAAC,CAAC;EAClE,CAAC,MAAMkE,OAAO,CAACC,KAAK,CAAC,6BAA6B,CAAC;AACvD,CAAC,EAAE1O,UAAU,CAAC2J,SAAS,CAAC8P,aAAa,GAAG,UAAUxZ,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;EAC7D,IAAI,CAACwX,YAAY,CAAC,CAAC,CAAC,CAAC;EACrB,IAAI1O,CAAC,GAAG,IAAI;EACZ,IAAIpK,CAAC,EAAE;IACH,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,CAACuZ,GAAG,CAACxZ,CAAC,CAAC;MAAE,IAAIF,UAAU,CAACgS,KAAK,CAAC/R,CAAC,CAAC,EAAEwO,OAAO,CAACC,KAAK,CAAC,+BAA+B,CAAC,CAAC,KAAM;QACrG1O,UAAU,CAACgS,KAAK,CAAC7R,CAAC,CAACyL,EAAE,CAAC,KAAKzL,CAAC,CAACyL,EAAE,GAAG,IAAI,CAAC+H,UAAU,CAAC,CAAC,CAAC;QACpD,IAAI3I,CAAC,GAAG,EAAE;UAAEC,CAAC,GAAG,IAAI,CAACqM,GAAG,CAACrX,CAAC,CAAC;QAC3BgL,CAAC,CAAC/K,CAAC,CAAC,GAAGC,CAAC,CAACyL,EAAE,EAAEZ,CAAC,CAACqI,IAAI,CAACpI,CAAC,CAAC;QACtB,IAAIE,CAAC,GAAG,IAAI;QACZ2K,KAAK,CAACC,OAAO,CAAC5V,CAAC,CAACyV,IAAI,CAAC,KAAK,CAAC,IAAIzV,CAAC,CAACyV,IAAI,CAACpK,MAAM,IAAIiD,OAAO,CAACC,KAAK,CAAC,6CAA6C,CAAC,EAAEvD,CAAC,GAAG,IAAI,CAACmM,GAAG,CAACnX,CAAC,CAACyV,IAAI,CAAC,CAAC,CAAC,CAAC,EAAEE,KAAK,CAACC,OAAO,CAAC5K,CAAC,CAACyK,IAAI,CAAC,KAAKzK,CAAC,CAACyK,IAAI,GAAG,EAAE,CAAC,EAAEzK,CAAC,CAACyK,IAAI,CAACvC,IAAI,CAAClT,CAAC,CAACyL,EAAE,CAAC,EAAEZ,CAAC,CAACqI,IAAI,CAAClI,CAAC,CAAC,CAAC;QAC5M,IAAIC,CAAC,GAAG;UAACgO,YAAY,EAAE,IAAI;UAAED,eAAe,EAAEnO,CAAC;UAAEkO,YAAY,EAAE,CAAC/Y,CAAC;QAAC,CAAC;QACnE,IAAI,CAAC,CAAC,KAAKsB,CAAC,EAAE,IAAI,CAAC,CAAC,KAAKzB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,QAAQ,EAAE,CAAC,IAAI,EAAEwG,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;QAClFb,CAAC,CAAC8O,2BAA2B,CAACjO,CAAC,EAAE3J,CAAC,CAAC;QACnC,IAAI8J,CAAC,GAAGtL,CAAC;QACTsK,CAAC,CAAC/J,MAAM,CAAC4H,KAAK,GAAG,CAACgD,CAAC,CAAC8N,YAAY,CAAC,CAAC,CAAC,CAACtN,EAAE,CAAC,EAAErB,CAAC,CAAC9G,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAAC2I,MAAM,EAAE;UAC3ET,EAAE,EAAEL,CAAC;UACL0M,cAAc,EAAE7M,CAAC,CAAC8N,YAAY,CAAC,CAAC,CAAC,CAACtN;QACtC,CAAC,EAAG,YAAY;UACZrB,CAAC,CAACsD,MAAM,CAACzC,CAAC,CAAC8N,YAAY,CAAC,CAAC,CAAC,CAACtN,EAAE,CAAC,EAAEpK,CAAC,IAAIA,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAKC,CAAC,IAAIzB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,SAAS,EAAE,CAAC2F,CAAC,EAAEa,CAAC,CAAC,CAAC,EAAEb,CAAC,CAACrI,QAAQ,CAAC4C,MAAM,CAAC,CAAC;QAC3H,CAAE,CAAC,EAAE,CAAC,CAAC,KAAKrD,CAAC,IAAIzB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,UAAU,EAAE,CAAC2F,CAAC,EAAEa,CAAC,CAAC,CAAC;MAClE;IAAC,OAAMqD,OAAO,CAACC,KAAK,CAAC,4BAA4B,CAAC;EACtD,CAAC,MAAMD,OAAO,CAACC,KAAK,CAAC,4BAA4B,CAAC;AACtD,CAAC,EAAE1O,UAAU,CAAC2J,SAAS,CAACgO,SAAS,GAAG,UAAU1X,CAAC,EAAE;EAC7C,IAAIC,CAAC,GAAG,IAAI,CAACmP,OAAO,CAACpP,CAAC,CAAC;EACvB,IAAI,CAACC,CAAC,EAAE,OAAO,CAAC,CAAC;EACjB,IAAIC,CAAC,GAAG,IAAI,CAACkP,OAAO,CAACnP,CAAC,CAACwV,GAAG,CAAC;IAAElU,CAAC,GAAG,IAAI,CAAC6N,OAAO,CAACnP,CAAC,CAACyV,GAAG,CAAC;IAAElU,CAAC,GAAGvB,CAAC,CAACyZ,aAAa,CAACnO,MAAM,GAAG,CAAC;IAAEjB,CAAC,GAAG,CAAC,CAAC;IAAES,CAAC,GAAG9K,CAAC,CAAC0V,IAAI,CAACpK,MAAM,GAAG,CAAC;IAC/GP,CAAC,GAAG/K,CAAC,CAAC0V,IAAI,CAACpK,MAAM,GAAG,CAAC;EACzB,IAAI,CAAC,IAAItL,CAAC,CAAC0V,IAAI,CAACpK,MAAM,EAAE;IACpB,IAAIL,CAAC,GAAG,IAAI,CAACkE,OAAO,CAACnP,CAAC,CAAC0V,IAAI,CAAC,CAAC,CAAC,CAAC;IAC/BrL,CAAC,GAAGrK,CAAC,CAACyZ,aAAa,CAACC,OAAO,CAACzO,CAAC,CAACwO,aAAa,CAAC;EAChD;EACA,OAAO,EAAE,CAACxZ,CAAC,IAAI,CAACqB,CAAC,IAAIC,CAAC,IAAIuJ,CAAC,CAAC,IAAK,EAAE7K,CAAC,IAAIqB,CAAC,IAAIC,CAAC,IAAIwJ,CAAC,IAAI,CAACD,CAAC,IAAIT,CAAC,CAAC,IAAK,EAAEpK,CAAC,IAAIqB,CAAC,IAAI,CAACC,CAAC,IAAI,CAAC8I,CAAC,CAAC,IAAK,EAAEpK,CAAC,IAAIqB,CAAC,IAAI,CAACC,CAAC,IAAI8I,CAAC,CAAC,IAAI,EAAEpK,CAAC,IAAIqB,CAAC,IAAIC,CAAC,IAAI,CAAC8I,CAAC,CAAI;AACjJ,CAAC,EAAEvK,UAAU,CAAC2J,SAAS,CAAC+N,UAAU,GAAG,UAAUzX,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACpD,IAAIqB,CAAC,GAAG,IAAI;EACZ,IAAI,IAAI,CAACmW,SAAS,CAAC1X,CAAC,CAAC,EAAE;IACnB,IAAIwB,CAAC,GAAG,IAAI,CAAC4N,OAAO,CAACpP,CAAC,CAAC;MAAEsK,CAAC,GAAG,EAAE;IAC/B,IAAIuL,KAAK,CAACC,OAAO,CAACtU,CAAC,CAACmU,IAAI,CAAC,EAAE,KAAK,IAAI5K,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGvJ,CAAC,CAACmU,IAAI,CAACpK,MAAM,EAAER,CAAC,EAAE,EAAE;MAC/D,IAAIC,CAAC,GAAG,IAAI,CAACqM,GAAG,CAAC7V,CAAC,CAACmU,IAAI,CAAC5K,CAAC,CAAC,CAAC;MAC3B,IAAIC,CAAC,EAAE,CAAC,CAAC,KAAKG,CAAC,GAAGH,CAAC,CAAC2K,IAAI,CAACJ,OAAO,CAAC/T,CAAC,CAACmK,EAAE,CAAC,CAAC,KAAKX,CAAC,CAAC2K,IAAI,CAACiC,MAAM,CAACzM,CAAC,EAAE,CAAC,CAAC,EAAEb,CAAC,CAAC8I,IAAI,CAACpI,CAAC,CAAC,CAAC;IAC/E;IACA,IAAI6K,KAAK,CAACC,OAAO,CAACtU,CAAC,CAACkY,aAAa,CAAC,EAAE,KAAK3O,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGvJ,CAAC,CAACkY,aAAa,CAACnO,MAAM,EAAER,CAAC,EAAE,EAAE;MAC7E,IAAIG,CAAC,GAAG,IAAI,CAACmM,GAAG,CAAC7V,CAAC,CAACkY,aAAa,CAAC3O,CAAC,CAAC,CAAC;MACpCG,CAAC,KAAKA,CAAC,CAACuK,GAAG,IAAIjU,CAAC,CAACmK,EAAE,IAAIT,CAAC,CAACuK,GAAG,GAAG,KAAK,CAAC,EAAEnL,CAAC,CAAC8I,IAAI,CAAClI,CAAC,CAAC,IAAIA,CAAC,CAACwK,GAAG,IAAIlU,CAAC,CAACmK,EAAE,KAAKT,CAAC,CAACwK,GAAG,GAAG,KAAK,CAAC,EAAEpL,CAAC,CAAC8I,IAAI,CAAClI,CAAC,CAAC,CAAC,CAAC;IACrG;IACA,IAAIC,CAAC;MAAEG,CAAC,GAAG;QAAC6N,YAAY,EAAEnZ,CAAC;QAAEkZ,eAAe,EAAE5O,CAAC;QAAE2O,YAAY,EAAE;MAAE,CAAC;IAClE,IAAI,CAAC,CAAC,KAAK/Y,CAAC,EAAE,IAAI,CAAC,CAAC,KAAKH,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,QAAQ,EAAE,CAAC,IAAI,EAAE2G,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;IAClF/J,CAAC,CAAC6X,2BAA2B,CAAC9N,CAAC,EAAEpL,CAAC,CAAC,EAAE,CAAC,CAAC,KAAKiL,CAAC,GAAG5J,CAAC,CAAChB,MAAM,CAAC4H,KAAK,CAACoN,OAAO,CAACvV,CAAC,CAAC,CAAC,IAAIuB,CAAC,CAAChB,MAAM,CAAC4H,KAAK,CAACyP,MAAM,CAACzM,CAAC,EAAE,CAAC,CAAC,EAAE5J,CAAC,CAACiC,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAACoB,MAAM,EAAE,IAAI,EAAG,YAAY;MAChKtD,CAAC,CAAChB,MAAM,CAACkF,MAAM,IAAI1F,UAAU,CAAC6R,mBAAmB,CAACrQ,CAAC,CAACiL,MAAM,CAAC,CAAC,EAAEjL,CAAC,CAAC8B,UAAU,CAAC,CAAC,EAAE9B,CAAC,CAAC0B,QAAQ,CAACD,QAAQ,CAAC,EAAE/C,CAAC,IAAIA,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAKC,CAAC,IAAIH,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,SAAS,EAAE,CAACpD,CAAC,EAAE+J,CAAC,CAAC,CAAC,EAAE/J,CAAC,CAACU,QAAQ,CAAC4C,MAAM,CAAC,CAAC;IAC/L,CAAE,CAAC,EAAE,CAAC,CAAC,KAAK3E,CAAC,IAAIH,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,UAAU,EAAE,CAACpD,CAAC,EAAE+J,CAAC,CAAC,CAAC;EAClE;AACJ,CAAC,EAAEvL,UAAU,CAAC2J,SAAS,CAAC0N,UAAU,GAAG,UAAUpX,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACpD,IAAIqB,CAAC,GAAG,IAAI;IAAEC,CAAC,GAAG,IAAI,CAAC4N,OAAO,CAACpP,CAAC,CAAC2L,EAAE,CAAC;EACpC3L,CAAC,CAAC2V,IAAI,KAAK3V,CAAC,CAAC2V,IAAI,GAAG,EAAE,CAAC;EACvB,IAAIrL,CAAC,GAAG,EAAE;EACVA,CAAC,CAAC8I,IAAI,CAACpT,CAAC,CAAC;EACT,KAAK,IAAI+K,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGvJ,CAAC,CAACmU,IAAI,CAACpK,MAAM,EAAER,CAAC,EAAE,EAAE;IACpC,IAAI,CAAC/K,CAAC,CAAC2V,IAAI,CAAC8D,GAAG,CAACjY,CAAC,CAACmU,IAAI,CAAC5K,CAAC,CAAC,CAAC,EAAE,IAAI,CAACG,CAAC,GAAG,IAAI,CAACQ,IAAI,CAAClK,CAAC,CAACmU,IAAI,CAAC5K,CAAC,CAAC,CAAC,KAAKG,CAAC,CAACyK,IAAI,EAAE;MAClE,IAAI3K,CAAC,GAAGE,CAAC,CAACyK,IAAI,CAACJ,OAAO,CAACvV,CAAC,CAAC2L,EAAE,CAAC;MAC5B,CAAC,CAAC,IAAIX,CAAC,KAAKE,CAAC,CAACyK,IAAI,CAACiC,MAAM,CAAC5M,CAAC,EAAE,CAAC,CAAC,EAAEV,CAAC,CAAC8I,IAAI,CAACpT,CAAC,CAAC,CAAC,EAAEwB,CAAC,CAACmU,IAAI,CAACiC,MAAM,CAAC7M,CAAC,EAAE,CAAC,CAAC,EAAET,CAAC,CAAC8I,IAAI,CAAClI,CAAC,CAAC;IAC/E;EACJ;EACA,KAAKH,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG/K,CAAC,CAAC2V,IAAI,CAACpK,MAAM,EAAER,CAAC,EAAE,EAAE;IAChC,IAAIG,CAAC;IACL,IAAI,CAAC1J,CAAC,CAACmU,IAAI,IAAI,CAACnU,CAAC,CAACmU,IAAI,CAAC8D,GAAG,CAACzZ,CAAC,CAAC2V,IAAI,CAAC5K,CAAC,CAAC,CAAC,EAAE,CAACG,CAAC,GAAG,IAAI,CAACQ,IAAI,CAAC1L,CAAC,CAAC2V,IAAI,CAAC5K,CAAC,CAAC,CAAC,EAAE4K,IAAI,KAAKzK,CAAC,CAACyK,IAAI,GAAG,EAAE,CAAC,EAAEzK,CAAC,CAACyK,IAAI,CAACvC,IAAI,CAACpT,CAAC,CAAC2V,IAAI,CAAC5K,CAAC,CAAC,CAAC,EAAET,CAAC,CAAC8I,IAAI,CAAClI,CAAC,CAAC;EAC9H;EACA,IAAIC,CAAC,GAAG;IAACgO,YAAY,EAAE,IAAI;IAAED,eAAe,EAAE5O,CAAC;IAAE2O,YAAY,EAAE;EAAE,CAAC;EAClE,IAAI,CAAC,CAAC,KAAK/Y,CAAC,IAAI,CAAC,CAAC,KAAKH,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,QAAQ,EAAE,CAAC,IAAI,EAAEwG,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;EAChF5J,CAAC,CAAC6X,2BAA2B,CAACjO,CAAC,EAAEjL,CAAC,CAAC,EAAEqB,CAAC,CAACiC,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAACoB,MAAM,EAAE,IAAI,EAAG,YAAY;IAC1FtD,CAAC,CAAChB,MAAM,CAACkF,MAAM,IAAI1F,UAAU,CAAC6R,mBAAmB,CAACrQ,CAAC,CAACiL,MAAM,CAAC,CAAC,EAAEjL,CAAC,CAAC8B,UAAU,CAAC,CAAC,EAAE9B,CAAC,CAAC0B,QAAQ,CAACD,QAAQ,CAAC,EAAE/C,CAAC,IAAIA,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAKC,CAAC,IAAIH,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,SAAS,EAAE,CAACpD,CAAC,EAAE4J,CAAC,CAAC,CAAC,EAAE5J,CAAC,CAACU,QAAQ,CAAC4C,MAAM,CAAC,CAAC;EAC/L,CAAE,CAAC;AACP,CAAC,EAAE9E,UAAU,CAAC2J,SAAS,CAAC0P,2BAA2B,GAAG,UAAUpZ,CAAC,EAAEC,CAAC,EAAE;EAClE,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,CAAC,CAACiZ,YAAY,CAAC1N,MAAM,EAAErL,CAAC,EAAE,EAAE,IAAI,CAAC4D,GAAG,CAAC9D,CAAC,CAACiZ,YAAY,CAAC/Y,CAAC,CAAC,CAAC;EAC3E,KAAKA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,CAAC,CAACkZ,eAAe,CAAC3N,MAAM,EAAErL,CAAC,EAAE,EAAE,IAAI,CAAC2E,MAAM,CAAC7E,CAAC,CAACkZ,eAAe,CAAChZ,CAAC,CAAC,CAAC;EAChFH,UAAU,CAACgS,KAAK,CAAC/R,CAAC,CAACmZ,YAAY,CAAC,IAAI,IAAI,CAAC3P,MAAM,CAACxJ,CAAC,CAACmZ,YAAY,CAAC,EAAE,CAAC,CAAC,KAAKlZ,CAAC,IAAIF,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,UAAU,EAAE,CAAC,IAAI,EAAE3E,CAAC,CAAC,CAAC;AACjI,CAAC,EAAED,UAAU,CAAC2J,SAAS,CAACkQ,YAAY,GAAG7Z,UAAU,CAAC2J,SAAS,CAAC0O,WAAW,EAAErY,UAAU,CAAC2J,SAAS,CAAC0O,WAAW,GAAG,UAAUpY,CAAC,EAAE;EACrH,IAAI,CAAC4Z,YAAY,CAAC5Z,CAAC,CAAC;EACpB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACM,MAAM,CAACgE,KAAK,CAACgH,MAAM,EAAEtL,CAAC,EAAE,EAAE;IAC/C,IAAIC,CAAC,GAAG,IAAI,CAACK,MAAM,CAACgE,KAAK,CAACtE,CAAC,CAAC;IAC5B,KAAK,IAAIsB,CAAC,IAAIvB,CAAC,EAAE;MACb,IAAIwB,CAAC,GAAGxB,CAAC,CAACuB,CAAC,CAAC;MACZ,IAAIrB,CAAC,CAACwV,GAAG,IAAInU,CAAC,KAAKrB,CAAC,CAACwV,GAAG,GAAGlU,CAAC,CAAC,EAAEtB,CAAC,CAACuV,GAAG,IAAIlU,CAAC,KAAKrB,CAAC,CAACuV,GAAG,GAAGjU,CAAC,CAAC,EAAEqU,KAAK,CAACC,OAAO,CAAC5V,CAAC,CAACyV,IAAI,CAAC,EAAE,KAAK,IAAIrL,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGpK,CAAC,CAACyV,IAAI,CAACpK,MAAM,EAAEjB,CAAC,EAAE,EAAEpK,CAAC,CAACyV,IAAI,CAACrL,CAAC,CAAC,IAAI/I,CAAC,KAAKrB,CAAC,CAACyV,IAAI,CAACrL,CAAC,CAAC,GAAG9I,CAAC,CAAC;IAC9J;EACJ;AACJ,CAAC,EAAE,KAAK,CAAC,KAAKzB,UAAU,KAAKA,UAAU,GAAG,CAAC,CAAC,CAAC,EAAEA,UAAU,CAAC8Z,KAAK,GAAG,UAAU7Z,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;EACvF,IAAI,IAAID,CAAC,KAAKA,CAAC,GAAG,aAAa,CAAC;EAChC,IAAI+I,CAAC,GAAG,IAAIwP,cAAc,CAAD,CAAC;EAC1BxP,CAAC,CAACyP,MAAM,GAAG,UAAU/Z,CAAC,EAAE;IACpB,CAAC,IAAIsK,CAAC,CAAC0P,UAAU,IAAI,GAAG,KAAK,IAAI,CAACC,MAAM,KAAK,IAAI,IAAIja,CAAC,CAACka,MAAM,GAAG1Y,CAAC,CAAC,IAAI,CAACyB,QAAQ,CAAC,GAAGzB,CAAC,CAACxB,CAAC,CAACka,MAAM,CAACjX,QAAQ,CAAC,CAAC;EAC5G,CAAC,EAAEqH,CAAC,CAAC6P,OAAO,GAAG,UAAUna,CAAC,EAAE;IACxBwB,CAAC,CAAC;MAACiN,KAAK,EAAEzO;IAAC,CAAC,CAAC;EACjB,CAAC,EAAEsK,CAAC,CAAC8P,IAAI,CAACna,CAAC,EAAED,CAAC,CAAC,EAAEsK,CAAC,CAAC+P,YAAY,GAAG9Y,CAAC,EAAE+I,CAAC,CAACgQ,gBAAgB,CAAC,cAAc,EAAE,kBAAkB,CAAC,EAAE,IAAI,IAAIpa,CAAC,GAAGoK,CAAC,CAACiQ,IAAI,CAAC,CAAC,GAAGjQ,CAAC,CAACiQ,IAAI,CAACra,CAAC,CAAC;AACjI,CAAC,EAAE,KAAK,CAAC,KAAKH,UAAU,KAAKA,UAAU,GAAG,CAAC,CAAC,CAAC,EAAEA,UAAU,CAAC0N,OAAO,GAAG,UAAUzN,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAES,CAAC,EAAE;EAC/F,IAAIC,CAAC;IAAEE,CAAC,GAAG,EAAE;IAAEC,CAAC,GAAG,CAAC;IAAEG,CAAC,GAAG/J,CAAC,GAAG2J,CAAC,GAAG,CAAC;EACnC9K,QAAQ,CAACgS,oBAAoB,CAAC,GAAG,CAAC;EAClC,OAAOyD,KAAK,CAACC,OAAO,CAAC9V,CAAC,CAAC,KAAKA,CAAC,GAAG,CAACA,CAAC,CAAC,CAAC,EAAE6V,KAAK,CAACC,OAAO,CAAC7V,CAAC,CAAC,KAAKA,CAAC,GAAG,CAACA,CAAC,CAAC,CAAC,EAAE4V,KAAK,CAACC,OAAO,CAAC5V,CAAC,CAAC,KAAKA,CAAC,GAAG,CAACA,CAAC,CAAC,CAAC,EAAE8K,CAAC,GAAGwP,WAAW,CAAE,YAAY;IAC7H,KAAK,IAAIhP,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGxL,CAAC,CAACuL,MAAM,EAAEC,CAAC,EAAE,EAAE,KAAK,IAAIC,CAAC,IAAIvL,CAAC,CAACsL,CAAC,CAAC,EAAE;MACnD,IAAIe,CAAC,GAAGxM,UAAU,CAAC0a,cAAc,CAAC,CAAC,KAAK,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,QAAQ,CAAC,EAAEhP,CAAC,CAACiP,WAAW,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,EAAE;MACrH,QAAQjP,CAAC,CAACiP,WAAW,CAAC,CAAC;QACnB,KAAI,GAAG;UACH,IAAIjO,CAAC,GAAGjL,CAAC,CAAC,CAAC2J,CAAC,GAAGD,CAAC,GAAGA,CAAC,IAAI3J,CAAC,CAAC,IAAIrB,CAAC,CAACsL,CAAC,CAAC,CAACC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGxL,CAAC,CAACuL,CAAC,CAAC,CAACC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGxL,CAAC,CAACuL,CAAC,CAAC,CAACC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC/D4B,CAAC,GAAG7L,CAAC,CAAC,CAAC2J,CAAC,GAAGD,CAAC,GAAGA,CAAC,IAAI3J,CAAC,CAAC,IAAIrB,CAAC,CAACsL,CAAC,CAAC,CAACC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGxL,CAAC,CAACuL,CAAC,CAAC,CAACC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGxL,CAAC,CAACuL,CAAC,CAAC,CAACC,CAAC,CAAC,CAAC,CAAC,CAAC;UACnEzL,CAAC,CAACwL,CAAC,CAAC,CAACwD,YAAY,CAAC,GAAG,EAAEhP,CAAC,CAACwL,CAAC,CAAC,CAACmP,YAAY,CAAC,GAAG,CAAC,GAAG,IAAI,GAAGlO,CAAC,GAAG,GAAG,GAAGY,CAAC,CAAC;UACnE;QACJ,KAAI,GAAG;UACH,IAAIC,CAAC,GAAG9L,CAAC,CAAC,CAAC2J,CAAC,GAAGD,CAAC,GAAGA,CAAC,IAAI3J,CAAC,CAAC,IAAIrB,CAAC,CAACsL,CAAC,CAAC,CAACC,CAAC,CAAC,GAAGxL,CAAC,CAACuL,CAAC,CAAC,CAACC,CAAC,CAAC,CAAC,GAAGxL,CAAC,CAACuL,CAAC,CAAC,CAACC,CAAC,CAAC;UAC1DzL,CAAC,CAACwL,CAAC,CAAC,CAACwD,YAAY,CAAC,GAAG,EAAE1B,CAAC,CAAC;UACzB;QACJ,KAAI,IAAI;UACJA,CAAC,GAAG9L,CAAC,CAAC,CAAC2J,CAAC,GAAGD,CAAC,GAAGA,CAAC,IAAI3J,CAAC,CAAC,IAAIrB,CAAC,CAACsL,CAAC,CAAC,CAACC,CAAC,CAAC,GAAGxL,CAAC,CAACuL,CAAC,CAAC,CAACC,CAAC,CAAC,CAAC,GAAGxL,CAAC,CAACuL,CAAC,CAAC,CAACC,CAAC,CAAC;UACtDzL,CAAC,CAACwL,CAAC,CAAC,CAACwD,YAAY,CAAC,IAAI,EAAE1B,CAAC,CAAC;UAC1B;QACJ,KAAI,IAAI;UACJA,CAAC,GAAG9L,CAAC,CAAC,CAAC2J,CAAC,GAAGD,CAAC,GAAGA,CAAC,IAAI3J,CAAC,CAAC,IAAIrB,CAAC,CAACsL,CAAC,CAAC,CAACC,CAAC,CAAC,GAAGxL,CAAC,CAACuL,CAAC,CAAC,CAACC,CAAC,CAAC,CAAC,GAAGxL,CAAC,CAACuL,CAAC,CAAC,CAACC,CAAC,CAAC;UACtDzL,CAAC,CAACwL,CAAC,CAAC,CAACwD,YAAY,CAAC,IAAI,EAAE1B,CAAC,CAAC;UAC1B;QACJ,KAAI,IAAI;UACJA,CAAC,GAAG9L,CAAC,CAAC,CAAC2J,CAAC,GAAGD,CAAC,GAAGA,CAAC,IAAI3J,CAAC,CAAC,IAAIrB,CAAC,CAACsL,CAAC,CAAC,CAACC,CAAC,CAAC,GAAGxL,CAAC,CAACuL,CAAC,CAAC,CAACC,CAAC,CAAC,CAAC,GAAGxL,CAAC,CAACuL,CAAC,CAAC,CAACC,CAAC,CAAC;UACtDzL,CAAC,CAACwL,CAAC,CAAC,CAACwD,YAAY,CAAC,IAAI,EAAE1B,CAAC,CAAC;UAC1B;QACJ,KAAI,IAAI;UACJA,CAAC,GAAG9L,CAAC,CAAC,CAAC2J,CAAC,GAAGD,CAAC,GAAGA,CAAC,IAAI3J,CAAC,CAAC,IAAIrB,CAAC,CAACsL,CAAC,CAAC,CAACC,CAAC,CAAC,GAAGxL,CAAC,CAACuL,CAAC,CAAC,CAACC,CAAC,CAAC,CAAC,GAAGxL,CAAC,CAACuL,CAAC,CAAC,CAACC,CAAC,CAAC;UACtDzL,CAAC,CAACwL,CAAC,CAAC,CAACwD,YAAY,CAAC,IAAI,EAAE1B,CAAC,CAAC;UAC1B;QACJ,KAAI,UAAU;UACV,IAAIpN,CAAC,CAACsL,CAAC,CAAC,CAACC,CAAC,CAAC,EAAE;YACT,IAAIwC,CAAC,GAAGhO,CAAC,CAACuL,CAAC,CAAC,CAACC,CAAC,CAAC;cAAEyC,CAAC,GAAGhO,CAAC,CAACsL,CAAC,CAAC,CAACC,CAAC,CAAC;cAAE4C,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;YAC9C,KAAK,IAAIhC,CAAC,IAAI4B,CAAC,EAAEI,CAAC,CAAChC,CAAC,CAAC,GAAG7K,CAAC,CAAC,CAAC2J,CAAC,GAAGD,CAAC,GAAGA,CAAC,IAAI3J,CAAC,CAAC,IAAI2M,CAAC,CAAC7B,CAAC,CAAC,GAAG4B,CAAC,CAAC5B,CAAC,CAAC,CAAC,GAAG4B,CAAC,CAAC5B,CAAC,CAAC;YACjErM,CAAC,CAACwL,CAAC,CAAC,CAACkD,KAAK,CAACkM,SAAS,GAAG,WAAW,GAAGvM,CAAC,CAACY,QAAQ,CAAC,CAAC,GAAG,MAAM;UAC9D;UACA;QACJ,KAAI,WAAW;UACX,IAAI/O,CAAC,CAACsL,CAAC,CAAC,CAACC,CAAC,CAAC,EAAE;YACTwC,CAAC,GAAGhO,CAAC,CAACuL,CAAC,CAAC,CAACC,CAAC,CAAC,EAAEyC,CAAC,GAAGhO,CAAC,CAACsL,CAAC,CAAC,CAACC,CAAC,CAAC,EAAE4C,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;YAChD,KAAK,IAAIhC,CAAC,IAAI4B,CAAC,EAAEI,CAAC,CAAChC,CAAC,CAAC,GAAG7K,CAAC,CAAC,CAAC2J,CAAC,GAAGD,CAAC,GAAGA,CAAC,IAAI3J,CAAC,CAAC,IAAI2M,CAAC,CAAC7B,CAAC,CAAC,GAAG4B,CAAC,CAAC5B,CAAC,CAAC,CAAC,GAAG4B,CAAC,CAAC5B,CAAC,CAAC;YACjErM,CAAC,CAACwL,CAAC,CAAC,CAACqP,YAAY,CAAC,WAAW,CAAC,GAAG7a,CAAC,CAACwL,CAAC,CAAC,CAACwD,YAAY,CAAC,WAAW,EAAE,SAAS,GAAGX,CAAC,CAACY,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC,GAAGjP,CAAC,CAACwL,CAAC,CAAC,CAACkD,KAAK,CAACkM,SAAS,GAAG,SAAS,GAAGvM,CAAC,CAACY,QAAQ,CAAC,CAAC,GAAG,GAAG;UAC3J;UACA;QACJ,KAAI,SAAS;UACT,IAAI/O,CAAC,CAACsL,CAAC,CAAC,CAACC,CAAC,CAAC,EAAE;YACTwC,CAAC,GAAGhO,CAAC,CAACuL,CAAC,CAAC,CAACC,CAAC,CAAC,EAAEyC,CAAC,GAAGhO,CAAC,CAACsL,CAAC,CAAC,CAACC,CAAC,CAAC,EAAE4C,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;YAC1C,KAAK,IAAIhC,CAAC,IAAI4B,CAAC,EAAEI,CAAC,CAAChC,CAAC,CAAC,GAAG7K,CAAC,CAAC,CAAC2J,CAAC,GAAGD,CAAC,GAAGA,CAAC,IAAI3J,CAAC,CAAC,IAAI2M,CAAC,CAAC7B,CAAC,CAAC,GAAG4B,CAAC,CAAC5B,CAAC,CAAC,CAAC,GAAG4B,CAAC,CAAC5B,CAAC,CAAC;YACjErM,CAAC,CAACwL,CAAC,CAAC,CAACwD,YAAY,CAAC,SAAS,EAAEX,CAAC,CAACY,QAAQ,CAAC,CAAC,CAAC;UAC9C;UACA;QACJ,KAAI,QAAQ;UACR,IAAI/O,CAAC,CAACsL,CAAC,CAAC,CAACC,CAAC,CAAC,EAAE;YACTwC,CAAC,GAAGhO,CAAC,CAACuL,CAAC,CAAC,CAACC,CAAC,CAAC,EAAEyC,CAAC,GAAGhO,CAAC,CAACsL,CAAC,CAAC,CAACC,CAAC,CAAC,EAAE4C,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;YAC1C,KAAK,IAAIhC,CAAC,IAAI4B,CAAC,EAAEI,CAAC,CAAChC,CAAC,CAAC,GAAG7K,CAAC,CAAC,CAAC2J,CAAC,GAAGD,CAAC,GAAGA,CAAC,IAAI3J,CAAC,CAAC,IAAI2M,CAAC,CAAC7B,CAAC,CAAC,GAAG4B,CAAC,CAAC5B,CAAC,CAAC,CAAC,GAAG4B,CAAC,CAAC5B,CAAC,CAAC;YACjE,IAAIyO,CAAC,GAAG,EAAE;YACV,KAAKzO,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGgC,CAAC,CAAC9C,MAAM,EAAEc,CAAC,EAAE,EAAEyO,CAAC,IAAIC,QAAQ,CAAC1M,CAAC,CAAChC,CAAC,CAAC,CAAC,GAAG,KAAK;YAC1DrM,CAAC,CAACwL,CAAC,CAAC,IAAIxL,CAAC,CAACwL,CAAC,CAAC,CAACkD,KAAK,KAAK1O,CAAC,CAACwL,CAAC,CAAC,CAACkD,KAAK,CAACjD,CAAC,CAAC,GAAGqP,CAAC,CAAC;UAC7C;UACA;QACJ,KAAI,SAAS;UACTxN,CAAC,GAAG9L,CAAC,CAAC,CAAC2J,CAAC,GAAGD,CAAC,GAAGA,CAAC,IAAI3J,CAAC,CAAC,IAAIrB,CAAC,CAACsL,CAAC,CAAC,CAACC,CAAC,CAAC,GAAGxL,CAAC,CAACuL,CAAC,CAAC,CAACC,CAAC,CAAC,CAAC,GAAGxL,CAAC,CAACuL,CAAC,CAAC,CAACC,CAAC,CAAC;UACtDzL,CAAC,CAACwL,CAAC,CAAC,CAACwP,QAAQ,CAAC,CAAC,EAAE1N,CAAC,CAAC;UACnB;QACJ;UACIA,CAAC,GAAG9L,CAAC,CAAC,CAAC2J,CAAC,GAAGD,CAAC,GAAGA,CAAC,IAAI3J,CAAC,CAAC,IAAIrB,CAAC,CAACsL,CAAC,CAAC,CAACC,CAAC,CAAC,GAAGxL,CAAC,CAACuL,CAAC,CAAC,CAACC,CAAC,CAAC,CAAC,GAAGxL,CAAC,CAACuL,CAAC,CAAC,CAACC,CAAC,CAAC;UACtDzL,CAAC,CAACwL,CAAC,CAAC,IAAIxL,CAAC,CAACwL,CAAC,CAAC,CAACkD,KAAK,KAAK1O,CAAC,CAACwL,CAAC,CAAC,CAACkD,KAAK,CAACjD,CAAC,CAAC,GAAG6B,CAAC,GAAGf,CAAC,CAAC;MACrD;IACJ;IACAxB,CAAC,IAAIA,CAAC,CAAC,CAAC,EAAE,CAACI,CAAC,IAAI,CAAC,IAAIG,CAAC,GAAG,CAAC,KAAK2P,aAAa,CAACjQ,CAAC,CAAC,EAAEV,CAAC,IAAIA,CAAC,CAACtK,CAAC,CAAC,CAAC;EAC/D,CAAC,EAAGkL,CAAC,CAAC;AACV,CAAC,EAAEnL,UAAU,CAAC8H,IAAI,GAAG,CAAC,CAAC,EAAE9H,UAAU,CAAC8H,IAAI,CAACqT,KAAK,GAAG,UAAUlb,CAAC,EAAE;EAC1D,OAAOA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAGA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG2T,IAAI,CAACE,GAAG,CAAC7T,CAAC,EAAE,CAAC,CAAC;AACjD,CAAC,EAAED,UAAU,CAAC8H,IAAI,CAACE,MAAM,GAAG,UAAU/H,CAAC,EAAE;EACrC,IAAIA,CAAC,GAAG,CAAC,EAAE,OAAO,CAAC;EACnB,IAAIA,CAAC,GAAG,CAAC,EAAE,OAAO,CAAC;EACnB,OAAO,CAAC,CAAC,IAAI2T,IAAI,CAACE,GAAG,CAAC7T,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AACzC,CAAC,EAAED,UAAU,CAAC8H,IAAI,CAACsT,QAAQ,GAAG,UAAUnb,CAAC,EAAE;EACvC,IAAIA,CAAC,GAAG,CAAC,EAAE,OAAO,CAAC;EACnB,IAAIA,CAAC,GAAG,CAAC,EAAE,OAAO,CAAC;EACnB,IAAI,CAACA,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,OAAOD,UAAU,CAAC8H,IAAI,CAACqT,KAAK,CAAClb,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC;EACxD,OAAO,CAAC,EAAE,IAAI2T,IAAI,CAACE,GAAG,CAAC7T,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AAC1C,CAAC,EAAED,UAAU,CAAC8H,IAAI,CAACuT,KAAK,GAAG,UAAUpb,CAAC,EAAE;EACpC,OAAOA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAGA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG2T,IAAI,CAAC0H,GAAG,CAACrb,CAAC,IAAI2T,IAAI,CAAC2H,EAAE,GAAG,CAAC,CAAC,CAAC;AAClE,CAAC,EAAEvb,UAAU,CAAC8H,IAAI,CAAC0T,MAAM,GAAG,UAAUvb,CAAC,EAAE;EACrC,OAAOA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAGA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG2T,IAAI,CAAC6H,GAAG,CAACxb,CAAC,IAAI2T,IAAI,CAAC2H,EAAE,GAAG,CAAC,CAAC,CAAC;AAC9D,CAAC,EAAEvb,UAAU,CAAC8H,IAAI,CAAC4T,QAAQ,GAAG,UAAUzb,CAAC,EAAE;EACvC,OAAOA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAGA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,IAAI2T,IAAI,CAAC0H,GAAG,CAAC1H,IAAI,CAAC2H,EAAE,GAAGtb,CAAC,CAAC,GAAG,CAAC,CAAC;AACpE,CAAC,EAAED,UAAU,CAAC8H,IAAI,CAAC6T,KAAK,GAAG,UAAU1b,CAAC,EAAE;EACpC,OAAOA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAGA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG2T,IAAI,CAACE,GAAG,CAAC,CAAC,EAAE,EAAE,IAAI7T,CAAC,GAAG,CAAC,CAAC,CAAC;AAC5D,CAAC,EAAED,UAAU,CAAC8H,IAAI,CAAC8T,MAAM,GAAG,UAAU3b,CAAC,EAAE;EACrC,OAAOA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAGA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG2T,IAAI,CAACE,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG7T,CAAC,CAAC;AAC3D,CAAC,EAAED,UAAU,CAAC8H,IAAI,CAAC+T,QAAQ,GAAG,UAAU5b,CAAC,EAAE;EACvC,OAAOA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAGA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAGA,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG2T,IAAI,CAACE,GAAG,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG7T,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG2T,IAAI,CAACE,GAAG,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,GAAG7T,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AAC1H,CAAC,EAAED,UAAU,CAAC8H,IAAI,CAACgU,MAAM,GAAG,UAAU7b,CAAC,EAAE;EACrC,OAAOA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAGA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE2T,IAAI,CAACmI,IAAI,CAAC,CAAC,GAAG9b,CAAC,GAAGA,CAAC,CAAC,GAAG,CAAC,CAAC;AAC9D,CAAC,EAAED,UAAU,CAAC8H,IAAI,CAACkU,OAAO,GAAG,UAAU/b,CAAC,EAAE;EACtC,OAAOA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAGA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG2T,IAAI,CAACmI,IAAI,CAAC,CAAC,GAAG,CAAC9b,CAAC,GAAG,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,CAAC;AACnE,CAAC,EAAED,UAAU,CAAC8H,IAAI,CAACmU,SAAS,GAAG,UAAUhc,CAAC,EAAE;EACxC,OAAOA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAGA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAGA,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,IAAI2T,IAAI,CAACmI,IAAI,CAAC,CAAC,GAAG9b,CAAC,GAAGA,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,IAAI2T,IAAI,CAACmI,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG9b,CAAC,GAAG,CAAC,KAAK,CAAC,GAAGA,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AACjI,CAAC,EAAED,UAAU,CAAC8H,IAAI,CAACoU,OAAO,GAAG,UAAUjc,CAAC,EAAE;EACtC,OAAOA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAGA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAGA,CAAC,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC,GAAG,MAAM,GAAGA,CAAC,GAAGA,CAAC,GAAGA,CAAC,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC,IAAI,MAAM,IAAIA,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,IAAIA,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,CAAC,GAAGA,CAAC,GAAG,GAAG,GAAG,IAAI,GAAG,CAAC,IAAI,MAAM,IAAIA,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,IAAIA,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC,IAAI,MAAM,IAAIA,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC,IAAIA,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC,GAAG,OAAO,CAAC;AACjS,CAAC,EAAED,UAAU,CAAC8H,IAAI,CAACqU,MAAM,GAAG,UAAUlc,CAAC,EAAE;EACrC,OAAOA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAGA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAGA,CAAC,GAAGA,CAAC,IAAI,OAAO,GAAGA,CAAC,GAAG,OAAO,CAAC;AAClE,CAAC,EAAED,UAAU,CAAC8H,IAAI,CAACsU,OAAO,GAAG,UAAUnc,CAAC,EAAE;EACtC,OAAOA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAGA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAACA,CAAC,GAAG,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,IAAI,OAAO,IAAIA,CAAC,GAAG,CAAC,CAAC,GAAG,OAAO,CAAC,GAAG,CAAC;AACxF,CAAC,EAAED,UAAU,CAAC8H,IAAI,CAACuU,SAAS,GAAG,UAAUpc,CAAC,EAAE;EACxC,OAAOA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAGA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAGA,CAAC,GAAG,EAAE,GAAG,CAAC,GAAGA,CAAC,GAAGA,CAAC,IAAI,MAAM,GAAGA,CAAC,GAAG,MAAM,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC,GAAGA,CAAC,GAAG,CAAC,KAAK,CAAC,GAAGA,CAAC,GAAG,CAAC,CAAC,IAAI,MAAM,IAAI,CAAC,GAAGA,CAAC,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;AAC3J,CAAC,EAAED,UAAU,CAAC8H,IAAI,CAACwU,OAAO,GAAG,UAAUrc,CAAC,EAAE;EACtC,IAAIC,CAAC,GAAG,CAAC,GAAGD,CAAC;EACb,OAAOC,CAAC,GAAG0T,IAAI,CAACL,GAAG,CAAC,CAAC,GAAGrT,CAAC,CAAC;AAC9B,CAAC,EAAEF,UAAU,CAAC8H,IAAI,CAACyU,QAAQ,GAAG,UAAUtc,CAAC,EAAE;EACvC,OAAO2T,IAAI,CAACL,GAAG,CAAC,CAAC,CAAC,GAAGK,IAAI,CAACE,GAAG,CAAC7T,CAAC,EAAE,CAAC,CAAC,CAAC;AACxC,CAAC,EAAE,KAAK,CAAC,KAAKD,UAAU,KAAKA,UAAU,GAAG,CAAC,CAAC,CAAC,EAAEA,UAAU,CAAC2J,SAAS,CAACyD,wBAAwB,GAAG,UAAUnN,CAAC,EAAE;EACxG,IAAI,CAACuc,SAAS,CAAC1H,MAAM,EAAE,QAAQ,EAAE,IAAI,CAAC2H,cAAc,CAAC;AACzD,CAAC,EAAEzc,UAAU,CAAC2J,SAAS,CAACmD,oBAAoB,GAAG,UAAU7M,CAAC,EAAE;EACxD,IAAI,IAAI,CAACO,MAAM,CAACyE,WAAW,EAAE;IACzBhF,CAAC,GAAG,IAAI,CAACwM,MAAM,CAAC,CAAC;IACjB,IAAI,CAACjM,MAAM,CAAC6E,WAAW,IAAIrF,UAAU,CAAC0c,QAAQ,CAAC,CAAC,IAAI,IAAI,CAACF,SAAS,CAACvc,CAAC,EAAE,YAAY,EAAE,IAAI,CAAC0c,uBAAuB,CAAC,EAAE,IAAI,CAACH,SAAS,CAACvc,CAAC,EAAE,UAAU,EAAE,IAAI,CAAC2c,mBAAmB,CAAC,KAAK,IAAI,CAACJ,SAAS,CAACvc,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC0c,uBAAuB,CAAC,EAAE,IAAI,CAACH,SAAS,CAACvc,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC2c,mBAAmB,CAAC,EAAE,IAAI,CAACJ,SAAS,CAACvc,CAAC,EAAE,aAAa,EAAE,IAAI,CAAC4c,qBAAqB,CAAC,EAAE,IAAI,CAACL,SAAS,CAACvc,CAAC,EAAE,UAAU,EAAE,IAAI,CAAC6c,qBAAqB,CAAC,EAAE,IAAI,CAACtc,MAAM,CAACuF,WAAW,IAAI/F,UAAU,CAAC0D,MAAM,CAACoC,IAAI,IAAI,IAAI,CAAC0W,SAAS,CAACvc,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC8c,mBAAmB,CAAC,CAAC;IACtgB,IAAI7c,CAAC,GAAG,IAAI,CAAC8c,aAAa,CAAC,CAAC;IAC5B9c,CAAC,IAAI,IAAI,CAACsc,SAAS,CAACtc,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC+c,iBAAiB,CAAC;EAC3D;AACJ,CAAC,EAAEjd,UAAU,CAAC2J,SAAS,CAAC6S,SAAS,GAAG,UAAUvc,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;EACtD,IAAIC,CAAC,EAAE8I,CAAC;EACR,CAAC/I,CAAC,KAAKA,CAAC,GAAG,EAAE,CAAC,EAAEvB,CAAC,CAACid,eAAe,KAAKjd,CAAC,CAACid,eAAe,GAAG,CAAC,CAAC,CAAC,EAAEjd,CAAC,CAACid,eAAe,CAAChd,CAAC,GAAGsB,CAAC,CAAC,MAAMC,CAAC,GAAG,IAAI,EAAE8I,CAAC,GAAGpK,CAAC,EAAEA,CAAC,GAAG,SAAAA,CAAA,EAAY;IAC1H,IAAIoK,CAAC,EAAE,OAAOA,CAAC,CAAC4S,KAAK,CAAC1b,CAAC,EAAE,CAAC,IAAI,EAAE2b,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;EAClD,CAAC,EAAEnd,CAAC,CAACod,gBAAgB,GAAG,YAAY,IAAInd,CAAC,GAAGD,CAAC,CAACod,gBAAgB,CAACnd,CAAC,EAAE8K,CAAC,EAAE;IAACsS,OAAO,EAAE,CAAC;EAAC,CAAC,CAAC,GAAGrd,CAAC,CAACod,gBAAgB,CAACnd,CAAC,EAAE8K,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG/K,CAAC,CAACsd,WAAW,CAAC,IAAI,GAAGrd,CAAC,EAAG,YAAY;IACtJ,IAAIA,CAAC,GAAGC,CAAC,CAACqd,IAAI,CAACvd,CAAC,EAAE6U,MAAM,CAAC2I,KAAK,CAAC;IAC/B,OAAO,CAAC,CAAC,KAAKvd,CAAC,KAAK4U,MAAM,CAAC2I,KAAK,CAACC,WAAW,GAAG,CAAC,CAAC,EAAE5I,MAAM,CAAC2I,KAAK,CAACE,YAAY,GAAG,CAAC,CAAC,CAAC,EAAEzd,CAAC;EACzF,CAAE,CAAC,EAAED,CAAC,CAACid,eAAe,CAAChd,CAAC,GAAGsB,CAAC,CAAC,GAAGwJ,CAAC,CAAC;EAElC,SAASA,CAACA,CAAC/K,CAAC,EAAE;IACV,IAAIC,CAAC,GAAGC,CAAC,CAACgd,KAAK,CAAC,IAAI,EAAEC,SAAS,CAAC;IAChC,OAAO,CAAC,CAAC,KAAKld,CAAC,KAAKD,CAAC,CAAC2d,eAAe,CAAC,CAAC,EAAE3d,CAAC,CAAC4d,cAAc,CAAC,CAAC,CAAC,EAAE3d,CAAC;EACnE;AACJ,CAAC,EAAEF,UAAU,CAAC2J,SAAS,CAACkL,YAAY,GAAG,UAAU5U,CAAC,EAAEC,CAAC,EAAE;EACnD,IAAID,CAAC,CAACid,eAAe,CAAChd,CAAC,CAAC,EAAE;IACtB,IAAIC,CAAC,GAAGF,CAAC,CAACid,eAAe,CAAChd,CAAC,CAAC;IAC5BD,CAAC,CAAC6d,mBAAmB,CAAC5d,CAAC,EAAEC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,OAAOF,CAAC,CAACid,eAAe,CAAChd,CAAC,CAAC;EAChE;AACJ,CAAC,EAAE,KAAK,CAAC,KAAKF,UAAU,KAAKA,UAAU,GAAG,CAAC,CAAC,CAAC,EAAEA,UAAU,CAAC+d,OAAO,GAAG,SAAS,EAAE/d,UAAU,CAACa,WAAW,GAAG,CAAC,CAAC,EAAEb,UAAU,CAACa,WAAW,CAACqG,GAAG,GAAG,CAAC,EAAElH,UAAU,CAACa,WAAW,CAAC4T,MAAM,GAAG,CAAC,EAAEzU,UAAU,CAACa,WAAW,CAACuT,KAAK,GAAG,CAAC,EAACpU,UAAU,CAACa,WAAW,CAAC2O,IAAI,GAAG,CAAC,EAACxP,UAAU,CAACa,WAAW,CAAC0T,QAAQ,GAAG,CAAC,EAACvU,UAAU,CAACa,WAAW,CAACyT,WAAW,GAAG,CAAC,EAACtU,UAAU,CAACa,WAAW,CAACwT,SAAS,GAAG,CAAC,EAACrU,UAAU,CAACa,WAAW,CAAC2T,QAAQ,GAAG,CAAC,EAACxU,UAAU,CAAC2H,KAAK,GAAG,CAAC,CAAC,EAAC3H,UAAU,CAAC2H,KAAK,CAACuI,MAAM,GAAGlQ,UAAU,CAAC4H,MAAM,GAAG,CAAC,EAAC5H,UAAU,CAAC2H,KAAK,CAAC9G,WAAW,GAAGb,UAAU,CAACge,WAAW,GAAG,CAAC,EAAChe,UAAU,CAAC2Q,IAAI,GAAG,CAAC,CAAC,EAAC3Q,UAAU,CAAC2Q,IAAI,CAAC1F,CAAC,GAAG,QAAQ,EAACjL,UAAU,CAAC2Q,IAAI,CAAC/E,EAAE,GAAG,SAAS,EAAC5L,UAAU,CAAC2Q,IAAI,CAACsN,EAAE,GAAG,SAAS,EAACje,UAAU,CAAC2Q,IAAI,CAACuN,GAAG,GAAG,UAAU,EAACle,UAAU,CAAC2Q,IAAI,CAACwN,GAAG,GAAG,UAAU,EAACne,UAAU,CAAC2Q,IAAI,CAACC,IAAI,GAAG,WAAW,EAAC5Q,UAAU,CAAC2Q,IAAI,CAACyN,IAAI,GAAG,WAAW,EAACpe,UAAU,CAAC2Q,IAAI,CAACxP,MAAM,GAAG,aAAa,EAACnB,UAAU,CAAC2Q,IAAI,CAAC0N,OAAO,GAAG,WAAW,EAACre,UAAU,CAAC2Q,IAAI,CAAC+B,OAAO,GAAG,WAAW,EAAC1S,UAAU,CAAC2Q,IAAI,CAAC2N,UAAU,GAAG,aAAa,EAACte,UAAU,CAAC2Q,IAAI,CAAC4N,SAAS,GAAG,aAAa,EAACve,UAAU,CAAC2Q,IAAI,CAAC6N,WAAW,GAAG,eAAe,EAACxe,UAAU,CAAC2Q,IAAI,CAAC8N,SAAS,GAAG,aAAa,EAACze,UAAU,CAAC2Q,IAAI,CAAC+N,WAAW,GAAG,eAAe,EAAC1e,UAAU,CAAC2Q,IAAI,CAACgO,WAAW,GAAG,eAAe,EAAC3e,UAAU,CAAC2Q,IAAI,CAACiC,kBAAkB,GAAG,iBAAiB,EAAC5S,UAAU,CAAC2Q,IAAI,CAACmC,aAAa,GAAG,iBAAiB,EAAC9S,UAAU,CAAC2Q,IAAI,CAACiO,mBAAmB,GAAG,gBAAgB,EAAC5e,UAAU,CAAC2Q,IAAI,CAACkO,oBAAoB,GAAG,qBAAqB,EAAC7e,UAAU,CAAC2Q,IAAI,CAACmO,2BAA2B,GAAG,uBAAuB,EAAC9e,UAAU,CAAC2Q,IAAI,CAACoO,6BAA6B,GAAG,yBAAyB,EAAC/e,UAAU,CAAC2Q,IAAI,CAACqO,mCAAmC,GAAG,+BAA+B,EAAChf,UAAU,CAAC2Q,IAAI,CAACvG,KAAK,GAAG,YAAY,EAACpK,UAAU,CAAC2Q,IAAI,CAACsO,aAAa,GAAG,oBAAoB,EAACjf,UAAU,CAACkf,EAAE,GAAG,IAAI,EAAClf,UAAU,CAACmf,GAAG,GAAG,KAAK,EAACnf,UAAU,CAACof,KAAK,GAAG,OAAO,EAACpf,UAAU,CAACqf,IAAI,GAAG,MAAM,EAACrf,UAAU,CAACsf,KAAK,GAAG,OAAO,EAACtf,UAAU,CAACuf,OAAO,GAAG,SAAS,EAACvf,UAAU,CAACwf,SAAS,GAAG,WAAW,EAACxf,UAAU,CAAC0D,MAAM,GAAG,CAAC,CAAC,EAAC1D,UAAU,CAAC0D,MAAM,CAACgE,MAAM,GAAG,CAAC,EAAC1H,UAAU,CAAC0D,MAAM,CAACrC,QAAQ,GAAG,CAAC,EAACrB,UAAU,CAAC0D,MAAM,CAAC+b,QAAQ,GAAG,GAAG,EAACzf,UAAU,CAAC0D,MAAM,CAACgc,QAAQ,GAAG,GAAG,EAAC1f,UAAU,CAAC0D,MAAM,CAACic,cAAc,GAAG,GAAG,EAAC3f,UAAU,CAAC0D,MAAM,CAACwF,IAAI,GAAG,CAAC,EAAClJ,UAAU,CAAC0D,MAAM,CAACsC,IAAI,GAAG,CAAC,EAAChG,UAAU,CAAC0D,MAAM,CAACkc,QAAQ,GAAG,EAAE,EAAC5f,UAAU,CAAC0D,MAAM,CAACmc,MAAM,GAAG,EAAE,EAAC7f,UAAU,CAAC0D,MAAM,CAACC,OAAO,GAAG,CAAC,EAAC3D,UAAU,CAAC0D,MAAM,CAACoc,OAAO,GAAG,CAAC,EAAC9f,UAAU,CAAC0D,MAAM,CAACoC,IAAI,GAAG,CAAC,EAAC9F,UAAU,CAAC0D,MAAM,CAACzB,IAAI,GAAG,CAAC,EAACjC,UAAU,CAAC0D,MAAM,CAACoB,MAAM,GAAG,CAAC,EAAC9E,UAAU,CAAC0D,MAAM,CAACqc,IAAI,GAAG,EAAE,EAAC/f,UAAU,CAAC0D,MAAM,CAACoO,GAAG,GAAG,CAAC,EAAC9R,UAAU,CAAC0D,MAAM,CAAC0I,UAAU,GAAG,CAAC,EAACpM,UAAU,CAAC0D,MAAM,CAACsc,MAAM,GAAG,EAAE,EAAChgB,UAAU,CAAC0D,MAAM,CAAC2I,MAAM,GAAG,EAAE,EAACrM,UAAU,CAAC0D,MAAM,CAACuc,WAAW,GAAG,EAAE,EAACjgB,UAAU,CAAC0D,MAAM,CAACkC,OAAO,GAAG,EAAE,EAAC5F,UAAU,CAAC0D,MAAM,CAACiH,SAAS,GAAG,EAAE,EAAC3K,UAAU,CAAC8F,IAAI,GAAG,MAAM,EAAC9F,UAAU,CAAC6f,MAAM,GAAG,CAAC,CAAC,EAAC7f,UAAU,CAAC6f,MAAM,CAACK,OAAO,GAAG,CAAC,CAAC,EAAClgB,UAAU,CAAC6f,MAAM,CAAC1X,MAAM,GAAG,EAAE,EAACnI,UAAU,CAAC6f,MAAM,CAAC3X,KAAK,GAAG,GAAG,EAAClI,UAAU,CAAC6f,MAAM,CAACM,MAAM,GAAG;EACzqFhY,MAAM,EAAE,EAAE;EACVD,KAAK,EAAE;AACX,CAAC,EAAClI,UAAU,CAACwQ,KAAK,GAAG,CAAC,CAAC,EAACxQ,UAAU,CAACwQ,KAAK,CAACnG,MAAM,GAAG,MAAM,EAACrK,UAAU,CAACwQ,KAAK,CAACpG,KAAK,GAAG,MAAM,EAACpK,UAAU,CAACwQ,KAAK,CAACvN,QAAQ,GAAG,MAAM,EAACjD,UAAU,CAACqH,SAAS,GAAG,CAAC,CAAC,EAACrH,UAAU,CAACqH,SAAS,CAAC2E,IAAI,GAAG,MAAM,EAAChM,UAAU,CAACqH,SAAS,CAAC+Y,IAAI,GAAG,MAAM,EAACpgB,UAAU,CAACmB,MAAM,GAAG,CAAC,CAAC,EAACnB,UAAU,CAACmB,MAAM,CAACgG,MAAM,GAAGnH,UAAU,CAACmH,MAAM,GAAG,CAAC,EAACnH,UAAU,CAACmB,MAAM,CAACkf,KAAK,GAAGrgB,UAAU,CAACqgB,KAAK,GAAG,CAAC,EAACrgB,UAAU,CAACmB,MAAM,CAACif,IAAI,GAAGpgB,UAAU,CAACogB,IAAI,GAAG,CAAC,EAACpgB,UAAU,CAACmB,MAAM,CAACmf,cAAc,GAAGtgB,UAAU,CAACsgB,cAAc,GAAG,CAAC,EAACtgB,UAAU,CAACmB,MAAM,CAACof,eAAe,GAAGvgB,UAAU,CAACugB,eAAe,GAAG,CAAC,EAACvgB,UAAU,CAACmB,MAAM,CAACqf,QAAQ,GAAG,CAAC,EAACxgB,UAAU,CAACmB,MAAM,CAACsf,SAAS,GAAG,CAAC,EAACzgB,UAAU,CAAC0gB,WAAW,GAAG,KAAK,GAAG1gB,UAAU,CAAC2Q,IAAI,CAAC0N,OAAO,GAAG,yFAAyF,GAAGre,UAAU,CAAC2Q,IAAI,CAACsN,EAAE,GAAG,UAAU,GAAGje,UAAU,CAAC2Q,IAAI,CAAC1F,CAAC,GAAG,iBAAiB,EAACjL,UAAU,CAAC2gB,WAAW,GAAG,KAAK,GAAG3gB,UAAU,CAAC2Q,IAAI,CAAC+B,OAAO,GAAG,wCAAwC,EAAC1S,UAAU,CAAC4gB,cAAc,GAAG,KAAK,GAAG5gB,UAAU,CAAC2Q,IAAI,CAACiC,kBAAkB,GAAG,uEAAuE,EAAC5S,UAAU,CAAC6gB,SAAS,GAAG,KAAK,GAAG7gB,UAAU,CAAC2Q,IAAI,CAACmC,aAAa,GAAG,sEAAsE,EAAC9S,UAAU,CAAC8gB,iBAAiB,GAAG,0DAA0D,EAAC9gB,UAAU,CAAC+gB,UAAU,GAAG,MAAM,EAAC/gB,UAAU,CAACghB,GAAG,GAAG,GAAG,EAAChhB,UAAU,CAACihB,GAAG,GAAG,GAAG,EAACjhB,UAAU,CAACkhB,GAAG,GAAG,GAAG,EAAClhB,UAAU,CAACmhB,GAAG,GAAG,GAAG,EAACnhB,UAAU,CAACohB,GAAG,GAAG,GAAG,EAACphB,UAAU,CAACqhB,GAAG,GAAG,IAAI,EAACrhB,UAAU,CAACshB,GAAG,GAAG,IAAI,EAACthB,UAAU,CAACuhB,GAAG,GAAG,IAAI,EAACvhB,UAAU,CAACwhB,GAAG,GAAG,IAAI,EAACxhB,UAAU,CAACyhB,GAAG,GAAG,IAAI,EAACzhB,UAAU,CAAC0hB,OAAO,GAAG,GAAG,EAAC1hB,UAAU,CAAC2hB,OAAO,GAAG,GAAG,EAAC3hB,UAAU,CAAC4hB,MAAM,GAAG,GAAG,EAAC5hB,UAAU,CAAC6hB,MAAM,GAAG,IAAI,EAAC7hB,UAAU,CAAC8hB,yBAAyB,GAAG,CAAC,EAAC9hB,UAAU,CAAC+hB,sBAAsB,GAAG,CAAC,EAAC/hB,UAAU,CAACgiB,2CAA2C,GAAG,CAAC,EAAChiB,UAAU,CAACsS,cAAc,GAAG,GAAG,EAACtS,UAAU,CAACwS,gBAAgB,GAAG,GAAG,EAACxS,UAAU,CAAC2S,eAAe,GAAG,GAAG,EAAC3S,UAAU,CAAC6S,iBAAiB,GAAG,EAAE,EAAC7S,UAAU,CAACoS,cAAc,GAAG,EAAE,EAACpS,UAAU,CAACiiB,iBAAiB,GAAG,6DAA6D,GAAGjiB,UAAU,CAAC2Q,IAAI,CAACgO,WAAW,GAAG,uDAAuD,EAAC3e,UAAU,CAACkiB,GAAG,GAAG,CAAC,CAAC,EAACliB,UAAU,CAACkiB,GAAG,CAACC,sBAAsB,GAAG,uCAAuC,EAACniB,UAAU,CAACoiB,2BAA2B,GAAG,CAAC,EAACpiB,UAAU,CAACqiB,WAAW,GAAG,CAAC,CAAC,EAACriB,UAAU,CAACsiB,cAAc,GAAG,4KAA4K,EAACtiB,UAAU,CAACuiB,YAAY,GAAG,2KAA2K,EAACviB,UAAU,CAACwiB,kBAAkB,GAAG,+BAA+B,EAACxiB,UAAU,CAACyiB,kBAAkB,GAAG,GAAG,EAACziB,UAAU,CAAC0iB,6CAA6C,GAAG,CAAC,CAAC,EAAC1iB,UAAU,CAAC2iB,mBAAmB,GAAG,EAAE,EAAC3iB,UAAU,CAAC4iB,cAAc,GAAG,sFAAsF,EAAC5iB,UAAU,CAAC6iB,uBAAuB,GAAG,CAAC,CAAC,EAAC7iB,UAAU,CAAC6L,yBAAyB,GAAG,CAAC,CAAC,EAAC7L,UAAU,CAAC8iB,0BAA0B,GAAG,CAAC,CAAC,EAAC9iB,UAAU,CAAC+iB,sBAAsB,GAAG,CAAC,CAAC,EAAC/iB,UAAU,CAACgjB,8CAA8C,GAAG,CAAC,CAAC,EAAChjB,UAAU,CAACijB,+CAA+C,GAAG,CAAC,EAACjjB,UAAU,CAACkjB,oBAAoB,GAAG,CAAC,EAACljB,UAAU,CAACmjB,SAAS,GAAG,CAAC,EAACnjB,UAAU,CAACojB,WAAW,GAAG,CAAC,EAACpjB,UAAU,CAACqjB,SAAS,GAAG,GAAG,EAACrjB,UAAU,CAACsjB,YAAY,GAAG,IAAI,EAACtjB,UAAU,CAACujB,mBAAmB,GAAG,GAAG,EAACvjB,UAAU,CAACwjB,qBAAqB,GAAG,CAAC,CAAC,EAACxjB,UAAU,CAAC6E,YAAY,GAAG,CAAC,CAAC,EAAC7E,UAAU,CAACyjB,YAAY,GAAG,CAAC,MAAM,CAAC,EAACzjB,UAAU,CAAC0jB,aAAa,GAAG,GAAG,EAAC1jB,UAAU,CAAC2jB,kBAAkB,GAAG,uZAAuZ,EAAC3jB,UAAU,CAAC4jB,WAAW,GAAG,CAAC,CAAC,EAAC5jB,UAAU,CAAC6jB,2BAA2B,GAAG,CAAC,CAAC,EAAC,WAAW,IAAI,OAAOC,MAAM,KAAKA,MAAM,CAACC,OAAO,GAAG/jB,UAAU,CAAC,EAACA,UAAU,CAACgkB,UAAU,GAAGhkB,UAAU,CAAC+d,OAAO,EAAC/d,UAAU,CAAC+d,OAAO,GAAG,SAAS,EAAC/d,UAAU,CAAC6L,yBAAyB,GAAG,CAAC,CAAC,EAAC7L,UAAU,CAACyjB,YAAY,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,EAACzjB,UAAU,CAACikB,WAAW,GAAG,UAAUhkB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACzwI,IAAIqB,CAAC,GAAGvB,CAAC,CAAC4P,CAAC,GAAG1P,CAAC,CAACe,iBAAiB,GAAG,CAAC;IAAEO,CAAC,GAAGxB,CAAC,CAACsN,CAAC;IAAEhD,CAAC,GAAGtK,CAAC,CAAC4P,CAAC,GAAG5P,CAAC,CAACqP,CAAC,GAAGnP,CAAC,CAACe,iBAAiB,GAAG,CAAC;IAAE8J,CAAC,GAAG/K,CAAC,CAACsN,CAAC;EAChG,QAAQpN,CAAC,CAACU,WAAW;IACjB,KAAKb,UAAU,CAACa,WAAW,CAACuT,KAAK;IACjC,KAAKpU,UAAU,CAACa,WAAW,CAACwT,SAAS;IACrC,KAAKrU,UAAU,CAACa,WAAW,CAAC2O,IAAI;IAChC,KAAKxP,UAAU,CAACa,WAAW,CAAC2T,QAAQ;MAChChT,CAAC,GAAGvB,CAAC,CAAC4P,CAAC,EAAEpO,CAAC,GAAGxB,CAAC,CAACsN,CAAC,GAAGpN,CAAC,CAACe,iBAAiB,GAAG,CAAC,EAAEqJ,CAAC,GAAGtK,CAAC,CAAC4P,CAAC,EAAE7E,CAAC,GAAG/K,CAAC,CAACsN,CAAC,GAAGtN,CAAC,CAACuM,CAAC,GAAGrM,CAAC,CAACe,iBAAiB,GAAG,CAAC;EACpG;EACA,IAAI+J,CAAC;IAAEE,CAAC;IAAEC,CAAC;IAAEG,CAAC,GAAGrL,CAAC,CAACwL,CAAC;IAAED,CAAC,GAAGvL,CAAC,CAACgkB,CAAC;IAAExY,CAAC,GAAGxL,CAAC,CAACsB,CAAC;IAAEgL,CAAC,GAAGtM,CAAC,CAACiL,CAAC;EAC/C,OAAO,CAAC,MAAMF,CAAC,GAAG,CAACV,CAAC,GAAG/I,CAAC,KAAKgL,CAAC,GAAGf,CAAC,CAAC,GAAG,CAACC,CAAC,GAAGH,CAAC,KAAKP,CAAC,GAAGvJ,CAAC,CAAC,CAAC,KAAK0J,CAAC,GAAG,CAAC,CAAC1J,CAAC,GAAGuJ,CAAC,KAAKU,CAAC,GAAGlK,CAAC,CAAC,GAAG,CAAC+I,CAAC,GAAG/I,CAAC,KAAKgL,CAAC,GAAG/K,CAAC,CAAC,IAAIwJ,CAAC,EAAE,CAAC,IAAIG,CAAC,GAAG,CAAC,CAACoB,CAAC,GAAGf,CAAC,KAAKC,CAAC,GAAGlK,CAAC,CAAC,GAAG,CAAC+J,CAAC,GAAGG,CAAC,KAAKc,CAAC,GAAG/K,CAAC,CAAC,IAAIwJ,CAAC,CAAC,IAAIG,CAAC,GAAG,CAAC,IAAI,CAAC,GAAGD,CAAC,IAAIA,CAAC,GAAG,CAAC,CAAC;AACnM,CAAC,EAACnL,UAAU,CAACmkB,SAAS,GAAG,UAAUlkB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;EAC9C,QAAQtB,CAAC,CAACU,WAAW;IACjB,KAAKb,UAAU,CAACa,WAAW,CAACqG,GAAG;IAC/B,KAAKlH,UAAU,CAACa,WAAW,CAAC0T,QAAQ;MAChC,OAAOvU,UAAU,CAACokB,YAAY,CAACnkB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,CAAC;IACjD,KAAKzB,UAAU,CAACa,WAAW,CAAC4T,MAAM;IAClC,KAAKzU,UAAU,CAACa,WAAW,CAACyT,WAAW;MACnC,OAAOtU,UAAU,CAACqkB,eAAe,CAACpkB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,CAAC;IACpD,KAAKzB,UAAU,CAACa,WAAW,CAAC2O,IAAI;IAChC,KAAKxP,UAAU,CAACa,WAAW,CAAC2T,QAAQ;MAChC,OAAOxU,UAAU,CAACskB,aAAa,CAACrkB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,CAAC;IAClD,KAAKzB,UAAU,CAACa,WAAW,CAACuT,KAAK;IACjC,KAAKpU,UAAU,CAACa,WAAW,CAACwT,SAAS;MACjC,OAAOrU,UAAU,CAACukB,cAAc,CAACtkB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,CAAC;EACvD;AACJ,CAAC,EAACzB,UAAU,CAACokB,YAAY,GAAG,UAAUnkB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;EACjD,IAAI8I,CAAC,EAAES,CAAC,EAAEC,CAAC;EACX,OAAO,MAAM,IAAIxJ,CAAC,GAAG8I,CAAC,GAAGtK,CAAC,CAACukB,YAAY,GAAGvkB,CAAC,CAAC4P,CAAC,GAAG,CAAC5P,CAAC,CAACukB,YAAY,CAAC3U,CAAC,GAAG5P,CAAC,CAACukB,YAAY,CAAClV,CAAC,GAAGrP,CAAC,CAAC4P,CAAC,IAAI,CAAC,GAAG5P,CAAC,CAAC4P,CAAC,GAAG1P,CAAC,CAACe,iBAAiB,GAAG,CAAC,GAAG,OAAO,IAAIO,CAAC,KAAK8I,CAAC,GAAGtK,CAAC,CAACwkB,aAAa,GAAGxkB,CAAC,CAAC4P,CAAC,GAAG5P,CAAC,CAACqP,CAAC,GAAG,CAACrP,CAAC,CAACwkB,aAAa,CAAC5U,CAAC,IAAI5P,CAAC,CAAC4P,CAAC,GAAG5P,CAAC,CAACqP,CAAC,CAAC,IAAI,CAAC,GAAGrP,CAAC,CAAC4P,CAAC,GAAG5P,CAAC,CAACqP,CAAC,GAAGnP,CAAC,CAACe,iBAAiB,GAAG,CAAC,CAAC,EAAEhB,CAAC,CAACmT,IAAI,CAAC,CAAC9I,CAAC,EAAErK,CAAC,CAACA,CAAC,CAACsL,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEtL,CAAC,CAACmT,IAAI,CAAC,CAAC9I,CAAC,EAAEtK,CAAC,CAACsN,CAAC,GAAGpN,CAAC,CAACW,eAAe,GAAG,CAAC,CAAC,CAAC,EAAEkK,CAAC,GAAG9K,CAAC,CAACA,CAAC,CAACsL,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEP,CAAC,GAAGV,CAAC,EAAE/I,CAAC,CAACkK,CAAC,GAAGnB,CAAC,EAAE/I,CAAC,CAAC0iB,CAAC,GAAGlZ,CAAC,EAAExJ,CAAC,CAACA,CAAC,GAAGyJ,CAAC,EAAEzJ,CAAC;AAC7Y,CAAC,EAACxB,UAAU,CAACqkB,eAAe,GAAG,UAAUpkB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;EACpD,IAAI8I,CAAC,EAAES,CAAC,EAAEC,CAAC;EACX,OAAO,MAAM,IAAIxJ,CAAC,GAAG8I,CAAC,GAAGtK,CAAC,CAACukB,YAAY,GAAGvkB,CAAC,CAAC4P,CAAC,GAAG,CAAC5P,CAAC,CAACukB,YAAY,CAAC3U,CAAC,GAAG5P,CAAC,CAACukB,YAAY,CAAClV,CAAC,GAAGrP,CAAC,CAAC4P,CAAC,IAAI,CAAC,GAAG5P,CAAC,CAAC4P,CAAC,GAAG1P,CAAC,CAACe,iBAAiB,GAAG,CAAC,GAAG,OAAO,IAAIO,CAAC,KAAK8I,CAAC,GAAGtK,CAAC,CAACwkB,aAAa,GAAGxkB,CAAC,CAAC4P,CAAC,GAAG5P,CAAC,CAACqP,CAAC,GAAG,CAACrP,CAAC,CAACwkB,aAAa,CAAC5U,CAAC,IAAI5P,CAAC,CAAC4P,CAAC,GAAG5P,CAAC,CAACqP,CAAC,CAAC,IAAI,CAAC,GAAGrP,CAAC,CAAC4P,CAAC,GAAG5P,CAAC,CAACqP,CAAC,GAAGnP,CAAC,CAACe,iBAAiB,GAAG,CAAC,CAAC,EAAEhB,CAAC,CAACmT,IAAI,CAAC,CAAC9I,CAAC,EAAErK,CAAC,CAACA,CAAC,CAACsL,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEtL,CAAC,CAACmT,IAAI,CAAC,CAAC9I,CAAC,EAAEtK,CAAC,CAACsN,CAAC,GAAGtN,CAAC,CAACuM,CAAC,GAAGrM,CAAC,CAACW,eAAe,GAAG,CAAC,CAAC,CAAC,EAAEkK,CAAC,GAAG9K,CAAC,CAACA,CAAC,CAACsL,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEP,CAAC,GAAGV,CAAC,EAAE/I,CAAC,CAACkK,CAAC,GAAGnB,CAAC,EAAE/I,CAAC,CAAC0iB,CAAC,GAAGlZ,CAAC,EAAExJ,CAAC,CAACA,CAAC,GAAGyJ,CAAC,EAAEzJ,CAAC;AACnZ,CAAC,EAACxB,UAAU,CAACskB,aAAa,GAAG,UAAUrkB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;EAClD,IAAI8I,CAAC;IAAES,CAAC,GAAG9K,CAAC,CAACA,CAAC,CAACsL,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;EAC7B,QAAQ,IAAI/J,CAAC,GAAG8I,CAAC,GAAGtK,CAAC,CAACwkB,aAAa,GAAGxkB,CAAC,CAACsN,CAAC,GAAGtN,CAAC,CAACuM,CAAC,GAAG,CAACvM,CAAC,CAACwkB,aAAa,CAAClX,CAAC,IAAItN,CAAC,CAACsN,CAAC,GAAGtN,CAAC,CAACuM,CAAC,CAAC,IAAI,CAAC,GAAGvM,CAAC,CAACsN,CAAC,GAAGtN,CAAC,CAACuM,CAAC,GAAGrM,CAAC,CAACe,iBAAiB,GAAG,CAAC,GAAG,KAAK,IAAIO,CAAC,KAAK8I,CAAC,GAAGtK,CAAC,CAACukB,YAAY,GAAGvkB,CAAC,CAACsN,CAAC,GAAG,CAACtN,CAAC,CAACukB,YAAY,CAACjX,CAAC,GAAGtN,CAAC,CAACukB,YAAY,CAAChY,CAAC,GAAGvM,CAAC,CAACsN,CAAC,IAAI,CAAC,GAAGtN,CAAC,CAACsN,CAAC,GAAGpN,CAAC,CAACe,iBAAiB,GAAG,CAAC,CAAC,EAAEhB,CAAC,CAACmT,IAAI,CAAC,CAACnT,CAAC,CAACA,CAAC,CAACsL,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEjB,CAAC,CAAC,CAAC,EAAErK,CAAC,CAACmT,IAAI,CAAC,CAACpT,CAAC,CAAC4P,CAAC,GAAG1P,CAAC,CAACW,eAAe,GAAG,CAAC,EAAEyJ,CAAC,CAAC,CAAC,EAAES,CAAC,GAAG9K,CAAC,CAACA,CAAC,CAACsL,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;EAC7V,IAAIP,CAAC,GAAGV,CAAC;EACT,OAAO/I,CAAC,CAACkK,CAAC,GAAGV,CAAC,EAAExJ,CAAC,CAAC0iB,CAAC,GAAG3Z,CAAC,EAAE/I,CAAC,CAAC2J,CAAC,GAAGF,CAAC,EAAEzJ,CAAC;AACvC,CAAC,EAACxB,UAAU,CAACukB,cAAc,GAAG,UAAUtkB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;EACnD,IAAI8I,CAAC;IAAES,CAAC,GAAG9K,CAAC,CAACA,CAAC,CAACsL,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;EAC7B,QAAQ,IAAI/J,CAAC,GAAG8I,CAAC,GAAGtK,CAAC,CAACwkB,aAAa,GAAGxkB,CAAC,CAACsN,CAAC,GAAGtN,CAAC,CAACuM,CAAC,GAAG,CAACvM,CAAC,CAACwkB,aAAa,CAAClX,CAAC,IAAItN,CAAC,CAACsN,CAAC,GAAGtN,CAAC,CAACuM,CAAC,CAAC,IAAI,CAAC,GAAGvM,CAAC,CAACsN,CAAC,GAAGtN,CAAC,CAACuM,CAAC,GAAGrM,CAAC,CAACe,iBAAiB,GAAG,CAAC,GAAG,KAAK,IAAIO,CAAC,KAAK8I,CAAC,GAAGtK,CAAC,CAACukB,YAAY,GAAGvkB,CAAC,CAACsN,CAAC,GAAG,CAACtN,CAAC,CAACukB,YAAY,CAACjX,CAAC,GAAGtN,CAAC,CAACukB,YAAY,CAAChY,CAAC,GAAGvM,CAAC,CAACsN,CAAC,IAAI,CAAC,GAAGtN,CAAC,CAACsN,CAAC,GAAGpN,CAAC,CAACe,iBAAiB,GAAG,CAAC,CAAC,EAAEhB,CAAC,CAACmT,IAAI,CAAC,CAACnT,CAAC,CAACA,CAAC,CAACsL,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEjB,CAAC,CAAC,CAAC,EAAErK,CAAC,CAACmT,IAAI,CAAC,CAACpT,CAAC,CAAC4P,CAAC,GAAG5P,CAAC,CAACqP,CAAC,GAAGnP,CAAC,CAACW,eAAe,GAAG,CAAC,EAAEyJ,CAAC,CAAC,CAAC,EAAES,CAAC,GAAG9K,CAAC,CAACA,CAAC,CAACsL,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;EACnW,IAAIP,CAAC,GAAGV,CAAC;EACT,OAAO/I,CAAC,CAACkK,CAAC,GAAGV,CAAC,EAAExJ,CAAC,CAAC0iB,CAAC,GAAG3Z,CAAC,EAAE/I,CAAC,CAAC2J,CAAC,GAAGF,CAAC,EAAEzJ,CAAC;AACvC,CAAC,EAACxB,UAAU,CAACgC,MAAM,GAAG,YAAY,CAClC,CAAC,EAAChC,UAAU,CAACgC,MAAM,CAAC2H,SAAS,CAAC1H,IAAI,GAAG,UAAUhC,CAAC,EAAE;EAC9C,IAAI,CAACykB,GAAG,GAAGzkB,CAAC,EAAE,IAAI,CAAC4K,MAAM,GAAG,IAAI,EAAE,IAAI,CAAClJ,SAAS,GAAG3B,UAAU,CAAC4B,KAAK,CAAC,CAAC;AACzE,CAAC,EAAC5B,UAAU,CAACgC,MAAM,CAAC2H,SAAS,CAACM,EAAE,GAAG,UAAUhK,CAAC,EAAEC,CAAC,EAAE;EAC/C,OAAOF,UAAU,CAAC2E,MAAM,CAACsF,EAAE,CAAChK,CAAC,EAAEC,CAAC,EAAE,IAAI,CAACyB,SAAS,CAAC,EAAE,IAAI;AAC3D,CAAC,EAAC3B,UAAU,CAACgC,MAAM,CAAC2H,SAAS,CAACc,IAAI,GAAG,UAAUxK,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACpD,IAAI,IAAI,CAACwkB,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK3kB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,MAAM,EAAE,CAAC,IAAI,EAAE3E,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;EAC/E,IAAIuB,CAAC,GAAG,IAAI;IAAEC,CAAC,GAAG,IAAI,CAAC4J,OAAO,CAACpL,CAAC,EAAEC,CAAC,EAAEC,CAAC,CAAC;EACvC,IAAI,CAACukB,GAAG,CAACnkB,OAAO,CAACyP,WAAW,CAACvO,CAAC,CAAClB,OAAO,CAAC,EAAEP,UAAU,CAAC4kB,KAAK,CAAC3iB,IAAI,CAAC,IAAI,CAACyiB,GAAG,CAACnkB,OAAO,CAAC,EAAEJ,CAAC,GAAGD,CAAC,IAAI,IAAI,CAAC2kB,aAAa,CAACpjB,CAAC,CAACqjB,OAAO,CAAC,GAAG,IAAI,CAACC,QAAQ,GAAG/kB,UAAU,CAAC0N,OAAO,CAACjM,CAAC,CAAClB,OAAO,EAAE;IACrK6T,KAAK,EAAE,CAAC,EAAE;IACVnE,OAAO,EAAE;EACb,CAAC,EAAE;IAACmE,KAAK,EAAE,CAAC;IAAEnE,OAAO,EAAE;EAAC,CAAC,EAAE,GAAG,EAAEjQ,UAAU,CAAC8H,IAAI,CAAC0T,MAAM,EAAG,YAAY;IACjEtb,CAAC,IAAIsB,CAAC,CAACqjB,aAAa,CAACpjB,CAAC,CAACqjB,OAAO,CAAC;EACnC,CAAE,CAAC,EAAE,IAAI,CAACJ,GAAG,CAACnkB,OAAO,CAACD,aAAa,CAAC,wBAAwB,CAAC,CAAC+c,gBAAgB,CAAC,OAAO,EAAG,UAAUnd,CAAC,EAAE;IAClGA,CAAC,CAAC2d,cAAc,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK7d,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,QAAQ,EAAE,CAACpD,CAAC,EAAE;MAACoK,EAAE,EAAE3L;IAAC,CAAC,CAAC,CAAC,IAAIuB,CAAC,CAACmjB,IAAI,CAAC,CAAC;EAC5F,CAAE,CAAC,EAAE,IAAI,CAACD,GAAG,CAACnkB,OAAO,CAACD,aAAa,CAAC,yBAAyB,CAAC,CAAC+c,gBAAgB,CAAC,OAAO,EAAG,UAAUnd,CAAC,EAAE;IACnGA,CAAC,CAAC2d,cAAc,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK7d,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,QAAQ,EAAE,CAACpD,CAAC,EAAE;MAACoK,EAAE,EAAE3L;IAAC,CAAC,CAAC,CAAC,IAAIuB,CAAC,CAACmjB,IAAI,CAAC,CAAC;EAC5F,CAAE,CAAC,EAAE,IAAI,CAACD,GAAG,CAACnkB,OAAO,CAACD,aAAa,CAAC,uBAAuB,CAAC,CAAC+c,gBAAgB,CAAC,OAAO,EAAG,UAAUnd,CAAC,EAAE;IACjGA,CAAC,CAAC2d,cAAc,CAAC,CAAC;IAClB,IAAI1d,CAAC,GAAGH,UAAU,CAAC4kB,KAAK,CAACI,kBAAkB,CAACvjB,CAAC,CAAClB,OAAO,CAAC;IACtD,IAAI,CAAC,CAAC,KAAKJ,CAAC,EAAE;MACV,IAAIoK,CAAC,GAAG/I,CAAC,CAACkjB,GAAG,CAACpN,GAAG,CAACrX,CAAC,CAAC;QAAE+K,CAAC,GAAG;UAACia,IAAI,EAAEjlB,UAAU,CAACS,SAAS,CAAC8J,CAAC,EAAEpK,CAAC;QAAC,CAAC;MAC5D,IAAI,CAAC,CAAC,KAAKH,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,MAAM,EAAE,CAACpD,CAAC,EAAEwJ,CAAC,CAAC,CAAC,EAAE;MACtDxJ,CAAC,CAACkjB,GAAG,CAACrN,UAAU,CAACrM,CAAC,CAACia,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,EAAEzjB,CAAC,CAACmjB,IAAI,CAAC,CAAC;IAChD;EACJ,CAAE,CAAC;EACH,KAAK,IAAIpa,CAAC,GAAG,IAAI,CAACma,GAAG,CAACnkB,OAAO,CAACkS,gBAAgB,CAAC,kBAAkB,CAAC,EAAEzH,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGT,CAAC,CAACiB,MAAM,EAAER,CAAC,EAAE,EAAE;IAC1FT,CAAC,CAACS,CAAC,CAAC,CAACqS,gBAAgB,CAAC,OAAO,EAAG,UAAUnd,CAAC,EAAE;MACzCA,CAAC,CAAC2d,cAAc,CAAC,CAAC,EAAE7d,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,mBAAmB,EAAE,CAACpD,CAAC,EAAE;QACnEojB,KAAK,EAAE,IAAI,CAACjY,UAAU,CAACrM,aAAa,CAAC,OAAO,CAAC;QAC7C4kB,MAAM,EAAEjlB,CAAC;QACTwd,KAAK,EAAEvd;MACX,CAAC,CAAC,CAAC;IACP,CAAE,CAAC;EACP;EACA,IAAI,CAACwkB,GAAG,CAACnkB,OAAO,CAACD,aAAa,CAAC,4BAA4B,CAAC,CAAC+c,gBAAgB,CAAC,OAAO,EAAG,UAAUpd,CAAC,EAAE;IACjGA,CAAC,CAAC2d,eAAe,CAAC,CAAC,EAAE3d,CAAC,CAAC4d,cAAc,CAAC,CAAC;IACvC,IAAI3d,CAAC,GAAG,IAAI;MAAEC,CAAC,GAAGH,UAAU,CAAC0J,QAAQ,CAACyb,OAAO,CAAC,CAAC,CAAC,EAAE;QAC9CC,IAAI,EAAE,SAAS;QACfC,KAAK,EAAE7jB,CAAC,CAACkjB,GAAG,CAAClkB,MAAM,CAAC8H,QAAQ,CAACM,gBAAgB;QAC7C0c,GAAG,EAAE9jB,CAAC,CAACkjB,GAAG,CAAClkB,MAAM,CAAC8H,QAAQ,CAACK;MAC/B,CAAC,EAAE,OAAO,CAAC;IACXzI,CAAC,CAACyM,UAAU,CAACE,kBAAkB,CAAC,aAAa,EAAE1M,CAAC,CAAColB,IAAI,CAAC,EAAErlB,CAAC,CAACyO,KAAK,CAAC4D,OAAO,GAAG,MAAM,EAAEvS,UAAU,CAAC4kB,KAAK,CAAC3iB,IAAI,CAAC/B,CAAC,CAACyM,UAAU,CAAC6Y,eAAe,CAAC;IACrI,IAAI/jB,CAAC,GAAGpB,QAAQ,CAAColB,cAAc,CAACtlB,CAAC,CAACyL,EAAE,CAAC;IACrCnK,CAAC,CAACikB,KAAK,CAAC,CAAC,EAAEjkB,CAAC,CAACkkB,kBAAkB,CAACtI,gBAAgB,CAAC,OAAO,EAAG,UAAUpd,CAAC,EAAE;MACpEA,CAAC,CAAC2d,eAAe,CAAC,CAAC,EAAE3d,CAAC,CAAC4d,cAAc,CAAC,CAAC;MACvC,IAAI1d,CAAC,GAAGsB,CAAC,CAACmkB,KAAK;QACXrb,CAAC,GAAG/I,CAAC,CAACkjB,GAAG,CAACnkB,OAAO,CAACD,aAAa,CAAC,iBAAiB,GAAGN,UAAU,CAAC6lB,mBAAmB,CAACpkB,CAAC,CAACmkB,KAAK,CAAC,GAAG,IAAI,CAAC;MACvG,IAAI5lB,UAAU,CAACgS,KAAK,CAAC7R,CAAC,CAAC,IAAIoK,CAAC,EAAE9I,CAAC,CAACikB,KAAK,CAAC,CAAC,CAAC,KAAM;QAC1C,IAAI1a,CAAC,GAAGhL,UAAU,CAAC0J,QAAQ,CAACyb,OAAO,CAAC,CAAC,CAAC,EAAE;UAACC,IAAI,EAAE,SAAS;UAAEC,KAAK,EAAEllB,CAAC;UAAE2lB,OAAO,EAAE3lB;QAAC,CAAC,EAAE,OAAO,CAAC;QACzFsB,CAAC,CAACkL,UAAU,CAACA,UAAU,CAACA,UAAU,CAACC,WAAW,CAACnL,CAAC,CAACkL,UAAU,CAACA,UAAU,CAAC,EAAEzM,CAAC,CAACyM,UAAU,CAACE,kBAAkB,CAAC,aAAa,EAAE7B,CAAC,CAACua,IAAI,CAAC,EAAErlB,CAAC,CAACyO,KAAK,CAAC4D,OAAO,GAAG,EAAE,EAAEvS,UAAU,CAAC4kB,KAAK,CAAC3iB,IAAI,CAAC/B,CAAC,CAACyM,UAAU,CAAC6Y,eAAe,CAAC,EAAEnlB,QAAQ,CAAColB,cAAc,CAACza,CAAC,CAACY,EAAE,CAAC,CAAC8Z,KAAK,CAAC,CAAC;MACrP;IACJ,CAAE,CAAC;EACP,CAAE,CAAC,EAAE,IAAI,CAAChB,GAAG,CAACnkB,OAAO,CAACD,aAAa,CAAC,2BAA2B,CAAC,CAAC+c,gBAAgB,CAAC,OAAO,EAAG,UAAUnd,CAAC,EAAE;IACrG,KAAK,IAAIC,CAAC,GAAGD,CAAC,CAACia,MAAM,EAAEha,CAAC,IAAIA,CAAC,CAAC2a,YAAY,IAAI,CAAC3a,CAAC,CAAC2a,YAAY,CAAC,oBAAoB,CAAC,GAAG3a,CAAC,GAAGA,CAAC,CAACwM,UAAU;IACtG,IAAIxM,CAAC,IAAIA,CAAC,CAAC2a,YAAY,EAAE;MACrB,IAAIvQ,CAAC,GAAGpK,CAAC,CAACya,YAAY,CAAC,oBAAoB,CAAC;QACxC5P,CAAC,GAAG;UAAC+a,MAAM,EAAEvkB,CAAC,CAACkjB,GAAG,CAAClkB,MAAM,CAAC8H,QAAQ,CAACW,OAAO,CAACsB,CAAC,CAAC;UAAEyb,IAAI,EAAEzb,CAAC;UAAE2a,MAAM,EAAEjlB,CAAC;UAAEwd,KAAK,EAAEvd;QAAC,CAAC;MAChF,IAAI,CAAC,CAAC,KAAKF,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,cAAc,EAAE,CAACpD,CAAC,EAAEwJ,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;MACvE,QAAQT,CAAC;QACL,KAAI,MAAM;UACN/I,CAAC,CAACkjB,GAAG,CAAC1iB,MAAM,CAACyI,IAAI,CAACxK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;UAC5B;QACJ,KAAI,KAAK;UACLuB,CAAC,CAACkjB,GAAG,CAACuB,gBAAgB,CAAC;YAACra,EAAE,EAAE3L,CAAC;YAAEimB,QAAQ,EAAEzkB,CAAC,CAAC0kB;UAAK,CAAC,CAAC,EAAE3kB,CAAC,CAACmjB,IAAI,CAAC,CAAC;UAC5D;QACJ,KAAI,KAAK;UACLnjB,CAAC,CAACkjB,GAAG,CAAC0B,gBAAgB,CAAC;YAACxa,EAAE,EAAE3L,CAAC;YAAEimB,QAAQ,EAAEzkB,CAAC,CAAC0kB;UAAK,CAAC,CAAC,EAAE3kB,CAAC,CAACmjB,IAAI,CAAC,CAAC;UAC5D;QACJ,KAAI,OAAO;UACPnjB,CAAC,CAACkjB,GAAG,CAAC2B,YAAY,CAACpmB,CAAC,CAAC;UACrB;QACJ,KAAI,QAAQ;UACRuB,CAAC,CAACkjB,GAAG,CAAChN,UAAU,CAACzX,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,EAAEuB,CAAC,CAACmjB,IAAI,CAAC,CAAC;MAC/C;IACJ;EACJ,CAAE,CAAC;AACP,CAAC,EAAC3kB,UAAU,CAACgC,MAAM,CAAC2H,SAAS,CAACkb,aAAa,GAAG,UAAU5kB,CAAC,EAAE;EACvD,IAAIC,CAAC,GAAG,IAAI;EACZF,UAAU,CAACgS,KAAK,CAAC,IAAI,CAAC0S,GAAG,CAAClkB,MAAM,CAAC8H,QAAQ,CAACU,YAAY,CAAC,GAAGhJ,UAAU,CAACgS,KAAK,CAAC/R,CAAC,CAAC,KAAKC,CAAC,GAAGG,QAAQ,CAAColB,cAAc,CAACxlB,CAAC,CAAC,CAAC,GAAGC,CAAC,GAAG,IAAI,CAACwkB,GAAG,CAACnkB,OAAO,CAACD,aAAa,CAAC,iBAAiB,GAAG,IAAI,CAACokB,GAAG,CAAClkB,MAAM,CAAC8H,QAAQ,CAACU,YAAY,GAAG,IAAI,CAAC,EAAE9I,CAAC,KAAKA,CAAC,CAAC0lB,KAAK,IAAI1lB,CAAC,CAAC0lB,KAAK,CAACpa,MAAM,IAAItL,CAAC,CAAComB,iBAAiB,CAACpmB,CAAC,CAAC0lB,KAAK,CAACpa,MAAM,EAAEtL,CAAC,CAAC0lB,KAAK,CAACpa,MAAM,CAAC,EAAEtL,CAAC,CAACwlB,KAAK,CAAC,CAAC,CAAC;AAChU,CAAC,EAAC1lB,UAAU,CAACgC,MAAM,CAAC2H,SAAS,CAAC4c,SAAS,GAAG,UAAUtmB,CAAC,EAAE;EACnD,IAAIC,CAAC,GAAG,IAAI,CAACwkB,GAAG,CAACnkB,OAAO,CAACD,aAAa,CAAC,aAAa,CAAC;EACrDN,UAAU,CAACgS,KAAK,CAAC/R,CAAC,CAAC,GAAGC,CAAC,CAAC+M,SAAS,GAAGjN,UAAU,CAACmJ,IAAI,CAACqd,IAAI,CAAC,GAAG,EAAE,GAAG,EAAE,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC,GAAGtmB,CAAC,CAAC+M,SAAS,GAAI,iEAAgEhN,CAAE,UAAS;AACpL,CAAC,EAACD,UAAU,CAACgC,MAAM,CAAC2H,SAAS,CAAC0B,OAAO,GAAG,UAAUpL,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;EAC7D,IAAI8I,CAAC;IAAES,CAAC,GAAG,IAAI,CAAC0Z,GAAG,CAAClkB,MAAM,CAAC8H,QAAQ,CAACC,QAAQ;IAAE0C,CAAC,GAAG4N,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAAC,IAAI,CAAC2L,GAAG,CAAClkB,MAAM,CAAC8H,QAAQ,CAACoB,QAAQ,CAAC,CAAC;IAC3GyB,CAAC,GAAG,IAAI,CAACuZ,GAAG,CAAClkB,MAAM,CAAC8H,QAAQ,CAACI,OAAO;IAAE0C,CAAC,GAAG,IAAI,CAACsZ,GAAG,CAAClkB,MAAM,CAAC8H,QAAQ,CAACO,eAAe;IAClF0C,CAAC,GAAG,IAAI,CAACmZ,GAAG,CAAClkB,MAAM,CAAC8H,QAAQ,CAACQ,SAAS;IAAE2C,CAAC,GAAG,IAAI,CAACiZ,GAAG,CAAClkB,MAAM,CAAC8H,QAAQ,CAACW,OAAO;IAC5EyC,CAAC,GAAG,IAAI,CAACgZ,GAAG,CAAClkB,MAAM,CAAC8H,QAAQ,CAACE,YAAY;IAAEgE,CAAC,GAAG,IAAI,CAACkY,GAAG,CAAClkB,MAAM,CAAC8H,QAAQ,CAACG,YAAY;IAAEiE,CAAC,GAAG,IAAI,CAACgY,GAAG,CAACrV,OAAO,CAACpP,CAAC,CAAC;IAC7GqN,CAAC,GAAG,IAAI,CAACoX,GAAG,CAAC/Y,IAAI,CAAC1L,CAAC,CAAC;IAAEsN,CAAC,GAAGvN,UAAU,CAACE,CAAC,CAACwM,CAAC,CAACiD,YAAY,EAAEjD,CAAC,CAACtG,GAAG,EAAE,IAAI,CAACse,GAAG,CAACthB,QAAQ,CAAC,CAAC,CAAC;IAAE8K,CAAC,GAAGZ,CAAC,CAAC5B,CAAC,CAAC;IAAEyC,CAAC,GAAGb,CAAC,CAACd,CAAC,CAAC;EAC1G,IAAI,IAAI,CAACkY,GAAG,CAAClkB,MAAM,CAAC8H,QAAQ,CAACS,0BAA0B,EAAE,KAAK,IAAIuF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACzD,MAAM,CAACW,MAAM,EAAE8C,CAAC,EAAE,EAAE;IAClG,IAAIhC,CAAC,GAAG,IAAI,CAACzB,MAAM,CAACyD,CAAC,CAAC;IACtB,IAAI,MAAM,IAAIhC,CAAC,EAAE;MACb,KAAK,IAAIyO,CAAC,GAAG,CAAC,CAAC,EAAElL,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG5E,CAAC,CAACO,MAAM,EAAEqE,CAAC,EAAE,EAAE;QACvC,IAAIiG,KAAK,CAACC,OAAO,CAAC9K,CAAC,CAAC4E,CAAC,CAAC,CAAC,EAAE;UACrB,KAAK,IAAI4W,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGxb,CAAC,CAAC4E,CAAC,CAAC,CAACrE,MAAM,EAAEib,CAAC,EAAE,EAAE,IAAIna,CAAC,IAAIrB,CAAC,CAAC4E,CAAC,CAAC,CAAC4W,CAAC,CAAC,CAACX,OAAO,EAAE;YAC5D/K,CAAC,GAAG,CAAC,CAAC;YACN;UACJ;QACJ,CAAC,MAAM,IAAIzO,CAAC,IAAIrB,CAAC,CAAC4E,CAAC,CAAC,CAACiW,OAAO,EAAE;UAC1B/K,CAAC,GAAG,CAAC,CAAC;UACN;QACJ;QACA,IAAIA,CAAC,EAAE;MACX;MACAA,CAAC,IAAI9P,CAAC,CAACoI,IAAI,CAAC;QAAC+R,IAAI,EAAE,SAAS;QAAEC,KAAK,EAAE/Y,CAAC;QAAEwZ,OAAO,EAAExZ;MAAC,CAAC,CAAC;IACxD;EACJ;EACAtM,UAAU,CAACgS,KAAK,CAAC9D,CAAC,CAAC,KAAKA,CAAC,GAAG,EAAE,CAAC,EAAEC,CAAC,GAAGnO,UAAU,CAACgS,KAAK,CAAC7D,CAAC,CAAC,GAAGnO,UAAU,CAACmJ,IAAI,CAACqd,IAAI,CAAC,GAAG,EAAE,GAAG,EAAE,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC,GAAI,iEAAgErY,CAAE,UAAS;EACzL,IAAImB,CAAC,GAAG,CAACpP,CAAC;IAAEwmB,CAAC,GAAGxmB,CAAC,GAAG,eAAe,GAAG,EAAE;IAAEymB,CAAC,GAAGzmB,CAAC,IAAI,CAACiL,CAAC,GAAG,eAAe,GAAG,EAAE;IACxEyb,CAAC,GAAGrZ,CAAC,CAACsZ,mBAAmB,GAAI,2BAA0BtZ,CAAC,CAACsZ,mBAAoB,IAAG,GAAG,EAAE;IACrFC,CAAC,GAAGzmB,QAAQ,CAAC0mB,aAAa,CAAC,MAAM,CAAC;EACtC,IAAID,CAAC,CAAC7X,YAAY,CAAC,oBAAoB,EAAE,EAAE,CAAC,EAAE6X,CAAC,CAAChjB,SAAS,CAACC,GAAG,CAAC,eAAe,CAAC,EAAE+iB,CAAC,CAAChjB,SAAS,CAACC,GAAG,CAAC,IAAI,CAAC2gB,GAAG,CAAClkB,MAAM,CAACwD,IAAI,CAAC,EAAE8iB,CAAC,CAAChjB,SAAS,CAACC,GAAG,CAAC2I,CAAC,CAACiD,YAAY,CAAC,EAAEmX,CAAC,CAAChjB,SAAS,CAACC,GAAG,CAAC/D,UAAU,CAAC+B,EAAE,CAACilB,QAAQ,CAACta,CAAC,CAACiD,YAAY,CAAC,CAAC,EAAEmG,KAAK,CAACC,OAAO,CAACrJ,CAAC,CAACnL,IAAI,CAAC,IAAImL,CAAC,CAACnL,IAAI,CAACiK,MAAM,EAAE,KAAK8C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG5B,CAAC,CAACnL,IAAI,CAACiK,MAAM,EAAE8C,CAAC,EAAE,EAAEwY,CAAC,CAAChjB,SAAS,CAACC,GAAG,CAAC2I,CAAC,CAACnL,IAAI,CAAC+M,CAAC,CAAC,CAAC;EACvTwY,CAAC,CAACnY,KAAK,CAAC4D,OAAO,GAAG,MAAM,EAAEuU,CAAC,CAACnY,KAAK,CAACsB,OAAO,GAAG9P,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE2mB,CAAC,CAACnY,KAAK,CAACyF,KAAK,GAAGjU,CAAC,GAAG,CAAC,GAAG,OAAO,EAAEqB,CAAC,KAAKslB,CAAC,CAACnY,KAAK,CAACvE,KAAK,GAAG5I,CAAC,CAAC;EAChH,IAAIylB,CAAC,GAAG,EAAE;IAAEC,CAAC,GAAGzlB,CAAC,GAAG,EAAE,GAAGzB,UAAU,CAAC2jB,kBAAkB;EACtD,OAAOmD,CAAC,CAAC7Z,SAAS,GAAI,oEAAmE2Z,CAAE,kCAAiCM,CAAE,iCAAgClnB,UAAU,CAACgC,MAAM,CAACmlB,mBAAmB,CAACjZ,CAAC,EAAEC,CAAC,EAAEzB,CAAC,EAAEY,CAAC,CAAE,sJAAqJ,YAAY;IAC7W,IAAI7L,CAAC,EAAE,OAAO,EAAE;IAChB,IAAIxB,CAAC,GAAG,EAAE;IACV,KAAK,IAAIE,CAAC,IAAIsL,CAAC,EAAE;MACb,IAAIjK,CAAC,GAAGiK,CAAC,CAACtL,CAAC,CAAC;MACZH,UAAU,CAACgS,KAAK,CAACxQ,CAAC,CAAC,IAAK8N,CAAC,IAAI9N,CAAC,CAAC6H,cAAc,IAAInJ,CAAC,IAAIsB,CAAC,CAAC8H,iBAAiB,IAAI0B,CAAC,IAAI,MAAM,IAAIxJ,CAAC,CAAC4H,IAAI,KAAKnJ,CAAC,IAAK,4BAA2BE,CAAE,4BAA2BymB,CAAE,WAAUplB,CAAC,CAAC4H,IAAK,KAAI5H,CAAC,CAAC2H,IAAK,QAAO,CAAE;IAChN;IACA,OAAOlJ,CAAC;EACZ,CAAC,CAAC,CAAE,4RAA2R,YAAY;IACvS,KAAK,IAAIA,CAAC,GAAG,EAAE,EAAEE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG8K,CAAC,CAACO,MAAM,EAAErL,CAAC,EAAE,EAAE;MACvC,IAAIqB,CAAC,GAAGyJ,CAAC,CAAC9K,CAAC,CAAC;MACZ,IAAI2V,KAAK,CAACC,OAAO,CAACvU,CAAC,CAAC,EAAE;QAClBvB,CAAC,IAAI,oDAAoD;QACzD,KAAK,IAAIwB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,CAAC,CAACgK,MAAM,EAAE/J,CAAC,EAAE,EAAE;UAC/B,IAAIuJ,CAAC,GAAGxJ,CAAC,CAACC,CAAC,CAAC;YAAE0J,CAAC,GAAGnL,UAAU,CAAC0J,QAAQ,CAACsB,CAAC,CAACoa,IAAI,CAAC,CAAC9X,CAAC,EAAEtC,CAAC,EAAE,OAAO,EAAE9K,CAAC,CAAC;UAC/D,CAACF,UAAU,CAACgS,KAAK,CAAC7G,CAAC,CAACS,EAAE,CAAC,IAAI5L,UAAU,CAACgS,KAAK,CAACzH,CAAC,CAAC,IAAIvK,UAAU,CAACgS,KAAK,CAAC7G,CAAC,CAACya,KAAK,CAAC,KAAKrb,CAAC,GAAGY,CAAC,CAACS,EAAE,CAAC,EAAE5L,UAAU,CAACgS,KAAK,CAAC7G,CAAC,CAACya,KAAK,CAAC,IAAIqB,CAAC,CAAC5T,IAAI,CAAE,GAAErI,CAAC,CAACqa,KAAM,KAAIla,CAAC,CAACya,KAAM,EAAC,CAAC,EAAE3lB,CAAC,IAAIkL,CAAC,CAACoa,IAAI;QACzK;QACAtlB,CAAC,IAAI,QAAQ;MACjB,CAAC,MAAM;QACHkL,CAAC,GAAGnL,UAAU,CAAC0J,QAAQ,CAAClI,CAAC,CAAC4jB,IAAI,CAAC,CAAC9X,CAAC,EAAE9L,CAAC,EAAE,OAAO,EAAEtB,CAAC,CAAC;QACjD,CAACF,UAAU,CAACgS,KAAK,CAAC7G,CAAC,CAACS,EAAE,CAAC,IAAI5L,UAAU,CAACgS,KAAK,CAACzH,CAAC,CAAC,IAAIvK,UAAU,CAACgS,KAAK,CAAC7G,CAAC,CAACya,KAAK,CAAC,KAAKrb,CAAC,GAAGY,CAAC,CAACS,EAAE,CAAC,EAAE5L,UAAU,CAACgS,KAAK,CAAC7G,CAAC,CAACya,KAAK,CAAC,IAAIqB,CAAC,CAAC5T,IAAI,CAAE,GAAE7R,CAAC,CAAC6jB,KAAM,KAAIla,CAAC,CAACya,KAAM,EAAC,CAAC,EAAE3lB,CAAC,IAAIkL,CAAC,CAACoa,IAAI;MACzK;IACJ;IACA,OAAOtlB,CAAC;EACZ,CAAC,CAAC,CAAE,+GAA8G0mB,CAAE,iGAAgGxb,CAAE,uOAAsOub,CAAE,gMAA+Lnb,CAAE,uOAAsOH,CAAE,uEAAsE,EAAE;IAC36B7K,OAAO,EAAEumB,CAAC;IACVhC,OAAO,EAAEva,CAAC;IACV4b,KAAK,EAAEjY,CAAC;IACRkZ,SAAS,EAAEH,CAAC,CAACzT,IAAI,CAAC,IAAI;EAC1B,CAAC;AACL,CAAC,EAACxT,UAAU,CAACgC,MAAM,CAAC2H,SAAS,CAACgb,IAAI,GAAG,YAAY;EAC7C,IAAI,CAAC,CAAC,KAAK3kB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;EAC/D5E,UAAU,CAACgS,KAAK,CAAC,IAAI,CAAC+S,QAAQ,CAAC,KAAK7J,aAAa,CAAC,IAAI,CAAC6J,QAAQ,CAAC,EAAE,IAAI,CAACA,QAAQ,GAAG,IAAI,CAAC;EACvF,IAAI9kB,CAAC,GAAG,IAAI,CAACykB,GAAG,CAACnkB,OAAO,CAACD,aAAa,CAAC,sBAAsB,CAAC;EAC9DL,CAAC,IAAIA,CAAC,CAAC0M,UAAU,IAAI1M,CAAC,CAAC0M,UAAU,CAACC,WAAW,CAAC3M,CAAC,CAAC;AACpD,CAAC,EAACD,UAAU,CAACgC,MAAM,CAACmlB,mBAAmB,GAAG,UAAUlnB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;EAC5D,OAAQ,mCAAkCxB,UAAU,CAACqnB,sBAAsB,CAACpnB,CAAC,CAAE,4EAA2EC,CAAE,QAAO;AACvK,CAAC,EAACF,UAAU,CAAC2J,SAAS,CAAC8C,MAAM,GAAG,YAAY;EACxC,IAAIxM,CAAC,GAAG,IAAI,CAACM,OAAO,CAAC8R,oBAAoB,CAAC,KAAK,CAAC;EAChD,OAAOpS,CAAC,IAAIA,CAAC,CAACuL,MAAM,GAAGvL,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI;AACtC,CAAC,EAACD,UAAU,CAAC2J,SAAS,CAAC2d,iBAAiB,GAAG,YAAY;EACnD,OAAO,IAAI,CAAC/mB,OAAO,CAACD,aAAa,CAAC,iBAAiB,CAAC;AACxD,CAAC,EAACN,UAAU,CAAC2J,SAAS,CAAC8D,cAAc,GAAG,UAAUxN,CAAC,EAAE;EACjD,OAAO,IAAI,CAACM,OAAO,CAACD,aAAa,CAAC,GAAG,GAAGN,UAAU,CAAC2Q,IAAI,CAAC0N,OAAO,GAAG,IAAI,GAAGpe,CAAC,GAAG,IAAI,CAAC;AACtF,CAAC,EAACD,UAAU,CAAC2J,SAAS,CAACqT,aAAa,GAAG,YAAY;EAC/C,OAAO,IAAI,CAACzc,OAAO,CAACD,aAAa,CAAC,GAAG,GAAGN,UAAU,CAAC2Q,IAAI,CAACiO,mBAAmB,GAAG,GAAG,CAAC;AACtF,CAAC,EAAC5e,UAAU,CAACsC,MAAM,GAAG,YAAY,CAClC,CAAC,EAACtC,UAAU,CAACsC,MAAM,CAACqH,SAAS,CAAC1H,IAAI,GAAG,UAAUhC,CAAC,EAAEC,CAAC,EAAE;EACjD,IAAI,CAACwkB,GAAG,GAAGzkB,CAAC,EAAE,IAAI,CAACsnB,OAAO,GAAG,IAAI,EAAE,IAAI,CAACxkB,IAAI,GAAG7C,CAAC,EAAE,IAAI,CAACyB,SAAS,GAAG3B,UAAU,CAAC4B,KAAK,CAAC,CAAC;AACzF,CAAC,EAAC5B,UAAU,CAACsC,MAAM,CAACqH,SAAS,CAAC6d,WAAW,GAAG,UAAUvnB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;EAC9D,IAAI,CAACimB,KAAK,CAACxnB,CAAC,EAAE,IAAI,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,CAAC;AAChC,CAAC,EAACxB,UAAU,CAACsC,MAAM,CAACqH,SAAS,CAACc,IAAI,GAAG,UAAUxK,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;EAC1D,IAAI,CAACgmB,KAAK,CAACxnB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,CAAC;AAC7B,CAAC,EAACzB,UAAU,CAACsC,MAAM,CAACqH,SAAS,CAAC8d,KAAK,GAAG,UAAUxnB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;EAC3D,IAAI8I,CAAC,GAAG,IAAI;EACZ,IAAI,CAACoa,IAAI,CAAC,CAAC;EACX,IAAI3Z,CAAC,GAAG,EAAE;EACVvJ,CAAC,KAAKA,CAAC,GAAG,IAAI,CAACsB,IAAI,CAAC;EACpB,IAAIkI,CAAC,GAAG;IAACyc,WAAW,EAAEvnB,CAAC;IAAEwnB,YAAY,EAAEnmB,CAAC;IAAEuB,IAAI,EAAEtB;EAAC,CAAC;EAClD,IAAI,CAAC,CAAC,KAAKzB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,MAAM,EAAE,CAAC,IAAI,EAAEqG,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;EAClE,KAAK,IAAIE,CAAC,IAAI1J,CAAC,GAAGwJ,CAAC,CAAClI,IAAI,EAAE;IACtB,IAAIqI,CAAC,GAAG3J,CAAC,CAAC0J,CAAC,CAAC,CAAChC,IAAI;MAAEoC,CAAC,GAAG9J,CAAC,CAAC0J,CAAC,CAAC,CAAC/B,IAAI;IAChC,KAAK,CAAC,KAAKgC,CAAC,KAAKA,CAAC,GAAGpL,UAAU,CAACmJ,IAAI,CAACgC,CAAC,CAAC,GAAGnL,UAAU,CAACmJ,IAAI,CAACgC,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,SAAS,CAAC,GAAG,EAAE,CAAC,EAAE,UAAU,IAAI,OAAOI,CAAC,KAAKA,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAC,EAAE,UAAU,IAAI,OAAOH,CAAC,KAAKA,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAC,EAAEJ,CAAC,IAAI,OAAO,GAAGhL,UAAU,CAAC2Q,IAAI,CAACyN,IAAI,GAAG,IAAI,GAAGjT,CAAC,GAAG,IAAI,GAAGC,CAAC,GAAG,oBAAoB,GAAGG,CAAC,GAAG,eAAe;EAC3Q;EACA,IAAI,EAAE,IAAIP,CAAC,EAAE;IACT,IAAI,IAAI,CAACuc,OAAO,GAAGlnB,QAAQ,CAAC0mB,aAAa,CAAC,KAAK,CAAC,EAAE,IAAI,CAACQ,OAAO,CAACK,SAAS,GAAG,iBAAiB,EAAE,IAAI,CAACL,OAAO,CAAC5Y,KAAK,CAACa,IAAI,GAAG,UAAU,EAAE,IAAI,CAAC+X,OAAO,CAAC5Y,KAAK,CAACzH,GAAG,GAAG,UAAU,EAAE,IAAI,CAACqgB,OAAO,CAACta,SAAS,GAAGjC,CAAC,EAAE,IAAI,CAAC0Z,GAAG,CAACnkB,OAAO,CAACyP,WAAW,CAAC,IAAI,CAACuX,OAAO,CAAC,EAAE,IAAI,IAAIrnB,CAAC,EAAE;MACxP,IAAIuL,CAAC,GAAGzL,UAAU,CAAC6nB,aAAa,CAAC5nB,CAAC,EAAE,IAAI,CAACsnB,OAAO,EAAE,IAAI,CAAC7C,GAAG,CAACjY,MAAM,CAAC,CAAC,CAAC;MACpExM,CAAC,GAAGwL,CAAC,CAACoE,CAAC,EAAE3P,CAAC,GAAGuL,CAAC,CAAC8B,CAAC;IACpB;IACA,IAAI7B,CAAC,GAAGzL,CAAC,GAAG,EAAE;IACd,IAAI,CAACsnB,OAAO,CAAC5Y,KAAK,CAACa,IAAI,GAAG9D,CAAC,GAAG,IAAI,EAAE,IAAI,CAAC6b,OAAO,CAAC5Y,KAAK,CAACzH,GAAG,GAAGhH,CAAC,GAAG,IAAI,EAAE,IAAI,CAACqnB,OAAO,CAAC5Y,KAAK,CAACa,IAAI,GAAG9D,CAAC,GAAG,IAAI,CAAC6b,OAAO,CAACxY,WAAW,GAAG,IAAI;IACpI,IAAIvC,CAAC,GAAGvM,CAAC,GAAG,IAAI,CAACsnB,OAAO,CAACxY,WAAW;IACpC/O,UAAU,CAAC0N,OAAO,CAAC,IAAI,CAAC6Z,OAAO,EAAE;MAACtX,OAAO,EAAE,CAAC;MAAET,IAAI,EAAE9D,CAAC,GAAG,IAAI,CAAC6b,OAAO,CAACxY;IAAW,CAAC,EAAE;MAC/EkB,OAAO,EAAE,CAAC;MACVT,IAAI,EAAEhD;IACV,CAAC,EAAE,GAAG,EAAExM,UAAU,CAAC8H,IAAI,CAACsT,QAAQ,CAAC;IACjC,KAAK,IAAI1O,CAAC,GAAG,IAAI,CAAC6a,OAAO,CAAClV,oBAAoB,CAAC,KAAK,CAAC,EAAE/E,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGZ,CAAC,CAAClB,MAAM,EAAE8B,CAAC,EAAE,EAAE;MAC7E,CAACnC,CAAC,GAAGuB,CAAC,CAACY,CAAC,CAAC,EAAE+P,gBAAgB,CAAC,OAAO,EAAG,UAAUpd,CAAC,EAAE;QAC/C,IAAIC,CAAC;UAAE8K,CAAC,GAAG,IAAI,CAAC4P,YAAY,CAAC5a,UAAU,CAAC2Q,IAAI,CAACyN,IAAI,CAAC;QAClD,IAAI,KAAK,CAAC,KAAK3c,CAAC,CAACuJ,CAAC,CAAC,CAAC8c,OAAO;UAAE,IAAI,KAAK,KAAK9c,CAAC,EAAE;YAC1C,IAAIC,CAAC,GAAG;cAACW,EAAE,EAAErB,CAAC,CAACma,GAAG,CAAC/Q,UAAU,CAAC,CAAC;cAAEgB,GAAG,EAAExU;YAAC,CAAC;YACxCoK,CAAC,CAACma,GAAG,CAAC1M,OAAO,CAAC/M,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;UAC9B,CAAC,MAAM,IAAI,MAAM,KAAKD,CAAC,EAAE;YACrB,IAAIG,CAAC,GAAGZ,CAAC,CAACma,GAAG,CAACrV,OAAO,CAAClP,CAAC,CAAC;YACxBoK,CAAC,CAACma,GAAG,CAAC1iB,MAAM,CAACyI,IAAI,CAACU,CAAC,CAACS,EAAE,CAAC;UAC3B,CAAC,MAAM,IAAI,SAAS,KAAKZ,CAAC,EAAE;YACxBG,CAAC,GAAGZ,CAAC,CAACma,GAAG,CAACrV,OAAO,CAAClP,CAAC,CAAC;YACpBoK,CAAC,CAACma,GAAG,CAAC1iB,MAAM,CAACyI,IAAI,CAACU,CAAC,CAACS,EAAE,EAAE,CAAC,CAAC,CAAC;UAC/B,CAAC,MAAM,QAAQ,KAAKZ,CAAC,GAAGT,CAAC,CAACma,GAAG,CAAChN,UAAU,CAACvX,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,KAAK,KAAK6K,CAAC,GAAGT,CAAC,CAACma,GAAG,CAACqD,SAAS,CAAC;YAClF7B,QAAQ,EAAE,gBAAgB;YAC1B8B,cAAc,EAAE,CAAC,CAAC;YAClB9C,MAAM,EAAE/kB;UACZ,CAAC,CAAC,GAAG,KAAK,KAAK6K,CAAC,GAAGT,CAAC,CAACma,GAAG,CAACuD,SAAS,CAAC;YAC/B/B,QAAQ,EAAE,gBAAgB;YAC1B8B,cAAc,EAAE,CAAC,CAAC;YAClB9C,MAAM,EAAE/kB;UACZ,CAAC,CAAC,GAAG,KAAK,KAAK6K,CAAC,GAAGT,CAAC,CAACma,GAAG,CAACwD,SAAS,CAAC;YAC/BhC,QAAQ,EAAE,gBAAgB;YAC1B8B,cAAc,EAAE,CAAC,CAAC;YAClB9C,MAAM,EAAE/kB;UACZ,CAAC,CAAC,GAAG,KAAK,KAAK6K,CAAC,GAAGT,CAAC,CAACma,GAAG,CAACyD,SAAS,CAAC;YAACjD,MAAM,EAAE/kB;UAAC,CAAC,CAAC,GAAG,KAAK,KAAK6K,CAAC,GAAGT,CAAC,CAACma,GAAG,CAAC0D,SAAS,CAAC;YAAClD,MAAM,EAAE/kB;UAAC,CAAC,CAAC,GAAG,MAAM,KAAK6K,CAAC,IAAIT,CAAC,CAACma,GAAG,CAAC2D,UAAU,CAAC;YAACnD,MAAM,EAAE/kB;UAAC,CAAC,CAAC;QAAC,OAAMD,CAAC,GAAGuB,CAAC,CAACuJ,CAAC,CAAC,CAAC8c,OAAO,CAACtK,IAAI,CAACjT,CAAC,CAACma,GAAG,EAAEvkB,CAAC,EAAEqB,CAAC,CAAC;QACrL,CAAC,IAAItB,CAAC,IAAIqK,CAAC,CAACoa,IAAI,CAAC,CAAC;MACtB,CAAE,CAAC;IACP;EACJ;AACJ,CAAC,EAAC3kB,UAAU,CAACsC,MAAM,CAACqH,SAAS,CAAClF,SAAS,GAAG,YAAY;EAClD,OAAO,IAAI,IAAI,IAAI,CAAC8iB,OAAO;AAC/B,CAAC,EAACvnB,UAAU,CAACsC,MAAM,CAACqH,SAAS,CAACgb,IAAI,GAAG,YAAY;EAC7C,IAAI,IAAI,IAAI,CAAC4C,OAAO,KAAK,IAAI,CAAC7C,GAAG,CAACnkB,OAAO,CAACqM,WAAW,CAAC,IAAI,CAAC2a,OAAO,CAAC,EAAE,IAAI,CAACA,OAAO,GAAG,IAAI,CAAC;AAC7F,CAAC,EAACvnB,UAAU,CAACsC,MAAM,CAACqH,SAAS,CAACM,EAAE,GAAG,UAAUhK,CAAC,EAAEC,CAAC,EAAE;EAC/C,OAAOF,UAAU,CAAC2E,MAAM,CAACsF,EAAE,CAAChK,CAAC,EAAEC,CAAC,EAAE,IAAI,CAACyB,SAAS,CAAC,EAAE,IAAI;AAC3D,CAAC,EAAC3B,UAAU,CAACyC,YAAY,GAAG,YAAY,CACxC,CAAC,EAACzC,UAAU,CAACyC,YAAY,CAACkH,SAAS,CAAC1H,IAAI,GAAG,UAAUhC,CAAC,EAAEC,CAAC,EAAE;EACvD,IAAI,CAACwkB,GAAG,GAAGzkB,CAAC,EAAE,IAAI,CAAC8C,IAAI,GAAG7C,CAAC,EAAE,IAAI,CAACooB,KAAK,GAAG,IAAI,EAAE,IAAI,CAACC,gBAAgB,GAAG,EAAE,EAAE,IAAI,CAACC,cAAc,GAAG,EAAE,EAAE,IAAI,CAAC7mB,SAAS,GAAG3B,UAAU,CAAC4B,KAAK,CAAC,CAAC;AAC7I,CAAC,EAAC5B,UAAU,CAACyC,YAAY,CAACkH,SAAS,CAACc,IAAI,GAAG,UAAUxK,CAAC,EAAEC,CAAC,EAAE;EACvD,IAAI,CAACunB,KAAK,CAACxnB,CAAC,EAAEC,CAAC,CAAC;AACpB,CAAC,EAACF,UAAU,CAACyC,YAAY,CAACkH,SAAS,CAAC8d,KAAK,GAAG,UAAUxnB,CAAC,EAAEC,CAAC,EAAE;EACxD,IAAIC,CAAC,GAAG,IAAI;IAAEqB,CAAC,GAAG,IAAI,CAACkjB,GAAG,CAACrV,OAAO,CAACpP,CAAC,CAAC;IAAEwB,CAAC,GAAGzB,UAAU,CAACE,CAAC,CAACsB,CAAC,CAACmO,YAAY,EAAEnO,CAAC,CAAC4E,GAAG,EAAE,IAAI,CAACse,GAAG,CAACthB,QAAQ,CAAC,CAAC,CAAC;EACnG,IAAI,CAACpD,UAAU,CAACgS,KAAK,CAACvQ,CAAC,CAACgnB,oBAAoB,CAAC,EAAE;IAC3C,IAAIle,CAAC,GAAG,IAAI,CAACma,GAAG,CAACjY,MAAM,CAAC,CAAC;MACrBzB,CAAC,GAAG,IAAI,CAAC0Z,GAAG,CAACnkB,OAAO,CAACD,aAAa,CAAC,GAAG,GAAGN,UAAU,CAAC2Q,IAAI,CAACmO,2BAA2B,GAAG,IAAI,GAAG7e,CAAC,GAAG,IAAI,CAAC;MACvGgL,CAAC,GAAG,IAAI,CAACyZ,GAAG,CAACjX,cAAc,CAACxN,CAAC,CAAC;MAAEkL,CAAC,GAAGnL,UAAU,CAAC0oB,aAAa,CAAC1d,CAAC,CAAC;MAAEI,CAAC,GAAGpL,UAAU,CAAC0oB,aAAa,CAACzd,CAAC,CAAC;MAChGM,CAAC,GAAGJ,CAAC,CAAC,CAAC,CAAC,GAAGC,CAAC,CAAC,CAAC,CAAC;MAAEK,CAAC,GAAGN,CAAC,CAAC,CAAC,CAAC,GAAGC,CAAC,CAAC,CAAC,CAAC;MAAEM,CAAC,GAAGV,CAAC,CAACyH,gBAAgB,CAAC,MAAM,CAAC;MAChEjG,CAAC,GAAG,IAAI,CAACkY,GAAG,CAACnkB,OAAO,CAACD,aAAa,CAAC,GAAG,GAAGN,UAAU,CAAC2Q,IAAI,CAACqO,mCAAmC,GAAG,GAAG,CAAC;IACvG,IAAIhf,UAAU,CAACgS,KAAK,CAACxF,CAAC,CAAC,IAAIA,CAAC,CAACoO,YAAY,CAAC5a,UAAU,CAAC2Q,IAAI,CAACqO,mCAAmC,CAAC,IAAI/e,CAAC,EAAE;MACjG,IAAI,CAAC0kB,IAAI,CAAC,CAAC,EAAEzkB,CAAC,KAAKA,CAAC,GAAG,IAAI,CAAC6C,IAAI,CAAC;MACjC,IAAI2J,CAAC,GAAG;UAACwY,MAAM,EAAEjlB,CAAC;UAAE8C,IAAI,EAAE7C;QAAC,CAAC;QAAEoN,CAAC,GAAGtN,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,MAAM,EAAE,CAAC,IAAI,EAAE8H,CAAC,CAAC,CAAC;MAC9E,IAAI,IAAI,CAAC4b,KAAK,GAAGpoB,CAAC,EAAE,CAAC,CAAC,KAAKoN,CAAC,EAAE,OAAO,CAAC,CAAC;MACvC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEW,CAAC,GAAGF,MAAM,CAACC,IAAI,CAACvB,CAAC,CAAC3J,IAAI,CAAC,CAACyI,MAAM,EAAE2C,CAAC,GAAG,CAAC,GAAG1M,CAAC,CAACgnB,oBAAoB,CAAC3Y,MAAM,GAAG,CAAC,EAAExB,CAAC,GAAG,CAAC,GAAGsF,IAAI,CAAC2H,EAAE,GAAGpN,CAAC,EAAE7B,CAAC,GAAGgC,CAAC,GAAGJ,CAAC,IAAI,CAAC,GAAGzM,CAAC,CAACgnB,oBAAoB,CAAC3Y,MAAM,GAAG,CAAC,CAAC,EAAExD,CAAC,GAAG,CAAC,GAAG6B,CAAC,IAAI,CAAC,EAAE7B,CAAC,GAAG,CAACgC,CAAC,GAAG,CAAC,GAAGsF,IAAI,CAAC2H,EAAE,GAAGpN,CAAC,IAAID,CAAC,IAAI,CAAC,GAAGzM,CAAC,CAACgnB,oBAAoB,CAAC3Y,MAAM,GAAG,CAAC,CAAC;MAC5P,KAAK,IAAIiL,CAAC,IAAI,CAACvO,CAAC,GAAGnM,QAAQ,CAACoP,eAAe,CAAC,4BAA4B,EAAE,GAAG,CAAC,EAAER,YAAY,CAACjP,UAAU,CAAC2Q,IAAI,CAACqO,mCAAmC,EAAE/e,CAAC,CAAC,EAAEuM,CAAC,CAACyC,YAAY,CAAC,WAAW,EAAE,iBAAiB,GAAG1D,CAAC,GAAG,GAAG,GAAGE,CAAC,GAAG,GAAG,CAAC,EAAElB,CAAC,CAACyF,WAAW,CAACxD,CAAC,CAAC,EAAEE,CAAC,CAAC3J,IAAI,EAAE;QAChP,IAAI8M,CAAC,GAAGnD,CAAC,CAAC3J,IAAI,CAACgY,CAAC,CAAC,CAAC5R,IAAI;UAAEsd,CAAC,GAAG/Z,CAAC,CAAC3J,IAAI,CAACgY,CAAC,CAAC,CAAChL,KAAK;UAAET,CAAC,GAAG5C,CAAC,CAAC3J,IAAI,CAACgY,CAAC,CAAC,CAAC3R,IAAI;QAC/D,UAAU,IAAI,OAAOyG,CAAC,KAAKA,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAC,EAAE,UAAU,IAAI,OAAO4W,CAAC,KAAKA,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAC,EAAE,UAAU,IAAI,OAAOnX,CAAC,KAAKA,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAC;QAC7G,IAAIoX,CAAC,GAAGrmB,QAAQ,CAACoP,eAAe,CAAC,4BAA4B,EAAE,GAAG,CAAC;QACnEiX,CAAC,CAACzX,YAAY,CAAC,WAAW,EAAE,qBAAqB,CAAC,EAAEyX,CAAC,CAACzX,YAAY,CAACjP,UAAU,CAAC2Q,IAAI,CAACoO,6BAA6B,EAAEhE,CAAC,CAAC,EAAE2L,CAAC,CAAC/X,KAAK,CAACga,MAAM,GAAG,SAAS;QAChJ,IAAIhC,CAAC,GAAGtmB,QAAQ,CAACoP,eAAe,CAAC,4BAA4B,EAAE,OAAO,CAAC;QACvEzP,UAAU,CAACgS,KAAK,CAAC1C,CAAC,CAAC,KAAKqX,CAAC,CAAC1Z,SAAS,GAAGqC,CAAC,CAAC;QACxC,IAAIsX,CAAC,GAAGvmB,QAAQ,CAACoP,eAAe,CAAC,4BAA4B,EAAE,QAAQ,CAAC;QACxEmX,CAAC,CAAC3X,YAAY,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE2X,CAAC,CAAC3X,YAAY,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE2X,CAAC,CAAC3X,YAAY,CAAC,GAAG,EAAExN,CAAC,CAACgnB,oBAAoB,CAAC3Y,MAAM,CAAC,EAAE8W,CAAC,CAAC3X,YAAY,CAAC,MAAM,EAAEwX,CAAC,CAAC,EAAEG,CAAC,CAAC3X,YAAY,CAAC,cAAc,EAAE,GAAG,CAAC,EAAE2X,CAAC,CAAC3X,YAAY,CAAC,QAAQ,EAAExN,CAAC,CAACgnB,oBAAoB,CAACG,MAAM,CAAC,EAAElC,CAAC,CAAC1W,WAAW,CAAC4W,CAAC,CAAC,EAAEF,CAAC,CAAC1W,WAAW,CAAC2W,CAAC,CAAC,EAAED,CAAC,CAACzZ,SAAS,IAAI4C,CAAC,EAAErD,CAAC,CAACwD,WAAW,CAAC0W,CAAC,CAAC;QACrS,IAAII,CAAC,GAAGJ,CAAC,CAACrU,oBAAoB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACxC,IAAIyU,CAAC,CAAC7X,YAAY,CAAC,gBAAgB,EAAE,MAAM,CAAC,EAAE6X,CAAC,EAAE;UAC7C,IAAIG,CAAC,GAAGjM,QAAQ,CAAC8L,CAAC,CAAClM,YAAY,CAAC,OAAO,CAAC,CAAC;YAAEsM,CAAC,GAAGlM,QAAQ,CAAC8L,CAAC,CAAClM,YAAY,CAAC,QAAQ,CAAC,CAAC;UACjFkM,CAAC,CAAC7X,YAAY,CAAC,GAAG,EAAE,CAACgY,CAAC,GAAG,CAAC,CAAC,EAAEH,CAAC,CAAC7X,YAAY,CAAC,GAAG,EAAE,CAACiY,CAAC,GAAG,CAAC,CAAC;QAC5D;QACA,IAAI2B,CAAC,GAAGtb,CAAC,GAAGqG,IAAI,CAAC2H,EAAE,IAAIrN,CAAC,GAAG,CAAC,CAAC;QAC7BX,CAAC,EAAE;QACH,IAAIub,CAAC,GAAGlV,IAAI,CAAC0H,GAAG,CAACuN,CAAC,CAAC,GAAG1a,CAAC;UAAE4a,CAAC,GAAGnV,IAAI,CAAC6H,GAAG,CAACoN,CAAC,CAAC,GAAG1a,CAAC;QAC5C,IAAI,CAACoa,gBAAgB,CAAClV,IAAI,CAACrT,UAAU,CAAC0N,OAAO,CAACgZ,CAAC,EAAE;UAAC7L,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;QAAC,CAAC,EAAE;UAACA,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAEiO,CAAC,EAAEC,CAAC;QAAC,CAAC,EAAE,GAAG,EAAE/oB,UAAU,CAAC8H,IAAI,CAACsU,OAAO,EAAG,UAAUnc,CAAC,EAAE;UAC3J,IAAIC,CAAC,GAAGD,CAAC,CAAC,CAAC,CAAC,CAAC2a,YAAY,CAAC5a,UAAU,CAAC2Q,IAAI,CAACoO,6BAA6B,CAAC;YACpEvd,CAAC,GAAGvB,CAAC,CAAC,CAAC,CAAC,CAAC0M,UAAU,CAACiO,YAAY,CAAC5a,UAAU,CAAC2Q,IAAI,CAACqO,mCAAmC,CAAC;UACzF/e,CAAC,CAAC,CAAC,CAAC,CAACod,gBAAgB,CAAC,YAAY,EAAG,UAAUpd,CAAC,EAAE;YAC9CD,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,YAAY,EAAE,CAACzE,CAAC,EAAE;cACxCmY,IAAI,EAAE9W,CAAC;cACPwnB,QAAQ,EAAEtc,CAAC,CAAC3J,IAAI,CAAC7C,CAAC,CAAC;cACnB+oB,YAAY,EAAE/oB,CAAC;cACfud,KAAK,EAAExd;YACX,CAAC,CAAC,CAAC;UACP,CAAE,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,CAACod,gBAAgB,CAAC,UAAU,EAAG,UAAUpd,CAAC,EAAE;YACjDD,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,UAAU,EAAE,CAACzE,CAAC,EAAE;cACtCmY,IAAI,EAAE9W,CAAC;cACPwnB,QAAQ,EAAEtc,CAAC,CAAC3J,IAAI,CAAC7C,CAAC,CAAC;cACnB+oB,YAAY,EAAE/oB,CAAC;cACfud,KAAK,EAAExd;YACX,CAAC,CAAC,CAAC;UACP,CAAE,CAAC;QACP,CAAE,CAAC,CAAC;MACR;MACA,IAAI,CAACuoB,cAAc,CAACnV,IAAI,CAACrT,UAAU,CAAC0N,OAAO,CAAChC,CAAC,CAAC,CAAC,CAAC,EAAE;QAC9Cwd,EAAE,EAAE,CAACznB,CAAC,CAACgnB,oBAAoB,CAAC3Y,MAAM,GAAG,CAAC;QACtCqZ,EAAE,EAAE,CAAC,CAAC;QACNC,EAAE,EAAE3nB,CAAC,CAACgnB,oBAAoB,CAAC3Y,MAAM,GAAG,CAAC;QACrCuZ,EAAE,EAAE,CAAC;MACT,CAAC,EAAE;QACCH,EAAE,EAAE,CAAC,CAAC;QACNC,EAAE,EAAE,CAAC,CAAC;QACNC,EAAE,EAAE,CAAC;QACLC,EAAE,EAAE;MACR,CAAC,EAAE,GAAG,EAAErpB,UAAU,CAAC8H,IAAI,CAAC4T,QAAQ,CAAC,CAAC,EAAE,IAAI,CAAC8M,cAAc,CAACnV,IAAI,CAACrT,UAAU,CAAC0N,OAAO,CAAChC,CAAC,CAAC,CAAC,CAAC,EAAE;QAClFwd,EAAE,EAAE,CAACznB,CAAC,CAACgnB,oBAAoB,CAAC3Y,MAAM,GAAG,CAAC;QACtCqZ,EAAE,EAAE,CAAC;QACLC,EAAE,EAAE3nB,CAAC,CAACgnB,oBAAoB,CAAC3Y,MAAM,GAAG,CAAC;QACrCuZ,EAAE,EAAE;MACR,CAAC,EAAE;QACCH,EAAE,EAAE,CAAC;QACLC,EAAE,EAAE,CAAC;QACLC,EAAE,EAAE,CAAC;QACLC,EAAE,EAAE;MACR,CAAC,EAAE,GAAG,EAAErpB,UAAU,CAAC8H,IAAI,CAAC4T,QAAQ,CAAC,CAAC,EAAE,IAAI,CAAC8M,cAAc,CAACnV,IAAI,CAACrT,UAAU,CAAC0N,OAAO,CAAChC,CAAC,CAAC,CAAC,CAAC,EAAE;QAClFwd,EAAE,EAAE,CAACznB,CAAC,CAACgnB,oBAAoB,CAAC3Y,MAAM,GAAG,CAAC;QACtCqZ,EAAE,EAAE,CAAC;QACLC,EAAE,EAAE3nB,CAAC,CAACgnB,oBAAoB,CAAC3Y,MAAM,GAAG,CAAC;QACrCuZ,EAAE,EAAE;MACR,CAAC,EAAE;QAACH,EAAE,EAAE,CAAC,CAAC;QAAEC,EAAE,EAAE,CAAC;QAAEC,EAAE,EAAE,CAAC;QAAEC,EAAE,EAAE,CAAC;MAAC,CAAC,EAAE,GAAG,EAAErpB,UAAU,CAAC8H,IAAI,CAAC4T,QAAQ,CAAC,CAAC;IACtE,CAAC,MAAM,IAAI,CAACiJ,IAAI,CAAC,CAAC;EACtB;AACJ,CAAC,EAAC3kB,UAAU,CAACyC,YAAY,CAACkH,SAAS,CAACgb,IAAI,GAAG,YAAY;EACnD,KAAK,IAAI1kB,CAAC,GAAG,IAAI,CAACsoB,gBAAgB,CAAC/c,MAAM,GAAG,CAAC,EAAEvL,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAEib,aAAa,CAAC,IAAI,CAACqN,gBAAgB,CAACtoB,CAAC,CAAC,CAAC,EAAE,IAAI,CAACsoB,gBAAgB,CAAC1Q,MAAM,CAAC5X,CAAC,EAAE,CAAC,CAAC;EACvI,IAAI,CAACsoB,gBAAgB,GAAG,EAAE;EAC1B,KAAKtoB,CAAC,GAAG,IAAI,CAACuoB,cAAc,CAAChd,MAAM,GAAG,CAAC,EAAEvL,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAEib,aAAa,CAAC,IAAI,CAACsN,cAAc,CAACvoB,CAAC,CAAC,CAAC,EAAE,IAAI,CAACuoB,cAAc,CAAC3Q,MAAM,CAAC5X,CAAC,EAAE,CAAC,CAAC;EAC7H,IAAI,CAACuoB,cAAc,GAAG,EAAE;EACxB,IAAItoB,CAAC,GAAG,IAAI,CAACwkB,GAAG,CAACnkB,OAAO,CAACD,aAAa,CAAC,GAAG,GAAGN,UAAU,CAAC2Q,IAAI,CAACqO,mCAAmC,GAAG,GAAG,CAAC;EACvG,IAAI,IAAI,IAAI9e,CAAC,EAAE;IACX,IAAIC,CAAC,GAAGD,CAAC,CAAC0a,YAAY,CAAC5a,UAAU,CAAC2Q,IAAI,CAACqO,mCAAmC,CAAC;MAAExd,CAAC,GAAG,IAAI,CAACkjB,GAAG,CAACrV,OAAO,CAAClP,CAAC,CAAC;MAChGsB,CAAC,GAAGzB,UAAU,CAACE,CAAC,CAACsB,CAAC,CAACmO,YAAY,EAAEnO,CAAC,CAAC4E,GAAG,EAAE,IAAI,CAACse,GAAG,CAACthB,QAAQ,CAAC,CAAC,CAAC;MAC5DmH,CAAC,GAAG,IAAI,CAACma,GAAG,CAACnkB,OAAO,CAACD,aAAa,CAAC,GAAG,GAAGN,UAAU,CAAC2Q,IAAI,CAACmO,2BAA2B,GAAG,IAAI,GAAG3e,CAAC,GAAG,IAAI,CAAC,CAACsS,gBAAgB,CAAC,MAAM,CAAC;IACpIlI,CAAC,CAAC,CAAC,CAAC,CAAC0E,YAAY,CAAC,IAAI,EAAE,CAACxN,CAAC,CAACgnB,oBAAoB,CAAC3Y,MAAM,GAAG,CAAC,CAAC,EAAEvF,CAAC,CAAC,CAAC,CAAC,CAAC0E,YAAY,CAAC,IAAI,EAAExN,CAAC,CAACgnB,oBAAoB,CAAC3Y,MAAM,GAAG,CAAC,CAAC,EAAEvF,CAAC,CAAC,CAAC,CAAC,CAAC0E,YAAY,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,EAAE1E,CAAC,CAAC,CAAC,CAAC,CAAC0E,YAAY,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,EAAE1E,CAAC,CAAC,CAAC,CAAC,CAAC0E,YAAY,CAAC,IAAI,EAAE,CAACxN,CAAC,CAACgnB,oBAAoB,CAAC3Y,MAAM,GAAG,CAAC,CAAC,EAAEvF,CAAC,CAAC,CAAC,CAAC,CAAC0E,YAAY,CAAC,IAAI,EAAExN,CAAC,CAACgnB,oBAAoB,CAAC3Y,MAAM,GAAG,CAAC,CAAC,EAAEvF,CAAC,CAAC,CAAC,CAAC,CAAC0E,YAAY,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE1E,CAAC,CAAC,CAAC,CAAC,CAAC0E,YAAY,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE1E,CAAC,CAAC,CAAC,CAAC,CAAC0E,YAAY,CAAC,IAAI,EAAE,CAACxN,CAAC,CAACgnB,oBAAoB,CAAC3Y,MAAM,GAAG,CAAC,CAAC,EAAEvF,CAAC,CAAC,CAAC,CAAC,CAAC0E,YAAY,CAAC,IAAI,EAAExN,CAAC,CAACgnB,oBAAoB,CAAC3Y,MAAM,GAAG,CAAC,CAAC,EAAEvF,CAAC,CAAC,CAAC,CAAC,CAAC0E,YAAY,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE1E,CAAC,CAAC,CAAC,CAAC,CAAC0E,YAAY,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE/O,CAAC,CAACopB,aAAa,CAAC1c,WAAW,CAAC1M,CAAC,CAAC,EAAEA,CAAC,GAAG,IAAI;EACjkB;AACJ,CAAC,EAACF,UAAU,CAACyC,YAAY,CAACkH,SAAS,CAACM,EAAE,GAAG,UAAUhK,CAAC,EAAEC,CAAC,EAAE;EACrD,OAAOF,UAAU,CAAC2E,MAAM,CAACsF,EAAE,CAAChK,CAAC,EAAEC,CAAC,EAAE,IAAI,CAACyB,SAAS,CAAC,EAAE,IAAI;AAC3D,CAAC,EAAC,KAAK,CAAC,KAAK3B,UAAU,KAAKA,UAAU,GAAG,CAAC,CAAC,CAAC,EAACA,UAAU,CAACupB,GAAG,GAAG;EAC1DC,OAAO,EAAE,CAAC;EACVC,MAAM,EAAE,QAAQ;EAChBC,SAAS,EAAE,eAAe;EAC1BC,OAAO,EAAE;AACb,CAAC,EAAC3pB,UAAU,CAACupB,GAAG,CAACK,EAAE,GAAG,IAAI,EAAC5pB,UAAU,CAACupB,GAAG,CAACM,KAAK,GAAG,UAAU5pB,CAAC,EAAE;EAC3D,IAAID,UAAU,CAAC8pB,QAAQ,CAAC,CAAC,CAACC,IAAI,EAAE9pB,CAAC,IAAIA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAM,IAAI,CAAC+pB,SAAS,CAACC,SAAS,CAACtP,WAAW,CAAC,CAAC,CAACnF,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAIwU,SAAS,CAACC,SAAS,CAACtP,WAAW,CAAC,CAAC,CAACnF,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,KAAKV,MAAM,CAACoV,QAAQ,KAAKpV,MAAM,CAAC9B,MAAM,CAACkX,QAAQ,EAAEjqB,CAAC,IAAIA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAM;IACvO,IAAI,CAAC6U,MAAM,CAACqV,SAAS,EAAE,OAAO1b,OAAO,CAACC,KAAK,CAAC,6DAA6D,CAAC,EAAE,MAAMzO,CAAC,IAAIA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7H,IAAI,IAAI,IAAID,UAAU,CAACupB,GAAG,CAACK,EAAE,EAAE;MAC3B,IAAI1pB,CAAC,GAAGiqB,SAAS,CAAC9P,IAAI,CAACra,UAAU,CAACupB,GAAG,CAACE,MAAM,EAAEzpB,UAAU,CAACupB,GAAG,CAACC,OAAO,CAAC;MACrEtpB,CAAC,CAACka,OAAO,GAAG,UAAUla,CAAC,EAAE;QACrBuO,OAAO,CAACC,KAAK,CAAC,uBAAuB,CAAC,EAAEzO,CAAC,IAAIA,CAAC,CAAC,CAAC,CAAC,CAAC;MACtD,CAAC,EAAEC,CAAC,CAACkqB,SAAS,GAAG,UAAUlqB,CAAC,EAAE;QAC1BF,UAAU,CAACupB,GAAG,CAACK,EAAE,GAAG1pB,CAAC,CAACia,MAAM,CAACkQ,MAAM,EAAEpqB,CAAC,IAAIA,CAAC,CAAC,CAAC,CAAC,CAAC;MACnD,CAAC,EAAEC,CAAC,CAACoqB,eAAe,GAAG,UAAUrqB,CAAC,EAAE;QAChC,IAAIC,CAAC,GAAGD,CAAC,CAACka,MAAM,CAACkQ,MAAM;QACvBnqB,CAAC,CAACqqB,gBAAgB,CAACC,QAAQ,CAACxqB,UAAU,CAACupB,GAAG,CAACG,SAAS,CAAC,IAAIxpB,CAAC,CAACuqB,iBAAiB,CAACzqB,UAAU,CAACupB,GAAG,CAACG,SAAS,CAAC;QACtGxpB,CAAC,CAACwqB,iBAAiB,CAAC1qB,UAAU,CAACupB,GAAG,CAACG,SAAS,EAAE;UAACC,OAAO,EAAE3pB,UAAU,CAACupB,GAAG,CAACI;QAAO,CAAC,CAAC;MACpF,CAAC;IACL,CAAC,MAAM1pB,CAAC,IAAIA,CAAC,CAAC,CAAC,CAAC,CAAC;EACrB;AACJ,CAAC,EAACD,UAAU,CAACupB,GAAG,CAAC/e,IAAI,GAAG,UAAUvK,CAAC,EAAEC,CAAC,EAAE;EACpCF,UAAU,CAACupB,GAAG,CAACM,KAAK,CAAE,UAAU1pB,CAAC,EAAE;IAC/B,IAAIA,CAAC,EAAE;MACH,IAAIqB,CAAC,GAAGxB,UAAU,CAACupB,GAAG,CAACK,EAAE,CAACe,WAAW,CAAC,CAAC3qB,UAAU,CAACupB,GAAG,CAACG,SAAS,CAAC,CAAC,CAACkB,WAAW,CAAC5qB,UAAU,CAACupB,GAAG,CAACG,SAAS,CAAC,CAACpS,GAAG,CAACrX,CAAC,CAAC;MAC9GuB,CAAC,CAAC4Y,OAAO,GAAG,UAAUna,CAAC,EAAE;QACrBwO,OAAO,CAACC,KAAK,CAAC,wCAAwC,CAAC,EAAExO,CAAC,IAAIA,CAAC,CAAC,CAAC,CAAC,CAAC;MACvE,CAAC,EAAEsB,CAAC,CAAC4oB,SAAS,GAAG,UAAUnqB,CAAC,EAAE;QAC1BuB,CAAC,CAAC6oB,MAAM,GAAGnqB,CAAC,IAAIA,CAAC,CAAC,CAAC,CAAC,EAAEsB,CAAC,CAAC6oB,MAAM,CAAC,GAAGnqB,CAAC,IAAIA,CAAC,CAAC,IAAI,CAAC;MAClD,CAAC;IACL,CAAC,MAAMA,CAAC,IAAIA,CAAC,CAAC,CAAC,CAAC,CAAC;EACrB,CAAE,CAAC;AACP,CAAC,EAACF,UAAU,CAACupB,GAAG,CAACsB,KAAK,GAAG,UAAU5qB,CAAC,EAAEC,CAAC,EAAE;EACrCF,UAAU,CAACupB,GAAG,CAAC/e,IAAI,CAACvK,CAAC,CAAC2L,EAAE,EAAG,UAAUzL,CAAC,EAAE;IACpC,IAAI,IAAI,IAAIA,CAAC,EAAE;MACX,IAAIqB,CAAC,GAAGxB,UAAU,CAACupB,GAAG,CAACK,EAAE,CAACe,WAAW,CAAC,CAAC3qB,UAAU,CAACupB,GAAG,CAACG,SAAS,CAAC,EAAE,WAAW,CAAC,CAACkB,WAAW,CAAC5qB,UAAU,CAACupB,GAAG,CAACG,SAAS,CAAC,CAAC3lB,GAAG,CAAC9D,CAAC,CAAC;MAC3HuB,CAAC,CAAC4Y,OAAO,GAAG,UAAUna,CAAC,EAAE;QACrBwO,OAAO,CAACC,KAAK,CAAC,iCAAiC,CAAC,EAAExO,CAAC,IAAIA,CAAC,CAAC,CAAC,CAAC,CAAC;MAChE,CAAC,EAAEsB,CAAC,CAAC4oB,SAAS,GAAG,UAAUnqB,CAAC,EAAE;QAC1BC,CAAC,IAAIA,CAAC,CAAC,CAAC,CAAC,CAAC;MACd,CAAC;IACL,CAAC,MAAMA,CAAC,IAAIA,CAAC,CAACC,CAAC,CAAC;EACpB,CAAE,CAAC;AACP,CAAC,EAACH,UAAU,CAACupB,GAAG,CAACuB,GAAG,GAAG,UAAU7qB,CAAC,EAAEC,CAAC,EAAE;EACnCF,UAAU,CAACupB,GAAG,CAACM,KAAK,CAAE,UAAU1pB,CAAC,EAAE;IAC/B,IAAIA,CAAC,EAAE;MACH,IAAIqB,CAAC,GAAGxB,UAAU,CAACupB,GAAG,CAACK,EAAE,CAACe,WAAW,CAAC,CAAC3qB,UAAU,CAACupB,GAAG,CAACG,SAAS,CAAC,EAAE,WAAW,CAAC,CAACkB,WAAW,CAAC5qB,UAAU,CAACupB,GAAG,CAACG,SAAS,CAAC,CAACoB,GAAG,CAAC7qB,CAAC,CAAC;MAC3HuB,CAAC,CAAC4Y,OAAO,GAAG,UAAUna,CAAC,EAAE;QACrBwO,OAAO,CAACC,KAAK,CAAC,iCAAiC,CAAC,EAAExO,CAAC,IAAIA,CAAC,CAAC,CAAC,CAAC,CAAC;MAChE,CAAC,EAAEsB,CAAC,CAAC4oB,SAAS,GAAG,UAAUnqB,CAAC,EAAE;QAC1BC,CAAC,IAAIA,CAAC,CAAC,CAAC,CAAC,CAAC;MACd,CAAC;IACL,CAAC,MAAMA,CAAC,IAAIA,CAAC,CAAC,CAAC,CAAC,CAAC;EACrB,CAAE,CAAC;AACP,CAAC,EAACF,UAAU,CAACupB,GAAG,CAACwB,MAAM,GAAG,UAAU9qB,CAAC,EAAEC,CAAC,EAAE;EACtCF,UAAU,CAACupB,GAAG,CAACM,KAAK,CAAE,UAAU1pB,CAAC,EAAE;IAC/B,IAAIA,CAAC,EAAE;MACH,IAAIqB,CAAC,GAAGxB,UAAU,CAACupB,GAAG,CAACK,EAAE,CAACe,WAAW,CAAC,CAAC3qB,UAAU,CAACupB,GAAG,CAACG,SAAS,CAAC,EAAE,WAAW,CAAC,CAACkB,WAAW,CAAC5qB,UAAU,CAACupB,GAAG,CAACG,SAAS,CAAC,CAACqB,MAAM,CAAC9qB,CAAC,CAAC;MAC9HuB,CAAC,CAAC4Y,OAAO,GAAG,UAAUna,CAAC,EAAE;QACrBwO,OAAO,CAACC,KAAK,CAAC,wCAAwC,CAAC,EAAExO,CAAC,IAAIA,CAAC,CAAC,CAAC,CAAC,CAAC;MACvE,CAAC,EAAEsB,CAAC,CAAC4oB,SAAS,GAAG,UAAUnqB,CAAC,EAAE;QAC1BuB,CAAC,CAACkN,KAAK,GAAGxO,CAAC,IAAIA,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGA,CAAC,IAAIA,CAAC,CAAC,CAAC,CAAC,CAAC;MACrC,CAAC;IACL,CAAC,MAAMA,CAAC,IAAIA,CAAC,CAAC,CAAC,CAAC,CAAC;EACrB,CAAE,CAAC;AACP,CAAC,EAACF,UAAU,CAAC6C,SAAS,GAAG,YAAY,CACrC,CAAC,EAAC7C,UAAU,CAAC6C,SAAS,CAACmoB,aAAa,GAAG,szBAAszB,EAAChrB,UAAU,CAAC6C,SAAS,CAACooB,OAAO,GAAG,8jBAA8jB,EAACjrB,UAAU,CAAC6C,SAAS,CAACwO,kBAAkB,GAAG,kqBAAkqB,EAACrR,UAAU,CAAC6C,SAAS,CAAC6O,mBAAmB,GAAG,ymBAAymB,EAAC1R,UAAU,CAAC6C,SAAS,CAACqoB,UAAU,GAAG,siBAAsiB,EAAClrB,UAAU,CAAC6C,SAAS,CAACsoB,WAAW,GAAG,gaAAga,EAACnrB,UAAU,CAAC6C,SAAS,CAACuoB,UAAU,GAAG,OAAO,GAAGprB,UAAU,CAAC2Q,IAAI,CAACC,IAAI,GAAG,uVAAuV,EAAC5Q,UAAU,CAAC6C,SAAS,CAAC8G,SAAS,CAAC1H,IAAI,GAAG,UAAUhC,CAAC,EAAEC,CAAC,EAAE;EACxvI,IAAIA,CAAC,EAAE;IACH,IAAI,CAACwkB,GAAG,GAAGzkB,CAAC,EAAE,IAAI,CAACwF,OAAO,GAAGvF,CAAC,EAAE,IAAI,CAACmrB,QAAQ,GAAG,CAAC,CAAC,EAAE,IAAI,CAACC,GAAG,GAAGjrB,QAAQ,CAAC0mB,aAAa,CAAC,KAAK,CAAC,EAAE,IAAI,CAACuE,GAAG,CAACxnB,SAAS,CAACC,GAAG,CAAC,uBAAuB,CAAC,EAAEiK,MAAM,CAACud,MAAM,CAAC,IAAI,CAACD,GAAG,CAAC3c,KAAK,EAAE;MACzKE,QAAQ,EAAE,UAAU;MACpBtL,OAAO,EAAE,KAAK;MACd6Q,KAAK,EAAE,IAAI,CAACsQ,GAAG,CAAClkB,MAAM,CAAC+C,OAAO,GAAG,EAAE,GAAG,IAAI;MAC1CkR,MAAM,EAAE,IAAI,CAACiQ,GAAG,CAAClkB,MAAM,CAAC+C,OAAO,GAAG,EAAE,GAAG;IAC3C,CAAC,CAAC,EAAErD,CAAC,CAACsrB,SAAS,KAAK,IAAI,CAACF,GAAG,CAACre,SAAS,IAAI,OAAO,GAAGjN,UAAU,CAAC2Q,IAAI,CAACC,IAAI,GAAG,YAAY,GAAG5Q,UAAU,CAAC6C,SAAS,CAACmoB,aAAa,GAAG,QAAQ,CAAC,EAAE9qB,CAAC,CAACqQ,GAAG,KAAK,IAAI,CAAC+a,GAAG,CAACre,SAAS,IAAI,OAAO,GAAGjN,UAAU,CAAC2Q,IAAI,CAACC,IAAI,GAAG,SAAS,GAAG5Q,UAAU,CAAC6C,SAAS,CAACooB,OAAO,GAAG,QAAQ,CAAC,EAAE/qB,CAAC,CAAC8F,IAAI,KAAK,IAAI,CAACslB,GAAG,CAACre,SAAS,IAAI,OAAO,GAAGjN,UAAU,CAAC2Q,IAAI,CAACC,IAAI,GAAG,UAAU,GAAG5Q,UAAU,CAAC6C,SAAS,CAACqoB,UAAU,GAAG,QAAQ,EAAE,IAAI,CAACI,GAAG,CAACre,SAAS,IAAI,OAAO,GAAGjN,UAAU,CAAC2Q,IAAI,CAACC,IAAI,GAAG,WAAW,GAAG5Q,UAAU,CAAC6C,SAAS,CAACsoB,WAAW,GAAG,QAAQ,CAAC,EAAEjrB,CAAC,CAACiB,MAAM,KAAK,IAAI,CAACmqB,GAAG,CAACre,SAAS,IAAI,OAAO,GAAGjN,UAAU,CAAC2Q,IAAI,CAACC,IAAI,GAAG,YAAY,GAAG5Q,UAAU,CAAC6C,SAAS,CAACuoB,UAAU,GAAG,QAAQ,EAAE,IAAI,CAACK,OAAO,GAAGprB,QAAQ,CAAC0mB,aAAa,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC0E,OAAO,CAAC3nB,SAAS,CAACC,GAAG,CAAC,oBAAoB,CAAC,EAAE,IAAI,CAAC0nB,OAAO,CAACxe,SAAS,GAAG,OAAO,GAAGjN,UAAU,CAAC2Q,IAAI,CAACxP,MAAM,GAAG,skBAAskB,GAAGnB,UAAU,CAAC2Q,IAAI,CAACxP,MAAM,GAAG,+pBAA+pB,GAAGnB,UAAU,CAAC2Q,IAAI,CAACxP,MAAM,GAAG,8pBAA8pB,GAAGnB,UAAU,CAAC2Q,IAAI,CAACxP,MAAM,GAAG,waAAwa,GAAGnB,UAAU,CAAC2Q,IAAI,CAACxP,MAAM,GAAG,inBAAinB,EAAE,IAAI,CAACujB,GAAG,CAACnkB,OAAO,CAACyP,WAAW,CAAC,IAAI,CAACyb,OAAO,CAAC,CAAC,EAAEvrB,CAAC,CAACwrB,UAAU,KAAK,IAAI,CAACJ,GAAG,CAACre,SAAS,IAAI,OAAO,GAAGjN,UAAU,CAAC2Q,IAAI,CAACC,IAAI,GAAG,gBAAgB,GAAG5Q,UAAU,CAAC6C,SAAS,CAACwO,kBAAkB,GAAG,QAAQ,CAAC,EAAE,IAAI,CAACqT,GAAG,CAACnkB,OAAO,CAACyP,WAAW,CAAC,IAAI,CAACsb,GAAG,CAAC,EAAE,IAAI,CAACK,SAAS,GAAG,IAAI,CAACL,GAAG,CAAChrB,aAAa,CAAC,GAAG,GAAGN,UAAU,CAAC2Q,IAAI,CAACC,IAAI,GAAG,YAAY,CAAC;IAC/kI,IAAIzQ,CAAC,GAAG,IAAI,CAACmrB,GAAG,CAAChrB,aAAa,CAAC,GAAG,GAAGN,UAAU,CAAC2Q,IAAI,CAACC,IAAI,GAAG,UAAU,CAAC;MACnEpP,CAAC,GAAG,IAAI,CAAC8pB,GAAG,CAAChrB,aAAa,CAAC,GAAG,GAAGN,UAAU,CAAC2Q,IAAI,CAACC,IAAI,GAAG,WAAW,CAAC;MACpEnP,CAAC,GAAG,IAAI,CAAC6pB,GAAG,CAAChrB,aAAa,CAAC,GAAG,GAAGN,UAAU,CAAC2Q,IAAI,CAACC,IAAI,GAAG,SAAS,CAAC;MAClErG,CAAC,GAAG,IAAI,CAAC+gB,GAAG,CAAChrB,aAAa,CAAC,GAAG,GAAGN,UAAU,CAAC2Q,IAAI,CAACC,IAAI,GAAG,gBAAgB,CAAC;MACzE5F,CAAC,GAAG,IAAI,CAACsgB,GAAG,CAAChrB,aAAa,CAAC,GAAG,GAAGN,UAAU,CAAC2Q,IAAI,CAACC,IAAI,GAAG,YAAY,CAAC;MAAE3F,CAAC,GAAG,IAAI;IACnF9K,CAAC,IAAIA,CAAC,CAACkd,gBAAgB,CAAC,OAAO,EAAG,YAAY;MAC1CpS,CAAC,CAACyZ,GAAG,CAAC1e,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;IAC5B,CAAE,CAAC,EAAExE,CAAC,IAAIA,CAAC,CAAC6b,gBAAgB,CAAC,OAAO,EAAG,YAAY;MAC/CpS,CAAC,CAACyZ,GAAG,CAAC1e,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;IAC5B,CAAE,CAAC,EAAEvE,CAAC,IAAIA,CAAC,CAAC4b,gBAAgB,CAAC,OAAO,EAAG,YAAY;MAC/CpS,CAAC,CAACyZ,GAAG,CAACnU,GAAG,CAAC,CAAC;IACf,CAAE,CAAC,EAAEhG,CAAC,IAAIA,CAAC,CAAC8S,gBAAgB,CAAC,OAAO,EAAG,YAAY;MAC/CpS,CAAC,CAACyZ,GAAG,CAAChU,gBAAgB,CAAC,CAAC;IAC5B,CAAE,CAAC,EAAE1F,CAAC,IAAIA,CAAC,CAACqS,gBAAgB,CAAC,OAAO,EAAG,YAAY;MAC/CpS,CAAC,CAACyZ,GAAG,CAAChd,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC;IAC7B,CAAE,CAAC,EAAE,IAAI,CAACikB,SAAS,IAAI,IAAI,CAACA,SAAS,CAACtO,gBAAgB,CAAC,OAAO,EAAG,YAAY;MACzEpS,CAAC,CAACogB,QAAQ,GAAGpgB,CAAC,CAAC2gB,UAAU,CAAC,CAAC,GAAG3gB,CAAC,CAAC4gB,UAAU,CAAC,CAAC;IAChD,CAAE,CAAC,EAAE,IAAI,CAACJ,OAAO,IAAI,IAAI,CAACA,OAAO,CAACpO,gBAAgB,CAAC,OAAO,EAAG,UAAUpd,CAAC,EAAE;MACtE,KAAK,IAAIC,CAAC,GAAGD,CAAC,CAACka,MAAM,EAAEja,CAAC,GAAG;QACvB,IAAIA,CAAC,CAAC4a,YAAY,IAAI5a,CAAC,CAAC4a,YAAY,CAAC9a,UAAU,CAAC2Q,IAAI,CAACxP,MAAM,CAAC,EAAE;UAC1DjB,CAAC,GAAGA,CAAC,CAAC0a,YAAY,CAAC5a,UAAU,CAAC2Q,IAAI,CAACxP,MAAM,CAAC,EAAE8J,CAAC,CAACyZ,GAAG,CAAC/S,SAAS,CAAC3R,UAAU,CAACE,CAAC,CAAC,CAAC;UAC1E;QACJ;QACAA,CAAC,GAAGA,CAAC,CAACyM,UAAU;MACpB;IACJ,CAAE,CAAC;EACP;AACJ,CAAC,EAAC3M,UAAU,CAAC6C,SAAS,CAAC8G,SAAS,CAACkiB,UAAU,GAAG,YAAY;EACtD,IAAI,CAACR,QAAQ,GAAG,CAAC,CAAC,EAAE,IAAI,CAACM,SAAS,CAAChd,KAAK,CAACkM,SAAS,GAAG,gDAAgD,EAAE7a,UAAU,CAAC0N,OAAO,CAAC,IAAI,CAAC4d,GAAG,EAAE;IAAC7W,MAAM,EAAE,IAAI,CAACiQ,GAAG,CAAClkB,MAAM,CAAC+C,OAAO,GAAG;EAAE,CAAC,EAAE;IAACkR,MAAM,EAAE,IAAI,CAACiQ,GAAG,CAAClkB,MAAM,CAAC+C,OAAO,GAAG;EAAG,CAAC,EAAE,IAAI,CAACmhB,GAAG,CAAClkB,MAAM,CAACsH,IAAI,CAACG,QAAQ,EAAE,IAAI,CAACyc,GAAG,CAAClkB,MAAM,CAACsH,IAAI,CAACC,IAAI,CAAC,EAAE/H,UAAU,CAAC0N,OAAO,CAAC,IAAI,CAAC+d,OAAO,EAAE;IAAChX,MAAM,EAAE,CAAC;EAAG,CAAC,EAAE;IAACA,MAAM,EAAE;EAAC,CAAC,EAAE,IAAI,CAACiQ,GAAG,CAAClkB,MAAM,CAACsH,IAAI,CAACG,QAAQ,EAAE,IAAI,CAACyc,GAAG,CAAClkB,MAAM,CAACsH,IAAI,CAACC,IAAI,CAAC;AAC3Y,CAAC,EAAC/H,UAAU,CAAC6C,SAAS,CAAC8G,SAAS,CAACiiB,UAAU,GAAG,YAAY;EACtD,IAAI,CAACP,QAAQ,GAAG,CAAC,CAAC,EAAE,IAAI,CAACM,SAAS,CAAChd,KAAK,CAACkM,SAAS,GAAG,8CAA8C,EAAE7a,UAAU,CAAC0N,OAAO,CAAC,IAAI,CAAC4d,GAAG,EAAE;IAAC7W,MAAM,EAAE,IAAI,CAACiQ,GAAG,CAAClkB,MAAM,CAAC+C,OAAO,GAAG;EAAG,CAAC,EAAE;IAACkR,MAAM,EAAE,IAAI,CAACiQ,GAAG,CAAClkB,MAAM,CAAC+C,OAAO,GAAG;EAAE,CAAC,EAAE,IAAI,CAACmhB,GAAG,CAAClkB,MAAM,CAACsH,IAAI,CAACG,QAAQ,EAAE,IAAI,CAACyc,GAAG,CAAClkB,MAAM,CAACsH,IAAI,CAACC,IAAI,CAAC,EAAE/H,UAAU,CAAC0N,OAAO,CAAC,IAAI,CAAC+d,OAAO,EAAE;IAAChX,MAAM,EAAE;EAAC,CAAC,EAAE;IAACA,MAAM,EAAE,CAAC;EAAG,CAAC,EAAE,IAAI,CAACiQ,GAAG,CAAClkB,MAAM,CAACsH,IAAI,CAACG,QAAQ,EAAE,IAAI,CAACyc,GAAG,CAAClkB,MAAM,CAACsH,IAAI,CAACC,IAAI,CAAC;AACzY,CAAC,EAAC/H,UAAU,CAAC8C,UAAU,GAAG,YAAY,CACtC,CAAC,EAAC9C,UAAU,CAAC8C,UAAU,CAAC6G,SAAS,CAAC1H,IAAI,GAAG,UAAUhC,CAAC,EAAE;EAClD,IAAI,CAACykB,GAAG,GAAGzkB,CAAC;AAChB,CAAC,EAACD,UAAU,CAAC8C,UAAU,CAAC6G,SAAS,CAACc,IAAI,GAAG,UAAUxK,CAAC,EAAEC,CAAC,EAAE;EACrD,IAAI,IAAI,IAAID,CAAC,EAAE,OAAO,CAAC,CAAC;EACxB,CAAC,IAAIA,CAAC,KAAKA,CAAC,GAAGD,UAAU,CAACsiB,cAAc,EAAEpiB,CAAC,GAAG,SAAS,CAAC,EAAE,CAAC,IAAID,CAAC,KAAKA,CAAC,GAAGD,UAAU,CAACuiB,YAAY,EAAEriB,CAAC,GAAG,SAAS,CAAC;EAChH,IAAIC,CAAC,GAAGE,QAAQ,CAAC0mB,aAAa,CAAC,KAAK,CAAC;EACrC5mB,CAAC,CAAC8M,SAAS,GAAGhN,CAAC,EAAE+N,MAAM,CAACud,MAAM,CAACprB,CAAC,CAACwO,KAAK,EAAE;IACpCE,QAAQ,EAAE,UAAU;IACpB,kBAAkB,EAAE3O,CAAC;IACrB6P,KAAK,EAAE,SAAS;IAChBxM,OAAO,EAAE,MAAM;IACf,eAAe,EAAE,MAAM;IACvB0M,OAAO,EAAE,CAAC;IACVrB,QAAQ,EAAE,QAAQ;IAClB,aAAa,EAAE,QAAQ;IACvB,YAAY,EAAE;EAClB,CAAC,CAAC,EAAE,IAAI,CAAC8V,GAAG,CAACnkB,OAAO,CAACyP,WAAW,CAAC7P,CAAC,CAAC;EACnC,IAAIqB,CAAC,GAAG,IAAI,CAACkjB,GAAG,CAACta,KAAK,CAAC,CAAC,GAAG,CAAC,GAAGjK,CAAC,CAAC4O,WAAW,GAAG,CAAC;IAAEtN,CAAC,GAAG,IAAI,CAACijB,GAAG,CAACra,MAAM,CAAC,CAAC,GAAG,CAAC,GAAGlK,CAAC,CAAC2O,YAAY,GAAG,CAAC;EAChG3O,CAAC,CAACwO,KAAK,CAACa,IAAI,GAAGhO,CAAC,GAAG,IAAI,EAAErB,CAAC,CAACwO,KAAK,CAACzH,GAAG,GAAGzF,CAAC,GAAG,IAAI;EAC/C,IAAI8I,CAAC,GAAGpK,CAAC,CAAC4O,WAAW;EACrB,OAAO5O,CAAC,CAACwO,KAAK,CAACvE,KAAK,GAAG,MAAM,EAAEpK,UAAU,CAAC0N,OAAO,CAACvN,CAAC,EAAE;IAAC8P,OAAO,EAAE,CAAC;IAAE7F,KAAK,EAAE;EAAE,CAAC,EAAE;IAC1E6F,OAAO,EAAE,CAAC;IACV7F,KAAK,EAAEG;EACX,CAAC,EAAE,IAAI,CAACma,GAAG,CAAClkB,MAAM,CAACsH,IAAI,CAACG,QAAQ,EAAE,IAAI,CAACyc,GAAG,CAAClkB,MAAM,CAACsH,IAAI,CAACC,IAAI,CAAC,EAAE,CAAC,CAAC;AACpE,CAAC,EAAC,KAAK,CAAC,KAAK/H,UAAU,KAAKA,UAAU,GAAG,CAAC,CAAC,CAAC,EAACA,UAAU,CAAC6B,eAAe,GAAG,UAAU5B,CAAC,EAAE;EACnF,OAAO,CAAC,CAACA,CAAC,KAAKwO,OAAO,CAACC,KAAK,CAAC,uBAAuB,CAAC,EAAE,CAAC,CAAC,CAAC;AAC9D,CAAC,EAAC1O,UAAU,CAAC0a,cAAc,GAAG,UAAUza,CAAC,EAAEC,CAAC,EAAE;EAC1C,IAAID,CAAC,IAAI6V,KAAK,CAACC,OAAO,CAAC9V,CAAC,CAAC,EAAE,KAAK,IAAIE,CAAC,GAAGF,CAAC,CAACuL,MAAM,EAAErL,CAAC,EAAE,GAAG,IAAIF,CAAC,CAACE,CAAC,CAAC,KAAKD,CAAC,EAAE,OAAO,CAAC,CAAC;EACjF,OAAO,CAAC,CAAC;AACb,CAAC,EAACF,UAAU,CAAC8rB,cAAc,GAAG,UAAU7rB,CAAC,EAAEC,CAAC,EAAE;EAC1C,IAAI,CAACD,CAAC,EAAE,OAAO,EAAE;EACjB,IAAI,CAACC,CAAC,EAAE,OAAO,EAAE;EACjB,IAAIC,CAAC,GAAG,EAAE;EACV,IAAI2V,KAAK,CAACC,OAAO,CAAC9V,CAAC,CAAC,IAAI6V,KAAK,CAACC,OAAO,CAAC7V,CAAC,CAAC,EAAE,KAAK,IAAIsB,CAAC,IAAIvB,CAAC,EAAE,KAAK,IAAIwB,CAAC,IAAIvB,CAAC,EAAED,CAAC,CAACuB,CAAC,CAAC,IAAItB,CAAC,CAACuB,CAAC,CAAC,IAAItB,CAAC,CAACkT,IAAI,CAACpT,CAAC,CAACuB,CAAC,CAAC,CAAC,CAAC,KAAM,IAAIsU,KAAK,CAACC,OAAO,CAAC9V,CAAC,CAAC,IAAI,CAAC6V,KAAK,CAACC,OAAO,CAAC7V,CAAC,CAAC,EAAE,KAAK,IAAIsB,CAAC,IAAIvB,CAAC,EAAE,KAAK,IAAIwB,CAAC,IAAIvB,CAAC,EAAED,CAAC,CAACuB,CAAC,CAAC,IAAIC,CAAC,IAAItB,CAAC,CAACkT,IAAI,CAACpT,CAAC,CAACuB,CAAC,CAAC,CAAC,CAAC,KAAM,IAAI,CAACsU,KAAK,CAACC,OAAO,CAAC9V,CAAC,CAAC,IAAI6V,KAAK,CAACC,OAAO,CAAC7V,CAAC,CAAC,EAAE,KAAK,IAAIsB,CAAC,IAAIvB,CAAC,EAAE,KAAK,IAAIwB,CAAC,IAAIvB,CAAC,EAAEsB,CAAC,IAAItB,CAAC,CAACuB,CAAC,CAAC,IAAItB,CAAC,CAACkT,IAAI,CAACnT,CAAC,CAACuB,CAAC,CAAC,CAAC;EAClU,OAAOtB,CAAC;AACZ,CAAC,EAACH,UAAU,CAAC+rB,QAAQ,GAAG,UAAU9rB,CAAC,EAAE;EACjC,OAAOA,CAAC,CAACsB,IAAI,IAAI,CAACuU,KAAK,CAACC,OAAO,CAAC9V,CAAC,CAACsB,IAAI,CAAC,GAAGtB,CAAC,CAACsB,IAAI,CAACyqB,KAAK,CAAC,GAAG,CAAC,GAAG/rB,CAAC,CAACsB,IAAI,IAAIuU,KAAK,CAACC,OAAO,CAAC9V,CAAC,CAACsB,IAAI,CAAC,GAAGtB,CAAC,CAACsB,IAAI,GAAG,EAAE;AAC/G,CAAC,EAACvB,UAAU,CAACisB,qBAAqB,GAAG,UAAUhsB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACpD,IAAIqB,CAAC,GAAGvB,CAAC,CAACsP,qBAAqB,CAAC,CAAC;IAAE9N,CAAC,GAAGvB,CAAC,GAAGsB,CAAC,CAACgO,IAAI;IAAEjF,CAAC,GAAGpK,CAAC,GAAGqB,CAAC,CAAC0F,GAAG;EAChE,OAAO,CAACzF,CAAC,IAAID,CAAC,CAAC4I,KAAK,GAAG,GAAG,CAAC,EAAEG,CAAC,IAAI/I,CAAC,CAAC6I,MAAM,GAAG,GAAG,CAAC,CAAC;AACtD,CAAC,EAACrK,UAAU,CAACksB,KAAK,GAAG,UAAUjsB,CAAC,EAAE;EAC9B,OAAOA,CAAC,CAAC0Y,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC;AACtC,CAAC,EAAC3Y,UAAU,CAAC0oB,aAAa,GAAG,UAAUzoB,CAAC,EAAE;EACtC,IAAIC,CAAC,GAAGD,CAAC,CAAC2a,YAAY,CAAC,WAAW,CAAC;EACnC,OAAO1a,CAAC,GAAGA,CAAC,CAACyY,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAACA,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,CAACA,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE3Y,UAAU,CAAC8pB,QAAQ,CAAC,CAAC,CAACC,IAAI,KAAK7pB,CAAC,GAAGA,CAAC,CAACyY,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,EAAEzY,CAAC,GAAG,GAAG,IAAIA,CAAC,GAAGF,UAAU,CAACksB,KAAK,CAAChsB,CAAC,CAAC,CAAC,GAAG,GAAG,EAAEA,CAAC,GAAG2Y,IAAI,CAACC,KAAK,CAAC5Y,CAAC,CAAC;AAChM,CAAC,EAACF,UAAU,CAACoD,QAAQ,GAAG,UAAUnD,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAES,CAAC,EAAEC,CAAC,EAAE;EACtD,IAAIE,CAAC,GAAG,CAAC;EACT,IAAIlL,CAAC,IAAIuB,CAAC,KAAKxB,UAAU,CAACwQ,KAAK,CAACvN,QAAQ;IAAE,IAAIhD,CAAC,IAAIuB,CAAC,KAAKxB,UAAU,CAACwQ,KAAK,CAACpG,KAAK;MAAE,IAAInK,CAAC,IAAIuB,CAAC,KAAKxB,UAAU,CAACwQ,KAAK,CAACnG,MAAM;QAAE,IAAIpK,CAAC,EAAE;UAC5H,IAAImL,CAAC,EAAEG,CAAC;UACRJ,CAAC,GAAG,CAACC,CAAC,GAAGlL,CAAC,GAAGD,CAAC,CAAC,CAAC,CAAC,KAAKsL,CAAC,GAAGpL,CAAC,GAAGF,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGsL,CAAC,GAAGH,CAAC;QAC/C,CAAC,MAAMD,CAAC,GAAG3J,CAAC;MAAC,OAAM2J,CAAC,GAAGhL,CAAC,GAAG8K,CAAC;IAAC,OAAME,CAAC,GAAGjL,CAAC,GAAG8K,CAAC;EAAC,OAAMG,CAAC,GAAG,CAACC,CAAC,GAAGlL,CAAC,GAAG8K,CAAC,KAAKO,CAAC,GAAGpL,CAAC,GAAG8K,CAAC,CAAC,GAAGM,CAAC,GAAGH,CAAC;EACxF,OAAOD,CAAC,IAAIA,CAAC,GAAG1J,CAAC,KAAK0J,CAAC,GAAG1J,CAAC,CAAC,EAAE0J,CAAC,IAAIA,CAAC,GAAGZ,CAAC,KAAKY,CAAC,GAAGZ,CAAC,CAAC,EAAEY,CAAC;AAC1D,CAAC,EAACnL,UAAU,CAACmsB,QAAQ,GAAG,UAAUlsB,CAAC,EAAE;EACjC,OAAOA,CAAC,IAAI,QAAQ,IAAI,OAAOA,CAAC,IAAI,CAAC6V,KAAK,CAACC,OAAO,CAAC9V,CAAC,CAAC,IAAI,IAAI,KAAKA,CAAC;AACvE,CAAC,EAACD,UAAU,CAACosB,gBAAgB,GAAG,UAAUnsB,CAAC,EAAE;EACzC,IAAIC,CAAC,GAAGG,QAAQ,CAAC0mB,aAAa,CAAC,OAAO,CAAC;EACvC7mB,CAAC,CAAC+O,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC,EAAE/O,CAAC,CAACyO,KAAK,CAAC4D,OAAO,GAAG,MAAM,EAAErS,CAAC,CAACmsB,QAAQ,GAAG,YAAY;IAC/E,IAAInsB,CAAC,GAAG,IAAI,CAACosB,KAAK,CAAC,CAAC,CAAC;IACrBrsB,CAAC,CAACC,CAAC,CAAC;EACR,CAAC,EAAEG,QAAQ,CAACksB,IAAI,CAACvc,WAAW,CAAC9P,CAAC,CAAC,EAAEA,CAAC,CAACssB,KAAK,CAAC,CAAC;AAC9C,CAAC,EAACxsB,UAAU,CAACS,SAAS,GAAG,UAAUR,CAAC,EAAEC,CAAC,EAAE;EACrC,IAAIF,UAAU,CAACmsB,QAAQ,CAAClsB,CAAC,CAAC,IAAID,UAAU,CAACmsB,QAAQ,CAACjsB,CAAC,CAAC,EAAE,KAAK,IAAIC,CAAC,IAAID,CAAC,EAAEF,UAAU,CAACmsB,QAAQ,CAACjsB,CAAC,CAACC,CAAC,CAAC,CAAC,IAAIF,CAAC,CAACE,CAAC,CAAC,IAAI6N,MAAM,CAACud,MAAM,CAACtrB,CAAC,EAAE;IAAC,CAACE,CAAC,GAAG,CAAC;EAAC,CAAC,CAAC,EAAEH,UAAU,CAACS,SAAS,CAACR,CAAC,CAACE,CAAC,CAAC,EAAED,CAAC,CAACC,CAAC,CAAC,CAAC,IAAI6N,MAAM,CAACud,MAAM,CAACtrB,CAAC,EAAE;IAAC,CAACE,CAAC,GAAGD,CAAC,CAACC,CAAC;EAAC,CAAC,CAAC;EAC1M,OAAOF,CAAC;AACZ,CAAC,EAACD,UAAU,CAACysB,SAAS,GAAG,UAAUxsB,CAAC,EAAEC,CAAC,EAAE;EACrC,OAAO,EAAE,CAACD,CAAC,CAACoG,WAAW,IAAI,QAAQ,IAAI,OAAOnG,CAAC,IAAI,CAAC,CAAC,IAAIA,CAAC,CAACsV,OAAO,CAAC,KAAK,CAAC,IAAI,CAACvV,CAAC,CAACoG,WAAW,CAACnG,CAAC,CAAC,CAAC;AACnG,CAAC,EAACF,UAAU,CAAC0sB,gBAAgB,GAAG,UAAUzsB,CAAC,EAAE;EACzC,IAAIA,CAAC,CAACoG,WAAW,EAAE,KAAK,IAAInG,CAAC,IAAID,CAAC,CAACoG,WAAW,EAAE,IAAI,CAAC,CAAC,IAAInG,CAAC,CAACsV,OAAO,CAAC,KAAK,CAAC,EAAE,OAAOvV,CAAC,CAACoG,WAAW,CAACnG,CAAC,CAAC;EACnG,OAAO,CAAC,CAAC;AACb,CAAC,EAACF,UAAU,CAAC2sB,WAAW,GAAG,UAAU1sB,CAAC,EAAEC,CAAC,EAAE;EACvC,IAAID,CAAC,CAACoG,WAAW,EAAE,KAAK,IAAIlG,CAAC,IAAIF,CAAC,CAACoG,WAAW,EAAE,IAAIpG,CAAC,CAACoG,WAAW,CAAClG,CAAC,CAAC,IAAID,CAAC,EAAE,OAAOF,UAAU,CAACysB,SAAS,CAACxsB,CAAC,EAAEE,CAAC,CAAC;EAC5G,OAAO,CAAC,CAAC;AACb,CAAC,EAACH,UAAU,CAAC4B,KAAK,GAAG,YAAY;EAC7B,SAAS3B,CAACA,CAAA,EAAG;IACT,OAAO2T,IAAI,CAACgZ,KAAK,CAAC,KAAK,IAAI,CAAC,GAAGhZ,IAAI,CAACC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC3E,QAAQ,CAAC,EAAE,CAAC,CAAC0J,SAAS,CAAC,CAAC,CAAC;EAC5E;EAEA,OAAO3Y,CAAC,CAAC,CAAC,GAAGA,CAAC,CAAC,CAAC,GAAG,GAAG,GAAGA,CAAC,CAAC,CAAC,GAAG,GAAG,GAAGA,CAAC,CAAC,CAAC,GAAG,GAAG,GAAGA,CAAC,CAAC,CAAC,GAAG,GAAG,GAAGA,CAAC,CAAC,CAAC,GAAGA,CAAC,CAAC,CAAC,GAAGA,CAAC,CAAC,CAAC;AAChF,CAAC,EAACD,UAAU,CAAC6sB,UAAU,GAAG,UAAU5sB,CAAC,EAAE;EACnC,IAAIC,CAAC,GAAGG,QAAQ,CAAC0mB,aAAa,CAAC,OAAO,CAAC;EACvC7mB,CAAC,CAACklB,IAAI,GAAG,UAAU,EAAEllB,CAAC,CAAC+M,SAAS,GAAG,6eAA6e,EAAE5M,QAAQ,CAACysB,IAAI,CAAC9c,WAAW,CAAC9P,CAAC,CAAC;EAC9iB,IAAIC,CAAC;IAAEqB,CAAC;IAAEC,CAAC;IAAE8I,CAAC,GAAGlK,QAAQ,CAAC0mB,aAAa,CAAC,KAAK,CAAC;EAC9Cxc,CAAC,CAACqd,SAAS,GAAG,sBAAsB,EAAE3nB,CAAC,CAACod,gBAAgB,CAAC,WAAW,EAAG,UAAUnd,CAAC,EAAE;IAChF,IAAIC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAES,CAAC;IACjB,OAAO,IAAI,EAAExJ,CAAC,GAAGnB,QAAQ,CAAC0mB,aAAa,CAAC,MAAM,CAAC,EAAEtlB,CAAC,GAAG,IAAI,CAACsN,WAAW,EAAE5O,CAAC,GAAG,IAAI,CAACoP,qBAAqB,CAAC,CAAC,EAAEvE,CAAC,GAAG9K,CAAC,CAAC6sB,KAAK,GAAG5sB,CAAC,CAACqP,IAAI,GAAG/N,CAAC,GAAG,CAAC,EAAE8I,CAAC,GAAG,MAAM,IAAIrK,CAAC,CAAC8sB,KAAK,GAAG7sB,CAAC,CAAC+G,GAAG,GAAGzF,CAAC,GAAG,CAAC,CAAC,GAAG,YAAY,GAAGuJ,CAAC,GAAG,cAAc,GAAGvJ,CAAC,GAAG,aAAa,GAAGA,CAAC,GAAG,KAAK,EAAExB,CAAC,CAACgtB,eAAe,CAACjd,WAAW,CAACxO,CAAC,CAAC,EAAEA,CAAC,CAACyN,YAAY,CAAC,OAAO,EAAE1E,CAAC,CAAC;EACnT,CAAE,CAAC,EAAEtK,CAAC,CAACod,gBAAgB,CAAC,SAAS,GAAGld,CAAC,GAAG,SAAAA,CAAA,EAAY;IAChD,OAAO,IAAI,CAAC8sB,eAAe,CAACC,UAAU,GAAG,IAAI,CAACD,eAAe,CAACrgB,WAAW,CAAC,IAAI,CAACqgB,eAAe,CAACC,UAAU,CAAC;EAC9G,CAAC,EAAE1rB,CAAC,GAAG,GAAG,EAAEC,CAAC,GAAG,KAAK,CAAC,EAAE,YAAY;IAChC,IAAIxB,CAAC,EAAEC,CAAC;IACR,OAAOA,CAAC,GAAG,IAAI,EAAED,CAAC,GAAGmd,SAAS,EAAE+P,YAAY,CAAC1rB,CAAC,CAAC,EAAEA,CAAC,GAAG2rB,UAAU,CAAE,YAAY;MACzE,OAAOjtB,CAAC,CAACgd,KAAK,CAACjd,CAAC,EAAED,CAAC,CAAC;IACxB,CAAC,EAAGuB,CAAC,CAAC;EACV,CAAC,CAAC,CAAC,EAAEvB,CAAC,CAACgtB,eAAe,GAAG1iB,CAAC,EAAEtK,CAAC,CAAC+P,WAAW,CAACzF,CAAC,CAAC;AAChD,CAAC,EAACvK,UAAU,CAAC6R,mBAAmB,GAAG,UAAU5R,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;EACrD,IAAIC,CAAC,GAAGvB,CAAC,CAACkP,KAAK,CAAC,CAAC,CAAC;EAClBlP,CAAC,CAAC,CAAC,CAAC,GAAGC,CAAC,CAACqP,IAAI,IAAItP,CAAC,CAAC,CAAC,CAAC,GAAGC,CAAC,CAACiU,KAAK,KAAK3S,CAAC,CAAC,CAAC,CAAC,GAAGtB,CAAC,CAACqP,IAAI,GAAGrP,CAAC,CAACiU,KAAK,GAAGjU,CAAC,CAACiU,KAAK,GAAGjU,CAAC,CAACqP,IAAI,CAAC,EAAEtP,CAAC,CAAC,CAAC,CAAC,GAAGC,CAAC,CAACiU,KAAK,IAAIlU,CAAC,CAAC,CAAC,CAAC,GAAGC,CAAC,CAACqP,IAAI,KAAK/N,CAAC,CAAC,CAAC,CAAC,GAAGtB,CAAC,CAACqP,IAAI,GAAGrP,CAAC,CAACiU,KAAK,GAAGjU,CAAC,CAACqP,IAAI,GAAGrP,CAAC,CAACiU,KAAK,CAAC,EAAElU,CAAC,CAAC,CAAC,CAAC,GAAGC,CAAC,CAAC+G,GAAG,IAAIhH,CAAC,CAAC,CAAC,CAAC,GAAGC,CAAC,CAACsU,MAAM,KAAKhT,CAAC,CAAC,CAAC,CAAC,GAAGtB,CAAC,CAAC+G,GAAG,GAAG/G,CAAC,CAACsU,MAAM,GAAGtU,CAAC,CAACsU,MAAM,GAAGtU,CAAC,CAAC+G,GAAG,CAAC,EAAEhH,CAAC,CAAC,CAAC,CAAC,GAAGC,CAAC,CAACsU,MAAM,IAAIvU,CAAC,CAAC,CAAC,CAAC,GAAGC,CAAC,CAAC+G,GAAG,KAAKzF,CAAC,CAAC,CAAC,CAAC,GAAGtB,CAAC,CAAC+G,GAAG,GAAG/G,CAAC,CAACsU,MAAM,GAAGtU,CAAC,CAAC+G,GAAG,GAAG/G,CAAC,CAACsU,MAAM,CAAC,EAAEvU,CAAC,CAAC,CAAC,CAAC,KAAKuB,CAAC,CAAC,CAAC,CAAC,IAAIvB,CAAC,CAAC,CAAC,CAAC,KAAKuB,CAAC,CAAC,CAAC,CAAC,GAAGzB,UAAU,CAAC0N,OAAO,CAACzN,CAAC,EAAE;IAACoD,OAAO,EAAEnD;EAAC,CAAC,EAAE;IAACmD,OAAO,EAAE5B;EAAC,CAAC,EAAE,GAAG,EAAEzB,UAAU,CAAC8H,IAAI,CAACE,MAAM,EAAG,YAAY;IAC7bxG,CAAC,IAAIA,CAAC,CAAC,CAAC;EACZ,CAAE,CAAC,GAAGA,CAAC,IAAIA,CAAC,CAAC,CAAC;AAClB,CAAC,EAACxB,UAAU,CAAC0P,QAAQ,GAAG,YAAY;EAChC,OAAO,GAAG,GAAG,CAAC,MAAM,GAAG,CAACkE,IAAI,CAACC,MAAM,CAAC,CAAC,GAAGD,IAAI,CAACE,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,EAAE5E,QAAQ,CAAC,EAAE,CAAC,EAAEE,KAAK,CAAC,CAAC,CAAC,CAAC;AACxF,CAAC,EAACpP,UAAU,CAACqtB,YAAY,GAAG,UAAUptB,CAAC,EAAE;EACrC,OAAO,CAAC,CAAC,IAAIA,CAAC,CAACmlB,IAAI,CAAC5P,OAAO,CAAC,OAAO,CAAC,GAAG;IACnC3F,CAAC,EAAE5P,CAAC,CAACqtB,OAAO;IACZ/f,CAAC,EAAEtN,CAAC,CAACstB;EACT,CAAC,GAAGttB,CAAC,CAACutB,cAAc,CAAChiB,MAAM,GAAG;IAACqE,CAAC,EAAE5P,CAAC,CAACutB,cAAc,CAAC,CAAC,CAAC,CAACF,OAAO;IAAE/f,CAAC,EAAEtN,CAAC,CAACutB,cAAc,CAAC,CAAC,CAAC,CAACD;EAAO,CAAC,GAAG,KAAK,CAAC;AAC3G,CAAC,EAACvtB,UAAU,CAACytB,mBAAmB,GAAG,UAAUxtB,CAAC,EAAEC,CAAC,EAAE;EAC/C,OAAO,CAAC,CAAC,IAAID,CAAC,CAACmlB,IAAI,CAAC5P,OAAO,CAAC,OAAO,CAAC,GAAGvV,CAAC,CAACytB,OAAO,CAACliB,MAAM,GAAGtL,CAAC,GAAG,CAAC,GAAG;IAAC2P,CAAC,EAAE,IAAI;IAAEtC,CAAC,EAAE;EAAI,CAAC,GAAG;IACnFsC,CAAC,EAAE5P,CAAC,CAACytB,OAAO,CAACxtB,CAAC,CAAC,CAACotB,OAAO;IACvB/f,CAAC,EAAEtN,CAAC,CAACytB,OAAO,CAACxtB,CAAC,CAAC,CAACqtB;EACpB,CAAC,GAAG;IAAC1d,CAAC,EAAE5P,CAAC,CAACqtB,OAAO;IAAE/f,CAAC,EAAEtN,CAAC,CAACstB;EAAO,CAAC;AACpC,CAAC,EAACvtB,UAAU,CAAC2tB,UAAU,GAAG,UAAU1tB,CAAC,EAAEC,CAAC,EAAE;EACtCD,CAAC,KAAKC,CAAC,CAAC2P,CAAC,IAAI5P,CAAC,CAAC2tB,UAAU,EAAE1tB,CAAC,CAACqN,CAAC,IAAItN,CAAC,CAAC4tB,SAAS,EAAE7tB,UAAU,CAAC2tB,UAAU,CAAC1tB,CAAC,CAAC6tB,YAAY,EAAE5tB,CAAC,CAAC,CAAC;AAC5F,CAAC,EAACF,UAAU,CAAC+tB,WAAW,GAAG,UAAU9tB,CAAC,EAAE;EACpC,IAAIC,CAAC,GAAG;IAAC2P,CAAC,EAAE,CAAC;IAAEtC,CAAC,EAAE;EAAC,CAAC;EACpB,OAAOvN,UAAU,CAAC2tB,UAAU,CAAC1tB,CAAC,EAAEC,CAAC,CAAC,EAAEA,CAAC;AACzC,CAAC,EAACF,UAAU,CAACguB,YAAY,GAAG,UAAU/tB,CAAC,EAAEC,CAAC,EAAE;EACxC,IAAI,CAAC,CAAC,IAAIA,CAAC,CAACklB,IAAI,CAAC5P,OAAO,CAAC,OAAO,CAAC,EAAE,OAAO;IAAC3F,CAAC,EAAE3P,CAAC,CAAC+tB,OAAO;IAAE1gB,CAAC,EAAErN,CAAC,CAACguB;EAAO,CAAC;EACtE,IAAIhuB,CAAC,CAACwtB,OAAO,CAACliB,MAAM,EAAE;IAClB,IAAIrL,CAAC,GAAGH,UAAU,CAAC+tB,WAAW,CAAC9tB,CAAC,CAAC;IACjC,OAAO;MAAC4P,CAAC,EAAE3P,CAAC,CAACwtB,OAAO,CAAC,CAAC,CAAC,CAACX,KAAK,GAAG5sB,CAAC,CAAC0P,CAAC;MAAEtC,CAAC,EAAErN,CAAC,CAACwtB,OAAO,CAAC,CAAC,CAAC,CAACV,KAAK,GAAG7sB,CAAC,CAACoN;IAAC,CAAC;EACrE;EACA,IAAIrN,CAAC,CAACstB,cAAc,CAAChiB,MAAM,EAAE;IACzBrL,CAAC,GAAGH,UAAU,CAAC+tB,WAAW,CAAC9tB,CAAC,CAAC;IAC7B,OAAO;MAAC4P,CAAC,EAAE3P,CAAC,CAACstB,cAAc,CAAC,CAAC,CAAC,CAACT,KAAK,GAAG5sB,CAAC,CAAC0P,CAAC;MAAEtC,CAAC,EAAErN,CAAC,CAACstB,cAAc,CAAC,CAAC,CAAC,CAACR,KAAK,GAAG7sB,CAAC,CAACoN;IAAC,CAAC;EACnF;AACJ,CAAC,EAACvN,UAAU,CAACmuB,0BAA0B,GAAG,UAAUluB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;EAC5D,IAAIC,CAAC,GAAGzB,UAAU,CAAC+tB,WAAW,CAAC9tB,CAAC,CAAC;IAAEsK,CAAC,GAAG/I,CAAC,CAACksB,OAAO,CAAC,CAAC,CAAC,CAACX,KAAK,GAAGtrB,CAAC,CAACoO,CAAC;IAAE7E,CAAC,GAAGxJ,CAAC,CAACksB,OAAO,CAAC,CAAC,CAAC,CAACV,KAAK,GAAGvrB,CAAC,CAAC8L,CAAC;IACzFtC,CAAC,GAAGzJ,CAAC,CAACksB,OAAO,CAAC,CAAC,CAAC,CAACX,KAAK,GAAGtrB,CAAC,CAACoO,CAAC;IAAE1E,CAAC,GAAG3J,CAAC,CAACksB,OAAO,CAAC,CAAC,CAAC,CAACV,KAAK,GAAGvrB,CAAC,CAAC8L,CAAC;EAC9D,OAAO,CAAC,CAAC,CAAChD,CAAC,GAAGU,CAAC,IAAI,CAAC,GAAGA,CAAC,KAAK/K,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC8K,CAAC,GAAGG,CAAC,IAAI,CAAC,GAAGA,CAAC,KAAKhL,CAAC,GAAG,GAAG,CAAC,CAAC;AACzE,CAAC,EAACH,UAAU,CAAC8pB,QAAQ,GAAG,YAAY;EAChC,IAAI7pB,CAAC,GAAG,CAAC,CAAC6U,MAAM,CAACsZ,GAAG,IAAI,CAAC,CAACtZ,MAAM,CAACsZ,GAAG,CAACC,MAAM,IAAI,CAAC,CAACvZ,MAAM,CAACwZ,KAAK,IAAItE,SAAS,CAACC,SAAS,CAACzU,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC;IACtGtV,CAAC,GAAG,WAAW,IAAI,OAAOquB,cAAc;IACxCpuB,CAAC,GAAG,cAAc,CAACquB,IAAI,CAAC1Z,MAAM,CAAC2Z,WAAW,CAAC,IAAI,mCAAmC,KAAK,CAAC,CAAC3Z,MAAM,CAACqL,MAAM,IAAI,KAAK,CAAC,KAAKrL,MAAM,CAACqL,MAAM,IAAIA,MAAM,CAACuO,gBAAgB,EAAExf,QAAQ,CAAC,CAAC;IACzK1N,CAAC,GAAG,CAAC,CAACnB,QAAQ,CAACsuB,YAAY;IAAEltB,CAAC,GAAG,CAACD,CAAC,IAAI,CAAC,CAACsT,MAAM,CAAC8Z,UAAU;IAC1DrkB,CAAC,GAAG,EAAE,CAACuK,MAAM,CAAC+Z,MAAM,IAAI,CAAC/Z,MAAM,CAAC+Z,MAAM,CAACC,QAAQ,IAAI,CAACha,MAAM,CAAC+Z,MAAM,CAACE,OAAO,CAAC;EAC9E,OAAO;IAACT,KAAK,EAAEruB,CAAC;IAAE+uB,OAAO,EAAE9uB,CAAC;IAAEigB,MAAM,EAAEhgB,CAAC;IAAE4pB,IAAI,EAAEvoB,CAAC;IAAEytB,IAAI,EAAExtB,CAAC;IAAEotB,MAAM,EAAEtkB,CAAC;IAAE2kB,KAAK,EAAE,CAAC3kB,CAAC,IAAItK,CAAC,KAAK,CAAC,CAAC6U,MAAM,CAACqa;EAAG,CAAC;AAC1G,CAAC,EAACnvB,UAAU,CAAC6nB,aAAa,GAAG,UAAU5nB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EAC5C,IAAIqB,CAAC,GAAGvB,CAAC,CAACsP,qBAAqB,CAAC,CAAC;IAAE9N,CAAC,GAAGtB,CAAC,CAACoP,qBAAqB,CAAC,CAAC;IAAEhF,CAAC,GAAGrK,CAAC,CAACqP,qBAAqB,CAAC,CAAC;IAC3FvE,CAAC,GAAGxJ,CAAC,CAACgO,IAAI,GAAG/N,CAAC,CAAC+N,IAAI;IAAEvE,CAAC,GAAGzJ,CAAC,CAAC0F,GAAG,GAAGzF,CAAC,CAACyF,GAAG;EAC1C,OAAO1F,CAAC,CAAC0F,GAAG,GAAGqD,CAAC,CAACF,MAAM,GAAG5I,CAAC,CAACyF,GAAG,GAAGzF,CAAC,CAAC4I,MAAM,KAAKY,CAAC,IAAIV,CAAC,CAACF,MAAM,CAAC,EAAE7I,CAAC,CAACgO,IAAI,GAAGjF,CAAC,CAACH,KAAK,GAAG3I,CAAC,CAAC+N,IAAI,KAAKxE,CAAC,IAAIT,CAAC,CAACH,KAAK,CAAC,EAAE;IACxGyF,CAAC,EAAE7E,CAAC;IACJuC,CAAC,EAAEtC;EACP,CAAC;AACL,CAAC,EAACjL,UAAU,CAACovB,YAAY,GAAG,UAAUnvB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EAC3C,IAAI2V,KAAK,CAACC,OAAO,CAAC9V,CAAC,CAAC,EAAE,KAAK,IAAIuB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGvB,CAAC,CAACuL,MAAM,EAAEhK,CAAC,EAAE,EAAE;IACrD,IAAIC,CAAC,GAAGvB,CAAC,CAACD,CAAC,CAACuB,CAAC,CAAC,CAAC;IACf,IAAIC,CAAC,IAAIA,CAAC,CAAC0E,QAAQ,EAAE,OAAO1E,CAAC,CAAC0E,QAAQ;EAC1C;EACA,OAAOhG,CAAC;AACZ,CAAC,EAACH,UAAU,CAACqvB,OAAO,GAAG,UAAUpvB,CAAC,EAAEC,CAAC,EAAE;EACnC,IAAID,CAAC,CAACsB,IAAI,IAAItB,CAAC,CAACsB,IAAI,CAACiK,MAAM,IAAItL,CAAC,CAACqB,IAAI,EAAE,KAAK,IAAIpB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,CAAC,CAACsB,IAAI,CAACiK,MAAM,EAAErL,CAAC,EAAE,EAAE;IAC3E,IAAIqB,CAAC,GAAGtB,CAAC,CAACqB,IAAI,CAACtB,CAAC,CAACsB,IAAI,CAACpB,CAAC,CAAC,CAAC;IACzB,IAAIqB,CAAC,IAAI,CAAC,CAAC,KAAKA,CAAC,CAAC4E,GAAG,EAAE,OAAO,CAAC,CAAC;EACpC;EACA,OAAOlG,CAAC,CAACkG,GAAG;AAChB,CAAC,EAACpG,UAAU,CAACsvB,aAAa,GAAG,UAAUrvB,CAAC,EAAEC,CAAC,EAAE;EACzC,IAAID,CAAC,IAAIA,CAAC,CAACuL,MAAM,EAAE,KAAK,IAAIrL,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,CAAC,CAACuL,MAAM,EAAErL,CAAC,EAAE,EAAE;IAClD,IAAIqB,CAAC,GAAGtB,CAAC,CAACD,CAAC,CAACE,CAAC,CAAC,CAAC;IACf,IAAIqB,CAAC,IAAIA,CAAC,CAAC+tB,SAAS,EAAE,OAAO/tB,CAAC,CAAC+tB,SAAS;EAC5C;EACA,OAAO,CAAC;AACZ,CAAC,EAACvvB,UAAU,CAACwvB,OAAO,GAAG,UAAUvvB,CAAC,EAAE;EAChC,IAAIC,CAAC,GAAI,IAAIuvB,SAAS,CAAD,CAAC,CAAEC,eAAe,CAACzvB,CAAC,EAAE,WAAW,CAAC;EACvD,OAAO6V,KAAK,CAACwC,IAAI,CAACpY,CAAC,CAACqsB,IAAI,CAACoD,UAAU,CAAC,CAACC,IAAI,CAAE3vB,CAAC,IAAI,CAAC,KAAKA,CAAC,CAAC4vB,QAAS,CAAC;AACtE,CAAC,EAAC7vB,UAAU,CAAC8vB,WAAW,GAAG,YAAY;EACnC,IAAI7vB,CAAC,GAAGI,QAAQ,CAAColB,cAAc,CAAC,uBAAuB,CAAC;EACxD,OAAOxlB,CAAC,KAAK,CAACA,CAAC,GAAGI,QAAQ,CAAC0mB,aAAa,CAAC,KAAK,CAAC,EAAEnb,EAAE,GAAG,uBAAuB,EAAE3L,CAAC,CAAC0O,KAAK,CAACE,QAAQ,GAAG,OAAO,EAAE5O,CAAC,CAAC0O,KAAK,CAACzH,GAAG,GAAG,UAAU,EAAEjH,CAAC,CAAC0O,KAAK,CAACa,IAAI,GAAG,UAAU,EAAEnP,QAAQ,CAACksB,IAAI,CAACvc,WAAW,CAAC/P,CAAC,CAAC,CAAC,EAAEA,CAAC;AACpM,CAAC,EAACD,UAAU,CAAC+vB,aAAa,GAAG,UAAU9vB,CAAC,EAAE;EACtC,IAAIC,CAAC,GAAGF,UAAU,CAAC8vB,WAAW,CAAC,CAAC;EAChC,OAAO5vB,CAAC,CAAC+M,SAAS,GAAG,OAAO,GAAGhN,CAAC,GAAG,QAAQ,EAAEC,CAAC,CAACI,aAAa,CAAC,MAAM,CAAC,CAACiP,qBAAqB,CAAC,CAAC;AAChG,CAAC,EAACvP,UAAU,CAACgwB,QAAQ,GAAG,UAAU/vB,CAAC,EAAEC,CAAC,EAAE;EACpC,IAAIC,CAAC,GAAGD,CAAC,CAACya,WAAW,CAAC,CAAC;EACvB,IAAI,CAAC,CAAC,IAAIxa,CAAC,CAACqV,OAAO,CAAC,OAAO,CAAC,EAAE,OAAOxV,UAAU,CAACiwB,WAAW,CAAChwB,CAAC,CAAC;EAC9D,IAAI,CAAC,CAAC,IAAIE,CAAC,CAACqV,OAAO,CAACxV,UAAU,CAAC2Q,IAAI,CAACvG,KAAK,CAAC,EAAE,OAAOpK,UAAU,CAACiwB,WAAW,CAAChwB,CAAC,CAAC;EAC5E,IAAI,CAAC,CAAC,IAAIE,CAAC,CAACqV,OAAO,CAAC,eAAe,CAAC,EAAE,OAAOxV,UAAU,CAACiwB,WAAW,CAAChwB,CAAC,CAAC;EACtE,IAAI,CAAC,CAAC,IAAIC,CAAC,CAACsV,OAAO,CAACxV,UAAU,CAAC2Q,IAAI,CAACvG,KAAK,CAAC,EAAE,OAAOpK,UAAU,CAACiwB,WAAW,CAAChwB,CAAC,CAAC;EAC5E,IAAID,UAAU,CAAC4jB,WAAW,IAAI,QAAQ,IAAI,OAAOsM,GAAG,IAAIlwB,UAAU,CAACwvB,OAAO,CAACvvB,CAAC,CAAC,EAAE,OAAOD,UAAU,CAACiwB,WAAW,CAAChwB,CAAC,CAAC;EAC/G,IAAI,CAACD,UAAU,CAAC4jB,WAAW,IAAI5jB,UAAU,CAACwvB,OAAO,CAACvvB,CAAC,CAAC,EAAE,OAAOA,CAAC;EAC9D,IAAIuB,CAAC,GAAGxB,UAAU,CAAC8vB,WAAW,CAAC,CAAC;EAChC5vB,CAAC,GAAGA,CAAC,CAACiwB,UAAU,CAAC,MAAM,EAAE,CAAC,CAAC,EAAE3uB,CAAC,CAACyL,SAAS,GAAG,OAAO,GAAG/M,CAAC,GAAG,QAAQ;EACjE,IAAIuB,CAAC;IAAE8I,CAAC;IAAES,CAAC,GAAI,IAAIykB,SAAS,CAAD,CAAC,CAAEC,eAAe,CAACxvB,CAAC,EAAE,UAAU,CAAC,CAACmS,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;IACxFpH,CAAC,GAAGmlB,UAAU,CAACplB,CAAC,CAAC4P,YAAY,CAAC,GAAG,CAAC,CAAC;IAAEzP,CAAC,GAAGilB,UAAU,CAACplB,CAAC,CAAC4P,YAAY,CAAC,GAAG,CAAC,CAAC;IAAExP,CAAC,GAAGJ,CAAC,CAAC4P,YAAY,CAAC,aAAa,CAAC;IAC3GrP,CAAC,GAAGP,CAAC,CAAC4P,YAAY,CAAC5a,UAAU,CAAC2Q,IAAI,CAACvG,KAAK,CAAC;IAAEqB,CAAC,GAAGT,CAAC,CAAC4P,YAAY,CAAC5a,UAAU,CAAC2Q,IAAI,CAACsO,aAAa,CAAC;IAC5FvT,CAAC,GAAG,4BAA4B;IAAEc,CAAC,GAAGhL,CAAC,CAAC6Q,oBAAoB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAACA,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;EAC1G5G,CAAC,KAAKA,CAAC,GAAG,UAAU,CAAC;EACrB,IAAIiB,CAAC,GAAGjB,CAAC,CAACugB,KAAK,CAAC,GAAG,CAAC;EACpB,IAAItf,CAAC,CAAClB,MAAM,GAAG,CAAC,KAAK/J,CAAC,GAAGuZ,QAAQ,CAACvP,CAAC,CAACugB,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEtf,CAAC,CAAClB,MAAM,GAAG,CAAC,IAAI,UAAU,IAAIkB,CAAC,CAAC,CAAC,CAAC,KAAKnC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAACgB,CAAC,EAAE,OAAOvL,UAAU,CAACiwB,WAAW,CAAChwB,CAAC,CAAC;EACzI,IAAIsL,CAAC,GAAG6kB,UAAU,CAAC7kB,CAAC,CAAC,EAAEN,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,EAAEE,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,EAAEF,CAAC,KAAKG,CAAC,GAAG,OAAO,CAAC,EAAE,UAAU,IAAIK,CAAC,EAAE;IACpFe,CAAC,CAACI,WAAW,CAACJ,CAAC,CAAC0gB,UAAU,CAAC,EAAE1gB,CAAC,CAAC6jB,WAAW,GAAGpwB,CAAC;IAC9C,KAAK,IAAIqN,CAAC,GAAGd,CAAC,CAAC8jB,qBAAqB,CAAC,CAAC,EAAE/iB,CAAC,GAAG,CAAC,EAAED,CAAC,GAAG/B,CAAC,GAAGiB,CAAC,CAAC6jB,WAAW,GAAGpwB,CAAC,CAAC2Y,SAAS,CAAC,CAAC,EAAE3Y,CAAC,CAACuL,MAAM,GAAG+B,CAAC,CAAC,EAAEf,CAAC,CAAC6jB,WAAW,IAAI,KAAK,EAAE/iB,CAAC,GAAGd,CAAC,CAAC8jB,qBAAqB,CAAC,CAAC,EAAE/iB,CAAC,EAAE;IAC/J,OAAOA,CAAC,GAAG,CAAC,GAAI,UAASvN,UAAU,CAACiwB,WAAW,CAAChwB,CAAC,CAAE,WAAUuM,CAAC,CAAC6jB,WAAY,EAAC,GAAGrwB,UAAU,CAACiwB,WAAW,CAAChwB,CAAC,CAAC;EAC5G;EACA,IAAI,CAAC,CAAC,IAAIwL,CAAC,CAAC+J,OAAO,CAAC,WAAW,CAAC,EAAE;IAC9B,IAAItH,CAAC,GAAGjO,CAAC,CAAC+rB,KAAK,CAAC,GAAG,CAAC;MAAE7d,CAAC,GAAG3B,CAAC,CAAC+jB,OAAO,CAAC,CAAC,CAAClmB,MAAM;IAC5CmC,CAAC,CAAC6jB,WAAW,GAAG,EAAE;IAClB,IAAI/hB,CAAC,GAAGjO,QAAQ,CAACoP,eAAe,CAAC/D,CAAC,EAAE,OAAO,CAAC;MAAEY,CAAC,GAAGjM,QAAQ,CAACmwB,cAAc,CAACtiB,CAAC,CAAC,CAAC,CAAC,CAAC;IAC/EI,CAAC,CAACmiB,cAAc,CAAC,IAAI,EAAE,GAAG,EAAExlB,CAAC,CAAC,EAAEqD,CAAC,CAACmiB,cAAc,CAAC,IAAI,EAAE,GAAG,EAAEtlB,CAAC,CAAC,EAAEmD,CAAC,CAACmiB,cAAc,CAAC,IAAI,EAAE,aAAa,EAAErlB,CAAC,CAAC,EAAEkD,CAAC,CAAC0B,WAAW,CAAC1D,CAAC,CAAC,EAAEE,CAAC,CAACwD,WAAW,CAAC1B,CAAC,CAAC;IAC5If,CAAC,GAAG,CAAC;IACL,KAAK,IAAIwN,CAAC,GAAG,CAAC,EAAElL,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG3B,CAAC,CAAC1C,MAAM,EAAEqE,CAAC,EAAE,EAAE;MACtC,IAAI4W,CAAC,GAAGnY,CAAC,CAAC4e,UAAU,CAACjI,IAAI,CAACzZ,MAAM;MAChC,IAAI8C,CAAC,CAAC4e,UAAU,CAACjI,IAAI,IAAI,GAAG,GAAG/W,CAAC,CAAC2B,CAAC,CAAC,EAAEvB,CAAC,CAACgiB,qBAAqB,CAAC,CAAC,GAAG/kB,CAAC,EAAE;QAChE,IAAI+C,CAAC,CAAC4e,UAAU,CAACjI,IAAI,GAAG3W,CAAC,CAAC4e,UAAU,CAACjI,IAAI,CAAC7V,KAAK,CAAC,CAAC,EAAEqX,CAAC,CAAC,EAAE1L,CAAC,EAAE,EAAEtZ,CAAC,IAAIsZ,CAAC,GAAGtZ,CAAC,EAAE;UACpE,IAAI8I,CAAC,IAAIiC,CAAC,CAACkkB,QAAQ,CAACllB,MAAM,IAAI/J,CAAC,EAAE;YAC7B,IAAI6N,CAAC,GAAG9C,CAAC,CAACkkB,QAAQ,CAACjvB,CAAC,GAAG,CAAC,CAAC,CAAC4uB,WAAW;YACrC7jB,CAAC,CAACkkB,QAAQ,CAACjvB,CAAC,GAAG,CAAC,CAAC,CAAC4uB,WAAW,GAAG/gB,CAAC,CAACsJ,SAAS,CAAC,CAAC,EAAEtJ,CAAC,CAAC9D,MAAM,GAAG,CAAC,CAAC,GAAG,KAAK;UACxE;UACA;QACJ;QACA,CAAC8C,CAAC,GAAGjO,QAAQ,CAACoP,eAAe,CAAC/D,CAAC,EAAE,OAAO,CAAC,EAAE+kB,cAAc,CAAC,IAAI,EAAE,GAAG,EAAExlB,CAAC,CAAC,EAAEqD,CAAC,CAACmiB,cAAc,CAAC,IAAI,EAAE,GAAG,EAAEtlB,CAAC,GAAGgD,CAAC,GAAGZ,CAAC,CAAC,EAAEe,CAAC,CAACmiB,cAAc,CAAC,IAAI,EAAE,aAAa,EAAErlB,CAAC,CAAC,EAAEkB,CAAC,GAAGjM,QAAQ,CAACmwB,cAAc,CAACtiB,CAAC,CAAC2B,CAAC,CAAC,CAAC,EAAEvB,CAAC,CAAC0B,WAAW,CAAC1D,CAAC,CAAC,EAAEE,CAAC,CAACwD,WAAW,CAAC1B,CAAC,CAAC,EAAEf,CAAC,EAAE;MACzO;IACJ;IACA,IAAImZ,CAAC,GAAG,EAAE;IACV,IAAI,IAAI,IAAIla,CAAC,CAACS,SAAS,EAAEyZ,CAAC,GAAGla,CAAC,CAACS,SAAS,EAAET,CAAC,CAACS,SAAS,GAAG,EAAE,CAAC,KAAM;MAC7D,IAAI0Z,CAAC,GAAG,EAAE;MACV,KAAK9W,CAAC,GAAGrD,CAAC,CAACmjB,UAAU,CAACnkB,MAAM,GAAG,CAAC,EAAEqE,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE8W,CAAC,GAAGgK,aAAa,CAAC,CAAC,CAACC,iBAAiB,CAACpkB,CAAC,CAACmjB,UAAU,CAAC9f,CAAC,CAAC,CAAC,GAAG8W,CAAC,EAAEna,CAAC,CAACI,WAAW,CAACJ,CAAC,CAACmjB,UAAU,CAAC9f,CAAC,CAAC,CAAC;MACzI6W,CAAC,GAAGC,CAAC;IACT;IACA,OAAOD,CAAC;EACZ;AACJ,CAAC,EAAC1mB,UAAU,CAAC6wB,aAAa,GAAG,UAAU5wB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;EAClD,IAAI8I,CAAC,GAAG,IAAIumB,IAAI,CAAC,CAAC5wB,CAAC,CAAC,EAAE;IAACklB,IAAI,EAAEnlB;EAAC,CAAC,CAAC;EAChC,IAAI,CAAC,IAAIuB,CAAC,EAAE;IACR,IAAIwJ,CAAC,GAAG+lB,GAAG,CAACC,eAAe,CAACzmB,CAAC,CAAC;IAC9BuK,MAAM,CAACuF,IAAI,CAACrP,CAAC,EAAE,QAAQ,CAAC,CAAC0a,KAAK,CAAC,CAAC;EACpC,CAAC,MAAM,IAAIsE,SAAS,CAACiH,UAAU,EAAEjH,SAAS,CAACiH,UAAU,CAAC1mB,CAAC,EAAEpK,CAAC,CAAC,CAAC,KAAM;IAC9D,IAAI8K,CAAC,GAAG5K,QAAQ,CAAC0mB,aAAa,CAAC,GAAG,CAAC;IACnC,IAAI,KAAK,CAAC,KAAK9b,CAAC,CAACimB,QAAQ,EAAE;MACvBlmB,CAAC,GAAG+lB,GAAG,CAACC,eAAe,CAACzmB,CAAC,CAAC;MAC1BU,CAAC,CAACgE,YAAY,CAAC,MAAM,EAAEjE,CAAC,CAAC;MACzB,IAAIG,CAAC,GAAGhL,CAAC;MACTgL,CAAC,CAACwP,WAAW,CAAC,CAAC,CAACwW,QAAQ,CAAC1vB,CAAC,CAACkZ,WAAW,CAAC,CAAC,CAAC,KAAKxP,CAAC,GAAGA,CAAC,GAAG,GAAG,GAAG1J,CAAC,CAAC,EAAEwJ,CAAC,CAACgE,YAAY,CAAC,UAAU,EAAE9D,CAAC,CAAC,EAAEF,CAAC,CAAC0D,KAAK,CAACyiB,UAAU,GAAG,QAAQ,EAAE/wB,QAAQ,CAACksB,IAAI,CAACvc,WAAW,CAAC/E,CAAC,CAAC,EAAEA,CAAC,CAACuhB,KAAK,CAAC,CAAC,EAAEnsB,QAAQ,CAACksB,IAAI,CAAC3f,WAAW,CAAC3B,CAAC,CAAC;IACvM;EACJ;AACJ,CAAC,EAACjL,UAAU,CAACqxB,YAAY,GAAG,UAAUpxB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;EAC9C,IAAIC,CAAC,GAAG;IAACoO,CAAC,EAAE3P,CAAC,CAAC2P,CAAC;IAAEtC,CAAC,EAAErN,CAAC,CAACqN;EAAC,CAAC;EACxB,IAAI,IAAI,IAAIpN,CAAC,KAAKsB,CAAC,CAACoO,CAAC,GAAG1P,CAAC,CAAC,EAAE,IAAI,IAAIqB,CAAC,KAAKC,CAAC,CAAC8L,CAAC,GAAGpN,CAAC,CAAC,EAAEF,CAAC,IAAI,CAAC,IAAIA,CAAC,CAACuL,MAAM,EAAE;IACpE,IAAIjB,CAAC,GAAGtK,CAAC,CAAC,CAAC,CAAC,CAACuV,OAAO,CAACtV,CAAC,CAAC0L,EAAE,CAAC;IAC1B,CAAC,CAAC,IAAIrB,CAAC,IAAI,IAAI,IAAItK,CAAC,CAAC,CAAC,CAAC,CAACsK,CAAC,CAAC,CAACsQ,SAAS,KAAK,IAAI,IAAI1a,CAAC,KAAKsB,CAAC,CAACoO,CAAC,GAAG5P,CAAC,CAAC,CAAC,CAAC,CAACsK,CAAC,CAAC,CAACsQ,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,IAAIrZ,CAAC,KAAKC,CAAC,CAAC8L,CAAC,GAAGtN,CAAC,CAAC,CAAC,CAAC,CAACsK,CAAC,CAAC,CAACsQ,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;EAClI;EACA,OAAOpZ,CAAC;AACZ,CAAC,EAACzB,UAAU,CAACsxB,WAAW,GAAG,UAAUrxB,CAAC,EAAEC,CAAC,EAAE;EACvC,IAAIC,CAAC,GAAG,CAAC;EACT,IAAIF,CAAC,IAAI,CAAC,IAAIA,CAAC,CAACuL,MAAM,EAAE;IACpB,IAAIhK,CAAC,GAAGvB,CAAC,CAAC,CAAC,CAAC,CAACuV,OAAO,CAACtV,CAAC,CAAC0L,EAAE,CAAC;IAC1B,CAAC,CAAC,IAAIpK,CAAC,IAAI,IAAI,IAAIvB,CAAC,CAAC,CAAC,CAAC,CAACuB,CAAC,CAAC,CAACyO,OAAO,KAAK9P,CAAC,GAAGF,CAAC,CAAC,CAAC,CAAC,CAACuB,CAAC,CAAC,CAACyO,OAAO,CAAC;EAC/D;EACA,OAAO9P,CAAC;AACZ,CAAC,EAACH,UAAU,CAACE,CAAC,GAAG,UAAUD,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EAChC,IAAIqB,CAAC,GAAGxB,UAAU,CAACuxB,SAAS,CAACtxB,CAAC,CAAC;EAC/B,IAAI,IAAIuB,CAAC,IAAIiN,OAAO,CAACC,KAAK,CAAE,aAAYzO,CAAE,mBAAkB,CAAC;EAC7D,IAAIwB,CAAC,GAAG,IAAI;EACZ,IAAI,IAAI,IAAItB,CAAC,IAAIqB,CAAC,CAACgwB,aAAa,EAAE;IAC9B,IAAIjnB,CAAC,GAAG,EAAE;IACV,KAAK,IAAIS,CAAC,IAAIxJ,CAAC,CAACgwB,aAAa,EAAE;MAC3B,IAAIvmB,CAAC,GAAGmlB,UAAU,CAACplB,CAAC,CAAC;MACrB7K,CAAC,GAAG8K,CAAC,IAAIV,CAAC,CAAC8I,IAAI,CAACpI,CAAC,CAAC;IACtB;IACA,IAAIV,CAAC,CAACiB,MAAM,GAAG,CAAC,EAAE;MACdjB,CAAC,CAACgL,IAAI,CAAE,UAAUtV,CAAC,EAAEC,CAAC,EAAE;QACpB,OAAOD,CAAC,GAAGC,CAAC;MAChB,CAAE,CAAC;MACH,IAAIiL,CAAC,GAAG3J,CAAC,CAACgwB,aAAa,CAACjnB,CAAC,CAAC,CAAC,CAAC,CAAC;MAC7B,KAAK,IAAIa,CAAC,IAAID,CAAC,EAAE,IAAI,IAAI1J,CAAC,KAAKA,CAAC,GAAGuM,MAAM,CAACud,MAAM,CAAC,CAAC,CAAC,EAAE/pB,CAAC,CAAC,CAAC,EAAEC,CAAC,CAAC2J,CAAC,CAAC,GAAGD,CAAC,CAACC,CAAC,CAAC;IACzE;EACJ;EACA,OAAOlL,CAAC,GAAG,IAAI,IAAIuB,CAAC,GAAGD,CAAC,CAAC4E,GAAG,GAAG5E,CAAC,CAAC4E,GAAG,GAAG5E,CAAC,GAAGC,CAAC,CAAC2E,GAAG,GAAG3E,CAAC,CAAC2E,GAAG,GAAG3E,CAAC,GAAG,IAAI,IAAIA,CAAC,GAAGD,CAAC,GAAGC,CAAC;AACpF,CAAC,EAACzB,UAAU,CAACyxB,WAAW,GAAG,UAAUxxB,CAAC,EAAE;EACpC,IAAIC,CAAC,GAAGF,UAAU,CAACE,CAAC,CAACD,CAAC,CAAC0P,YAAY,EAAE1P,CAAC,CAACmG,GAAG,CAAC;EAC3CnG,CAAC,CAACqP,CAAC,GAAGpP,CAAC,IAAIA,CAAC,CAACwxB,IAAI,GAAGxxB,CAAC,CAACwxB,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,EAAEzxB,CAAC,CAACuM,CAAC,GAAGtM,CAAC,IAAIA,CAAC,CAACwxB,IAAI,GAAGxxB,CAAC,CAACwxB,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC;AACxE,CAAC,EAAC1xB,UAAU,CAAC2xB,YAAY,GAAG,UAAU1xB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;EAC9C,IAAIC,CAAC,GAAGxB,CAAC,CAACoS,oBAAoB,CAACnS,CAAC,CAAC;IAAEqK,CAAC,GAAG9I,CAAC,CAAC+J,MAAM;EAC/C,CAAC,IAAIjB,CAAC,IAAI/I,CAAC,CAAC,CAAC;EACb,KAAK,IAAIwJ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGT,CAAC,EAAES,CAAC,EAAE,EAAE,CAAC,YAAY;IACrC,IAAI/K,CAAC,GAAG+K,CAAC;MAAE9K,CAAC,GAAGuB,CAAC,CAACxB,CAAC,CAAC;IACnBD,UAAU,CAAC4xB,WAAW,CAAC1xB,CAAC,CAAC0a,YAAY,CAACza,CAAC,CAAC,EAAG,UAAUsB,CAAC,EAAE;MACpDA,CAAC,CAACowB,OAAO,IAAI3xB,CAAC,CAAC+O,YAAY,CAAC9O,CAAC,EAAEsB,CAAC,CAAC4oB,MAAM,CAAC,EAAEpqB,CAAC,IAAIsK,CAAC,GAAG,CAAC,IAAI/I,CAAC,CAAC,CAAC;IAC/D,CAAE,CAAC;EACP,CAAC,CAAC,CAAC;AACP,CAAC,EAACxB,UAAU,CAAC4xB,WAAW,GAAG,UAAU3xB,CAAC,EAAEC,CAAC,EAAE;EACvC,IAAI,CAAC,CAAC,IAAID,CAAC,CAACuV,OAAO,CAAC,QAAQ,CAAC,EAAEtV,CAAC,CAAC;IAAC2xB,OAAO,EAAE,CAAC;EAAC,CAAC,CAAC,CAAC,KAAM;IAClD,IAAI1xB,CAAC,GAAG,IAAI4Z,cAAc,CAAD,CAAC;IAC1B5Z,CAAC,CAACka,IAAI,CAAC,KAAK,EAAEpa,CAAC,CAAC,EAAEE,CAAC,CAACma,YAAY,GAAG,MAAM,EAAEna,CAAC,CAAC6Z,MAAM,GAAG,YAAY;MAC9D,GAAG,KAAK7Z,CAAC,CAAC+Z,MAAM,GAAG1Y,CAAC,CAACswB,aAAa,CAAC3xB,CAAC,CAAC+C,QAAQ,CAAC,GAAG,GAAG,KAAK/C,CAAC,CAAC+Z,MAAM,IAAIha,CAAC,CAAC;QAAC2xB,OAAO,EAAE,CAAC,CAAC;QAAExH,MAAM,EAAElqB,CAAC,CAAC+Z;MAAM,CAAC,CAAC;IAC3G,CAAC;IACD,IAAI1Y,CAAC,GAAG,IAAIuwB,UAAU,CAAD,CAAC;IACtBvwB,CAAC,CAACwwB,SAAS,GAAG,YAAY;MACtB9xB,CAAC,CAAC;QAAC2xB,OAAO,EAAE,CAAC,CAAC;QAAExH,MAAM,EAAE7oB,CAAC,CAAC6oB;MAAM,CAAC,CAAC;IACtC,CAAC,EAAElqB,CAAC,CAACqa,IAAI,CAAC,CAAC;EACf;AACJ,CAAC,EAACxa,UAAU,CAACiyB,qBAAqB,GAAG,UAAUhyB,CAAC,EAAEC,CAAC,EAAE;EACjD,OAAO,CAAC,CAAC,IAAIF,UAAU,CAACyjB,YAAY,CAACjO,OAAO,CAACvV,CAAC,CAAC,GAAGD,UAAU,CAACgS,KAAK,CAAC9R,CAAC,CAAC,GAAG,EAAE,GAAGA,CAAC,CAAC8rB,KAAK,CAAC,GAAG,CAAC,GAAG9rB,CAAC;AACjG,CAAC,EAACF,UAAU,CAACkyB,qBAAqB,GAAG,UAAUjyB,CAAC,EAAE;EAC9C,OAAO,CAACD,UAAU,CAACgS,KAAK,CAAC/R,CAAC,CAAC,IAAI6V,KAAK,CAACC,OAAO,CAAC9V,CAAC,CAAC,GAAGA,CAAC,CAACuT,IAAI,CAAC,CAAC,GAAGvT,CAAC;AAClE,CAAC,EAACD,UAAU,CAACmyB,WAAW,GAAG,UAAUlyB,CAAC,EAAEC,CAAC,EAAE;EACvCA,CAAC,GAAGA,CAAC,IAAIF,UAAU,CAAC0jB,aAAa;EACjC,KAAK,IAAIvjB,CAAC,GAAG,IAAIiyB,MAAM,CAAC,KAAK,GAAGlyB,CAAC,GAAG,gDAAgD,GAAGA,CAAC,GAAG,YAAY,EAAE,IAAI,CAAC,EAAEsB,CAAC,GAAG,CAAC,EAAE,CAAC,EAAEC,CAAC,GAAG,IAAI,EAAEA,CAAC,GAAGtB,CAAC,CAACkyB,IAAI,CAACpyB,CAAC,CAAC,GAAG;IAChJ,IAAIsK,CAAC;MAAES,CAAC,GAAGvJ,CAAC,CAAC,CAAC,CAAC;IACfuJ,CAAC,CAACQ,MAAM,IAAIR,CAAC,KAAK9K,CAAC,IAAIsB,CAAC,CAAC6R,IAAI,CAAC,EAAE,CAAC,EAAE9I,CAAC,GAAG9I,CAAC,CAAC,CAAC,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAC,CAACkX,OAAO,CAAC,IAAIyZ,MAAM,CAAC,IAAI,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,GAAG3wB,CAAC,CAAC,CAAC,CAAC,EAAED,CAAC,CAACA,CAAC,CAACgK,MAAM,GAAG,CAAC,CAAC,CAAC6H,IAAI,CAAC9I,CAAC,CAAC;EAC1H;EACA,OAAO/I,CAAC;AACZ,CAAC,EAACxB,UAAU,CAACgK,SAAS,GAAG,UAAU/J,CAAC,EAAE;EAClC,KAAK,IAAIC,CAAC,GAAGG,QAAQ,CAACiyB,cAAc,CAACC,cAAc,CAAC,EAAE,EAAE,EAAE,EAAE,IAAI,CAAC,EAAEpyB,CAAC,GAAGD,CAAC,CAAC6mB,aAAa,CAAC,OAAO,CAAC,EAAEvlB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGvB,CAAC,CAACuL,MAAM,EAAEhK,CAAC,EAAE,EAAE;IACvH,IAAIC,CAAC,GAAGvB,CAAC,CAAC6mB,aAAa,CAAC,MAAM,CAAC;MAAExc,CAAC,GAAGtK,CAAC,CAACuB,CAAC,CAAC;IACzC,KAAK,IAAIwJ,CAAC,IAAIT,CAAC,EAAE;MACb,IAAIU,CAAC,GAAGV,CAAC,CAACS,CAAC,CAAC;MACZvJ,CAAC,CAACwN,YAAY,CAACjE,CAAC,EAAEhL,UAAU,CAACkyB,qBAAqB,CAACjnB,CAAC,CAAC,CAAC;IAC1D;IACA9K,CAAC,CAAC6P,WAAW,CAACvO,CAAC,CAAC;EACpB;EACA,OAAOvB,CAAC,CAAC8P,WAAW,CAAC7P,CAAC,CAAC,EAAE,yCAAyC,GAAI,IAAIwwB,aAAa,CAAD,CAAC,CAAEC,iBAAiB,CAAC1wB,CAAC,CAACsyB,eAAe,CAAC;AACjI,CAAC,EAACxyB,UAAU,CAAC8J,SAAS,GAAG,UAAU7J,CAAC,EAAE;EAClC,KAAK,IAAIC,CAAC,GAAI,IAAIuvB,SAAS,CAAD,CAAC,CAAEC,eAAe,CAACzvB,CAAC,EAAE,UAAU,CAAC,CAACoS,oBAAoB,CAAC,MAAM,CAAC,EAAElS,CAAC,GAAG,EAAE,EAAEqB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGtB,CAAC,CAACsL,MAAM,EAAEhK,CAAC,EAAE,EAAE;IACxH,KAAK,IAAIC,CAAC,GAAGvB,CAAC,CAACsB,CAAC,CAAC,EAAE+I,CAAC,GAAG,CAAC,CAAC,EAAES,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGvJ,CAAC,CAACgxB,UAAU,CAACjnB,MAAM,EAAER,CAAC,EAAE,EAAE;MAC5D,IAAIC,CAAC,GAAGxJ,CAAC,CAACgxB,UAAU,CAACznB,CAAC,CAAC;MACvBT,CAAC,CAACU,CAAC,CAAC+a,IAAI,CAAC,GAAGhmB,UAAU,CAACiyB,qBAAqB,CAAChnB,CAAC,CAAC+a,IAAI,EAAE/a,CAAC,CAAC2a,KAAK,CAAC;IACjE;IACAzlB,CAAC,CAACkT,IAAI,CAAC9I,CAAC,CAAC;EACb;EACA,OAAOpK,CAAC;AACZ,CAAC,EAACH,UAAU,CAAC0yB,iBAAiB,GAAG,UAAUzyB,CAAC,EAAE;EAC1C,OAAOD,UAAU,CAAC2yB,SAAS,CAAC1yB,CAAC,CAAC;AAClC,CAAC,EAACD,UAAU,CAAC2yB,SAAS,GAAG,UAAU1yB,CAAC,EAAE;EAClC,KAAK,IAAIC,CAAC,GAAG,EAAE,EAAEC,CAAC,GAAG,SAAAA,CAAUF,CAAC,EAAE;MAC9B,KAAK,IAAIE,CAAC,GAAG,EAAE,EAAEqB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGtB,CAAC,CAACsL,MAAM,EAAEhK,CAAC,EAAE,EAAE;QACvC,IAAIC,CAAC;QACL,CAACA,CAAC,GAAG,WAAW,IAAIvB,CAAC,CAACsB,CAAC,CAAC,GAAG,IAAI,GAAG,IAAI,IAAIvB,CAAC,CAACC,CAAC,CAACsB,CAAC,CAAC,CAAC,GAAG,EAAE,GAAGvB,CAAC,CAACC,CAAC,CAACsB,CAAC,CAAC,CAAC,aAAa4U,IAAI,KAAK3U,CAAC,GAAGA,CAAC,CAACmxB,cAAc,CAAC,CAAC,CAAC;QAC7G,IAAIroB,CAAC,GAAG,CAAC9I,CAAC,GAAG,IAAI,KAAKA,CAAC,GAAG,EAAE,GAAGA,CAAC,CAACyN,QAAQ,CAAC,CAAC,EAAEyJ,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC;UAAE3N,CAAC,GAAG,IAAIonB,MAAM,CAAC,UAAU,EAAE,GAAG,CAAC;QACjG7nB,CAAC,CAACwH,MAAM,CAAC/G,CAAC,CAAC,IAAI,CAAC,KAAKT,CAAC,GAAG,GAAG,GAAGA,CAAC,GAAG,GAAG,CAAC,EAAE/I,CAAC,GAAG,CAAC,KAAKrB,CAAC,IAAIH,UAAU,CAAC0jB,aAAa,CAAC,EAAEvjB,CAAC,IAAIoK,CAAC;MAC7F;MACA,OAAOpK,CAAC,GAAG,IAAI;IACnB,CAAC,EAAEqB,CAAC,GAAG,EAAE,EAAEC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGxB,CAAC,CAACuL,MAAM,EAAE/J,CAAC,EAAE,EAAE,KAAK,IAAI8I,CAAC,IAAItK,CAAC,CAACwB,CAAC,CAAC,EAAEzB,UAAU,CAAC0a,cAAc,CAACxa,CAAC,EAAEqK,CAAC,CAAC,KAAKrK,CAAC,CAACmT,IAAI,CAAC9I,CAAC,CAAC,EAAE/I,CAAC,IAAI+I,CAAC,GAAGvK,UAAU,CAAC0jB,aAAa,CAAC;EAC1IliB,CAAC,GAAGA,CAAC,CAACoX,SAAS,CAAC,CAAC,EAAEpX,CAAC,CAACgK,MAAM,GAAG,CAAC,CAAC,EAAEhK,CAAC,IAAI,IAAI;EAC3C,KAAKC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGxB,CAAC,CAACuL,MAAM,EAAE/J,CAAC,EAAE,EAAED,CAAC,IAAIrB,CAAC,CAACF,CAAC,CAACwB,CAAC,CAAC,CAAC;EAC3C,OAAOD,CAAC,GAAGA,CAAC,CAACoX,SAAS,CAAC,CAAC,EAAEpX,CAAC,CAACgK,MAAM,GAAG,CAAC,CAAC;AAC3C,CAAC,EAACxL,UAAU,CAAC6yB,UAAU,GAAG,UAAU5yB,CAAC,EAAE;EACnC,OAAO,CAACA,CAAC,GAAGA,CAAC,CAACiP,QAAQ,CAAC,CAAC,CAACyL,WAAW,CAAC,CAAC,EAAEhC,OAAO,CAAC,iFAAiF,EAAG,UAAU1Y,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAES,CAAC,EAAEC,CAAC,EAAEE,CAAC,EAAEC,CAAC,EAAEG,CAAC,EAAE;IAC3K,OAAOrL,CAAC,GAAG,GAAG,GAAGC,CAAC,GAAG,GAAG,GAAGqB,CAAC,GAAG,GAAG,GAAGC,CAAC,GAAG,GAAG,GAAG8I,CAAC,GAAG,GAAG,GAAGS,CAAC,GAAG,GAAG,GAAGC,CAAC,GAAG,GAAG,GAAGE,CAAC,GAAG,GAAG,GAAGC,CAAC,GAAG,GAAG,GAAGG,CAAC,GAAG,IAAI,GAAG,KAAK,CAAC;EACtH,CAAE,CAAC;AACP,CAAC,EAACvL,UAAU,CAAC8yB,IAAI,GAAG,UAAU7yB,CAAC,EAAE;EAC7B,IAAI,IAAI,KAAKA,CAAC,IAAI,QAAQ,IAAI,OAAOA,CAAC,IAAI,eAAe,IAAIA,CAAC,EAAE,OAAOA,CAAC;EACxE,IAAIA,CAAC,YAAYmW,IAAI,EAAE,IAAIlW,CAAC,GAAG,IAAID,CAAC,CAAC8yB,WAAW,CAAD,CAAC,CAAC,KAAM7yB,CAAC,GAAGD,CAAC,CAAC8yB,WAAW,CAAC,CAAC;EAC1E,KAAK,IAAI5yB,CAAC,IAAIF,CAAC,EAAE+N,MAAM,CAACrE,SAAS,CAACoK,cAAc,CAACyJ,IAAI,CAACvd,CAAC,EAAEE,CAAC,CAAC,KAAKF,CAAC,CAAC+yB,aAAa,GAAG,IAAI,EAAE9yB,CAAC,CAACC,CAAC,CAAC,GAAGH,UAAU,CAAC8yB,IAAI,CAAC7yB,CAAC,CAACE,CAAC,CAAC,CAAC,EAAE,OAAOF,CAAC,CAAC+yB,aAAa,CAAC;EAC7I,OAAO9yB,CAAC;AACZ,CAAC,EAACF,UAAU,CAACizB,qBAAqB,GAAG,YAAY;EAC7C,IAAIhzB,CAAC,GAAGD,UAAU,CAAC8pB,QAAQ,CAAC,CAAC;EAC7B,OAAO7pB,CAAC,CAAC8pB,IAAI,IAAI/pB,UAAU,CAAC6f,MAAM,CAACqT,EAAE,GAAGlzB,UAAU,CAAC6f,MAAM,CAACqT,EAAE,GAAGjzB,CAAC,CAACgvB,IAAI,IAAIjvB,UAAU,CAAC6f,MAAM,CAACoP,IAAI,GAAGjvB,UAAU,CAAC6f,MAAM,CAACoP,IAAI,GAAGhvB,CAAC,CAACkgB,MAAM,IAAIngB,UAAU,CAAC6f,MAAM,CAACM,MAAM,GAAGngB,UAAU,CAAC6f,MAAM,CAACM,MAAM,GAAGlgB,CAAC,CAAC4uB,MAAM,IAAI7uB,UAAU,CAAC6f,MAAM,CAACgP,MAAM,GAAG7uB,UAAU,CAAC6f,MAAM,CAACgP,MAAM,GAAG5uB,CAAC,CAAC+uB,OAAO,IAAIhvB,UAAU,CAAC6f,MAAM,CAACmP,OAAO,GAAGhvB,UAAU,CAAC6f,MAAM,CAACmP,OAAO,GAAG/uB,CAAC,CAACquB,KAAK,IAAItuB,UAAU,CAAC6f,MAAM,CAACyO,KAAK,GAAGtuB,UAAU,CAAC6f,MAAM,CAACyO,KAAK,GAAG;IAC/XnmB,MAAM,EAAEnI,UAAU,CAAC6f,MAAM,CAAC1X,MAAM;IAChCD,KAAK,EAAElI,UAAU,CAAC6f,MAAM,CAAC3X;EAC7B,CAAC;AACL,CAAC,EAAClI,UAAU,CAAC0c,QAAQ,GAAG,YAAY;EAChC,OAAO,gEAAgE,CAAC8R,IAAI,CAACxE,SAAS,CAACC,SAAS,CAAC;AACrG,CAAC,EAACjqB,UAAU,CAACmzB,OAAO,GAAG,YAAY;EAC/B,OAAO,KAAK,CAAC,KAAKnzB,UAAU,CAACozB,MAAM;AACvC,CAAC,EAACpzB,UAAU,CAACqzB,aAAa,GAAG,UAAUpzB,CAAC,EAAEC,CAAC,EAAE;EACzC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEqB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGtB,CAAC,CAACiT,WAAW,CAAC3H,MAAM,EAAEhK,CAAC,EAAE,EAAE;IAClDvB,CAAC,CAACuE,KAAK,CAACtE,CAAC,CAACiT,WAAW,CAAC3R,CAAC,CAAC,CAAC,IAAIrB,CAAC,EAAE;EACpC;EACA,OAAOA,CAAC;AACZ,CAAC,EAACH,UAAU,CAACszB,kBAAkB,GAAG,UAAUrzB,CAAC,EAAEC,CAAC,EAAE;EAC9C,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEqB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGtB,CAAC,CAACiT,WAAW,CAAC3H,MAAM,EAAEhK,CAAC,EAAE,EAAE;IAClD,IAAIC,CAAC,GAAGxB,CAAC,CAACuE,KAAK,CAACtE,CAAC,CAACiT,WAAW,CAAC3R,CAAC,CAAC,CAAC;IACjCC,CAAC,KAAKtB,CAAC,EAAE,EAAEA,CAAC,IAAIH,UAAU,CAACszB,kBAAkB,CAACrzB,CAAC,EAAEwB,CAAC,CAAC,CAAC;EACxD;EACA,OAAOtB,CAAC;AACZ,CAAC,EAACH,UAAU,CAACuzB,sBAAsB,GAAG,UAAUtzB,CAAC,EAAEC,CAAC,EAAE;EAClD,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEqB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGtB,CAAC,CAACiT,WAAW,CAAC3H,MAAM,EAAEhK,CAAC,EAAE,EAAE;IAClD,IAAIC,CAAC,GAAGxB,CAAC,CAACuE,KAAK,CAACtE,CAAC,CAACiT,WAAW,CAAC3R,CAAC,CAAC,CAAC;IACjCC,CAAC,IAAI,CAAC,CAAC,KAAKA,CAAC,CAAC2R,SAAS,IAAIjT,CAAC,EAAE;EAClC;EACA,OAAOA,CAAC;AACZ,CAAC,EAACH,UAAU,CAACwzB,2BAA2B,GAAG,UAAUvzB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EAC1D,KAAK,IAAIqB,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGvB,CAAC,CAACiT,WAAW,CAAC3H,MAAM,EAAE/J,CAAC,EAAE,EAAE;IAClD,IAAI8I,CAAC,GAAGtK,CAAC,CAACuE,KAAK,CAACtE,CAAC,CAACiT,WAAW,CAAC1R,CAAC,CAAC,CAAC;IACjC8I,CAAC,KAAK,CAACpK,CAAC,IAAI,CAAC,CAAC,KAAKoK,CAAC,CAAC6I,SAAS,KAAK5R,CAAC,EAAE,EAAEA,CAAC,IAAIxB,UAAU,CAACwzB,2BAA2B,CAACvzB,CAAC,EAAEsK,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EAClG;EACA,OAAO/I,CAAC;AACZ,CAAC,EAACxB,UAAU,CAACyzB,YAAY,GAAG,UAAUxzB,CAAC,EAAEC,CAAC,EAAE;EACxC,CAAC,IAAI,IAAIA,CAAC,CAACmO,IAAI,IAAI,IAAI,IAAIpO,CAAC,CAAC4P,CAAC,IAAI5P,CAAC,CAAC4P,CAAC,GAAG3P,CAAC,CAACmO,IAAI,MAAMnO,CAAC,CAACmO,IAAI,GAAGpO,CAAC,CAAC4P,CAAC,CAAC,EAAE,CAAC,IAAI,IAAI3P,CAAC,CAACsO,IAAI,IAAI,IAAI,IAAIvO,CAAC,CAACsN,CAAC,IAAItN,CAAC,CAACsN,CAAC,GAAGrN,CAAC,CAACsO,IAAI,MAAMtO,CAAC,CAACsO,IAAI,GAAGvO,CAAC,CAACsN,CAAC,CAAC,EAAE,CAAC,IAAI,IAAIrN,CAAC,CAACkO,IAAI,IAAI,IAAI,IAAInO,CAAC,CAAC4P,CAAC,IAAI5P,CAAC,CAAC4P,CAAC,GAAG5P,CAAC,CAACqP,CAAC,GAAGpP,CAAC,CAACkO,IAAI,MAAMlO,CAAC,CAACkO,IAAI,GAAGnO,CAAC,CAAC4P,CAAC,GAAG5P,CAAC,CAACqP,CAAC,CAAC,EAAE,CAAC,IAAI,IAAIpP,CAAC,CAACqO,IAAI,IAAI,IAAI,IAAItO,CAAC,CAACsN,CAAC,IAAItN,CAAC,CAACsN,CAAC,GAAGtN,CAAC,CAACuM,CAAC,GAAGtM,CAAC,CAACqO,IAAI,MAAMrO,CAAC,CAACqO,IAAI,GAAGtO,CAAC,CAACsN,CAAC,GAAGtN,CAAC,CAACuM,CAAC,CAAC;AACtS,CAAC,EAACxM,UAAU,CAAC0zB,gBAAgB,GAAG,UAAUzzB,CAAC,EAAEC,CAAC,EAAE;EAC5C,KAAKA,CAAC,KAAKA,CAAC,GAAG,EAAE,CAAC,EAAED,CAAC,CAAC+S,MAAM,GAAG/S,CAAC,GAAGA,CAAC,CAAC+S,MAAM;EAC3C,OAAO/S,CAAC,CAACgT,QAAQ,KAAK/S,CAAC,CAACmT,IAAI,CAACpT,CAAC,CAACgT,QAAQ,CAAC,EAAEjT,UAAU,CAAC0zB,gBAAgB,CAACzzB,CAAC,CAACgT,QAAQ,EAAE/S,CAAC,CAAC,CAAC,EAAEA,CAAC;AAC5F,CAAC,EAACF,UAAU,CAAC2zB,SAAS,GAAG,UAAU1zB,CAAC,EAAE;EAClC,OAAOA,CAAC,IAAIA,CAAC,CAAC+S,MAAM,GAAG/S,CAAC,GAAGA,CAAC,CAAC+S,MAAM;EACnC,OAAO/S,CAAC;AACZ,CAAC,EAACD,UAAU,CAACgP,WAAW,GAAG,UAAU/O,CAAC,EAAE;EACpC,IAAIC,CAAC,GAAG,IAAI;EACZ,OAAOD,CAAC,IAAIC,CAAC,GAAG,CAACA,CAAC,GAAG,GAAG,IAAIA,CAAC,GAAGD,CAAC,CAAC2a,YAAY,CAAC,SAAS,CAAC,CAAC,GAAG,GAAG,EAAEjC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,EAAEzY,CAAC,GAAG2Y,IAAI,CAACC,KAAK,CAAC5Y,CAAC,CAAC,IAAI,IAAI;AACpH,CAAC,EAACF,UAAU,CAACgS,KAAK,GAAG,UAAU/R,CAAC,EAAE;EAC9B,OAAO,IAAI,IAAIA,CAAC,IAAI,EAAE,KAAKA,CAAC;AAChC,CAAC,EAACD,UAAU,CAAC4zB,qBAAqB,GAAG,UAAU3zB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;EACvD,SAASC,CAACA,CAACxB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;IACnB,IAAIC,CAAC,GAAG,CAACD,CAAC,GAAG,EAAE,IAAIoS,IAAI,CAAC2H,EAAE,GAAG,GAAG;IAChC,OAAO;MAAC1L,CAAC,EAAE5P,CAAC,GAAGE,CAAC,GAAGyT,IAAI,CAAC0H,GAAG,CAAC7Z,CAAC,CAAC;MAAE8L,CAAC,EAAErN,CAAC,GAAGC,CAAC,GAAGyT,IAAI,CAAC6H,GAAG,CAACha,CAAC;IAAC,CAAC;EAC3D;EAEA,SAAS8I,CAACA,CAACtK,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE+I,CAAC,EAAE;IACtB,IAAIS,CAAC,GAAGvJ,CAAC,CAACxB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEoK,CAAC,CAAC;MAAEU,CAAC,GAAGxJ,CAAC,CAACxB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,CAAC;MAAE2J,CAAC,GAAGZ,CAAC,GAAG/I,CAAC,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG;IACtE,OAAO,CAAC,GAAG,EAAEwJ,CAAC,CAAC6E,CAAC,EAAE7E,CAAC,CAACuC,CAAC,EAAE,GAAG,EAAEpN,CAAC,EAAEA,CAAC,EAAE,CAAC,EAAEgL,CAAC,EAAE,CAAC,EAAEF,CAAC,CAAC4E,CAAC,EAAE5E,CAAC,CAACsC,CAAC,CAAC,CAACiG,IAAI,CAAC,GAAG,CAAC;EAClE;EAEA,OAAOsC,KAAK,CAACC,OAAO,CAAC7V,CAAC,CAAC,KAAKA,CAAC,GAAG,CAACA,CAAC,EAAEA,CAAC,EAAEA,CAAC,EAAEA,CAAC,EAAEA,CAAC,EAAEA,CAAC,CAAC,CAAC,EAAG,uBAAsBD,CAAE,2FAA0FC,CAAC,CAAC,CAAC,CAAE,0DAAyDA,CAAC,CAAC,CAAC,CAAE,qEAAoED,CAAE,+FAA8FC,CAAC,CAAC,CAAC,CAAE,0DAAyDA,CAAC,CAAC,CAAC,CAAE,qEAAoED,CAAE,2FAA0FC,CAAC,CAAC,CAAC,CAAE,0DAAyDA,CAAC,CAAC,CAAC,CAAE,qEAAoED,CAAE,2FAA0FC,CAAC,CAAC,CAAC,CAAE,0DAAyDA,CAAC,CAAC,CAAC,CAAE,qEAAoED,CAAE,+FAA8FC,CAAC,CAAC,CAAC,CAAE,0DAAyDA,CAAC,CAAC,CAAC,CAAE,qEAAoED,CAAE,2FAA0FC,CAAC,CAAC,CAAC,CAAE,0DAAyDA,CAAC,CAAC,CAAC,CAAE,gEAA+DD,CAAE,uCAAsCuB,CAAE,8BAA6BvB,CAAE,uBAAsBsK,CAAC,CAACpK,CAAC,EAAEA,CAAC,EAAEA,CAAC,EAAE,CAAC,EAAE,EAAE,CAAE,0CAAyCqB,CAAE,8BAA6BvB,CAAE,uBAAsBsK,CAAC,CAACpK,CAAC,EAAEA,CAAC,EAAEA,CAAC,EAAE,EAAE,EAAE,GAAG,CAAE,wCAAuCqB,CAAE,8BAA6BvB,CAAE,uBAAsBsK,CAAC,CAACpK,CAAC,EAAEA,CAAC,EAAEA,CAAC,EAAE,GAAG,EAAE,GAAG,CAAE,yCAAwCqB,CAAE,8BAA6BvB,CAAE,uBAAsBsK,CAAC,CAACpK,CAAC,EAAEA,CAAC,EAAEA,CAAC,EAAE,GAAG,EAAE,GAAG,CAAE,yCAAwCqB,CAAE,8BAA6BvB,CAAE,uBAAsBsK,CAAC,CAACpK,CAAC,EAAEA,CAAC,EAAEA,CAAC,EAAE,GAAG,EAAE,GAAG,CAAE,yCAAwCqB,CAAE,8BAA6BvB,CAAE,uBAAsBsK,CAAC,CAACpK,CAAC,EAAEA,CAAC,EAAEA,CAAC,EAAE,GAAG,EAAE,CAAC,CAAE,mBAAkB;AACzmE,CAAC,EAACH,UAAU,CAAC0E,qBAAqB,GAAG,UAAUzE,CAAC,EAAEC,CAAC,EAAE;EACjD,UAAU,IAAI,OAAO2zB,oBAAoB,GAAG,IAAIA,oBAAoB,CAAE,UAAU5zB,CAAC,EAAEE,CAAC,EAAE;IAClFF,CAAC,CAAC6zB,OAAO,CAAE,UAAU7zB,CAAC,EAAE;MACpB,IAAIE,CAAC,GAAGF,CAAC,CAAC8zB,iBAAiB,GAAG,CAAC;MAC/B,CAAC,IAAI9zB,CAAC,CAAC8zB,iBAAiB,KAAK5zB,CAAC,GAAGF,CAAC,CAAC+zB,cAAc,CAAC,EAAE9zB,CAAC,CAACC,CAAC,CAAC;IAC5D,CAAE,CAAC;EACP,CAAE,CAAC,CAAC8zB,OAAO,CAACh0B,CAAC,CAAC,GAAGC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1B,CAAC,EAACF,UAAU,CAACk0B,iBAAiB,GAAG,UAAUj0B,CAAC,EAAE;EAC1C,KAAK,IAAIC,CAAC,GAAGF,UAAU,CAACmyB,WAAW,CAAClyB,CAAC,CAAC,EAAEE,CAAC,GAAGD,CAAC,CAAC,CAAC,CAAC,EAAEsB,CAAC,GAAG,EAAE,EAAEC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGvB,CAAC,CAACsL,MAAM,EAAE/J,CAAC,EAAE,EAAE;IAChF,KAAK,IAAI8I,CAAC,GAAG,CAAC,CAAC,EAAES,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG9K,CAAC,CAACuB,CAAC,CAAC,CAAC+J,MAAM,EAAER,CAAC,EAAE,EAAE;MAC1C,IAAIC,CAAC,GAAG9K,CAAC,CAAC6K,CAAC,CAAC;QAAEG,CAAC,GAAGjL,CAAC,CAACuB,CAAC,CAAC,CAACuJ,CAAC,CAAC;MACzBT,CAAC,CAACpK,CAAC,CAAC6K,CAAC,CAAC,CAAC,GAAGhL,UAAU,CAACiyB,qBAAqB,CAAChnB,CAAC,EAAEE,CAAC,CAAC;IACpD;IACA,EAAE,IAAIZ,CAAC,CAACqB,EAAE,CAACuoB,IAAI,CAAC,CAAC,IAAI3yB,CAAC,CAAC6R,IAAI,CAAC9I,CAAC,CAAC;EAClC;EACA,OAAO/I,CAAC;AACZ,CAAC,EAACxB,UAAU,CAACiwB,WAAW,GAAG,UAAUhwB,CAAC,EAAE;EACpC,OAAOD,UAAU,CAAC4jB,WAAW,IAAI,QAAQ,IAAI,OAAO3jB,CAAC,GAAGA,CAAC,CAAC0Y,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,CAACA,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC,CAACA,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC,CAACA,OAAO,CAAC,IAAI,EAAE,QAAQ,CAAC,CAACA,OAAO,CAAC,IAAI,EAAE,QAAQ,CAAC,GAAG1Y,CAAC;AACpL,CAAC,EAACD,UAAU,CAAC6lB,mBAAmB,GAAG,UAAU5lB,CAAC,EAAE;EAC5C,OAAO,QAAQ,IAAI,OAAOA,CAAC,GAAGA,CAAC,CAAC0Y,OAAO,CAAC,IAAI,EAAE,QAAQ,CAAC,GAAG1Y,CAAC;AAC/D,CAAC,EAACD,UAAU,CAACqnB,sBAAsB,GAAG,UAAUpnB,CAAC,EAAE;EAC/C,OAAO,QAAQ,IAAI,OAAOA,CAAC,GAAGA,CAAC,CAAC0Y,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC,CAACA,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC,GAAG1Y,CAAC;AACnF,CAAC,EAACD,UAAU,CAACo0B,gBAAgB,GAAG,UAAUn0B,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EAC/C,SAASqB,CAACA,CAACvB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;IAChB,IAAIqB,CAAC,GAAGtB,CAAC,CAAC2P,CAAC,GAAG5P,CAAC,CAAC4P,CAAC;MAAEtF,CAAC,GAAGrK,CAAC,CAACqN,CAAC,GAAGtN,CAAC,CAACsN,CAAC;MAAEvC,CAAC,GAAG4I,IAAI,CAACmI,IAAI,CAACva,CAAC,GAAGA,CAAC,GAAG+I,CAAC,GAAGA,CAAC,CAAC;IAC9D,OAAO9I,CAAC,CAACxB,CAAC,EAAEC,CAAC,EAAE0T,IAAI,CAACxN,GAAG,CAAC,CAAC,EAAEjG,CAAC,GAAG6K,CAAC,CAAC,CAAC;EACtC;EAEA,SAASvJ,CAACA,CAACxB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;IAChB,OAAO;MAAC0P,CAAC,EAAE5P,CAAC,CAAC4P,CAAC,GAAG,CAAC3P,CAAC,CAAC2P,CAAC,GAAG5P,CAAC,CAAC4P,CAAC,IAAI1P,CAAC;MAAEoN,CAAC,EAAEtN,CAAC,CAACsN,CAAC,GAAG,CAACrN,CAAC,CAACqN,CAAC,GAAGtN,CAAC,CAACsN,CAAC,IAAIpN;IAAC,CAAC;EAC/D;EAEA,SAASoK,CAACA,CAACtK,CAAC,EAAEC,CAAC,EAAE;IACbD,CAAC,CAACuL,MAAM,GAAG,CAAC,KAAKvL,CAAC,CAACA,CAAC,CAACuL,MAAM,GAAG,CAAC,CAAC,GAAGtL,CAAC,CAAC2P,CAAC,EAAE5P,CAAC,CAACA,CAAC,CAACuL,MAAM,GAAG,CAAC,CAAC,GAAGtL,CAAC,CAACqN,CAAC,CAAC;EAClE;EAEA,SAASvC,CAACA,CAAC/K,CAAC,EAAE;IACV,OAAO;MAAC4P,CAAC,EAAEugB,UAAU,CAACnwB,CAAC,CAACA,CAAC,CAACuL,MAAM,GAAG,CAAC,CAAC,CAAC;MAAE+B,CAAC,EAAE6iB,UAAU,CAACnwB,CAAC,CAACA,CAAC,CAACuL,MAAM,GAAG,CAAC,CAAC;IAAC,CAAC;EAC3E;EAEAsK,KAAK,CAACC,OAAO,CAAC9V,CAAC,CAAC,KAAKA,CAAC,GAAG,CAACA,CAAC,GAAGA,CAAC,CAAC+rB,KAAK,CAAC,OAAO,CAAC,CAACqI,MAAM,CAAE,UAAUp0B,CAAC,EAAEC,CAAC,EAAE;IACnE,IAAIC,CAAC,GAAGD,CAAC,CAACsQ,KAAK,CAAC,gBAAgB,CAAC;IACjC,OAAOrQ,CAAC,IAAIF,CAAC,CAACoT,IAAI,CAAClT,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEF,CAAC,CAACoT,IAAI,CAAClT,CAAC,CAAC,CAAC,CAAC,CAAC,IAAIF,CAAC,CAACoT,IAAI,CAACnT,CAAC,CAAC,EAAED,CAAC;EAC1D,CAAC,EAAG,EAAE,CAAC,EAAEo0B,MAAM,CAAE,UAAUp0B,CAAC,EAAEC,CAAC,EAAE;IAC7B,OAAOkwB,UAAU,CAAClwB,CAAC,CAAC,IAAIA,CAAC,IAAID,CAAC,CAACuL,MAAM,GAAGvL,CAAC,CAACA,CAAC,CAACuL,MAAM,GAAG,CAAC,CAAC,CAAC6H,IAAI,CAACnT,CAAC,CAAC,GAAGD,CAAC,CAACoT,IAAI,CAAC,CAACnT,CAAC,CAAC,CAAC,EAAED,CAAC;EACpF,CAAC,EAAG,EAAE,CAAC,CAAC;EACR,IAAIgL,CAAC,GAAG,EAAE;EACV,IAAIhL,CAAC,CAACuL,MAAM,GAAG,CAAC,EAAE;IACd,IAAIL,CAAC,GAAGH,CAAC,CAAC/K,CAAC,CAAC,CAAC,CAAC,CAAC;MAAEmL,CAAC,GAAG,IAAI;IACzB,GAAG,IAAInL,CAAC,CAACA,CAAC,CAACuL,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAIvL,CAAC,CAAC,CAAC,CAAC,CAACuL,MAAM,GAAG,CAAC,KAAKJ,CAAC,GAAG,CAAC,GAAG,EAAED,CAAC,CAAC0E,CAAC,EAAE1E,CAAC,CAACoC,CAAC,CAAC,EAAEtN,CAAC,CAACA,CAAC,CAACuL,MAAM,GAAG,CAAC,CAAC,GAAGJ,CAAC,CAAC,EAAEH,CAAC,CAACoI,IAAI,CAACpT,CAAC,CAAC,CAAC,CAAC,CAAC;IACxG,KAAK,IAAIsL,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGtL,CAAC,CAACuL,MAAM,EAAED,CAAC,EAAE,EAAE;MAC/B,IAAIE,CAAC,GAAGR,CAAC,CAACA,CAAC,CAACO,MAAM,GAAG,CAAC,CAAC;QAAEE,CAAC,GAAGzL,CAAC,CAACsL,CAAC,CAAC;QAAEiB,CAAC,GAAGd,CAAC,IAAIN,CAAC,GAAGnL,CAAC,CAAC,CAAC,CAAC,GAAGA,CAAC,CAACsL,CAAC,GAAG,CAAC,CAAC;MAC/D,IAAIiB,CAAC,IAAIf,CAAC,IAAIA,CAAC,CAACD,MAAM,GAAG,CAAC,IAAI,GAAG,IAAIE,CAAC,CAAC,CAAC,CAAC,IAAIc,CAAC,CAAChB,MAAM,GAAG,CAAC,IAAI,GAAG,IAAIgB,CAAC,CAAC,CAAC,CAAC,EAAE;QACtE,IAAIE,CAAC;UAAEY,CAAC;UAAEC,CAAC,GAAGvC,CAAC,CAACS,CAAC,CAAC;UAAEyC,CAAC,GAAGlD,CAAC,CAACU,CAAC,CAAC;UAAEyC,CAAC,GAAGnD,CAAC,CAACwB,CAAC,CAAC;QACtCrM,CAAC,IAAIuM,CAAC,GAAGjL,CAAC,CAACyM,CAAC,EAAEzC,CAAC,CAAC6oB,SAAS,IAAI/mB,CAAC,EAAErN,CAAC,CAAC,EAAEoN,CAAC,GAAG7L,CAAC,CAACyM,CAAC,EAAE1B,CAAC,CAAC8nB,SAAS,IAAInmB,CAAC,EAAEjO,CAAC,CAAC,KAAKwM,CAAC,GAAGlL,CAAC,CAAC0M,CAAC,EAAEX,CAAC,EAAErN,CAAC,CAAC,EAAEoN,CAAC,GAAG9L,CAAC,CAAC0M,CAAC,EAAEC,CAAC,EAAEjO,CAAC,CAAC,CAAC,EAAEqK,CAAC,CAACmB,CAAC,EAAEgB,CAAC,CAAC,EAAEhB,CAAC,CAAC4oB,SAAS,GAAGpmB,CAAC,EAAEjD,CAAC,CAACoI,IAAI,CAAC3H,CAAC,CAAC;QAC1I,IAAI4C,CAAC,GAAG7M,CAAC,CAACiL,CAAC,EAAEwB,CAAC,EAAE,EAAE,CAAC;UAAE5B,CAAC,GAAG7K,CAAC,CAACyM,CAAC,EAAEZ,CAAC,EAAE,EAAE,CAAC;UAAEyN,CAAC,GAAG,CAAC,GAAG,EAAEzM,CAAC,CAACuB,CAAC,EAAEvB,CAAC,CAACf,CAAC,EAAEjB,CAAC,CAACuD,CAAC,EAAEvD,CAAC,CAACiB,CAAC,EAAED,CAAC,CAACuC,CAAC,EAAEvC,CAAC,CAACC,CAAC,CAAC;QAC7EwN,CAAC,CAACuZ,SAAS,GAAGpmB,CAAC,EAAEjD,CAAC,CAACoI,IAAI,CAAC0H,CAAC,CAAC;MAC9B,CAAC,MAAM9P,CAAC,CAACoI,IAAI,CAAC3H,CAAC,CAAC;IACpB;IACA,IAAIN,CAAC,EAAE;MACH,IAAIyE,CAAC,GAAG7E,CAAC,CAACC,CAAC,CAACA,CAAC,CAACO,MAAM,GAAG,CAAC,CAAC,CAAC;MAC1BP,CAAC,CAACoI,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE9I,CAAC,CAACU,CAAC,CAAC,CAAC,CAAC,EAAE4E,CAAC,CAAC;IAC7B;EACJ,CAAC,MAAM5E,CAAC,GAAGhL,CAAC;EACZ,OAAOgL,CAAC,CAACopB,MAAM,CAAE,UAAUp0B,CAAC,EAAEC,CAAC,EAAE;IAC7B,OAAOD,CAAC,GAAGC,CAAC,CAACsT,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG;EAChC,CAAC,EAAG,EAAE,CAAC;AACX,CAAC,EAACxT,UAAU,CAACu0B,QAAQ,GAAG,UAAUt0B,CAAC,EAAE;EACjC,OAAO,IAAI,IAAIA,CAAC,CAACiY,KAAK,IAAI,IAAI,IAAIjY,CAAC,CAACkY,KAAK;AAC7C,CAAC,EAACnY,UAAU,CAACgW,iBAAiB,GAAG,UAAU/V,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EAChD,KAAK,IAAIqB,CAAC,GAAG,EAAE,EAAEC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGvB,CAAC,CAACsL,MAAM,EAAE/J,CAAC,EAAE,EAAE,KAAK,IAAI8I,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGpK,CAAC,CAACqL,MAAM,EAAEjB,CAAC,EAAE,EAAE,IAAIpK,CAAC,CAACoK,CAAC,CAAC,CAACmP,GAAG,CAACxZ,CAAC,CAACuB,CAAC,CAAC,CAAC,EAAE;IAC9FD,CAAC,GAAGrB,CAAC,CAACoK,CAAC,CAAC;IACR;EACJ;EACA,KAAK9I,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,CAAC,CAACgK,MAAM,EAAE/J,CAAC,EAAE,EAAE;IAC3B,IAAIuJ,CAAC,GAAG/K,CAAC,CAACuV,OAAO,CAAChU,CAAC,CAACC,CAAC,CAAC,CAAC;IACvB,CAAC,CAAC,IAAIuJ,CAAC,IAAI/K,CAAC,CAAC4X,MAAM,CAAC7M,CAAC,EAAE,CAAC,CAAC;EAC7B;EACA9K,CAAC,CAACsL,MAAM,IAAIvL,CAAC,CAACoT,IAAI,CAACnT,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5B,CAAC,EAACF,UAAU,CAACw0B,6BAA6B,GAAG,UAAUv0B,CAAC,EAAEC,CAAC,EAAE;EACzD,OAAO,MAAM,IAAID,CAAC,IAAI,MAAM,IAAIA,CAAC,GAAGD,UAAU,CAACgS,KAAK,CAAC9R,CAAC,CAAC,GAAG,EAAE,GAAGA,CAAC,CAAC8rB,KAAK,CAAC,GAAG,CAAC,GAAG9rB,CAAC;AACnF,CAAC,EAAC,KAAK,CAAC,KAAKF,UAAU,KAAKA,UAAU,GAAG,CAAC,CAAC,CAAC,EAACA,UAAU,CAACmJ,IAAI,GAAG,CAAC,CAAC,EAACnJ,UAAU,CAACmJ,IAAI,CAACsrB,GAAG,GAAG,UAAUx0B,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACvG,OAAO,cAAc,GAAGF,CAAC,GAAG,YAAY,GAAGC,CAAC,GAAG,8CAA8C,GAAGC,CAAC,GAAG,wMAAwM,GAAGA,CAAC,GAAG,2vDAA2vD;AACljE,CAAC,EAACH,UAAU,CAACmJ,IAAI,CAACK,GAAG,GAAG,UAAUvJ,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACvC,OAAO,cAAc,GAAGF,CAAC,GAAG,YAAY,GAAGC,CAAC,GAAG,8CAA8C,GAAGC,CAAC,GAAG,0MAA0M,GAAGA,CAAC,GAAG,gNAAgN,GAAGA,CAAC,GAAG,u5CAAu5C;AACv6D,CAAC,EAACH,UAAU,CAACmJ,IAAI,CAACoD,GAAG,GAAG,UAAUtM,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACvC,OAAO,cAAc,GAAGF,CAAC,GAAG,YAAY,GAAGC,CAAC,GAAG,8CAA8C,GAAGC,CAAC,GAAG,k4DAAk4D;AAC1+D,CAAC,EAACH,UAAU,CAACmJ,IAAI,CAACurB,GAAG,GAAG,UAAUz0B,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACvC,OAAO,cAAc,GAAGF,CAAC,GAAG,YAAY,GAAGC,CAAC,GAAG,8CAA8C,GAAGC,CAAC,GAAG,s0DAAs0D;AAC96D,CAAC,EAACH,UAAU,CAACmJ,IAAI,CAACwrB,IAAI,GAAG,UAAU10B,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACxC,OAAO,cAAc,GAAGF,CAAC,GAAG,YAAY,GAAGC,CAAC,GAAG,wCAAwC,GAAGC,CAAC,GAAG,6FAA6F,GAAGA,CAAC,GAAG,wMAAwM,GAAGA,CAAC,GAAG,qLAAqL,GAAGA,CAAC,GAAG,0HAA0H,GAAGA,CAAC,GAAG,8HAA8H;AACh1B,CAAC,EAACH,UAAU,CAACmJ,IAAI,CAACyrB,KAAK,GAAG,UAAU30B,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACzC,OAAO,cAAc,GAAGF,CAAC,GAAG,YAAY,GAAGC,CAAC,GAAG,kNAAkN,GAAGC,CAAC,GAAG,sIAAsI,GAAGA,CAAC,GAAG,sIAAsI,GAAGA,CAAC,GAAG,sIAAsI,GAAGA,CAAC,GAAG,sIAAsI,GAAGA,CAAC,GAAG,sIAAsI,GAAGA,CAAC,GAAG,sIAAsI,GAAGA,CAAC,GAAG,sIAAsI,GAAGA,CAAC,GAAG,sIAAsI,GAAGA,CAAC,GAAG,6zBAA6zB;AACjrE,CAAC,EAACH,UAAU,CAACmJ,IAAI,CAACD,IAAI,GAAG,UAAUjJ,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACxC,OAAO,cAAc,GAAGF,CAAC,GAAG,YAAY,GAAGC,CAAC,GAAG,8CAA8C,GAAGC,CAAC,GAAG,6VAA6V;AACrc,CAAC,EAACH,UAAU,CAACmJ,IAAI,CAACvD,OAAO,GAAG,UAAU3F,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EAC3C,OAAO,cAAc,GAAGF,CAAC,GAAG,YAAY,GAAGC,CAAC,GAAG,sCAAsC,GAAGC,CAAC,GAAG,+mBAA+mB,GAAGA,CAAC,GAAG,+MAA+M,GAAGA,CAAC,GAAG,+MAA+M,GAAGA,CAAC,GAAG,+MAA+M,GAAGA,CAAC,GAAG,6LAA6L;AACrhD,CAAC,EAACH,UAAU,CAACmJ,IAAI,CAACM,MAAM,GAAG,UAAUxJ,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EAC1C,OAAO,cAAc,GAAGF,CAAC,GAAG,YAAY,GAAGC,CAAC,GAAG,2CAA2C,GAAGC,CAAC,GAAG,wPAAwP,GAAGA,CAAC,GAAG,sVAAsV;AAC1rB,CAAC,EAACH,UAAU,CAACmJ,IAAI,CAACpF,GAAG,GAAG,UAAU9D,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACvC,OAAO,cAAc,GAAGF,CAAC,GAAG,YAAY,GAAGC,CAAC,GAAG,wCAAwC,GAAGC,CAAC,GAAG,sKAAsK,GAAGA,CAAC,GAAG,mLAAmL,GAAGA,CAAC,GAAG,+KAA+K;AACxnB,CAAC,EAACH,UAAU,CAACmJ,IAAI,CAAC4I,MAAM,GAAG,UAAU9R,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EAC1C,OAAO,cAAc,GAAGF,CAAC,GAAG,YAAY,GAAGC,CAAC,GAAG,4HAA4H,GAAGC,CAAC,GAAG,yMAAyM,GAAGA,CAAC,GAAG,wXAAwX,GAAGA,CAAC,GAAG,iIAAiI;AACt4B,CAAC,EAACH,UAAU,CAACmJ,IAAI,CAAC0rB,GAAG,GAAG,UAAU50B,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACvC,OAAO,cAAc,GAAGF,CAAC,GAAG,YAAY,GAAGC,CAAC,GAAG,8CAA8C,GAAGC,CAAC,GAAG,kmDAAkmD;AAC1sD,CAAC,EAACH,UAAU,CAACmJ,IAAI,CAAC2C,IAAI,GAAG,UAAU7L,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACxC,OAAO,cAAc,GAAGF,CAAC,GAAG,YAAY,GAAGC,CAAC,GAAG,gDAAgD,GAAGC,CAAC,GAAG,guBAAguB,GAAGA,CAAC,GAAG,68BAA68B;AAC9xD,CAAC,EAACH,UAAU,CAACmJ,IAAI,CAAC2rB,KAAK,GAAG,UAAU70B,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACzC,OAAO,cAAc,GAAGF,CAAC,GAAG,YAAY,GAAGC,CAAC,GAAG,sCAAsC,GAAGC,CAAC,GAAG,kNAAkN,GAAGA,CAAC,GAAG,kJAAkJ,GAAGA,CAAC,GAAG,kJAAkJ,GAAGA,CAAC,GAAG,2IAA2I;AACtvB,CAAC,EAACH,UAAU,CAACmJ,IAAI,CAAC4rB,GAAG,GAAG,UAAU90B,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACvC,OAAO,cAAc,GAAGF,CAAC,GAAG,YAAY,GAAGC,CAAC,GAAG,sCAAsC,GAAGC,CAAC,GAAG,kNAAkN,GAAGA,CAAC,GAAG,oJAAoJ,GAAGA,CAAC,GAAG,2IAA2I,GAAGA,CAAC,GAAG,sIAAsI;AAC5uB,CAAC,EAACH,UAAU,CAACmJ,IAAI,CAACI,KAAK,GAAG,UAAUtJ,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;EAC/C,OAAO,IAAI,IAAID,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,IAAIC,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,EAAG,eAAcxB,CAAE,aAAYC,CAAE,QAAOsB,CAAE,QAAOC,CAAE,yDAAwDtB,CAAE,qsBAAosB;AACt2B,CAAC,EAACH,UAAU,CAACmJ,IAAI,CAACqd,IAAI,GAAG,UAAUvmB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;EAC9C,OAAOzB,UAAU,CAACgS,KAAK,CAACxQ,CAAC,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,EAAExB,UAAU,CAACgS,KAAK,CAACvQ,CAAC,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,EAAG,eAAcxB,CAAE,aAAYC,CAAE,QAAOsB,CAAE,QAAOC,CAAE,uDAAsDtB,CAAE,sPAAqPA,CAAE,6TAA4T;AACvuB,CAAC,EAACH,UAAU,CAACmJ,IAAI,CAAC6rB,KAAK,GAAG,UAAU/0B,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;EAC/C,OAAO,IAAI,IAAID,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,IAAIC,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,EAAG,eAAcxB,CAAE,aAAYC,CAAE,QAAOsB,CAAE,QAAOC,CAAE,6CAA4CtB,CAAE,01BAAy1B;AAC/+B,CAAC,EAACH,UAAU,CAACmJ,IAAI,CAAC8rB,IAAI,GAAG,UAAUh1B,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;EAC9C,OAAO,IAAI,IAAID,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,IAAIC,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,EAAG,eAAcxB,CAAE,aAAYC,CAAE,QAAOsB,CAAE,QAAOC,CAAE,mFAAkFtB,CAAE,kvDAAivD;AAC76D,CAAC,EAACH,UAAU,CAACmJ,IAAI,CAAC+rB,IAAI,GAAG,UAAUj1B,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;EAC9C,OAAO,IAAI,IAAID,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,IAAIC,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,EAAG,eAAcxB,CAAE,aAAYC,CAAE,QAAOsB,CAAE,QAAOC,CAAE,mGAAkGtB,CAAE,s/BAAq/B;AACjsC,CAAC,EAACH,UAAU,CAACmJ,IAAI,CAACgsB,EAAE,GAAG,UAAUl1B,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;EAC5C,OAAQ,eAAcxB,CAAE,aAAYC,CAAE,QAAOsB,CAAE,QAAOC,CAAE,2DAA0DtB,CAAE,yXAAwXA,CAAE,4NAA2NA,CAAE,0IAAyIA,CAAE,oGAAmGA,CAAE,yIAAwIA,CAAE,yIAAwIA,CAAE,yIAAwIA,CAAE,oGAAmG;AACh8C,CAAC,EAACH,UAAU,CAACmJ,IAAI,CAACisB,OAAO,GAAG,UAAUn1B,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;EACjD,OAAOzB,UAAU,CAACgS,KAAK,CAACxQ,CAAC,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,EAAExB,UAAU,CAACgS,KAAK,CAACvQ,CAAC,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,EAAG,eAAcxB,CAAE,aAAYC,CAAE,QAAOsB,CAAE,QAAOC,CAAE,0DAAyDtB,CAAE,iUAAgUA,CAAE,wFAAuFA,CAAE,2iBAA0iB;AAC5nC,CAAC,EAACH,UAAU,CAACmJ,IAAI,CAACksB,QAAQ,GAAG,UAAUp1B,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;EAClD,OAAOzB,UAAU,CAACgS,KAAK,CAACxQ,CAAC,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,EAAExB,UAAU,CAACgS,KAAK,CAACvQ,CAAC,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,EAAG,eAAcxB,CAAE,aAAYC,CAAE,QAAOsB,CAAE,QAAOC,CAAE,iEAAgEtB,CAAE,ieAAgeA,CAAE,qWAAoWA,CAAE,+qBAA8qBA,CAAE,ksBAAisBA,CAAE,gNAA+MA,CAAE,uWAAsWA,CAAE,i4BAAg4B;AAClzH,CAAC,EAACH,UAAU,CAACmJ,IAAI,CAACmsB,GAAG,GAAG,UAAUr1B,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;EAC7C,OAAOzB,UAAU,CAACgS,KAAK,CAACxQ,CAAC,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,EAAExB,UAAU,CAACgS,KAAK,CAACvQ,CAAC,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,EAAG,eAAcxB,CAAE,aAAYC,CAAE,QAAOsB,CAAE,QAAOC,CAAE,kEAAiEtB,CAAE,4RAA2RA,CAAE,4vDAA2vDA,CAAE,4WAA2WA,CAAE,6MAA4MA,CAAE,szBAAqzBA,CAAE,iRAAgR;AAC31H,CAAC,EAACH,UAAU,CAACmJ,IAAI,CAACosB,IAAI,GAAG,UAAUt1B,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;EAC9C,OAAOzB,UAAU,CAACgS,KAAK,CAACxQ,CAAC,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,EAAExB,UAAU,CAACgS,KAAK,CAACvQ,CAAC,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,EAAG,eAAcxB,CAAE,aAAYC,CAAE,QAAOsB,CAAE,QAAOC,CAAE,0DAAyDtB,CAAE,0MAAyMA,CAAE,+MAA8MA,CAAE,0xDAAyxDA,CAAE,i2BAAg2BA,CAAE,uUAAsUA,CAAE,+dAA8dA,CAAE,0UAAyUA,CAAE,2VAA0VA,CAAE,ieAAgeA,CAAE,uuBAAsuB;AACt2L,CAAC,EAACH,UAAU,CAACmJ,IAAI,CAACqsB,OAAO,GAAG,UAAUv1B,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;EACjD,OAAOzB,UAAU,CAACgS,KAAK,CAACxQ,CAAC,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,EAAExB,UAAU,CAACgS,KAAK,CAACvQ,CAAC,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,EAAG,eAAcxB,CAAE,aAAYC,CAAE,QAAOsB,CAAE,QAAOC,CAAE,kEAAiEtB,CAAE,gkFAA+jFA,CAAE,4XAA2XA,CAAE,yMAAwMA,CAAE,wcAAucA,CAAE,yZAAwZA,CAAE,obAAmb;AAC7lJ,CAAC,EAACH,UAAU,CAACmJ,IAAI,CAACssB,MAAM,GAAG,UAAUx1B,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;EAChD,OAAOzB,UAAU,CAACgS,KAAK,CAACxQ,CAAC,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,EAAExB,UAAU,CAACgS,KAAK,CAACvQ,CAAC,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,EAAG,eAAcxB,CAAE,aAAYC,CAAE,QAAOsB,CAAE,QAAOC,CAAE,kEAAiEtB,CAAE,kQAAiQA,CAAE,49BAA29BA,CAAE,4XAA2XA,CAAE,+qCAA8qCA,CAAE,yZAAwZA,CAAE,6aAA4aA,CAAE,yLAAwLA,CAAE,yLAAwLA,CAAE,wMAAuMA,CAAE,oMAAmM;AACphJ,CAAC,EAACH,UAAU,CAACmJ,IAAI,CAACusB,MAAM,GAAG,UAAUz1B,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;EAChD,OAAOzB,UAAU,CAACgS,KAAK,CAACxQ,CAAC,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,EAAExB,UAAU,CAACgS,KAAK,CAACvQ,CAAC,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,EAAG,eAAcxB,CAAE,aAAYC,CAAE,QAAOsB,CAAE,QAAOC,CAAE,kEAAiEtB,CAAE,qTAAoTA,CAAE,gTAA+SA,CAAE,6uBAA4uBA,CAAE,8SAA6SA,CAAE,8mDAA6mDA,CAAE,wTAAuTA,CAAE,uTAAsTA,CAAE,yTAAwTA,CAAE,keAAieA,CAAE,2WAA0WA,CAAE,ydAAwdA,CAAE,orBAAmrBA,CAAE,uNAAsNA,CAAE,0SAAySA,CAAE,sTAAqTA,CAAE,mTAAkTA,CAAE,qLAAoL;AAC7lP,CAAC,EAACH,UAAU,CAACmJ,IAAI,CAACwsB,KAAK,GAAG,UAAU11B,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;EAC/C,OAAOzB,UAAU,CAACgS,KAAK,CAACxQ,CAAC,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,EAAExB,UAAU,CAACgS,KAAK,CAACvQ,CAAC,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,EAAG,eAAcxB,CAAE,aAAYC,CAAE,QAAOsB,CAAE,QAAOC,CAAE,yDAAwDtB,CAAE,wxBAAuxBA,CAAE,8YAA6YA,CAAE,yLAAwLA,CAAE,0LAAyLA,CAAE,mbAAkbA,CAAE,+iEAA8iEA,CAAE,0XAAyXA,CAAE,s2CAAq2CA,CAAE,yWAAwWA,CAAE,sWAAqW;AACxmN,CAAC,EAACH,UAAU,CAAC2J,SAAS,CAACsc,gBAAgB,GAAG,UAAUhmB,CAAC,EAAEC,CAAC,EAAE;EACtDD,CAAC,GAAG,IAAI,CAAC21B,4BAA4B,CAAC31B,CAAC,EAAE,KAAK,CAAC,EAAE,IAAI,CAAC41B,cAAc,CAAC51B,CAAC,EAAEC,CAAC,CAAC;AAC9E,CAAC,EAACF,UAAU,CAAC2J,SAAS,CAACmsB,gBAAgB,GAAG,UAAU71B,CAAC,EAAE;EACnDD,UAAU,CAAC+1B,SAAS,CAACtrB,IAAI,CAAC,IAAI,EAAExK,CAAC,CAAC;AACtC,CAAC,EAACD,UAAU,CAAC2J,SAAS,CAACyc,gBAAgB,GAAG,UAAUnmB,CAAC,EAAEC,CAAC,EAAE;EACtDD,CAAC,GAAG,IAAI,CAAC21B,4BAA4B,CAAC31B,CAAC,EAAE,KAAK,CAAC,EAAE,IAAI,CAAC41B,cAAc,CAAC51B,CAAC,EAAEC,CAAC,CAAC;AAC9E,CAAC,EAACF,UAAU,CAAC2J,SAAS,CAAC0c,YAAY,GAAG,UAAUpmB,CAAC,EAAE;EAC/C,IAAIC,CAAC;EACL,QAAQ,IAAI,OAAOD,CAAC,GAAGA,CAAC,GAAG,CAACC,CAAC,GAAGD,CAAC,EAAE6kB,OAAO,GAAG5kB,CAAC,GAAG,IAAI,CAAC8B,MAAM,CAACqJ,OAAO,CAACpL,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC;EAC3F,IAAIE,CAAC,GAAG,IAAI4wB,GAAG,CAACjc,MAAM,CAACoV,QAAQ,CAAC8L,IAAI,CAAC;EACrC71B,CAAC,CAAC81B,YAAY,CAACC,MAAM,CAAC,QAAQ,EAAEj2B,CAAC,CAAC;EAClC,IAAIuB,CAAC,GAAG;IAAC2kB,KAAK,EAAEjmB,CAAC,CAACimB,KAAK;IAAE/c,IAAI,EAAElJ,CAAC,CAACknB,SAAS;IAAE+O,GAAG,EAAEh2B,CAAC,CAAC61B;EAAI,CAAC;EACxD,IAAI;IACAhM,SAAS,CAACzgB,KAAK,CAAC/H,CAAC,CAAC;EACtB,CAAC,CAAC,OAAOvB,CAAC,EAAE;IACRwO,OAAO,CAACC,KAAK,CAAC,SAAS,GAAGzO,CAAC,CAAC;EAChC;AACJ,CAAC,EAACD,UAAU,CAAC2J,SAAS,CAACse,SAAS,GAAG,UAAUhoB,CAAC,EAAEC,CAAC,EAAE;EAC/CD,CAAC,GAAG,IAAI,CAACm2B,qBAAqB,CAACn2B,CAAC,EAAE,KAAK,CAAC,EAAE,IAAI,CAACo2B,OAAO,CAACp2B,CAAC,EAAEC,CAAC,CAAC;AAChE,CAAC,EAACF,UAAU,CAAC2J,SAAS,CAACue,SAAS,GAAG,UAAUjoB,CAAC,EAAEC,CAAC,EAAE;EAC/CD,CAAC,GAAG,IAAI,CAACm2B,qBAAqB,CAACn2B,CAAC,EAAE,KAAK,CAAC,EAAE,IAAI,CAACo2B,OAAO,CAACp2B,CAAC,EAAEC,CAAC,CAAC;AAChE,CAAC,EAACF,UAAU,CAAC2J,SAAS,CAACoe,SAAS,GAAG,UAAU9nB,CAAC,EAAEC,CAAC,EAAE;EAC/CD,CAAC,GAAG,IAAI,CAACm2B,qBAAqB,CAACn2B,CAAC,EAAE,KAAK,CAAC,EAAE,IAAI,CAACo2B,OAAO,CAACp2B,CAAC,EAAEC,CAAC,CAAC;AAChE,CAAC,EAACF,UAAU,CAAC2J,SAAS,CAACysB,qBAAqB,GAAG,UAAUn2B,CAAC,EAAEC,CAAC,EAAE;EAC3D,OAAO,IAAI,IAAID,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,KAAK,IAAIC,CAAC,IAAID,CAAC,CAACq2B,GAAG,GAAG,KAAK,EAAEr2B,CAAC,CAACs2B,IAAI,GAAG,eAAe,IAAI,KAAK,IAAIr2B,CAAC,IAAID,CAAC,CAACs2B,IAAI,GAAG,iBAAiB,EAAEt2B,CAAC,CAACq2B,GAAG,GAAG,KAAK,IAAI,KAAK,IAAIp2B,CAAC,KAAKD,CAAC,CAACs2B,IAAI,GAAG,WAAW,EAAEt2B,CAAC,CAACq2B,GAAG,GAAG,KAAK,CAAC,EAAE,IAAI,IAAIr2B,CAAC,CAACu2B,MAAM,KAAKv2B,CAAC,CAACu2B,MAAM,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,IAAI,IAAIv2B,CAAC,CAACsD,OAAO,KAAKtD,CAAC,CAACsD,OAAO,GAAG,CAAC,CAAC,EAAE,IAAI,IAAItD,CAAC,CAACw2B,SAAS,KAAKx2B,CAAC,CAACw2B,SAAS,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,IAAIx2B,CAAC,CAACimB,QAAQ,KAAKjmB,CAAC,CAACimB,QAAQ,GAAG,aAAa,GAAGjmB,CAAC,CAACq2B,GAAG,CAAC,EAAE,IAAI,IAAIr2B,CAAC,CAACkD,KAAK,KAAKlD,CAAC,CAACkD,KAAK,GAAG,KAAK,CAAC,EAAE,IAAI,IAAIlD,CAAC,CAACy2B,MAAM,KAAKz2B,CAAC,CAACy2B,MAAM,GAAG,KAAK,CAAC,EAAE,IAAI,IAAIz2B,CAAC,CAAC02B,MAAM,KAAK12B,CAAC,CAAC02B,MAAM,GAAG,EAAE,CAAC,EAAE,KAAK,IAAIz2B,CAAC,IAAI,IAAI,IAAID,CAAC,CAAC22B,MAAM,GAAG32B,CAAC,CAAC22B,MAAM,GAAG,sCAAsC,GAAG,IAAI,IAAI32B,CAAC,CAAC22B,MAAM,KAAK32B,CAAC,CAAC22B,MAAM,GAAG,EAAE,CAAC,EAAE,IAAI,IAAI32B,CAAC,CAAC42B,YAAY,KAAK52B,CAAC,CAAC42B,YAAY,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,IAAI52B,CAAC,CAAC+D,IAAI,KAAK/D,CAAC,CAAC+D,IAAI,GAAG,MAAM,GAAG,IAAI,CAACxD,MAAM,CAACwD,IAAI,CAAC,EAAE/D,CAAC;AACluB,CAAC,EAACD,UAAU,CAAC2J,SAAS,CAAC0sB,OAAO,GAAG,UAAUp2B,CAAC,EAAEC,CAAC,EAAE;EAC7C,IAAIC,CAAC,GAAG,IAAI;IAAEqB,CAAC,GAAG;MAACoK,EAAE,EAAE3L,CAAC,CAACilB,MAAM;MAAE8C,cAAc,EAAE/nB,CAAC,CAAC+nB,cAAc;MAAE5hB,GAAG,EAAEnG,CAAC,CAACmG;IAAG,CAAC;EAC9EnG,CAAC,CAACu2B,MAAM,IAAIv2B,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,KAAKv2B,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAEv2B,CAAC,CAACu2B,MAAM,IAAIv2B,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,KAAKv2B,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAEv2B,CAAC,CAACu2B,MAAM,IAAIv2B,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,KAAKv2B,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAEv2B,CAAC,CAACu2B,MAAM,IAAIv2B,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,KAAKv2B,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC/yB,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAACiH,SAAS,EAAEnJ,CAAC,EAAG,UAAUA,CAAC,EAAE;IACjQ,IAAIC,CAAC,GAAGpB,QAAQ,CAAC0mB,aAAa,CAAC,KAAK,CAAC;IACrC,IAAItlB,CAAC,CAACwL,SAAS,GAAGzL,CAAC,EAAEvB,CAAC,CAACsD,OAAO,GAAG,CAAC,EAAE;MAChC,IAAIgH,CAAC,GAAG9I,CAAC,CAACnB,aAAa,CAAC,KAAK,CAAC;QAAE0K,CAAC,GAAGhL,UAAU,CAACgP,WAAW,CAACzE,CAAC,CAAC;MAC7DS,CAAC,CAAC,CAAC,CAAC,IAAI/K,CAAC,CAACsD,OAAO,EAAEyH,CAAC,CAAC,CAAC,CAAC,IAAI/K,CAAC,CAACsD,OAAO,EAAEyH,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG/K,CAAC,CAACsD,OAAO,EAAEyH,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG/K,CAAC,CAACsD,OAAO,EAAEgH,CAAC,CAAC0E,YAAY,CAAC,SAAS,EAAEjE,CAAC,CAACwI,IAAI,CAAC,CAAC,CAAC,EAAEjJ,CAAC,CAAC0E,YAAY,CAAC,OAAO,EAAEjE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAET,CAAC,CAAC0E,YAAY,CAAC,QAAQ,EAAEjE,CAAC,CAAC,CAAC,CAAC,CAAC;IAC1L;IACA,IAAI,KAAK,IAAI/K,CAAC,CAACq2B,GAAG;MAAE,IAAIp2B,CAAC,EAAEA,CAAC,CAACD,CAAC,EAAEwB,CAAC,CAACwL,SAAS,CAAC,CAAC,KAAM;QAC/C,CAAC1C,CAAC,GAAG9I,CAAC,CAACnB,aAAa,CAAC,KAAK,CAAC,EAAEwD,SAAS,CAACC,GAAG,CAAC,MAAM,GAAG5D,CAAC,CAACK,MAAM,CAACwD,IAAI,CAAC;QAClE,IAAIiH,CAAC,GAAG;YAACI,OAAO,EAAE5J,CAAC,CAACwL,SAAS;YAAEa,OAAO,EAAE7N,CAAC;YAAE62B,MAAM,EAAE;UAAE,CAAC;UAClD3rB,CAAC,GAAGnL,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,aAAa,EAAE,CAACzE,CAAC,EAAE8K,CAAC,CAAC,CAAC;UAAEG,CAAC,GAAGjL,CAAC,CAACI,OAAO,CAACD,aAAa,CAAC,mBAAmB,CAAC;QAC1G,IAAI8K,CAAC,KAAKH,CAAC,CAAC6rB,MAAM,IAAI1rB,CAAC,CAAC2rB,SAAS,CAAC,EAAE9rB,CAAC,CAAC6rB,MAAM,KAAKr1B,CAAC,CAACkuB,UAAU,CAAC,CAAC,CAAC,CAAC9iB,kBAAkB,CAAC,YAAY,EAAE5B,CAAC,CAAC6rB,MAAM,CAAC,EAAE7rB,CAAC,CAACI,OAAO,GAAG5J,CAAC,CAACwL,SAAS,CAAC,EAAE,CAAC,CAAC,KAAK9B,CAAC,EAAE,OAAO,CAAC,CAAC;QAC1J,IAAI,CAAC,CAAC,MAAMA,CAAC,GAAGnL,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,WAAW,EAAE,CAACzE,CAAC,EAAE8K,CAAC,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;QAC1EjL,UAAU,CAAC6wB,aAAa,CAAC5wB,CAAC,CAACs2B,IAAI,EAAEtrB,CAAC,CAACI,OAAO,EAAEJ,CAAC,CAAC6C,OAAO,CAACoY,QAAQ,EAAEjb,CAAC,CAAC6C,OAAO,CAAC+oB,YAAY,EAAE5rB,CAAC,CAAC6C,OAAO,CAACwoB,GAAG,CAAC;MAC1G;IAAC,OAAMn2B,CAAC,CAAC62B,MAAM,CAAC/2B,CAAC,EAAEwB,CAAC,CAACnB,aAAa,CAAC,KAAK,CAAC,EAAG,UAAUkB,CAAC,EAAE;MACrD,IAAI+I,CAAC,GAAG;UAACc,OAAO,EAAE5J,CAAC,CAACwL,SAAS;UAAEa,OAAO,EAAE7N,CAAC;UAAEg3B,KAAK,EAAEz1B,CAAC;UAAEs1B,MAAM,EAAE;QAAE,CAAC;QAC5D9rB,CAAC,GAAGhL,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,aAAa,EAAE,CAACzE,CAAC,EAAEoK,CAAC,CAAC,CAAC;QAAEU,CAAC,GAAG9K,CAAC,CAACI,OAAO,CAACD,aAAa,CAAC,mBAAmB,CAAC;MAC1G,IAAI2K,CAAC,KAAKV,CAAC,CAACusB,MAAM,IAAI7rB,CAAC,CAAC8rB,SAAS,CAAC,EAAE,CAAC,CAAC,KAAK/rB,CAAC,EAAE,OAAO,CAAC,CAAC;MACvD9K,CAAC,IAAIF,UAAU,CAACk3B,OAAO,CAACzsB,IAAI,CAACtK,CAAC,CAAC,EAAED,CAAC,GAAGA,CAAC,CAACC,CAAC,EAAEoK,CAAC,EAAE9I,CAAC,CAACnB,aAAa,CAAC,KAAK,CAAC,CAAC,IAAIiK,CAAC,GAAGsO,IAAI,CAACE,SAAS,CAACxO,CAAC,CAAC,EAAEvK,UAAU,CAAC8Z,KAAK,CAAC3Z,CAAC,CAACK,MAAM,CAACiH,SAAS,GAAG,KAAK,EAAE,MAAM,EAAE8C,CAAC,EAAE,aAAa,EAAG,UAAUrK,CAAC,EAAE;QAChL,IAAIsB,CAAC,GAAGxB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,WAAW,EAAE,CAACzE,CAAC,EAAED,CAAC,CAAC,CAAC;QACtD,IAAIF,UAAU,CAACk3B,OAAO,CAACvS,IAAI,CAACxkB,CAAC,CAAC,EAAE,CAAC,CAAC,KAAKqB,CAAC,EAAE,OAAO,CAAC,CAAC;QACnDxB,UAAU,CAAC6wB,aAAa,CAAC5wB,CAAC,CAACs2B,IAAI,EAAEr2B,CAAC,EAAED,CAAC,CAACimB,QAAQ,EAAEjmB,CAAC,CAAC42B,YAAY,EAAE52B,CAAC,CAACq2B,GAAG,CAAC;MAC1E,CAAE,CAAC,CAAC;IACR,CAAE,CAAC;EACP,CAAE,CAAC;AACP,CAAC,EAACt2B,UAAU,CAAC2J,SAAS,CAACwe,SAAS,GAAG,UAAUloB,CAAC,EAAE;EAC5C,IAAIC,CAAC,GAAGF,UAAU,CAACm3B,2CAA2C,CAACl3B,CAAC,EAAE,KAAK,CAAC;IAAEE,CAAC,GAAG,IAAI,CAACkP,OAAO,CAACnP,CAAC,CAACglB,MAAM,CAAC;IAAE1jB,CAAC,GAAG,IAAI;EAC9GrB,CAAC,IAAIqB,CAAC,GAAG,EAAE,EAAExB,UAAU,CAACo3B,6BAA6B,CAAC,IAAI,EAAEj3B,CAAC,EAAED,CAAC,EAAEsB,CAAC,CAAC,IAAI,CAAC,CAAC,KAAKtB,CAAC,CAACkG,GAAG,IAAI,CAAC,CAAC,KAAKlG,CAAC,CAAC8nB,cAAc,GAAGhoB,UAAU,CAACo3B,6BAA6B,CAAC,IAAI,EAAE,IAAI,CAAChvB,KAAK,EAAElI,CAAC,EAAEsB,CAAC,CAAC,GAAGA,CAAC,GAAGqX,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAAC,IAAI,CAACvY,MAAM,CAACgE,KAAK,CAAC,CAAC;EACtO,IAAI/C,CAAC,GAAG;IAAC60B,GAAG,EAAE,KAAK;IAAEpQ,QAAQ,EAAEjmB,CAAC;IAAE6N,OAAO,EAAE5N,CAAC;IAAEsE,KAAK,EAAEhD;EAAC,CAAC;EACvD,IAAI,CAAC,CAAC,KAAKxB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,aAAa,EAAE,CAAC,IAAI,EAAEnD,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;EACzE,IAAI8I,CAAC,GAAGvK,UAAU,CAAC2yB,SAAS,CAAClxB,CAAC,CAAC+C,KAAK,CAAC;IACjCwG,CAAC,GAAG;MAACsrB,GAAG,EAAE70B,CAAC,CAAC60B,GAAG;MAAEpQ,QAAQ,EAAEzkB,CAAC,CAACykB,QAAQ;MAAEpY,OAAO,EAAE5N,CAAC;MAAEsE,KAAK,EAAE/C,CAAC,CAAC+C,KAAK;MAAE6G,OAAO,EAAEd;IAAC,CAAC;EAClF,IAAI,CAAC,CAAC,KAAKvK,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,WAAW,EAAE,CAAC,IAAI,EAAEoG,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;EACvEhL,UAAU,CAAC6wB,aAAa,CAAC,yBAAyB,EAAE,QAAQ,GAAG7lB,CAAC,CAACK,OAAO,EAAEL,CAAC,CAAC8C,OAAO,CAACoY,QAAQ,EAAElb,CAAC,CAAC8C,OAAO,CAAC+oB,YAAY,EAAE7rB,CAAC,CAACsrB,GAAG,CAAC;AAChI,CAAC,EAACt2B,UAAU,CAAC2J,SAAS,CAACye,SAAS,GAAG,UAAUnoB,CAAC,EAAE;EAC5C,IAAIC,CAAC,GAAGF,UAAU,CAACm3B,2CAA2C,CAACl3B,CAAC,EAAE,KAAK,CAAC;IAAEE,CAAC,GAAG,IAAI,CAACkP,OAAO,CAACnP,CAAC,CAACglB,MAAM,CAAC;IAAE1jB,CAAC,GAAG,IAAI;EAC9GrB,CAAC,IAAIqB,CAAC,GAAG,EAAE,EAAExB,UAAU,CAACo3B,6BAA6B,CAAC,IAAI,EAAEj3B,CAAC,EAAED,CAAC,EAAEsB,CAAC,CAAC,IAAI,CAAC,CAAC,KAAKtB,CAAC,CAACkG,GAAG,IAAI,CAAC,CAAC,KAAKlG,CAAC,CAAC8nB,cAAc,GAAGhoB,UAAU,CAACo3B,6BAA6B,CAAC,IAAI,EAAE,IAAI,CAAChvB,KAAK,EAAElI,CAAC,EAAEsB,CAAC,CAAC,GAAGA,CAAC,GAAGqX,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAAC,IAAI,CAACvY,MAAM,CAACgE,KAAK,CAAC,CAAC;EACtO,IAAI/C,CAAC,GAAG;IAAC60B,GAAG,EAAE,KAAK;IAAEpQ,QAAQ,EAAEjmB,CAAC;IAAE6N,OAAO,EAAE5N,CAAC;IAAEsE,KAAK,EAAEhD;EAAC,CAAC;EACvD,IAAI,CAAC,CAAC,KAAKxB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,aAAa,EAAE,CAAC,IAAI,EAAEnD,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;EACzE,IAAI8I,CAAC,GAAGvK,UAAU,CAACgK,SAAS,CAACvI,CAAC,CAAC+C,KAAK,CAAC;IACjCwG,CAAC,GAAG;MAACsrB,GAAG,EAAE70B,CAAC,CAAC60B,GAAG;MAAEpQ,QAAQ,EAAEzkB,CAAC,CAACykB,QAAQ;MAAEpY,OAAO,EAAE5N,CAAC;MAAEsE,KAAK,EAAE/C,CAAC,CAAC+C,KAAK;MAAE6G,OAAO,EAAEd;IAAC,CAAC;EAClF,IAAI,CAAC,CAAC,KAAKvK,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,WAAW,EAAE,CAAC,IAAI,EAAEoG,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;EACvEhL,UAAU,CAAC6wB,aAAa,CAAC,iBAAiB,EAAE7lB,CAAC,CAACK,OAAO,EAAEL,CAAC,CAAC8C,OAAO,CAACoY,QAAQ,EAAElb,CAAC,CAAC8C,OAAO,CAAC+oB,YAAY,EAAE7rB,CAAC,CAACsrB,GAAG,CAAC;AAC7G,CAAC,EAACt2B,UAAU,CAAC2J,SAAS,CAAC0e,UAAU,GAAG,UAAUpoB,CAAC,EAAE;EAC7C,IAAIC,CAAC,GAAGF,UAAU,CAACm3B,2CAA2C,CAACl3B,CAAC,EAAE,MAAM,CAAC;IAAEE,CAAC,GAAG,IAAI,CAACkP,OAAO,CAACnP,CAAC,CAACglB,MAAM,CAAC;IAAE1jB,CAAC,GAAG,IAAI;EAC/GrB,CAAC,IAAIqB,CAAC,GAAG,EAAE,EAAExB,UAAU,CAACo3B,6BAA6B,CAAC,IAAI,EAAEj3B,CAAC,EAAED,CAAC,EAAEsB,CAAC,CAAC,IAAI,CAAC,CAAC,KAAKtB,CAAC,CAACkG,GAAG,IAAI,CAAC,CAAC,KAAKlG,CAAC,CAAC8nB,cAAc,GAAGhoB,UAAU,CAACo3B,6BAA6B,CAAC,IAAI,EAAE,IAAI,CAAChvB,KAAK,EAAElI,CAAC,EAAEsB,CAAC,CAAC,GAAGA,CAAC,GAAGqX,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAAC,IAAI,CAACvY,MAAM,CAACgE,KAAK,CAAC,CAAC;EACtO,IAAI/C,CAAC,GAAG;IAAC60B,GAAG,EAAE,MAAM;IAAEpQ,QAAQ,EAAEhmB,CAAC,CAACgmB,QAAQ;IAAEpY,OAAO,EAAE5N,CAAC;IAAEsE,KAAK,EAAEhD;EAAC,CAAC;EACjE,IAAI,CAAC,CAAC,KAAKxB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,aAAa,EAAE,CAAC,IAAI,EAAEnD,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;EACzE,IAAI8I,CAAC,GAAG;IAAC+rB,GAAG,EAAE70B,CAAC,CAAC60B,GAAG;IAAEpQ,QAAQ,EAAEzkB,CAAC,CAACykB,QAAQ;IAAEpY,OAAO,EAAE5N,CAAC;IAAEsE,KAAK,EAAE/C,CAAC,CAAC+C,KAAK;IAAE6G,OAAO,EAAEwN,IAAI,CAACE,SAAS,CAACtX,CAAC,CAAC+C,KAAK;EAAC,CAAC;EACxG,IAAI,CAAC,CAAC,KAAKxE,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,WAAW,EAAE,CAAC,IAAI,EAAE2F,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;EACvEvK,UAAU,CAAC6wB,aAAa,CAAC,kBAAkB,EAAEtmB,CAAC,CAACc,OAAO,EAAEd,CAAC,CAACuD,OAAO,CAACoY,QAAQ,EAAE3b,CAAC,CAACuD,OAAO,CAAC+oB,YAAY,EAAEtsB,CAAC,CAAC+rB,GAAG,CAAC;AAC9G,CAAC,EAACt2B,UAAU,CAACo3B,6BAA6B,GAAG,UAAUn3B,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;EAC/D,IAAIsU,KAAK,CAACC,OAAO,CAAC7V,CAAC,CAAC,EAAE,KAAK,IAAIuB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGvB,CAAC,CAACsL,MAAM,EAAE/J,CAAC,EAAE,EAAEzB,UAAU,CAACo3B,6BAA6B,CAACn3B,CAAC,EAAEC,CAAC,CAACuB,CAAC,CAAC,EAAEtB,CAAC,EAAEqB,CAAC,CAAC,CAAC,KAAM;IACnH,IAAI+I,CAAC,GAAGtK,CAAC,CAACqX,GAAG,CAACpX,CAAC,CAAC0L,EAAE,CAAC;IACnB,IAAIpK,CAAC,CAAC6R,IAAI,CAAC9I,CAAC,CAAC,EAAEpK,CAAC,CAACiG,GAAG,EAAE,KAAK3E,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGvB,CAAC,CAACm3B,aAAa,CAAC7rB,MAAM,EAAE/J,CAAC,EAAE,EAAEzB,UAAU,CAACo3B,6BAA6B,CAACn3B,CAAC,EAAEA,CAAC,CAACoP,OAAO,CAACnP,CAAC,CAACm3B,aAAa,CAAC51B,CAAC,CAAC,CAAC,EAAEtB,CAAC,EAAEqB,CAAC,CAAC,CAAC,KAAM,KAAKC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGvB,CAAC,CAACo3B,UAAU,CAAC9rB,MAAM,EAAE/J,CAAC,EAAE,EAAEzB,UAAU,CAACo3B,6BAA6B,CAACn3B,CAAC,EAAEC,CAAC,CAACo3B,UAAU,CAAC71B,CAAC,CAAC,EAAEtB,CAAC,EAAEqB,CAAC,CAAC;IACtQ,IAAIrB,CAAC,CAAC6nB,cAAc,EAAE,KAAKvmB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGvB,CAAC,CAACiT,WAAW,CAAC3H,MAAM,EAAE/J,CAAC,EAAE,EAAEzB,UAAU,CAACo3B,6BAA6B,CAACn3B,CAAC,EAAEA,CAAC,CAACoP,OAAO,CAACnP,CAAC,CAACiT,WAAW,CAAC1R,CAAC,CAAC,CAAC,EAAEtB,CAAC,EAAEqB,CAAC,CAAC,CAAC,KAAM,KAAKC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGvB,CAAC,CAACwwB,QAAQ,CAACllB,MAAM,EAAE/J,CAAC,EAAE,EAAEzB,UAAU,CAACo3B,6BAA6B,CAACn3B,CAAC,EAAEC,CAAC,CAACwwB,QAAQ,CAACjvB,CAAC,CAAC,EAAEtB,CAAC,EAAEqB,CAAC,CAAC;EAClQ;AACJ,CAAC,EAACxB,UAAU,CAAC2J,SAAS,CAACqtB,MAAM,GAAG,UAAU/2B,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EAC/C,IAAI,IAAIF,CAAC,CAACy2B,MAAM,IAAI,KAAK,IAAIz2B,CAAC,CAACkD,KAAK,IAAI,IAAI,IAAIlD,CAAC,CAACy2B,MAAM,IAAI,KAAK,IAAIz2B,CAAC,CAACkD,KAAK,IAAI,IAAI,IAAIlD,CAAC,CAACy2B,MAAM,IAAI,KAAK,IAAIz2B,CAAC,CAACkD,KAAK,IAAI,IAAI,IAAIlD,CAAC,CAACy2B,MAAM,IAAI,KAAK,IAAIz2B,CAAC,CAACkD,KAAK,IAAI,IAAI,IAAIlD,CAAC,CAACy2B,MAAM,IAAI,KAAK,IAAIz2B,CAAC,CAACkD,KAAK,IAAI,QAAQ,IAAIlD,CAAC,CAACy2B,MAAM,IAAI,KAAK,IAAIz2B,CAAC,CAACkD,KAAK,IAAI,OAAO,IAAIlD,CAAC,CAACy2B,MAAM,IAAI,KAAK,IAAIz2B,CAAC,CAACkD,KAAK,GAAGhD,CAAC,CAAC,IAAI,CAACo3B,UAAU,CAACt3B,CAAC,EAAEC,CAAC,EAAED,CAAC,CAACkD,KAAK,CAAC,CAAC,GAAG,IAAI,IAAIlD,CAAC,CAACy2B,MAAM,IAAI,KAAK,IAAIz2B,CAAC,CAACkD,KAAK,IAAI,IAAI,IAAIlD,CAAC,CAACy2B,MAAM,IAAI,KAAK,IAAIz2B,CAAC,CAACkD,KAAK,IAAI,IAAI,IAAIlD,CAAC,CAACy2B,MAAM,IAAI,KAAK,IAAIz2B,CAAC,CAACkD,KAAK,IAAI,IAAI,IAAIlD,CAAC,CAACy2B,MAAM,IAAI,KAAK,IAAIz2B,CAAC,CAACkD,KAAK,IAAI,IAAI,IAAIlD,CAAC,CAACy2B,MAAM,IAAI,KAAK,IAAIz2B,CAAC,CAACkD,KAAK,IAAI,QAAQ,IAAIlD,CAAC,CAACy2B,MAAM,IAAI,KAAK,IAAIz2B,CAAC,CAACkD,KAAK,IAAI,OAAO,IAAIlD,CAAC,CAACy2B,MAAM,IAAI,KAAK,IAAIz2B,CAAC,CAACkD,KAAK,GAAGhD,CAAC,CAAC,IAAI,CAACq3B,UAAU,CAACv3B,CAAC,EAAEC,CAAC,CAAC,CAAC,GAAG,KAAK,IAAID,CAAC,CAACy2B,MAAM,IAAIv2B,CAAC,CAAC,IAAI,CAACs3B,SAAS,CAACx3B,CAAC,EAAEC,CAAC,CAAC,CAAC;AAC3qB,CAAC,EAACF,UAAU,CAAC2J,SAAS,CAAC8tB,SAAS,GAAG,UAAUx3B,CAAC,EAAEC,CAAC,EAAE;EAC/C,IAAIC,CAAC,GAAGD,CAAC,CAAC0a,YAAY,CAAC,OAAO,CAAC;IAAEpZ,CAAC,GAAGtB,CAAC,CAAC0a,YAAY,CAAC,QAAQ,CAAC;IAAEnZ,CAAC,GAAGzB,UAAU,CAACgP,WAAW,CAAC9O,CAAC,CAAC;IACxFqK,CAAC,GAAG;MAAC+E,CAAC,EAAE8gB,UAAU,CAACjwB,CAAC,CAAC;MAAEqM,CAAC,EAAE4jB,UAAU,CAAC5uB,CAAC;IAAC,CAAC;EAC5C,OAAO,CAAC;IAACk2B,EAAE,EAAEj2B,CAAC;IAAEiwB,IAAI,EAAE;MAACpiB,CAAC,EAAE/E,CAAC,CAAC+E,CAAC,IAAIrP,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC,GAAGv2B,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC,CAAC;MAAEhqB,CAAC,EAAEjC,CAAC,CAACiC,CAAC,IAAIvM,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC,GAAGv2B,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC;IAAC,CAAC;IAAEmB,SAAS,EAAEptB;EAAC,CAAC,CAAC;AACtH,CAAC,EAACvK,UAAU,CAAC2J,SAAS,CAAC6tB,UAAU,GAAG,UAAUv3B,CAAC,EAAEC,CAAC,EAAE;EAChD,IAAIC,CAAC,GAAGD,CAAC,CAAC0a,YAAY,CAAC,OAAO,CAAC;IAAEpZ,CAAC,GAAG,CAAC;IAAEC,CAAC,GAAG,CAAC;EAC7C,QAAQxB,CAAC,CAACy2B,MAAM;IACZ,KAAI,IAAI;MACJl1B,CAAC,GAAGxB,UAAU,CAACghB,GAAG,EAAEvf,CAAC,GAAGzB,UAAU,CAACihB,GAAG;MACtC;IACJ,KAAI,IAAI;MACJzf,CAAC,GAAGxB,UAAU,CAACkhB,GAAG,EAAEzf,CAAC,GAAGzB,UAAU,CAACmhB,GAAG;MACtC;IACJ,KAAI,IAAI;MACJ3f,CAAC,GAAGxB,UAAU,CAACohB,GAAG,EAAE3f,CAAC,GAAGzB,UAAU,CAACqhB,GAAG;MACtC;IACJ,KAAI,IAAI;MACJ7f,CAAC,GAAGxB,UAAU,CAACshB,GAAG,EAAE7f,CAAC,GAAGzB,UAAU,CAACuhB,GAAG;MACtC;IACJ,KAAI,IAAI;MACJ/f,CAAC,GAAGxB,UAAU,CAACwhB,GAAG,EAAE/f,CAAC,GAAGzB,UAAU,CAACyhB,GAAG;MACtC;IACJ,KAAI,QAAQ;MACRjgB,CAAC,GAAGxB,UAAU,CAAC0hB,OAAO,EAAEjgB,CAAC,GAAGzB,UAAU,CAAC2hB,OAAO;MAC9C;IACJ,KAAI,OAAO;MACPngB,CAAC,GAAGxB,UAAU,CAAC4hB,MAAM,EAAEngB,CAAC,GAAGzB,UAAU,CAAC6hB,MAAM;EACpD;EACA,IAAItX,CAAC,GAAGtK,CAAC,CAACw2B,SAAS,GAAGh1B,CAAC,IAAIxB,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC,GAAGv2B,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC,CAAC,GAAGh1B,CAAC,IAAIvB,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC,GAAGv2B,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC,CAAC;IACnFxrB,CAAC,IAAI/K,CAAC,CAACw2B,SAAS,IAAIx2B,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC,EAAEv2B,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC,KAAKv2B,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC,EAAEv2B,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC,CAAC,EAAEjsB,CAAC,GAAGpK,CAAC,CAAC;EACtF,OAAO,IAAI,CAACo3B,UAAU,CAACt3B,CAAC,EAAEC,CAAC,EAAE,GAAG,GAAG8K,CAAC,CAAC;AACzC,CAAC,EAAChL,UAAU,CAAC2J,SAAS,CAAC4tB,UAAU,GAAG,UAAUt3B,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACnD,IAAIqB,CAAC,GAAGxB,UAAU,CAACgP,WAAW,CAAC9O,CAAC,CAAC;IAAEuB,CAAC,GAAG,CAAC;IAAE8I,CAAC,GAAG,CAAC;EAC/C,QAAQtK,CAAC,CAACy2B,MAAM;IACZ,KAAI,IAAI;MACJj1B,CAAC,GAAGzB,UAAU,CAACghB,GAAG,EAAEzW,CAAC,GAAGvK,UAAU,CAACihB,GAAG;MACtC;IACJ,KAAI,IAAI;MACJxf,CAAC,GAAGzB,UAAU,CAACkhB,GAAG,EAAE3W,CAAC,GAAGvK,UAAU,CAACmhB,GAAG;MACtC;IACJ,KAAI,IAAI;MACJ1f,CAAC,GAAGzB,UAAU,CAACohB,GAAG,EAAE7W,CAAC,GAAGvK,UAAU,CAACqhB,GAAG;MACtC;IACJ,KAAI,IAAI;MACJ5f,CAAC,GAAGzB,UAAU,CAACshB,GAAG,EAAE/W,CAAC,GAAGvK,UAAU,CAACuhB,GAAG;MACtC;IACJ,KAAI,IAAI;MACJ9f,CAAC,GAAGzB,UAAU,CAACwhB,GAAG,EAAEjX,CAAC,GAAGvK,UAAU,CAACyhB,GAAG;MACtC;IACJ,KAAI,QAAQ;MACRhgB,CAAC,GAAGzB,UAAU,CAAC0hB,OAAO,EAAEnX,CAAC,GAAGvK,UAAU,CAAC2hB,OAAO;MAC9C;IACJ,KAAI,OAAO;MACPlgB,CAAC,GAAGzB,UAAU,CAAC4hB,MAAM,EAAErX,CAAC,GAAGvK,UAAU,CAAC6hB,MAAM;EACpD;EACA,IAAI7W,CAAC,GAAGxJ,CAAC,CAAC,CAAC,CAAC;IAAEyJ,CAAC,GAAGzJ,CAAC,CAAC,CAAC,CAAC;IAAE2J,CAAC,GAAG3J,CAAC,CAAC,CAAC,CAAC;IAAE4J,CAAC,GAAG5J,CAAC,CAAC,CAAC,CAAC;IAAE+J,CAAC,GAAG;MAC5C+D,CAAC,EAAErP,CAAC,CAACw2B,SAAS,GAAGlsB,CAAC,IAAItK,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC,GAAGv2B,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG/0B,CAAC,IAAIxB,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC,GAAGv2B,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC,CAAC;MAClFhqB,CAAC,EAAEvM,CAAC,CAACw2B,SAAS,GAAGh1B,CAAC,IAAIxB,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC,GAAGv2B,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC,CAAC,GAAGjsB,CAAC,IAAItK,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC,GAAGv2B,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC;IACrF,CAAC;IAAE/qB,CAAC,GAAG;MAAC6D,CAAC,EAAErP,CAAC,CAACw2B,SAAS,GAAGlsB,CAAC,GAAG9I,CAAC;MAAE+K,CAAC,EAAEvM,CAAC,CAACw2B,SAAS,GAAGh1B,CAAC,GAAG8I;IAAC,CAAC;EACvDrK,CAAC,CAAC+O,YAAY,CAAC,qBAAqB,EAAE,gBAAgB,CAAC,EAAE/O,CAAC,CAAC+O,YAAY,CAAC,OAAO,EAAE1D,CAAC,CAAC+D,CAAC,CAAC,EAAEpP,CAAC,CAAC+O,YAAY,CAAC,QAAQ,EAAE1D,CAAC,CAACiB,CAAC,CAAC;EACpH,KAAK,IAAId,CAAC,GAAGH,CAAC,CAAC+D,CAAC,IAAI,GAAG,GAAGnP,CAAC,CAAC,EAAEqM,CAAC,GAAGjB,CAAC,CAACiB,CAAC,IAAI,GAAG,GAAGrM,CAAC,CAAC,EAAEuM,CAAC,GAAG1B,CAAC,EAAEsC,CAAC,GAAGrC,CAAC,EAAEsC,CAAC,GAAG,EAAE,EAAEb,CAAC,GAAGvB,CAAC,GAAGH,CAAC,GAAG;IACjF,OAAOsC,CAAC,GAAGlC,CAAC,GAAGH,CAAC,GAAG;MACf,IAAIiD,CAAC,GAAG,CAACxB,CAAC,EAAEY,CAAC,EAAE5B,CAAC,EAAEc,CAAC,CAAC;MACpB0B,CAAC,GAAGA,CAAC,CAACsF,IAAI,CAAC,CAAC,EAAEjG,CAAC,CAAC8F,IAAI,CAAC;QAACqkB,EAAE,EAAExpB,CAAC;QAAEypB,SAAS,EAAEpsB,CAAC;QAAEmmB,IAAI,EAAEjmB;MAAC,CAAC,CAAC,EAAE6B,CAAC,IAAId,CAAC;IAChE;IACAE,CAAC,IAAIhB,CAAC,EAAE4B,CAAC,GAAGrC,CAAC;EACjB;EACA,OAAOsC,CAAC;AACZ,CAAC,EAACvN,UAAU,CAAC2J,SAAS,CAACisB,4BAA4B,GAAG,UAAU31B,CAAC,EAAEC,CAAC,EAAE;EAClE,OAAO,CAACF,UAAU,CAACgS,KAAK,CAAC/R,CAAC,CAAC,IAAID,UAAU,CAACgS,KAAK,CAAC/R,CAAC,CAAC2L,EAAE,CAAC,KAAK6C,OAAO,CAACC,KAAK,CAAC,4BAA4B,CAAC,EAAE,KAAK,IAAIxO,CAAC,IAAID,CAAC,CAACq2B,GAAG,GAAG,KAAK,EAAEr2B,CAAC,CAACs2B,IAAI,GAAG,eAAe,IAAI,KAAK,IAAIr2B,CAAC,IAAID,CAAC,CAACs2B,IAAI,GAAG,iBAAiB,EAAEt2B,CAAC,CAACq2B,GAAG,GAAG,KAAK,IAAI,KAAK,IAAIp2B,CAAC,KAAKD,CAAC,CAACs2B,IAAI,GAAG,WAAW,EAAEt2B,CAAC,CAACq2B,GAAG,GAAG,KAAK,CAAC,EAAE,IAAI,IAAIr2B,CAAC,CAACu2B,MAAM,KAAKv2B,CAAC,CAACu2B,MAAM,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,IAAI,IAAIv2B,CAAC,CAACsD,OAAO,KAAKtD,CAAC,CAACsD,OAAO,GAAG,CAAC,CAAC,EAAE,IAAI,IAAItD,CAAC,CAACw2B,SAAS,KAAKx2B,CAAC,CAACw2B,SAAS,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,IAAIx2B,CAAC,CAACimB,QAAQ,KAAKjmB,CAAC,CAACimB,QAAQ,GAAG,UAAU,GAAGjmB,CAAC,CAACq2B,GAAG,CAAC,EAAE,IAAI,IAAIr2B,CAAC,CAACkD,KAAK,KAAKlD,CAAC,CAACkD,KAAK,GAAG,KAAK,CAAC,EAAE,IAAI,IAAIlD,CAAC,CAACy2B,MAAM,KAAKz2B,CAAC,CAACy2B,MAAM,GAAG,IAAI,CAAC,EAAE,IAAI,IAAIz2B,CAAC,CAAC02B,MAAM,KAAK12B,CAAC,CAAC02B,MAAM,GAAG,EAAE,CAAC,EAAE,IAAI,IAAI12B,CAAC,CAAC22B,MAAM,KAAK32B,CAAC,CAAC22B,MAAM,GAAG,EAAE,CAAC,EAAE,IAAI,IAAI32B,CAAC,CAAC42B,YAAY,KAAK52B,CAAC,CAAC42B,YAAY,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,IAAI52B,CAAC,CAAC+D,IAAI,KAAK/D,CAAC,CAAC+D,IAAI,GAAG,MAAM,GAAG,IAAI,CAACxD,MAAM,CAACwD,IAAI,CAAC,EAAE/D,CAAC;AACltB,CAAC,EAACD,UAAU,CAACm3B,2CAA2C,GAAG,UAAUl3B,CAAC,EAAEC,CAAC,EAAE;EACvE,OAAOF,UAAU,CAACgS,KAAK,CAAC/R,CAAC,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,QAAQ,IAAI,OAAOA,CAAC,KAAKA,CAAC,GAAG;IAACimB,QAAQ,EAAEjmB;EAAC,CAAC,CAAC,EAAED,UAAU,CAACgS,KAAK,CAAC/R,CAAC,CAACimB,QAAQ,CAAC,KAAKjmB,CAAC,CAACimB,QAAQ,GAAI,cAAahmB,CAAE,EAAC,CAAC,EAAEF,UAAU,CAACgS,KAAK,CAAC/R,CAAC,CAAC+nB,cAAc,CAAC,KAAK/nB,CAAC,CAAC+nB,cAAc,GAAG,CAAC,CAAC,CAAC,EAAEhoB,UAAU,CAACgS,KAAK,CAAC/R,CAAC,CAACmG,GAAG,CAAC,KAAKnG,CAAC,CAACmG,GAAG,GAAG,CAAC,CAAC,CAAC,EAAEpG,UAAU,CAACgS,KAAK,CAAC/R,CAAC,CAAC42B,YAAY,CAAC,KAAK52B,CAAC,CAAC42B,YAAY,GAAG,CAAC,CAAC,CAAC,EAAE52B,CAAC;AAC/T,CAAC,EAACD,UAAU,CAAC2J,SAAS,CAACksB,cAAc,GAAG,UAAU51B,CAAC,EAAEC,CAAC,EAAE;EACpD,IAAIC,CAAC,GAAG,IAAI;IAAEqB,CAAC,GAAG,CAAC;IAAEC,CAAC,GAAG,CAAC;EAC1B,QAAQxB,CAAC,CAACy2B,MAAM;IACZ,KAAI,IAAI;MACJl1B,CAAC,GAAGxB,UAAU,CAACghB,GAAG,EAAEvf,CAAC,GAAGzB,UAAU,CAACihB,GAAG;MACtC;IACJ,KAAI,IAAI;MACJzf,CAAC,GAAGxB,UAAU,CAACkhB,GAAG,EAAEzf,CAAC,GAAGzB,UAAU,CAACmhB,GAAG;MACtC;IACJ,KAAI,IAAI;MACJ3f,CAAC,GAAGxB,UAAU,CAACohB,GAAG,EAAE3f,CAAC,GAAGzB,UAAU,CAACqhB,GAAG;MACtC;IACJ,KAAI,IAAI;MACJ7f,CAAC,GAAGxB,UAAU,CAACshB,GAAG,EAAE7f,CAAC,GAAGzB,UAAU,CAACuhB,GAAG;MACtC;IACJ,KAAI,IAAI;MACJ/f,CAAC,GAAGxB,UAAU,CAACwhB,GAAG,EAAE/f,CAAC,GAAGzB,UAAU,CAACyhB,GAAG;MACtC;IACJ,KAAI,QAAQ;MACRjgB,CAAC,GAAGxB,UAAU,CAAC0hB,OAAO,EAAEjgB,CAAC,GAAGzB,UAAU,CAAC2hB,OAAO;MAC9C;IACJ,KAAI,OAAO;MACPngB,CAAC,GAAGxB,UAAU,CAAC4hB,MAAM,EAAEngB,CAAC,GAAGzB,UAAU,CAAC6hB,MAAM;EACpD;EACA,IAAItX,CAAC,GAAG;MACJ+E,CAAC,EAAErP,CAAC,CAACw2B,SAAS,GAAGh1B,CAAC,IAAIxB,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC,GAAGv2B,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC,CAAC,GAAGh1B,CAAC,IAAIvB,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC,GAAGv2B,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC,CAAC;MAClFhqB,CAAC,EAAEvM,CAAC,CAACw2B,SAAS,GAAGj1B,CAAC,IAAIvB,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC,GAAGv2B,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG/0B,CAAC,IAAIxB,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC,GAAGv2B,CAAC,CAACu2B,MAAM,CAAC,CAAC,CAAC;IACrF,CAAC;IAAExrB,CAAC,GAAG;MAACsE,CAAC,EAAErP,CAAC,CAACw2B,SAAS,GAAGh1B,CAAC,GAAGD,CAAC;MAAEgL,CAAC,EAAEvM,CAAC,CAACw2B,SAAS,GAAGj1B,CAAC,GAAGC;IAAC,CAAC;IAAEwJ,CAAC,GAAG,IAAI,CAACjJ,MAAM,CAACqJ,OAAO,CAACpL,CAAC,CAAC2L,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC,CAACrL,OAAO;EAClHP,UAAU,CAAC4kB,KAAK,CAAC3iB,IAAI,CAACgJ,CAAC,CAAC;EACxB,IAAIE,CAAC,GAAG;IAACE,OAAO,EAAEJ,CAAC,CAAC8rB,SAAS;IAAEjpB,OAAO,EAAE7N,CAAC;IAAEg3B,KAAK,EAAE,CAAC;MAACS,EAAE,EAAE,EAAE;MAAEC,SAAS,EAAEptB,CAAC;MAAEmnB,IAAI,EAAE1mB;IAAC,CAAC,CAAC;IAAE8rB,MAAM,EAAE;EAAE,CAAC;EAChG,IAAI,CAAC52B,CAAC,EAAE;IACJ,IAAI,CAAC,CAAC,KAAKF,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,aAAa,EAAE,CAACzE,CAAC,EAAEgL,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;IACtEnL,UAAU,CAACk3B,OAAO,CAACzsB,IAAI,CAACtK,CAAC,CAAC;EAC9B;EACA,IAAIiL,CAAC,GAAG,IAAI,CAAC7K,OAAO,CAACD,aAAa,CAAC,mBAAmB,CAAC;EACvD8K,CAAC,KAAKD,CAAC,CAAC2rB,MAAM,IAAI1rB,CAAC,CAAC2rB,SAAS,CAAC;EAC9B,IAAIxrB,CAAC,GAAG,IAAI,CAACkB,MAAM,CAAC,CAAC,CAACnM,aAAa,CAAC,MAAM,CAAC;EAC3C,IAAIiL,CAAC,EAAE,KAAK,IAAIE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,CAAC,CAACmlB,QAAQ,CAACllB,MAAM,EAAEC,CAAC,EAAE,EAAE,OAAO,IAAIF,CAAC,CAACmlB,QAAQ,CAACjlB,CAAC,CAAC,CAACmsB,QAAQ,CAACjd,WAAW,CAAC,CAAC,KAAKxP,CAAC,CAAC2rB,MAAM,IAAIvrB,CAAC,CAACmlB,QAAQ,CAACjlB,CAAC,CAAC,CAACsrB,SAAS,CAAC;EAC3I5rB,CAAC,GAAG0N,IAAI,CAACE,SAAS,CAAC5N,CAAC,CAAC,EAAEnL,UAAU,CAAC8Z,KAAK,CAAC,IAAI,CAACtZ,MAAM,CAACiH,SAAS,GAAG,KAAK,EAAE,MAAM,EAAE0D,CAAC,EAAE,aAAa,EAAG,UAAU3J,CAAC,EAAE;IAC3G,IAAItB,CAAC,EAAEA,CAAC,CAACC,CAAC,EAAEqB,CAAC,CAAC,CAAC,KAAM;MACjB,IAAIC,CAAC,GAAGzB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,WAAW,EAAE,CAACzE,CAAC,EAAEqB,CAAC,CAAC,CAAC;MACtD,IAAIxB,UAAU,CAACk3B,OAAO,CAACvS,IAAI,CAACxkB,CAAC,CAAC,EAAE,CAAC,CAAC,KAAKsB,CAAC,EAAE,OAAO,CAAC,CAAC;MACnDzB,UAAU,CAAC6wB,aAAa,CAAC5wB,CAAC,CAACs2B,IAAI,EAAE/0B,CAAC,EAAEvB,CAAC,CAACimB,QAAQ,EAAEjmB,CAAC,CAAC42B,YAAY,EAAE52B,CAAC,CAACq2B,GAAG,CAAC;IAC1E;EACJ,CAAE,CAAC;AACP,CAAC,EAAC,KAAK,CAAC,KAAKt2B,UAAU,KAAKA,UAAU,GAAG,CAAC,CAAC,CAAC,EAACA,UAAU,CAAC2E,MAAM,GAAG,YAAY;EACzE,IAAI1E,CAAC,GAAG,CAAC,CAAC;EACV,OAAO;IACHgK,EAAE,EAAE,SAAAA,CAAU/J,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;MACnBsU,KAAK,CAACC,OAAO,CAAC9V,CAAC,CAACC,CAAC,CAAC,CAAC,KAAKD,CAAC,CAACC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAED,CAAC,CAACC,CAAC,CAAC,CAACmT,IAAI,CAAC;QAACwkB,QAAQ,EAAE13B,CAAC;QAAE23B,QAAQ,EAAEt2B;MAAC,CAAC,CAAC;IAC7E,CAAC;IAAEu2B,SAAS,EAAE,SAAAA,CAAU73B,CAAC,EAAE;MACvB4V,KAAK,CAACC,OAAO,CAAC9V,CAAC,CAACC,CAAC,CAAC,CAAC,KAAKD,CAAC,CAACC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAED,CAAC,CAACC,CAAC,CAAC,GAAG,EAAE;IACjD,CAAC;IAAEuJ,MAAM,EAAE,SAAAA,CAAUvJ,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;MAC1B,IAAIC,CAAC,GAAG,CAAC,CAAC;MACV,IAAIxB,CAAC,CAACC,CAAC,CAAC,IAAI4V,KAAK,CAACC,OAAO,CAAC9V,CAAC,CAACC,CAAC,CAAC,CAAC,IAAID,CAAC,CAACC,CAAC,CAAC,CAACsL,MAAM,GAAG,CAAC,EAAE,KAAK,IAAIjB,CAAC,GAAGtK,CAAC,CAACC,CAAC,CAAC,CAACsL,MAAM,GAAG,CAAC,EAAEjB,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE,CAAC,CAACvK,UAAU,CAACgS,KAAK,CAACxQ,CAAC,CAAC,IAAI,CAACxB,UAAU,CAACgS,KAAK,CAAC7R,CAAC,CAAC,IAAIF,CAAC,CAACC,CAAC,CAAC,CAACqK,CAAC,CAAC,CAACutB,QAAQ,IAAIt2B,CAAC,IAAIvB,CAAC,CAACC,CAAC,CAAC,CAACqK,CAAC,CAAC,CAACstB,QAAQ,IAAI13B,CAAC,IAAI,CAACH,UAAU,CAACgS,KAAK,CAACxQ,CAAC,CAAC,IAAIxB,UAAU,CAACgS,KAAK,CAAC7R,CAAC,CAAC,IAAIF,CAAC,CAACC,CAAC,CAAC,CAACqK,CAAC,CAAC,CAACutB,QAAQ,IAAIt2B,CAAC,IAAIxB,UAAU,CAACgS,KAAK,CAACxQ,CAAC,CAAC,IAAI,CAACxB,UAAU,CAACgS,KAAK,CAAC7R,CAAC,CAAC,IAAIF,CAAC,CAACC,CAAC,CAAC,CAACqK,CAAC,CAAC,CAACstB,QAAQ,IAAI13B,CAAC,IAAIH,UAAU,CAACgS,KAAK,CAACxQ,CAAC,CAAC,IAAIxB,UAAU,CAACgS,KAAK,CAAC7R,CAAC,CAAC,MAAMF,CAAC,CAACC,CAAC,CAAC,CAAC2X,MAAM,CAACtN,CAAC,EAAE,CAAC,CAAC,EAAE9I,CAAC,GAAG,CAAC,CAAC,CAAC;MAC5Z,OAAOA,CAAC;IACZ,CAAC;IAAEiY,GAAG,EAAE,SAAAA,CAAUxZ,CAAC,EAAEC,CAAC,EAAE;MACpB,IAAIF,CAAC,CAACC,CAAC,CAAC,IAAI4V,KAAK,CAACC,OAAO,CAAC9V,CAAC,CAACC,CAAC,CAAC,CAAC,IAAID,CAAC,CAACC,CAAC,CAAC,CAACsL,MAAM,GAAG,CAAC,EAAE;QAChD,IAAIxL,UAAU,CAACgS,KAAK,CAAC7R,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;QAClC,KAAK,IAAIqB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGvB,CAAC,CAACC,CAAC,CAAC,CAACsL,MAAM,EAAEhK,CAAC,EAAE,EAAE,IAAIvB,CAAC,CAACC,CAAC,CAAC,CAACsB,CAAC,CAAC,CAACs2B,QAAQ,IAAI33B,CAAC,EAAE,OAAO,CAAC,CAAC;MAC9E;MACA,OAAO,CAAC,CAAC;IACb,CAAC;IAAE4U,gBAAgB,EAAE,SAAAA,CAAU7U,CAAC,EAAE;MAC9B,KAAK,IAAIC,CAAC,IAAIF,CAAC,EAAE,IAAI6V,KAAK,CAACC,OAAO,CAAC9V,CAAC,CAACE,CAAC,CAAC,CAAC,EAAE,KAAK,IAAIqB,CAAC,GAAGvB,CAAC,CAACE,CAAC,CAAC,CAACqL,MAAM,GAAG,CAAC,EAAEhK,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAEvB,CAAC,CAACE,CAAC,CAAC,CAACqB,CAAC,CAAC,CAACs2B,QAAQ,IAAI53B,CAAC,IAAID,CAAC,CAACE,CAAC,CAAC,CAAC0X,MAAM,CAACrW,CAAC,EAAE,CAAC,CAAC;IACnI,CAAC;IAAEoD,OAAO,EAAE,SAAAA,CAAU1E,CAAC,EAAEC,CAAC,EAAE;MACxB,IAAIF,CAAC,CAACC,CAAC,CAAC,EAAE;QACN,KAAK,IAAIsB,CAAC,GAAG,EAAE,EAAEC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGxB,CAAC,CAACC,CAAC,CAAC,CAACsL,MAAM,EAAE/J,CAAC,EAAE,EAAE;UAC1C,IAAI8I,CAAC,GAAGtK,CAAC,CAACC,CAAC,CAAC,CAACuB,CAAC,CAAC;UACf,IAAI,IAAI8I,CAAC,CAACutB,QAAQ,IAAIvtB,CAAC,CAACutB,QAAQ,IAAI33B,CAAC,CAAC,CAAC,CAAC,CAACwB,SAAS,IAAIH,CAAC,CAAC6R,IAAI,CAAC9I,CAAC,CAACstB,QAAQ,CAAC;QAC5E;QACA,IAAIr2B,CAAC,CAACgK,MAAM,GAAG,CAAC,EAAE;UACd,IAAIR,CAAC,GAAG,CAAC,CAAC;UACV,KAAKvJ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,CAAC,CAACgK,MAAM,KAAK,CAAC,IAAIrL,CAAC,CAACqL,MAAM,GAAGR,CAAC,GAAGxJ,CAAC,CAACC,CAAC,CAAC,CAACtB,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI6K,CAAC,GAAG,CAAC,IAAI7K,CAAC,CAACqL,MAAM,GAAGR,CAAC,GAAGxJ,CAAC,CAACC,CAAC,CAAC,CAACtB,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI6K,CAAC,GAAG,CAAC,IAAI7K,CAAC,CAACqL,MAAM,GAAGR,CAAC,GAAGxJ,CAAC,CAACC,CAAC,CAAC,CAACtB,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI6K,CAAC,GAAG,CAAC,IAAI7K,CAAC,CAACqL,MAAM,GAAGR,CAAC,GAAGxJ,CAAC,CAACC,CAAC,CAAC,CAACtB,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI6K,CAAC,GAAG,CAAC,IAAI7K,CAAC,CAACqL,MAAM,KAAKR,CAAC,GAAGxJ,CAAC,CAACC,CAAC,CAAC,CAACtB,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI6K,CAAC,CAAC,EAAE,CAAC,CAAC,KAAKA,CAAC,CAAC,EAAEvJ,CAAC,EAAE,CAAE;UACzS,OAAOuJ,CAAC;QACZ;MACJ;IACJ;EACJ,CAAC;AACL,CAAC,CAAC,CAAC,EAAChL,UAAU,CAAC2J,SAAS,CAACquB,SAAS,GAAG,YAAY;EAC7C,IAAI/3B,CAAC,GAAG,IAAI;IAAEC,CAAC,GAAGG,QAAQ,CAAC0mB,aAAa,CAAC,OAAO,CAAC;EACjD7mB,CAAC,CAAC+O,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC,EAAE/O,CAAC,CAAC+O,YAAY,CAAC,QAAQ,EAAE,MAAM,CAAC,EAAE/O,CAAC,CAACyO,KAAK,CAAC4D,OAAO,GAAG,MAAM,EAAErS,CAAC,CAACmsB,QAAQ,GAAG,UAAUnsB,CAAC,EAAE;IAClH,IAAIC,CAAC,GAAGD,CAAC,CAACia,MAAM;MAAE3Y,CAAC,GAAG,IAAIuwB,UAAU,CAAD,CAAC;IACpCvwB,CAAC,CAACwY,MAAM,GAAG,YAAY;MACnB,IAAI9Z,CAAC,GAAGsB,CAAC,CAAC6oB,MAAM;QAAElqB,CAAC,GAAGH,UAAU,CAACmyB,WAAW,CAACjyB,CAAC,CAAC;QAAEuB,CAAC,GAAG,EAAE;QAAE8I,CAAC,GAAGpK,CAAC,CAAC,CAAC,CAAC;MACjEH,UAAU,CAACi4B,qBAAqB,CAAC1tB,CAAC,EAAG,UAAUrK,CAAC,EAAE;QAC9C,KAAK,IAAIsB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGrB,CAAC,CAACqL,MAAM,EAAEhK,CAAC,EAAE,EAAE;UAC/B,KAAK,IAAI+I,CAAC,GAAG,CAAC,CAAC,EAAES,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG7K,CAAC,CAACqB,CAAC,CAAC,CAACgK,MAAM,EAAER,CAAC,EAAE,EAAE;YAC1C,IAAIC,CAAC,GAAG/K,CAAC,CAAC8K,CAAC,CAAC;cAAEG,CAAC,GAAGhL,CAAC,CAACqB,CAAC,CAAC,CAACwJ,CAAC,CAAC;YACzBT,CAAC,CAACU,CAAC,CAAC,GAAGjL,UAAU,CAACiyB,qBAAqB,CAAChnB,CAAC,EAAEE,CAAC,CAAC;UACjD;UACA,EAAE,IAAIZ,CAAC,CAACqB,EAAE,CAACuoB,IAAI,CAAC,CAAC,IAAI1yB,CAAC,CAAC4R,IAAI,CAAC9I,CAAC,CAAC;QAClC;QACA,IAAIa,CAAC,GAAG;UAAC5G,KAAK,EAAE/C,CAAC;UAAEy2B,WAAW,EAAE/3B,CAAC,CAAC,CAAC;QAAC,CAAC;QACrC,CAAC,IAAIH,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,QAAQ,EAAE,CAAC3E,CAAC,EAAEmL,CAAC,CAAC,CAAC,KAAKnL,CAAC,CAACuX,eAAe,CAAC,CAAC,EAAEvX,CAAC,CAACwX,SAAS,CAAC,CAAC,EAAExX,CAAC,CAACO,MAAM,CAACgE,KAAK,GAAG4G,CAAC,CAAC5G,KAAK,EAAExE,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,SAAS,EAAE,CAAC3E,CAAC,CAAC,CAAC,EAAEA,CAAC,CAACiC,QAAQ,CAAC4C,MAAM,CAAC,CAAC,EAAE7E,CAAC,CAACkK,IAAI,CAAC,CAAC,CAAC;MAChM,CAAE,CAAC;IACP,CAAC,EAAE3I,CAAC,CAAC22B,UAAU,CAACh4B,CAAC,CAACmsB,KAAK,CAAC,CAAC,CAAC,CAAC;EAC/B,CAAC,EAAEpsB,CAAC,CAACssB,KAAK,CAAC,CAAC;AAChB,CAAC,EAACxsB,UAAU,CAACi4B,qBAAqB,GAAG,UAAUh4B,CAAC,EAAEC,CAAC,EAAE;EACjD,IAAI,CAAC,CAAC,IAAID,CAAC,CAACuV,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAIvV,CAAC,CAACuV,OAAO,CAAC,KAAK,CAAC,EAAE;IACjD,IAAIrV,CAAC,GAAGE,QAAQ,CAAC0mB,aAAa,CAAC,KAAK,CAAC;MAAEvlB,CAAC,GAAGnB,QAAQ,CAAC0mB,aAAa,CAAC,GAAG,CAAC;IACtEvlB,CAAC,CAACmN,KAAK,CAACpL,OAAO,GAAG,KAAK,EAAE/B,CAAC,CAACmN,KAAK,CAACoB,KAAK,GAAG,oBAAoB,EAAEvO,CAAC,CAACyL,SAAS,GAAGjN,UAAU,CAAC4iB,cAAc,EAAEziB,CAAC,CAAC6P,WAAW,CAACxO,CAAC,CAAC;IACxH,IAAIC,CAAC,GAAGpB,QAAQ,CAAC0mB,aAAa,CAAC,KAAK,CAAC;MAAExc,CAAC,GAAGlK,QAAQ,CAAC0mB,aAAa,CAAC,KAAK,CAAC;MAAE/b,CAAC,GAAG3K,QAAQ,CAAC0mB,aAAa,CAAC,KAAK,CAAC;MACvG9b,CAAC,GAAG5K,QAAQ,CAAC0mB,aAAa,CAAC,MAAM,CAAC;IACtCtlB,CAAC,CAACwN,YAAY,CAAC,IAAI,EAAE,kBAAkB,CAAC,EAAExN,CAAC,CAACkN,KAAK,CAACtE,MAAM,GAAG,OAAO,EAAE5I,CAAC,CAACkN,KAAK,CAACvE,KAAK,GAAG,OAAO,EAAE3I,CAAC,CAACkN,KAAK,CAACypB,UAAU,GAAG,OAAO,EAAE32B,CAAC,CAACkN,KAAK,CAAC0pB,MAAM,GAAG,kBAAkB,EAAE52B,CAAC,CAACkN,KAAK,CAACE,QAAQ,GAAG,OAAO,EAAEpN,CAAC,CAACkN,KAAK,CAACC,QAAQ,GAAG,QAAQ,EAAEnN,CAAC,CAACkN,KAAK,CAAC2pB,MAAM,GAAG,IAAI,EAAE/tB,CAAC,CAAC0E,YAAY,CAAC,IAAI,EAAE,OAAO,CAAC,EAAE1E,CAAC,CAACoE,KAAK,CAAC4pB,eAAe,GAAG,SAAS,EAAEhuB,CAAC,CAACoE,KAAK,CAAC6pB,UAAU,GAAG,MAAM,EAAEjuB,CAAC,CAACoE,KAAK,CAACoB,KAAK,GAAG,oBAAoB,EAAExF,CAAC,CAACoE,KAAK,CAACtE,MAAM,GAAG,MAAM,EAAEE,CAAC,CAACoE,KAAK,CAACpL,OAAO,GAAG,aAAa,EAAE0H,CAAC,CAACgE,YAAY,CAAC,IAAI,EAAE,OAAO,CAAC,EAAEhE,CAAC,CAAC0D,KAAK,CAACga,MAAM,GAAG,SAAS,EAAE1d,CAAC,CAAC0D,KAAK,CAACE,QAAQ,GAAG,UAAU,EAAE5D,CAAC,CAAC0D,KAAK,CAACoB,KAAK,GAAG,oBAAoB,EAAE9E,CAAC,CAAC0D,KAAK,CAAC6pB,UAAU,GAAG,MAAM,EAAEvtB,CAAC,CAAC0D,KAAK,CAACzH,GAAG,GAAG,KAAK,EAAE+D,CAAC,CAAC0D,KAAK,CAAC2pB,MAAM,GAAG,GAAG,EAAEttB,CAAC,CAACiE,YAAY,CAAC,IAAI,EAAE,SAAS,CAAC,EAAEjE,CAAC,CAAC2D,KAAK,CAACpL,OAAO,GAAG,KAAK,EAAEgH,CAAC,CAAC0C,SAAS,GAAG,kCAAkC,EAAEhC,CAAC,CAACgC,SAAS,GAAG,SAAS;IAC5vB,IAAI9B,CAAC,GAAG9K,QAAQ,CAAC0mB,aAAa,CAAC,IAAI,CAAC;IACpC5b,CAAC,CAACwD,KAAK,CAACtE,MAAM,GAAG,OAAO,EAAEc,CAAC,CAACwD,KAAK,CAAC4pB,eAAe,GAAG,SAAS,EAAEptB,CAAC,CAACwD,KAAK,CAAC0pB,MAAM,GAAG,MAAM,EAAEltB,CAAC,CAACwD,KAAK,CAAC6nB,MAAM,GAAG,GAAG,EAAE/0B,CAAC,CAACuO,WAAW,CAACzF,CAAC,CAAC,EAAE9I,CAAC,CAACuO,WAAW,CAAC7E,CAAC,CAAC,EAAEH,CAAC,CAACgF,WAAW,CAAC7P,CAAC,CAAC,EAAEsB,CAAC,CAACuO,WAAW,CAAChF,CAAC,CAAC,EAAEvJ,CAAC,CAACuO,WAAW,CAAC/E,CAAC,CAAC,EAAE5K,QAAQ,CAACksB,IAAI,CAACvc,WAAW,CAACvO,CAAC,CAAC,EAAEzB,UAAU,CAACy4B,aAAa,CAACh3B,CAAC,CAAC,EAAEwJ,CAAC,CAAC0D,KAAK,CAACa,IAAI,GAAG/N,CAAC,CAACsN,WAAW,GAAG,EAAE,GAAG,IAAI;IAC3S,IAAI3D,CAAC,GAAG/K,QAAQ,CAAC0mB,aAAa,CAAC,KAAK,CAAC;IACrC3b,CAAC,CAAC6D,YAAY,CAAC,IAAI,EAAE,SAAS,CAAC,EAAE7D,CAAC,CAACuD,KAAK,CAACvE,KAAK,GAAG,MAAM,EAAEgB,CAAC,CAACuD,KAAK,CAACtE,MAAM,GAAG,MAAM,EAAEe,CAAC,CAACuD,KAAK,CAACa,IAAI,GAAG,CAAC,EAAEpE,CAAC,CAACuD,KAAK,CAACzH,GAAG,GAAG,CAAC,EAAEkE,CAAC,CAACuD,KAAK,CAACE,QAAQ,GAAG,OAAO,EAAEzD,CAAC,CAACuD,KAAK,CAACypB,UAAU,GAAG,MAAM,EAAEhtB,CAAC,CAACuD,KAAK,CAACsB,OAAO,GAAG,KAAK,EAAE7E,CAAC,CAACuD,KAAK,CAAC2pB,MAAM,GAAG,EAAE,EAAEj4B,QAAQ,CAACksB,IAAI,CAACvc,WAAW,CAAC5E,CAAC,CAAC,EAAE3J,CAAC,CAACi3B,QAAQ,GAAGttB,CAAC;IACxQ,IAAIG,CAAC,GAAGlL,QAAQ,CAAC0mB,aAAa,CAAC,OAAO,CAAC;MAAEtb,CAAC,GAAGpL,QAAQ,CAACmwB,cAAc,CAAC,OAAO,CAAC;IAC7EjlB,CAAC,CAAC0D,YAAY,CAAC,KAAK,EAAE,eAAe,CAAC,EAAE1D,CAAC,CAACyE,WAAW,CAACvE,CAAC,CAAC,EAAEF,CAAC,CAACoD,KAAK,CAACgqB,QAAQ,GAAG,MAAM,EAAEptB,CAAC,CAACoD,KAAK,CAACoB,KAAK,GAAG,oBAAoB,EAAExE,CAAC,CAACoD,KAAK,CAACpL,OAAO,GAAG,KAAK,EAAEgI,CAAC,CAACoD,KAAK,CAAC6nB,MAAM,GAAG,KAAK,EAAEjrB,CAAC,CAACoD,KAAK,CAACvE,KAAK,GAAG,KAAK,EAAEmB,CAAC,CAACoD,KAAK,CAACiqB,SAAS,GAAG,OAAO,EAAErtB,CAAC,CAACoD,KAAK,CAAC4D,OAAO,GAAG,cAAc,EAAEpS,CAAC,CAAC6P,WAAW,CAACzE,CAAC,CAAC;IAClR,IAAIG,CAAC,GAAGrL,QAAQ,CAAC0mB,aAAa,CAAC,QAAQ,CAAC;IACxCrb,CAAC,CAACE,EAAE,GAAG,eAAe,EAAEF,CAAC,CAACiD,KAAK,CAACgqB,QAAQ,GAAG,MAAM,EAAEjtB,CAAC,CAACiD,KAAK,CAACoB,KAAK,GAAG,oBAAoB,EAAErE,CAAC,CAACiD,KAAK,CAACpL,OAAO,GAAG,KAAK,EAAEmI,CAAC,CAACiD,KAAK,CAAC6nB,MAAM,GAAG,KAAK,EAAE9qB,CAAC,CAACiD,KAAK,CAACvE,KAAK,GAAG,KAAK,EAAEsB,CAAC,CAACiD,KAAK,CAAC0pB,MAAM,GAAG,mBAAmB,EAAEl4B,CAAC,CAAC6P,WAAW,CAACtE,CAAC,CAAC;IACvN,IAAIc,CAAC,GAAGnM,QAAQ,CAAC0mB,aAAa,CAAC,IAAI,CAAC;IACpC5mB,CAAC,CAAC6P,WAAW,CAACxD,CAAC,CAAC;IAChB,KAAK,IAAIE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGzM,CAAC,CAACuL,MAAM,EAAEkB,CAAC,EAAE,EAAE;MAC/B,CAAC4B,CAAC,GAAGjO,QAAQ,CAAC0mB,aAAa,CAAC,QAAQ,CAAC,EAAE9X,YAAY,CAAC,OAAO,EAAEhP,CAAC,CAACyM,CAAC,CAAC,CAAC;MAClE,IAAIY,CAAC,GAAGjN,QAAQ,CAACmwB,cAAc,CAACvwB,CAAC,CAACyM,CAAC,CAAC,CAAC;MACrC4B,CAAC,CAAC0B,WAAW,CAAC1C,CAAC,CAAC,EAAE5B,CAAC,CAACsE,WAAW,CAAC1B,CAAC,CAAC;IACtC;IACA,IAAIf,CAAC,GAAGlN,QAAQ,CAAC0mB,aAAa,CAAC,OAAO,CAAC;MAAE7Y,CAAC,GAAG7N,QAAQ,CAACmwB,cAAc,CAAC,aAAa,CAAC;IACnFjjB,CAAC,CAAC0B,YAAY,CAAC,KAAK,EAAE,YAAY,CAAC,EAAE1B,CAAC,CAACyC,WAAW,CAAC9B,CAAC,CAAC,EAAEX,CAAC,CAACoB,KAAK,CAACgqB,QAAQ,GAAG,MAAM,EAAEprB,CAAC,CAACoB,KAAK,CAACoB,KAAK,GAAG,oBAAoB,EAAExC,CAAC,CAACoB,KAAK,CAACpL,OAAO,GAAG,KAAK,EAAEgK,CAAC,CAACoB,KAAK,CAAC6nB,MAAM,GAAG,KAAK,EAAEjpB,CAAC,CAACoB,KAAK,CAACvE,KAAK,GAAG,KAAK,EAAEmD,CAAC,CAACoB,KAAK,CAACiqB,SAAS,GAAG,OAAO,EAAErrB,CAAC,CAACoB,KAAK,CAAC4D,OAAO,GAAG,cAAc,EAAEpS,CAAC,CAAC6P,WAAW,CAACzC,CAAC,CAAC;IAC/Q,IAAIY,CAAC,GAAG9N,QAAQ,CAAC0mB,aAAa,CAAC,QAAQ,CAAC;IACxC5Y,CAAC,CAACvC,EAAE,GAAG,YAAY,EAAEuC,CAAC,CAACQ,KAAK,CAACgqB,QAAQ,GAAG,MAAM,EAAExqB,CAAC,CAACQ,KAAK,CAACoB,KAAK,GAAG,oBAAoB,EAAE5B,CAAC,CAACQ,KAAK,CAACpL,OAAO,GAAG,KAAK,EAAE4K,CAAC,CAACQ,KAAK,CAAC6nB,MAAM,GAAG,KAAK,EAAEroB,CAAC,CAACQ,KAAK,CAACvE,KAAK,GAAG,KAAK,EAAE+D,CAAC,CAACQ,KAAK,CAAC0pB,MAAM,GAAG,mBAAmB,EAAEl4B,CAAC,CAAC6P,WAAW,CAAC7B,CAAC,CAAC;IACpN,KAAKzB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGzM,CAAC,CAACuL,MAAM,EAAEkB,CAAC,EAAE,EAAE;MAC3B,IAAI4B,CAAC;MACL,CAACA,CAAC,GAAGjO,QAAQ,CAAC0mB,aAAa,CAAC,QAAQ,CAAC,EAAE9X,YAAY,CAAC,OAAO,EAAEhP,CAAC,CAACyM,CAAC,CAAC,CAAC;MAClEY,CAAC,GAAGjN,QAAQ,CAACmwB,cAAc,CAACvwB,CAAC,CAACyM,CAAC,CAAC,CAAC;MACjC4B,CAAC,CAAC0B,WAAW,CAAC1C,CAAC,CAAC,EAAEa,CAAC,CAAC6B,WAAW,CAAC1B,CAAC,CAAC;IACtC;IACA,IAAIhC,CAAC,GAAGjM,QAAQ,CAAC0mB,aAAa,CAAC,QAAQ,CAAC;IACxCza,CAAC,CAACW,SAAS,GAAG,QAAQ,EAAEX,CAAC,CAACqC,KAAK,CAACgqB,QAAQ,GAAG,MAAM,EAAErsB,CAAC,CAACqC,KAAK,CAACoB,KAAK,GAAG,oBAAoB,EAAEzD,CAAC,CAACqC,KAAK,CAACpL,OAAO,GAAG,UAAU,EAAE+I,CAAC,CAACqC,KAAK,CAAC6nB,MAAM,GAAG,WAAW,EAAElqB,CAAC,CAACqC,KAAK,CAAC4D,OAAO,GAAG,OAAO,EAAEjG,CAAC,CAACusB,OAAO,GAAG,YAAY;MACpMp3B,CAAC,CAACkN,KAAK,CAAC4D,OAAO,GAAG,MAAM,EAAE9Q,CAAC,CAACi3B,QAAQ,IAAIj3B,CAAC,CAACi3B,QAAQ,CAAC/rB,UAAU,CAACC,WAAW,CAACnL,CAAC,CAACi3B,QAAQ,CAAC;MACrF,IAAIv4B,CAAC,GAAGuL,CAAC,CAACoC,OAAO,CAACpC,CAAC,CAACotB,aAAa,CAAC,CAAClT,KAAK;QAAEpkB,CAAC,GAAGvB,CAAC,CAACuV,OAAO,CAACrV,CAAC,CAAC;MAC1DF,CAAC,CAACuB,CAAC,CAAC,GAAG,IAAI;MACX,IAAI+I,CAAC,GAAG4D,CAAC,CAACL,OAAO,CAACK,CAAC,CAAC2qB,aAAa,CAAC,CAAClT,KAAK;QAAE5a,CAAC,GAAG/K,CAAC,CAACuV,OAAO,CAACjL,CAAC,CAAC;MAC1DtK,CAAC,CAAC+K,CAAC,CAAC,GAAG,KAAK,EAAE9K,CAAC,CAACD,CAAC,CAAC;IACtB,CAAC;IACD,IAAI8a,CAAC,GAAG1a,QAAQ,CAAC0mB,aAAa,CAAC,KAAK,CAAC;IACrC,OAAOhM,CAAC,CAAC/K,WAAW,CAAC1D,CAAC,CAAC,EAAEnM,CAAC,CAAC6P,WAAW,CAAC+K,CAAC,CAAC,EAAE9P,CAAC,CAAC4tB,OAAO,GAAG,UAAU54B,CAAC,EAAE;MAChEwB,CAAC,CAACi3B,QAAQ,IAAIj3B,CAAC,CAACi3B,QAAQ,CAAC/rB,UAAU,CAACC,WAAW,CAACnL,CAAC,CAACi3B,QAAQ,CAAC,EAAEj3B,CAAC,CAACkL,UAAU,CAACC,WAAW,CAACnL,CAAC,CAAC,EAAExB,CAAC,CAAC2d,eAAe,CAAC,CAAC;IACjH,CAAC,EAAErT,CAAC,CAACwuB,WAAW,GAAG,UAAU94B,CAAC,EAAE;MAC5BA,CAAC,GAAGA,CAAC,IAAI6U,MAAM,CAAC2I,KAAK,EAAEhc,CAAC,CAACu3B,SAAS,GAAG,CAAC,CAAC,EAAEv3B,CAAC,CAACw3B,aAAa,GAAGx3B,CAAC,CAACmsB,UAAU,EAAEnsB,CAAC,CAACy3B,YAAY,GAAGz3B,CAAC,CAACosB,SAAS,EAAEpsB,CAAC,CAAC03B,UAAU,GAAGl5B,CAAC,CAACqtB,OAAO,EAAE7rB,CAAC,CAAC23B,SAAS,GAAGn5B,CAAC,CAACstB,OAAO;IAC5J,CAAC,EAAEltB,QAAQ,CAACg5B,WAAW,GAAG,UAAUp5B,CAAC,EAAE;MACnCA,CAAC,GAAGA,CAAC,IAAI6U,MAAM,CAAC2I,KAAK,EAAEhc,CAAC,CAACu3B,SAAS,KAAKv3B,CAAC,CAACkN,KAAK,CAACa,IAAI,GAAG/N,CAAC,CAACw3B,aAAa,GAAGh5B,CAAC,CAACqtB,OAAO,GAAG7rB,CAAC,CAAC03B,UAAU,GAAG,IAAI,EAAE13B,CAAC,CAACkN,KAAK,CAACzH,GAAG,GAAGzF,CAAC,CAACy3B,YAAY,GAAGj5B,CAAC,CAACstB,OAAO,GAAG9rB,CAAC,CAAC23B,SAAS,GAAG,IAAI,CAAC;IAC3K,CAAC,EAAE/4B,QAAQ,CAACi5B,SAAS,GAAG,UAAUr5B,CAAC,EAAE;MACjCA,CAAC,GAAGA,CAAC,IAAI6U,MAAM,CAAC2I,KAAK,EAAEhc,CAAC,CAACu3B,SAAS,KAAKv3B,CAAC,CAACkN,KAAK,CAACa,IAAI,GAAG/N,CAAC,CAACw3B,aAAa,GAAGh5B,CAAC,CAACqtB,OAAO,GAAG7rB,CAAC,CAAC03B,UAAU,GAAG,IAAI,EAAE13B,CAAC,CAACkN,KAAK,CAACzH,GAAG,GAAGzF,CAAC,CAACy3B,YAAY,GAAGj5B,CAAC,CAACstB,OAAO,GAAG9rB,CAAC,CAAC23B,SAAS,GAAG,IAAI,EAAE33B,CAAC,CAACu3B,SAAS,GAAG,CAAC,CAAC,CAAC;IAC7L,CAAC,EAAEv3B,CAAC;EACR;EACAvB,CAAC,CAACD,CAAC,CAAC;AACR,CAAC,EAACD,UAAU,CAACy4B,aAAa,GAAG,UAAUx4B,CAAC,EAAE;EACtCA,CAAC,KAAKA,CAAC,CAAC0O,KAAK,CAACa,IAAI,GAAG,CAACsF,MAAM,CAACykB,UAAU,GAAGt5B,CAAC,CAAC8O,WAAW,IAAI,CAAC,GAAG,IAAI,EAAE9O,CAAC,CAAC0O,KAAK,CAACzH,GAAG,GAAG,CAAC4N,MAAM,CAAC0kB,WAAW,GAAGv5B,CAAC,CAAC6O,YAAY,IAAI,CAAC,GAAG,IAAI,CAAC;AACxI,CAAC,EAAC9O,UAAU,CAAC2J,SAAS,CAAC8vB,SAAS,GAAG,YAAY;EAC3C,IAAIx5B,CAAC,GAAG,IAAI;IAAEC,CAAC,GAAGG,QAAQ,CAAC0mB,aAAa,CAAC,OAAO,CAAC;EACjD7mB,CAAC,CAAC+O,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC,EAAE/O,CAAC,CAAC+O,YAAY,CAAC,QAAQ,EAAE,MAAM,CAAC,EAAE/O,CAAC,CAACyO,KAAK,CAAC4D,OAAO,GAAG,MAAM,EAAErS,CAAC,CAACmsB,QAAQ,GAAG,UAAUnsB,CAAC,EAAE;IAClH,IAAIC,CAAC,GAAGD,CAAC,CAACia,MAAM;MAAE3Y,CAAC,GAAG,IAAIuwB,UAAU,CAAD,CAAC;IACpCvwB,CAAC,CAACwY,MAAM,GAAG,YAAY;MACnB,IAAI9Z,CAAC,GAAGsB,CAAC,CAAC6oB,MAAM;QAAElqB,CAAC,GAAGH,UAAU,CAAC8J,SAAS,CAAC5J,CAAC,CAAC;MAC7C,CAAC,IAAIF,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,QAAQ,EAAE,CAAC3E,CAAC,EAAEE,CAAC,CAAC,CAAC,KAAKF,CAAC,CAACuX,eAAe,CAAC,CAAC,EAAEvX,CAAC,CAACwX,SAAS,CAAC,CAAC,EAAExX,CAAC,CAACO,MAAM,CAACgE,KAAK,GAAGrE,CAAC,EAAEH,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,SAAS,EAAE,CAAC3E,CAAC,CAAC,CAAC,EAAEA,CAAC,CAACiC,QAAQ,CAAC4C,MAAM,CAAC,CAAC,EAAE7E,CAAC,CAACkK,IAAI,CAAC,CAAC,CAAC;IAC1L,CAAC,EAAE3I,CAAC,CAAC22B,UAAU,CAACh4B,CAAC,CAACmsB,KAAK,CAAC,CAAC,CAAC,CAAC;EAC/B,CAAC,EAAEpsB,CAAC,CAACssB,KAAK,CAAC,CAAC;AAChB,CAAC,EAACxsB,UAAU,CAAC2J,SAAS,CAAC+vB,UAAU,GAAG,YAAY;EAC5C,IAAIz5B,CAAC,GAAG,IAAI;IAAEC,CAAC,GAAGG,QAAQ,CAAC0mB,aAAa,CAAC,OAAO,CAAC;EACjD7mB,CAAC,CAAC+O,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC,EAAE/O,CAAC,CAAC+O,YAAY,CAAC,QAAQ,EAAE,OAAO,CAAC,EAAE/O,CAAC,CAACyO,KAAK,CAAC4D,OAAO,GAAG,MAAM,EAAErS,CAAC,CAACmsB,QAAQ,GAAG,UAAUnsB,CAAC,EAAE;IACnH,IAAIC,CAAC,GAAGD,CAAC,CAACia,MAAM;MAAE3Y,CAAC,GAAG,IAAIuwB,UAAU,CAAD,CAAC;IACpCvwB,CAAC,CAACwY,MAAM,GAAG,YAAY;MACnB,IAAI9Z,CAAC,GAAGsB,CAAC,CAAC6oB,MAAM;QAAElqB,CAAC,GAAG0Y,IAAI,CAACC,KAAK,CAAC5Y,CAAC,CAAC;MACnC,CAAC,IAAIF,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,QAAQ,EAAE,CAAC3E,CAAC,EAAEE,CAAC,CAAC,CAAC,KAAKF,CAAC,CAACuX,eAAe,CAAC,CAAC,EAAEvX,CAAC,CAACwX,SAAS,CAAC,CAAC,EAAExX,CAAC,CAACO,MAAM,CAACgE,KAAK,GAAGrE,CAAC,EAAEH,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,SAAS,EAAE,CAAC3E,CAAC,CAAC,CAAC,EAAEA,CAAC,CAACiC,QAAQ,CAAC4C,MAAM,CAAC,CAAC,EAAE7E,CAAC,CAACkK,IAAI,CAAC,CAAC,CAAC;IAC1L,CAAC,EAAE3I,CAAC,CAAC22B,UAAU,CAACh4B,CAAC,CAACmsB,KAAK,CAAC,CAAC,CAAC,CAAC;EAC/B,CAAC,EAAEpsB,CAAC,CAACssB,KAAK,CAAC,CAAC;AAChB,CAAC,EAACxsB,UAAU,CAAC2J,SAAS,CAACgwB,YAAY,GAAG35B,UAAU,CAAC2J,SAAS,CAAC+vB,UAAU,EAAC15B,UAAU,CAAC2J,SAAS,CAAC+vB,UAAU,GAAG,YAAY;EAChH,IAAI,CAACl5B,MAAM,CAAC4H,KAAK,GAAG,EAAE,EAAE,IAAI,CAACuxB,YAAY,CAAC,CAAC;AAC/C,CAAC,EAAC35B,UAAU,CAAC2J,SAAS,CAACiwB,WAAW,GAAG55B,UAAU,CAAC2J,SAAS,CAACquB,SAAS,EAACh4B,UAAU,CAAC2J,SAAS,CAACquB,SAAS,GAAG,YAAY;EAC7G,IAAI,CAACx3B,MAAM,CAAC4H,KAAK,GAAG,EAAE,EAAE,IAAI,CAACwxB,WAAW,CAAC,CAAC;AAC9C,CAAC,EAAC55B,UAAU,CAAC2J,SAAS,CAACkwB,WAAW,GAAG75B,UAAU,CAAC2J,SAAS,CAAC8vB,SAAS,EAACz5B,UAAU,CAAC2J,SAAS,CAAC8vB,SAAS,GAAG,YAAY;EAC7G,IAAI,CAACj5B,MAAM,CAAC4H,KAAK,GAAG,EAAE,EAAE,IAAI,CAACyxB,WAAW,CAAC,CAAC;AAC9C,CAAC,EAAC75B,UAAU,CAACi4B,qBAAqB,GAAG,UAAUh4B,CAAC,EAAEC,CAAC,EAAE;EACjDA,CAAC,CAACD,CAAC,CAAC;AACR,CAAC,EAACD,UAAU,CAAC2J,SAAS,CAACjC,MAAM,GAAG,UAAUzH,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EAC/C,IAAIqB,CAAC,GAAG;IAACoK,EAAE,EAAE3L,CAAC;IAAE65B,GAAG,EAAE55B;EAAC,CAAC;EACvB,IAAI,CAACuD,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAACgE,MAAM,EAAElG,CAAC,EAAErB,CAAC,CAAC;AAClD,CAAC,EAACH,UAAU,CAAC2J,SAAS,CAACtI,QAAQ,GAAG,UAAUpB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACjD,IAAIqB,CAAC,GAAG;IAACoK,EAAE,EAAE3L,CAAC;IAAE65B,GAAG,EAAE55B;EAAC,CAAC;EACvB,IAAI,CAACuD,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAACrC,QAAQ,EAAEG,CAAC,EAAErB,CAAC,CAAC;AACpD,CAAC,EAACH,UAAU,CAAC2J,SAAS,CAACgW,cAAc,GAAG,UAAU1f,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;EAC1DsU,KAAK,CAACC,OAAO,CAAC7V,CAAC,CAAC,KAAKA,CAAC,GAAG,EAAE,CAAC,EAAE4V,KAAK,CAACC,OAAO,CAAC5V,CAAC,CAAC,KAAKA,CAAC,GAAG,EAAE,CAAC;EAC1D,IAAIsB,CAAC,GAAG;IAACmK,EAAE,EAAE3L,CAAC;IAAE85B,SAAS,EAAE75B,CAAC;IAAE85B,WAAW,EAAE75B,CAAC;IAAE25B,GAAG,EAAE55B,CAAC,CAAC+5B,MAAM,CAAC95B,CAAC;EAAC,CAAC;EAC/D,IAAI,CAACsD,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAACrC,QAAQ,EAAEI,CAAC,EAAED,CAAC,CAAC;AACpD,CAAC,EAACxB,UAAU,CAAC2J,SAAS,CAACuwB,WAAW,GAAG,UAAUj6B,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACpD,IAAI,CAACK,MAAM,CAAC4H,KAAK,GAAGlI,CAAC;EACrB,IAAIsB,CAAC,GAAG;IAACoK,EAAE,EAAE3L,CAAC;IAAEi6B,WAAW,EAAEh6B;EAAC,CAAC;EAC/B,IAAI,CAACuD,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAACoB,MAAM,EAAEtD,CAAC,EAAErB,CAAC,CAAC;AAClD,CAAC,EAACH,UAAU,CAAC2J,SAAS,CAAC8V,QAAQ,GAAG,UAAUxf,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;EACpD,IAAIC,CAAC,GAAG,IAAI;IAAE8I,CAAC,GAAG;MAACqB,EAAE,EAAE3L,CAAC;MAAE6N,OAAO,EAAE,CAAC;IAAC,CAAC;EACtC9N,UAAU,CAACgS,KAAK,CAACzH,CAAC,CAACqB,EAAE,CAAC,KAAKrB,CAAC,CAACqB,EAAE,GAAG,IAAI,CAACxD,KAAK,CAAC,CAAC,CAAC,CAACwD,EAAE,EAAErB,CAAC,CAAC4vB,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE5vB,CAAC,CAACuD,OAAO,CAACwC,UAAU,GAAG,CAAC,CAAC,EAAE/F,CAAC,CAACuD,OAAO,CAACuC,QAAQ,GAAG,CAAC,CAAC,EAAEnQ,CAAC,KAAKqK,CAAC,CAACuD,OAAO,CAACwC,UAAU,GAAGpQ,CAAC,CAAC,EAAEC,CAAC,KAAKoK,CAAC,CAACuD,OAAO,CAACuC,QAAQ,GAAGlQ,CAAC,CAAC,EAAE,IAAI,CAACsD,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAAC+b,QAAQ,EAAElV,CAAC,EAAG,YAAY;IAC5O9I,CAAC,CAACoM,MAAM,CAAC5N,CAAC,CAAC,EAAEuB,CAAC,IAAIA,CAAC,CAAC,CAAC;EACzB,CAAE,CAAC;AACP,CAAC,EAACxB,UAAU,CAAC2J,SAAS,CAAC+V,QAAQ,GAAG,UAAUzf,CAAC,EAAEC,CAAC,EAAE;EAC9C,IAAIC,CAAC,GAAG,IAAI;IAAEqB,CAAC,GAAG;MAACoK,EAAE,EAAE3L;IAAC,CAAC;EACzBD,UAAU,CAACgS,KAAK,CAACxQ,CAAC,CAACoK,EAAE,CAAC,KAAKpK,CAAC,CAACoK,EAAE,GAAG,IAAI,CAACxD,KAAK,CAAC,CAAC,CAAC,CAACwD,EAAE,EAAEpK,CAAC,CAAC24B,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC12B,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAACgc,QAAQ,EAAEle,CAAC,EAAG,YAAY;IACxHrB,CAAC,CAAC0N,MAAM,CAAC5N,CAAC,CAAC,EAAEC,CAAC,IAAIA,CAAC,CAAC,CAAC;EACzB,CAAE,CAAC;AACP,CAAC,EAACF,UAAU,CAAC2J,SAAS,CAACywB,eAAe,GAAG,UAAUn6B,CAAC,EAAE;EAClD,IAAI,CAACoC,UAAU,CAACsiB,IAAI,CAAC,CAAC,EAAE,IAAI,CAAChiB,iBAAiB,CAACgiB,IAAI,CAAC,CAAC,EAAE,IAAI,CAACriB,MAAM,CAACqiB,IAAI,CAAC,CAAC,EAAE,IAAI,CAACniB,gBAAgB,CAACmiB,IAAI,CAAC,CAAC;EACvG,IAAIzkB,CAAC,GAAG,IAAI,CAACmP,OAAO,CAACpP,CAAC,CAAC;IAAEE,CAAC,GAAG,IAAI,CAAC+S,eAAe,CAAChT,CAAC,CAAC;EACpD,IAAIC,CAAC,CAACqL,MAAM,EAAE;IACV,IAAI,CAAC,CAAC,KAAKxL,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,cAAc,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE3E,CAAC,EAAEE,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;IACjF,IAAI,CAACuH,MAAM,CAACzH,CAAC,EAAEE,CAAC,EAAE,CAAC,CAAC,CAAC;EACzB,CAAC,MAAM;IACH,IAAI,CAAC,CAAC,KAAKH,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,cAAc,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE3E,CAAC,EAAEC,CAAC,CAACiT,WAAW,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;IAC7F,IAAI,CAAC9R,QAAQ,CAACpB,CAAC,EAAEC,CAAC,CAACiT,WAAW,EAAE,CAAC,CAAC,CAAC;EACvC;AACJ,CAAC,EAACnT,UAAU,CAAC2J,SAAS,CAAC0wB,UAAU,GAAG,UAAUp6B,CAAC,EAAE;EAC7C,IAAI,CAACoC,UAAU,CAACsiB,IAAI,CAAC,CAAC,EAAE,IAAI,CAAChiB,iBAAiB,CAACgiB,IAAI,CAAC,CAAC,EAAE,IAAI,CAACriB,MAAM,CAACqiB,IAAI,CAAC,CAAC,EAAE,IAAI,CAACniB,gBAAgB,CAACmiB,IAAI,CAAC,CAAC;EACvG,IAAIzkB,CAAC,GAAG,IAAI,CAACo6B,oBAAoB,CAACr6B,CAAC,CAAC;EACpC,IAAI,CAAC,CAAC,KAAKD,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,UAAU,EAAE,CAAC,IAAI,EAAE1E,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;EACtE,IAAI,CAACg6B,WAAW,CAACh6B,CAAC,CAAC0L,EAAE,EAAE1L,CAAC,CAACkI,KAAK,EAAE,CAAC,CAAC,CAAC;AACvC,CAAC,EAACpI,UAAU,CAAC2J,SAAS,CAAC2wB,oBAAoB,GAAG,UAAUr6B,CAAC,EAAE;EACvD,IAAIC,CAAC;IAAEC,CAAC,GAAG,IAAI,CAACkP,OAAO,CAACpP,CAAC,CAAC;IAAEuB,CAAC,GAAGwM,MAAM,CAACud,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC/qB,MAAM,CAAC4H,KAAK,CAAC;IAAE3G,CAAC,GAAG,IAAI,CAAC4N,OAAO,CAAClP,CAAC,CAACwU,GAAG,CAAC;EAC7F,IAAIlT,CAAC,KAAKvB,CAAC,GAAGuB,CAAC,CAAC,EAAEvB,CAAC,EAAE;IACjB,IAAI4V,KAAK,CAACC,OAAO,CAACvU,CAAC,CAAC,EAAE;MAClB,IAAI+I,CAAC,GAAG/I,CAAC,CAACgU,OAAO,CAACrV,CAAC,CAACyL,EAAE,CAAC;MACvB,CAAC,CAAC,IAAIrB,CAAC,IAAI/I,CAAC,CAACqW,MAAM,CAACtN,CAAC,EAAE,CAAC,CAAC;IAC7B,CAAC,MAAM/I,CAAC,GAAG,EAAE;IACbA,CAAC,CAAC6R,IAAI,CAACnT,CAAC,CAAC0L,EAAE,CAAC;EAChB;EACA,OAAO;IAACA,EAAE,EAAEzL,CAAC,CAACyL,EAAE;IAAExD,KAAK,EAAE5G;EAAC,CAAC;AAC/B,CAAC,EAACxB,UAAU,CAAC2J,SAAS,CAAC2wB,oBAAoB,GAAG,UAAUr6B,CAAC,EAAE;EACvD,IAAIC,CAAC,GAAG,IAAI,CAACmP,OAAO,CAACpP,CAAC,CAAC;IAAEE,CAAC,GAAG6N,MAAM,CAACud,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC/qB,MAAM,CAAC4H,KAAK,CAAC;IAAE5G,CAAC,GAAG,IAAI,CAAC4T,sBAAsB,CAACnV,CAAC,CAAC;EACrG,OAAO6V,KAAK,CAACC,OAAO,CAAC5V,CAAC,CAAC,KAAKA,CAAC,GAAG,EAAE,CAAC,EAAEH,UAAU,CAACgW,iBAAiB,CAAC7V,CAAC,EAAEqB,CAAC,EAAE,IAAI,CAACW,OAAO,CAAC8T,QAAQ,CAAC,EAAE;IAACrK,EAAE,EAAE1L,CAAC,CAAC0L,EAAE;IAAExD,KAAK,EAAEjI;EAAC,CAAC;AACxH,CAAC,EAACC,MAAM,CAACuJ,SAAS,CAACwmB,UAAU,KAAK/vB,MAAM,CAACuJ,SAAS,CAACwmB,UAAU,GAAG,UAAUlwB,CAAC,EAAEC,CAAC,EAAE;EAC5E,OAAO,IAAI,CAACyY,OAAO,CAAC,IAAIyZ,MAAM,CAACnyB,CAAC,EAAE,GAAG,CAAC,EAAEC,CAAC,CAAC;AAC9C,CAAC,CAAC,EAACE,MAAM,CAACuJ,SAAS,CAACwnB,QAAQ,KAAK/wB,MAAM,CAACuJ,SAAS,CAACwnB,QAAQ,GAAG,UAAUlxB,CAAC,EAAE;EACtE,OAAO,CAAC,CAAC,KAAK,IAAI,CAACuV,OAAO,CAACvV,CAAC,EAAE,IAAI,CAACuL,MAAM,GAAGvL,CAAC,CAACuL,MAAM,CAAC;AACzD,CAAC,CAAC,EAACpL,MAAM,CAACuJ,SAAS,CAACkO,MAAM,KAAKzX,MAAM,CAACuJ,SAAS,CAACkO,MAAM,GAAG,UAAU5X,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACxE,OAAO,IAAI,CAACiP,KAAK,CAAC,CAAC,EAAEnP,CAAC,CAAC,GAAGE,CAAC,GAAG,IAAI,CAACiP,KAAK,CAACnP,CAAC,GAAG2T,IAAI,CAAC2mB,GAAG,CAACr6B,CAAC,CAAC,CAAC;AAC7D,CAAC,CAAC,EAACE,MAAM,CAACuJ,SAAS,CAAC0C,MAAM,KAAKjM,MAAM,CAACuJ,SAAS,CAAC0C,MAAM,GAAG,UAAUpM,CAAC,EAAEC,CAAC,EAAE;EACrE,OAAOD,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC2Y,SAAS,CAAC,CAAC,EAAE3Y,CAAC,CAAC,GAAGC,CAAC,GAAG,IAAI,CAACs6B,MAAM,CAACv6B,CAAC,CAAC,GAAGC,CAAC,GAAG,IAAI;AACvE,CAAC,CAAC,EAAC4V,KAAK,CAACnM,SAAS,CAAC8wB,MAAM,IAAIzsB,MAAM,CAAC0sB,cAAc,CAAC5kB,KAAK,CAACnM,SAAS,EAAE,QAAQ,EAAE;EAC1Eic,KAAK,EAAE,SAAAA,CAAA,EAAY;IACf,KAAK,IAAI3lB,CAAC,GAAG,IAAI,CAACg6B,MAAM,CAAC,CAAC,EAAE/5B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,CAAC,CAACuL,MAAM,EAAE,EAAEtL,CAAC,EAAE,KAAK,IAAIC,CAAC,GAAGD,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAGF,CAAC,CAACuL,MAAM,EAAE,EAAErL,CAAC,EAAEF,CAAC,CAACC,CAAC,CAAC,KAAKD,CAAC,CAACE,CAAC,CAAC,IAAIF,CAAC,CAAC4X,MAAM,CAAC1X,CAAC,EAAE,EAAE,CAAC,CAAC;IAC9H,OAAOF,CAAC;EACZ,CAAC;EAAE06B,QAAQ,EAAE,CAAC,CAAC;EAAEC,YAAY,EAAE,CAAC,CAAC;EAAEC,UAAU,EAAE,CAAC;AACpD,CAAC,CAAC,EAAC/kB,KAAK,CAACnM,SAAS,CAAC+P,GAAG,IAAI1L,MAAM,CAAC0sB,cAAc,CAAC5kB,KAAK,CAACnM,SAAS,EAAE,KAAK,EAAE;EACpEic,KAAK,EAAE,SAAAA,CAAU3lB,CAAC,EAAE;IAChB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACsL,MAAM,EAAEtL,CAAC,EAAE,EAAE,IAAI,IAAI,CAACA,CAAC,CAAC,IAAID,CAAC,EAAE,OAAO,CAAC,CAAC;IACjE,OAAO,CAAC,CAAC;EACb,CAAC;EAAE06B,QAAQ,EAAE,CAAC,CAAC;EAAEC,YAAY,EAAE,CAAC,CAAC;EAAEC,UAAU,EAAE,CAAC;AACpD,CAAC,CAAC,EAAC/kB,KAAK,CAACnM,SAAS,CAACiQ,OAAO,IAAI5L,MAAM,CAAC0sB,cAAc,CAAC5kB,KAAK,CAACnM,SAAS,EAAE,SAAS,EAAE;EAC5Eic,KAAK,EAAE,SAAAA,CAAU3lB,CAAC,EAAE;IAChB,IAAI,IAAI,CAACuL,MAAM,IAAIvL,CAAC,CAACuL,MAAM,EAAE,OAAO,CAAC,CAAC;IACtC,KAAK,IAAItL,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACsL,MAAM,EAAEtL,CAAC,EAAE,EAAE,IAAI,CAACD,CAAC,CAACyZ,GAAG,CAAC,IAAI,CAACxZ,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;IACpE,OAAO,CAAC,CAAC;EACb,CAAC;EAAEy6B,QAAQ,EAAE,CAAC,CAAC;EAAEC,YAAY,EAAE,CAAC,CAAC;EAAEC,UAAU,EAAE,CAAC;AACpD,CAAC,CAAC,EAAC7sB,MAAM,CAACud,MAAM,IAAIvd,MAAM,CAAC0sB,cAAc,CAAC1sB,MAAM,EAAE,QAAQ,EAAE;EACxD4X,KAAK,EAAE,SAAAA,CAAU3lB,CAAC,EAAEC,CAAC,EAAE;IACnB,YAAY;;IACZ,IAAI,IAAI,IAAID,CAAC,EAAE,MAAM,IAAI66B,SAAS,CAAC,4CAA4C,CAAC;IAChF,KAAK,IAAI36B,CAAC,GAAG6N,MAAM,CAAC/N,CAAC,CAAC,EAAEuB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG4b,SAAS,CAAC5R,MAAM,EAAEhK,CAAC,EAAE,EAAE;MACtD,IAAIC,CAAC,GAAG2b,SAAS,CAAC5b,CAAC,CAAC;MACpB,IAAI,IAAI,IAAIC,CAAC,EAAE,KAAK,IAAI8I,CAAC,IAAI9I,CAAC,EAAEuM,MAAM,CAACrE,SAAS,CAACoK,cAAc,CAACyJ,IAAI,CAAC/b,CAAC,EAAE8I,CAAC,CAAC,KAAKpK,CAAC,CAACoK,CAAC,CAAC,GAAG9I,CAAC,CAAC8I,CAAC,CAAC,CAAC;IAC/F;IACA,OAAOpK,CAAC;EACZ,CAAC;EAAEw6B,QAAQ,EAAE,CAAC,CAAC;EAAEC,YAAY,EAAE,CAAC;AACpC,CAAC,CAAC,EAAC56B,UAAU,CAAC2J,SAAS,CAACgT,uBAAuB,GAAG,UAAU1c,CAAC,EAAEC,CAAC,EAAE;EAC9D,IAAIC,CAAC,GAAG;IAAC4f,IAAI,EAAE,WAAW;IAAEgb,EAAE,EAAE,SAAS;IAAEC,KAAK,EAAE;EAAY,CAAC;EAC/D,IAAI,CAAC,CAAC,IAAI96B,CAAC,CAACklB,IAAI,CAAC5P,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,IAAItV,CAAC,CAACwtB,OAAO,CAACliB,MAAM,GAAG,IAAI,CAACrH,MAAM,GAAG;IACxE0L,CAAC,EAAE3P,CAAC,CAACwtB,OAAO,CAAC,CAAC,CAAC,CAACJ,OAAO;IACvB/f,CAAC,EAAErN,CAAC,CAACwtB,OAAO,CAAC,CAAC,CAAC,CAACH;EACpB,CAAC,GAAG,IAAI,CAACppB,MAAM,GAAG,IAAI,EAAEhE,CAAC,GAAG;IACxB4f,IAAI,EAAE,WAAW;IACjBgb,EAAE,EAAE,UAAU;IACdE,UAAU,EAAE;EAChB,CAAC,CAAC,EAAEh7B,CAAC,IAAIC,CAAC,CAACia,MAAM,EAAE,OAAOja,CAAC,CAAC0d,eAAe,CAAC,CAAC,EAAE1d,CAAC,CAAC2d,cAAc,CAAC,CAAC,EAAE,KAAK,IAAI,CAACqd,iBAAiB,CAACj7B,CAAC,EAAEC,CAAC,EAAEC,CAAC,CAAC;EACvG,IAAI,IAAI,CAACK,MAAM,CAACmF,cAAc,IAAI3F,UAAU,CAAC0D,MAAM,CAACoO,GAAG,EAAE;IACrD,KAAK,IAAItQ,CAAC,GAAGtB,CAAC,CAACia,MAAM,EAAE3Y,CAAC,IAAIvB,CAAC,IAAI,CAACuB,CAAC,CAACsZ,YAAY,CAAC9a,UAAU,CAAC2Q,IAAI,CAACiC,kBAAkB,CAAC,IAAI,CAACpR,CAAC,CAACsZ,YAAY,CAAC9a,UAAU,CAAC2Q,IAAI,CAACmC,aAAa,CAAC,GAAGtR,CAAC,GAAGA,CAAC,CAACmL,UAAU;IACzJ,IAAI,CAACnL,CAAC,CAACsZ,YAAY,CAAC9a,UAAU,CAAC2Q,IAAI,CAACiC,kBAAkB,CAAC,IAAI,CAACpR,CAAC,CAACsZ,YAAY,CAAC9a,UAAU,CAAC2Q,IAAI,CAACmC,aAAa,CAAC,EAAE,OAAO5S,CAAC,CAAC0d,eAAe,CAAC,CAAC,EAAE1d,CAAC,CAAC2d,cAAc,CAAC,CAAC,EAAE,KAAK,IAAI,CAACqd,iBAAiB,CAACj7B,CAAC,EAAEC,CAAC,EAAEC,CAAC,CAAC;EACnM;EACA,KAAK,IAAIsB,CAAC,GAAGvB,CAAC,CAACia,MAAM,EAAE1Y,CAAC,IAAIxB,CAAC,GAAG;IAC5B,IAAIwB,CAAC,CAACqZ,YAAY,CAAC9a,UAAU,CAAC2Q,IAAI,CAAC0N,OAAO,CAAC,EAAE,OAAO,KAAK,IAAI,CAAC8c,qBAAqB,CAAC15B,CAAC,EAAEvB,CAAC,EAAEC,CAAC,CAAC;IAC5F,IAAIsB,CAAC,CAACqZ,YAAY,CAAC9a,UAAU,CAAC2Q,IAAI,CAACoO,6BAA6B,CAAC,EAAE,OAAO7e,CAAC,CAAC0d,eAAe,CAAC,CAAC,EAAE1d,CAAC,CAAC2d,cAAc,CAAC,CAAC,EAAE,KAAK,IAAI,CAACud,uCAAuC,CAAC35B,CAAC,EAAEvB,CAAC,EAAEC,CAAC,CAAC;IAC7KsB,CAAC,GAAGA,CAAC,CAACkL,UAAU;EACpB;AACJ,CAAC,EAAC3M,UAAU,CAAC2J,SAAS,CAACiT,mBAAmB,GAAG,UAAU3c,CAAC,EAAEC,CAAC,EAAE;EACzD,IAAI,CAAC,CAAC,IAAIA,CAAC,CAACklB,IAAI,CAAC5P,OAAO,CAAC,OAAO,CAAC,IAAI,IAAI,CAACrR,MAAM,IAAI,CAAC,IAAIjE,CAAC,CAACstB,cAAc,CAAChiB,MAAM,EAAE;IAC9E,IAAItL,CAAC,CAACstB,cAAc,CAAChiB,MAAM,EAAE;MACzB,IAAIrL,CAAC,GAAG;UAAC0P,CAAC,EAAE3P,CAAC,CAACstB,cAAc,CAAC,CAAC,CAAC,CAACF,OAAO;UAAE/f,CAAC,EAAErN,CAAC,CAACstB,cAAc,CAAC,CAAC,CAAC,CAACD;QAAO,CAAC;QACpE/rB,CAAC,GAAGxB,UAAU,CAACE,CAAC,CAAC,IAAI,CAACM,MAAM,CAAC2F,QAAQ,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC/C,QAAQ,CAAC,CAAC,CAAC,CAACsuB,IAAI;QAAEjwB,CAAC,GAAG,IAAI,CAAC2B,QAAQ,CAAC,CAAC;QACrFmH,CAAC,GAAGqJ,IAAI,CAAC2mB,GAAG,CAACp6B,CAAC,CAAC0P,CAAC,GAAG,IAAI,CAAC1L,MAAM,CAAC0L,CAAC,CAAC,GAAGpO,CAAC;QAAEuJ,CAAC,GAAG4I,IAAI,CAAC2mB,GAAG,CAACp6B,CAAC,CAACoN,CAAC,GAAG,IAAI,CAACpJ,MAAM,CAACoJ,CAAC,CAAC,GAAG9L,CAAC;MAChF,IAAI,IAAI,CAAC0C,MAAM,GAAG,IAAI,EAAEoG,CAAC,GAAG/I,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,EAAE;MACvC,IAAIwJ,CAAC,GAAGxJ,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,EAAE;IACvB;EACJ,CAAC,MAAM,IAAI,CAAC,CAAC,IAAItB,CAAC,CAACklB,IAAI,CAAC5P,OAAO,CAAC,OAAO,CAAC,IAAI,IAAI,IAAI,IAAI,CAACrR,MAAM,EAAE;EACjE,KAAK,IAAI8G,CAAC,GAAG/K,CAAC,CAACia,MAAM,EAAElP,CAAC,IAAIhL,CAAC,GAAG;IAC5B,IAAIgL,CAAC,CAAC6P,YAAY,CAAC9a,UAAU,CAAC2Q,IAAI,CAACiC,kBAAkB,CAAC,EAAE;MACpD,IAAIzH,CAAC,GAAGF,CAAC,CAAC2P,YAAY,CAAC5a,UAAU,CAAC2Q,IAAI,CAACiC,kBAAkB,CAAC;QAAExH,CAAC,GAAG,IAAI,CAACiE,OAAO,CAAClE,CAAC,CAAC;MAC/E,OAAO,KAAK,IAAI,CAACivB,eAAe,CAAChvB,CAAC,CAACQ,EAAE,CAAC;IAC1C;IACA,IAAIX,CAAC,CAAC6P,YAAY,CAAC9a,UAAU,CAAC2Q,IAAI,CAAC0N,OAAO,CAAC,EAAE;MACzClT,CAAC,GAAGF,CAAC,CAAC2P,YAAY,CAAC5a,UAAU,CAAC2Q,IAAI,CAAC0N,OAAO,CAAC,EAAEjT,CAAC,GAAG,IAAI,CAACiE,OAAO,CAAClE,CAAC,CAAC;MAChE,OAAO,KAAK,IAAI,CAACkwB,iBAAiB,CAACjwB,CAAC,CAACQ,EAAE,EAAE1L,CAAC,CAAC;IAC/C;IACA,IAAI+K,CAAC,CAAC6P,YAAY,CAAC9a,UAAU,CAAC2Q,IAAI,CAACkO,oBAAoB,CAAC,EAAE;MACtD3e,CAAC,CAAC0d,eAAe,CAAC,CAAC,EAAE1d,CAAC,CAAC2d,cAAc,CAAC,CAAC;MACvC1S,CAAC,GAAGF,CAAC,CAAC2P,YAAY,CAAC5a,UAAU,CAAC2Q,IAAI,CAACkO,oBAAoB,CAAC,EAAEzT,CAAC,GAAG,IAAI,CAACiE,OAAO,CAAClE,CAAC,CAAC;MAC7E,OAAO,KAAK,IAAI,CAACmwB,qBAAqB,CAAClwB,CAAC,CAACQ,EAAE,EAAEX,CAAC,EAAE/K,CAAC,CAAC;IACtD;IACA,IAAI+K,CAAC,CAAC6P,YAAY,CAAC9a,UAAU,CAAC2Q,IAAI,CAACmO,2BAA2B,CAAC,EAAE;MAC7D5e,CAAC,CAAC0d,eAAe,CAAC,CAAC,EAAE1d,CAAC,CAAC2d,cAAc,CAAC,CAAC;MACvC1S,CAAC,GAAGF,CAAC,CAAC2P,YAAY,CAAC5a,UAAU,CAAC2Q,IAAI,CAACmO,2BAA2B,CAAC;MAC/D,OAAO,KAAK,IAAI,CAACyc,2BAA2B,CAACpwB,CAAC,CAAC;IACnD;IACA,IAAIF,CAAC,CAAC6P,YAAY,CAAC9a,UAAU,CAAC2Q,IAAI,CAACoO,6BAA6B,CAAC,EAAE,OAAO7e,CAAC,CAAC0d,eAAe,CAAC,CAAC,EAAE1d,CAAC,CAAC2d,cAAc,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC2d,+BAA+B,CAACvwB,CAAC,EAAE/K,CAAC,CAAC;IAClK,IAAI+K,CAAC,CAAC6P,YAAY,CAAC9a,UAAU,CAAC2Q,IAAI,CAACgO,WAAW,CAAC,EAAE,OAAO,KAAK,IAAI,CAAC8c,oBAAoB,CAAC,CAAC;IACxF,IAAIxwB,CAAC,CAAC6P,YAAY,CAAC9a,UAAU,CAAC2Q,IAAI,CAACmC,aAAa,CAAC,EAAE;MAC/C3H,CAAC,GAAGF,CAAC,CAAC2P,YAAY,CAAC5a,UAAU,CAAC2Q,IAAI,CAACmC,aAAa,CAAC;MACjD,OAAO5S,CAAC,CAAC0d,eAAe,CAAC,CAAC,EAAE1d,CAAC,CAAC2d,cAAc,CAAC,CAAC,EAAE,KAAK,IAAI,CAACwc,UAAU,CAAClvB,CAAC,CAAC;IAC3E;IACA,IAAIF,CAAC,CAAC6P,YAAY,CAAC9a,UAAU,CAAC2Q,IAAI,CAAC6N,WAAW,CAAC,EAAE,OAAO,KAAKxe,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,aAAa,EAAE,CAAC,IAAI,EAAE;MACzG0T,IAAI,EAAErN,CAAC,CAAC2P,YAAY,CAAC5a,UAAU,CAAC2Q,IAAI,CAAC6N,WAAW,CAAC;MACjDjG,EAAE,EAAEtN,CAAC,CAAC2P,YAAY,CAAC5a,UAAU,CAAC2Q,IAAI,CAAC4N,SAAS,CAAC;MAC7Cd,KAAK,EAAEvd;IACX,CAAC,CAAC,CAAC;IACH,IAAI+K,CAAC,CAAC6P,YAAY,CAAC9a,UAAU,CAAC2Q,IAAI,CAAC+N,WAAW,CAAC,EAAE,OAAO,KAAK1e,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,aAAa,EAAE,CAAC,IAAI,EAAE;MACzG0T,IAAI,EAAErN,CAAC,CAAC2P,YAAY,CAAC5a,UAAU,CAAC2Q,IAAI,CAAC+N,WAAW,CAAC;MACjDnG,EAAE,EAAEtN,CAAC,CAAC2P,YAAY,CAAC5a,UAAU,CAAC2Q,IAAI,CAAC8N,SAAS,CAAC;MAC7ChB,KAAK,EAAEvd;IACX,CAAC,CAAC,CAAC;IACH+K,CAAC,GAAGA,CAAC,CAAC0B,UAAU;EACpB;AACJ,CAAC,EAAC3M,UAAU,CAAC2J,SAAS,CAACkT,qBAAqB,GAAG,UAAU5c,CAAC,EAAEC,CAAC,EAAE;EAC3D,KAAK,IAAIC,CAAC,GAAGD,CAAC,CAACia,MAAM,EAAEha,CAAC,IAAIF,CAAC,GAAG;IAC5B,IAAIE,CAAC,CAAC2a,YAAY,CAAC9a,UAAU,CAAC2Q,IAAI,CAAC0N,OAAO,CAAC,EAAE;MACzC,IAAI7c,CAAC,GAAGrB,CAAC,CAACya,YAAY,CAAC5a,UAAU,CAAC2Q,IAAI,CAAC0N,OAAO,CAAC;QAAE5c,CAAC,GAAG,IAAI,CAAC4N,OAAO,CAAC7N,CAAC,CAAC;MACpE,OAAO,KAAK,IAAI,CAACk6B,mBAAmB,CAACj6B,CAAC,CAACmK,EAAE,EAAE1L,CAAC,CAAC;IACjD;IACAC,CAAC,GAAGA,CAAC,CAACwM,UAAU;EACpB;AACJ,CAAC,EAAC3M,UAAU,CAAC2J,SAAS,CAAC+xB,mBAAmB,GAAG,UAAUz7B,CAAC,EAAEC,CAAC,EAAE;EACzDA,CAAC,CAAC2d,cAAc,CAAC,CAAC,EAAE7d,UAAU,CAAC0iB,6CAA6C,IAAI,IAAI,CAACtgB,QAAQ,CAACuiB,IAAI,CAAC,CAAC,EAAE,IAAI,CAACtiB,UAAU,CAACsiB,IAAI,CAAC,CAAC,EAAE,IAAI,CAAChiB,iBAAiB,CAACgiB,IAAI,CAAC,CAAC,EAAE,IAAI,CAACriB,MAAM,CAACqiB,IAAI,CAAC,CAAC,EAAE,IAAI,CAACniB,gBAAgB,CAACmiB,IAAI,CAAC,CAAC;EAC7M,IAAIxkB,CAAC,GAAG,IAAI,CAACmX,GAAG,CAACrX,CAAC,CAAC;IAAEuB,CAAC,GAAG,IAAI;EAC7B,IAAI,IAAI,IAAIrB,CAAC,IAAI2V,KAAK,CAACC,OAAO,CAAC5V,CAAC,CAACoB,IAAI,CAAC,EAAE,KAAK,IAAIE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGtB,CAAC,CAACoB,IAAI,CAACiK,MAAM,EAAE/J,CAAC,EAAE,EAAE;IAC5E,IAAI8I,CAAC,GAAGpK,CAAC,CAACoB,IAAI,CAACE,CAAC,CAAC;IACjB,IAAI,CAACjB,MAAM,CAACe,IAAI,CAACgJ,CAAC,CAAC,IAAI,IAAI,CAAC/J,MAAM,CAACe,IAAI,CAACgJ,CAAC,CAAC,CAAC3H,eAAe,KAAKpB,CAAC,GAAG,IAAI,CAAChB,MAAM,CAACe,IAAI,CAACgJ,CAAC,CAAC,CAAC3H,eAAe,CAAC;EAC3G;EACA,IAAIoI,CAAC,GAAG,IAAI,CAACzK,OAAO,CAACgP,qBAAqB,CAAC,CAAC;IAAEtE,CAAC,GAAG/K,CAAC,CAACotB,OAAO,GAAGtiB,CAAC,CAACwE,IAAI;IAAErE,CAAC,GAAGjL,CAAC,CAACqtB,OAAO,GAAGviB,CAAC,CAAC9D,GAAG;EAC3F,IAAI,CAACvE,iBAAiB,CAAC8H,IAAI,CAACQ,CAAC,EAAEE,CAAC,EAAElL,CAAC,EAAE,IAAI,EAAEuB,CAAC,CAAC;AACjD,CAAC,EAACxB,UAAU,CAAC2J,SAAS,CAACmT,qBAAqB,GAAG,UAAU7c,CAAC,EAAEC,CAAC,EAAE;EAC3D,KAAK,IAAIC,CAAC,GAAGD,CAAC,CAACia,MAAM,EAAEha,CAAC,IAAIF,CAAC,GAAG;IAC5B,IAAIE,CAAC,CAAC2a,YAAY,CAAC9a,UAAU,CAAC2Q,IAAI,CAAC0N,OAAO,CAAC,EAAE;MACzC,IAAI7c,CAAC,GAAGrB,CAAC,CAACya,YAAY,CAAC5a,UAAU,CAAC2Q,IAAI,CAAC0N,OAAO,CAAC;QAAE5c,CAAC,GAAG,IAAI,CAAC4N,OAAO,CAAC7N,CAAC,CAAC;MACpE,OAAO,KAAK,IAAI,CAACm6B,mBAAmB,CAACl6B,CAAC,CAACmK,EAAE,EAAE1L,CAAC,CAAC;IACjD;IACAC,CAAC,GAAGA,CAAC,CAACwM,UAAU;EACpB;AACJ,CAAC,EAAC3M,UAAU,CAAC2J,SAAS,CAACoT,mBAAmB,GAAG,UAAU9c,CAAC,EAAEC,CAAC,EAAE;EACzD,IAAI,CAAC07B,oBAAoB,CAAC,IAAI,CAACnvB,MAAM,CAAC,CAAC,EAAEvM,CAAC,CAAC;AAC/C,CAAC,EAACF,UAAU,CAAC2J,SAAS,CAACiyB,oBAAoB,GAAG,UAAU37B,CAAC,EAAEC,CAAC,EAAE;EAC1D,IAAIA,CAAC,CAAC27B,OAAO,EAAE;IACX,IAAI,IAAI,CAACr7B,MAAM,CAACuF,WAAW,IAAI/F,UAAU,CAAC0D,MAAM,CAACsC,IAAI,EAAE;EAC3D,CAAC,MAAM;IACH,IAAI,IAAI,CAACxF,MAAM,CAACuF,WAAW,IAAI/F,UAAU,CAAC0D,MAAM,CAACkc,QAAQ,EAAE;IAC3D,IAAI,IAAI,CAACpf,MAAM,CAACuF,WAAW,IAAI/F,UAAU,CAAC0D,MAAM,CAACsC,IAAI,EAAE;EAC3D;EACA,IAAI7F,CAAC,GAAG,IAAI;IAAEqB,CAAC,GAAG,CAAC,CAAC;IAAEC,CAAC,GAAG,IAAI,CAACjB,MAAM,CAACwF,IAAI,CAACkC,KAAK;IAAEqC,CAAC,GAAG,IAAI,CAAC/J,MAAM,CAACwF,IAAI,CAACmC,MAAM;IAAE6C,CAAC,GAAG,CAAC;IAAEC,CAAC,GAAG,IAAI,CAAC7H,QAAQ,CAAC,CAAC;IACrG+H,CAAC,GAAGnL,UAAU,CAACisB,qBAAqB,CAAChsB,CAAC,EAAEC,CAAC,CAAC6sB,KAAK,EAAE7sB,CAAC,CAAC8sB,KAAK,CAAC;EAC7D,IAAI5hB,CAAC,GAAG0J,MAAM,CAACgnB,qBAAqB,IAAIhnB,MAAM,CAACinB,2BAA2B,IAAIjnB,MAAM,CAACknB,wBAAwB,IAAIlnB,MAAM,CAACmnB,sBAAsB,IAAInnB,MAAM,CAAConB,uBAAuB,IAAI,UAAUj8B,CAAC,EAAE;IAC7LmtB,UAAU,CAACntB,CAAC,EAAE,EAAE,CAAC;EACrB,CAAC;EACDC,CAAC,CAAC2d,cAAc,CAAC,CAAC;EAClB,IAAItS,CAAC,GAAGrL,CAAC,CAACi8B,KAAK,IAAIj8B,CAAC,CAACk8B,UAAU;EAC/B,KAAK,CAAC,KAAK7wB,CAAC,KAAKA,CAAC,GAAG,CAACrL,CAAC,CAACm8B,MAAM,CAAC,EAAE9wB,CAAC,GAAGqI,IAAI,CAAC0oB,GAAG,CAAC,CAAC,CAAC,EAAE1oB,IAAI,CAACxN,GAAG,CAAC,CAAC,EAAEmF,CAAC,CAAC,CAAC,EAAEP,CAAC,IAAI,CAACO,CAAC,GAAG9J,CAAC,EAAED,CAAC,IAAI,SAASvB,CAACA,CAAA,EAAG;IAC9FuB,CAAC,GAAG,CAAC,CAAC;IACN,IAAItB,CAAC,GAAG,CAAC8K,CAAC,GAAGC,CAAC,IAAIV,CAAC;IACnBrK,CAAC,GAAG,CAAC,GAAGA,CAAC,EAAE,GAAGA,CAAC,EAAE,EAAE+K,CAAC,IAAI/K,CAAC,EAAEC,CAAC,CAAC6F,IAAI,CAAC,CAAC,GAAG9F,CAAC,GAAG,EAAE,GAAG,EAAE,EAAEiL,CAAC,CAAC,EAAE6P,QAAQ,CAAC/P,CAAC,CAAC,IAAI+P,QAAQ,CAAChQ,CAAC,CAAC,GAAGxJ,CAAC,GAAG,CAAC,CAAC,GAAG4J,CAAC,CAACnL,CAAC,CAAC;EACrG,CAAC,CAAC,CAAC;AACP,CAAC,EAACD,UAAU,CAAC2J,SAAS,CAACyxB,uCAAuC,GAAG,UAAUn7B,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EAChF,IAAIqB,CAAC,GAAGvB,CAAC,CAAC0M,UAAU,CAACiO,YAAY,CAAC5a,UAAU,CAAC2Q,IAAI,CAACqO,mCAAmC,CAAC;IAClFvd,CAAC,GAAGxB,CAAC,CAAC2a,YAAY,CAAC5a,UAAU,CAAC2Q,IAAI,CAACoO,6BAA6B,CAAC;IAAExU,CAAC,GAAG,IAAI,CAAC/H,gBAAgB,CAAC8lB,KAAK,CAAC7mB,CAAC,CAAC;EACzG,IAAI8I,CAAC,CAAClD,SAAS,EAAE;IACb,IAAI2D,CAAC,GAAG,IAAI;MAAEC,CAAC,GAAGjL,UAAU,CAACqtB,YAAY,CAACntB,CAAC,CAAC;MAAEiL,CAAC,GAAG,IAAI,CAACkE,OAAO,CAAC7N,CAAC,CAAC;IACjEvB,CAAC,CAACs8B,eAAe,GAAG,CAAC,CAAC;IACtB,IAAInxB,CAAC,GAAGJ,CAAC,CAAC5H,QAAQ,CAAC,CAAC;MAAEmI,CAAC,GAAG,IAAI;MAAEE,CAAC,GAAG,IAAI;IACxC,IAAI,CAACxH,cAAc,GAAGzC,CAAC,EAAEnB,QAAQ,CAACksB,IAAI,CAAC5d,KAAK,CAAC6tB,aAAa,GAAGn8B,QAAQ,CAACksB,IAAI,CAAC5d,KAAK,CAAC8tB,gBAAgB,GAAGp8B,QAAQ,CAACksB,IAAI,CAAC5d,KAAK,CAAC+tB,UAAU,GAAG,MAAM;IAC3I,IAAIhxB,CAAC,GAAG,IAAI,CAACe,MAAM,CAAC,CAAC;MAAED,CAAC,GAAG;QAACqD,CAAC,EAAE5E,CAAC,CAAC4E,CAAC;QAAEtC,CAAC,EAAEtC,CAAC,CAACsC;MAAC,CAAC;MAAEb,CAAC,GAAGzM,CAAC,CAAC08B,SAAS,CAAC,CAAC,CAAC,CAAC;IAChEjxB,CAAC,CAACkxB,YAAY,CAAClwB,CAAC,EAAEhB,CAAC,CAACwhB,UAAU,CAAC;IAC/B,IAAI5f,CAAC,GAAGtN,UAAU,CAAC0oB,aAAa,CAAChc,CAAC,CAAC;MAAEa,CAAC,GAAGD,CAAC,CAAC,CAAC,CAAC;MAAEY,CAAC,GAAGZ,CAAC,CAAC,CAAC,CAAC;MAAEa,CAAC,GAAG,UAAUlO,CAAC,EAAE;QACtE,OAAOA,CAAC,IAAI,CAACA,CAAC,CAAC6a,YAAY,CAAC9a,UAAU,CAAC2Q,IAAI,CAACqO,mCAAmC,CAAC,GAAG/e,CAAC,GAAGA,CAAC,CAAC0M,UAAU;QACnG,IAAI1M,CAAC,EAAE;UACH,IAAIC,CAAC,GAAGF,UAAU,CAAC0oB,aAAa,CAACzoB,CAAC,CAAC;UACnC,OAAO;YAAC4P,CAAC,EAAE3P,CAAC,CAAC,CAAC,CAAC;YAAEqN,CAAC,EAAErN,CAAC,CAAC,CAAC;UAAC,CAAC;QAC7B;QACAuO,OAAO,CAACC,KAAK,CAAC,oBAAoB,GAAG1O,UAAU,CAAC2Q,IAAI,CAACqO,mCAAmC,CAAC;MAC7F,CAAC,CAAC/e,CAAC,CAAC;IACJyM,CAAC,CAACuC,YAAY,CAAC,WAAW,EAAE,iBAAiB,IAAI1B,CAAC,GAAGY,CAAC,CAAC0B,CAAC,CAAC,GAAG,GAAG,IAAI3B,CAAC,GAAGC,CAAC,CAACZ,CAAC,CAAC,GAAG,GAAG,CAAC,EAAEb,CAAC,CAACiC,KAAK,CAACsB,OAAO,GAAG,EAAE;IACxG,IAAI3B,CAAC,GAAG,SAAAA,CAAUrO,CAAC,EAAEC,CAAC,EAAE;QACpB,IAAI,IAAI,IAAID,CAAC,EAAE;UACXC,CAAC,CAAC4D,SAAS,CAAC2F,MAAM,CAAC,eAAe,CAAC;UACnC,KAAK,IAAItJ,CAAC,GAAGH,UAAU,CAAC0zB,gBAAgB,CAAC1oB,CAAC,CAACqE,OAAO,CAAC9D,CAAC,CAAC,CAAC,EAAE/J,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGrB,CAAC,CAACqL,MAAM,EAAEhK,CAAC,EAAE,EAAE;YAC9E,IAAIC,CAAC,GAAGuJ,CAAC,CAACyC,cAAc,CAACtN,CAAC,CAACqB,CAAC,CAAC,CAACoK,EAAE,CAAC;YACjCnK,CAAC,KAAKA,CAAC,CAACkN,KAAK,CAACsB,OAAO,GAAG,CAAC,CAAC;UAC9B;QACJ;MACJ,CAAC;MAAE3D,CAAC,GAAG,SAAAA,CAAUpM,CAAC,EAAE;QAChB,IAAIsM,CAAC,EAAE;UACH,IAAIrM,CAAC,GAAGH,UAAU,CAACqtB,YAAY,CAACntB,CAAC,CAAC;YAAEsB,CAAC,GAAGtB,CAAC,CAACia,MAAM;UAChDna,UAAU,CAAC0c,QAAQ,CAAC,CAAC,KAAKlb,CAAC,GAAGnB,QAAQ,CAACw8B,gBAAgB,CAAC18B,CAAC,CAAC0P,CAAC,EAAE1P,CAAC,CAACoN,CAAC,CAAC,CAAC,EAAEpN,CAAC,CAAC0P,CAAC,IAAI1B,CAAC,CAAC0B,CAAC,GAAGzE,CAAC,EAAEjL,CAAC,CAACoN,CAAC,IAAIY,CAAC,CAACZ,CAAC,GAAGnC,CAAC;UAClG,IAAIH,CAAC,GAAGjL,UAAU,CAACguB,YAAY,CAAChjB,CAAC,CAACzK,OAAO,EAAEL,CAAC,CAAC;YAAEiL,CAAC,GAAG;cAC/CqE,IAAI,EAAExE,CAAC,CAACZ,KAAK,CAAC,CAAC,IAAIa,CAAC,CAAC4E,CAAC,GAAG7E,CAAC,CAACxK,MAAM,CAAC+C,OAAO,CAAC,GAAG,CAAC;cAC9C6Q,KAAK,EAAEnJ,CAAC,CAAC4E,CAAC,GAAG7E,CAAC,CAACxK,MAAM,CAAC+C,OAAO,GAAG,CAAC;cACjCw3B,EAAE,EAAE/vB,CAAC,CAACX,MAAM,CAAC,CAAC,IAAIY,CAAC,CAACsC,CAAC,GAAGvC,CAAC,CAACxK,MAAM,CAAC+C,OAAO,CAAC,GAAG,CAAC;cAC7Cu5B,IAAI,EAAE7xB,CAAC,CAACsC,CAAC,GAAGvC,CAAC,CAACxK,MAAM,CAAC+C,OAAO,GAAG;YACnC,CAAC;UACD,IAAI4H,CAAC,CAACqE,IAAI,IAAIrE,CAAC,CAACiJ,KAAK,IAAIjJ,CAAC,CAAC4vB,EAAE,IAAI5vB,CAAC,CAAC2xB,IAAI,EAAE;YACrCpxB,CAAC,CAAC5H,SAAS,KAAK4H,CAAC,CAAC5H,SAAS,CAAC2F,MAAM,CAAC,iBAAiB,CAAC,EAAEiC,CAAC,CAAC5H,SAAS,CAACC,GAAG,CAAC,iBAAiB,CAAC,EAAE2H,CAAC,CAAC5H,SAAS,CAAC2F,MAAM,CAAC,mBAAmB,CAAC,EAAEiC,CAAC,CAAC5H,SAAS,CAAC2F,MAAM,CAAC,iBAAiB,CAAC,CAAC;YAC1K,IAAI6C,CAAC,GAAGgB,CAAC,CAAC,CAAC,CAAC;cAAEuC,CAAC,GAAGvC,CAAC,CAAC,CAAC,CAAC;cAAEmZ,CAAC,GAAGja,CAAC,CAACqD,CAAC;cAAEP,CAAC,GAAG9C,CAAC,CAACe,CAAC;cAAEmZ,CAAC,GAAGvmB,CAAC,CAAC0P,CAAC;cAAE8W,CAAC,GAAGxmB,CAAC,CAACoN,CAAC;YAC1DvC,CAAC,CAAC+xB,SAAS,CAAC5xB,CAAC,EAAG,UAAUlL,CAAC,EAAE;cACzBqN,CAAC,CAAC,CAAC,CAAC,GAAGhB,CAAC,GAAGrM,CAAC,CAAC4P,CAAC,EAAEvC,CAAC,CAAC,CAAC,CAAC,GAAGuC,CAAC,GAAG5P,CAAC,CAACsN,CAAC,EAAEf,CAAC,CAACqD,CAAC,GAAG4W,CAAC,GAAGxmB,CAAC,CAAC+8B,aAAa,EAAExwB,CAAC,CAACe,CAAC,GAAG+B,CAAC,GAAGrP,CAAC,CAACg9B,aAAa,EAAE98B,CAAC,CAAC0P,CAAC,GAAG6W,CAAC,GAAGzmB,CAAC,CAAC+8B,aAAa,EAAE78B,CAAC,CAACoN,CAAC,GAAGoZ,CAAC,GAAG1mB,CAAC,CAACg9B,aAAa,EAAEvwB,CAAC,CAACuC,YAAY,CAAC,WAAW,EAAE,SAAS,GAAG3B,CAAC,CAAC4B,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC;YAC3M,CAAE,CAAC;UACP,CAAC,MAAM;YACH,KAAKlE,CAAC,CAACkyB,OAAO,CAAC,CAAC,EAAExxB,CAAC,CAAC5H,SAAS,KAAK4H,CAAC,CAAC5H,SAAS,CAACC,GAAG,CAAC,iBAAiB,CAAC,EAAE2H,CAAC,CAAC5H,SAAS,CAAC2F,MAAM,CAAC,iBAAiB,CAAC,EAAEiC,CAAC,CAAC5H,SAAS,CAAC2F,MAAM,CAAC,mBAAmB,CAAC,EAAEiC,CAAC,CAAC5H,SAAS,CAAC2F,MAAM,CAAC,iBAAiB,CAAC,CAAC,EAAE6E,CAAC,CAAC/C,CAAC,EAAEE,CAAC,CAAC,EAAEF,CAAC,GAAG,IAAI,EAAEE,CAAC,GAAG,IAAI,EAAE,IAAI,IAAIjK,CAAC,IAAIA,CAAC,IAAIkK,CAAC,GAAG;cAC7O,IAAIlK,CAAC,CAACsZ,YAAY,IAAItZ,CAAC,CAACsZ,YAAY,CAAC9a,UAAU,CAAC2Q,IAAI,CAAC0N,OAAO,CAAC,EAAE;gBAC3D,IAAIuI,CAAC,GAAGplB,CAAC,CAACoZ,YAAY,CAAC5a,UAAU,CAAC2Q,IAAI,CAAC0N,OAAO,CAAC;gBAC/C9S,CAAC,GAAGqb,CAAC,EAAEnb,CAAC,GAAGjK,CAAC;gBACZ;cACJ;cACAA,CAAC,GAAGA,CAAC,CAACmL,UAAU;YACpB;YACA,IAAI,IAAI,IAAIpB,CAAC,EAAE;cACXE,CAAC,CAAC3H,SAAS,CAACC,GAAG,CAAC,eAAe,CAAC;cAChC,KAAK,IAAI+iB,CAAC,GAAG9b,CAAC,CAACqE,OAAO,CAAC9D,CAAC,CAAC,EAAE0b,CAAC,GAAGjnB,UAAU,CAAC0zB,gBAAgB,CAAC5M,CAAC,CAAC,EAAEI,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,CAAC,CAACzb,MAAM,EAAE0b,CAAC,EAAE,EAAE;gBACrF,IAAI2B,CAAC,GAAG7d,CAAC,CAACyC,cAAc,CAACwZ,CAAC,CAACC,CAAC,CAAC,CAACtb,EAAE,CAAC;gBACjCid,CAAC,KAAKA,CAAC,CAACla,KAAK,CAACsB,OAAO,GAAG,EAAE,CAAC;cAC/B;cACAvE,CAAC,CAAC5H,SAAS,CAAC2F,MAAM,CAAC,iBAAiB,CAAC,EAAEiC,CAAC,CAAC5H,SAAS,CAAC2F,MAAM,CAAC,iBAAiB,CAAC,EAAEiC,CAAC,CAAC5H,SAAS,CAACC,GAAG,CAAC,iBAAiB,CAAC,EAAE2H,CAAC,CAAC5H,SAAS,CAAC2F,MAAM,CAAC,mBAAmB,CAAC;YAC7J;YACA,IAAIqf,CAAC,GAAG,CAAC3oB,CAAC,CAAC0P,CAAC,GAAGrD,CAAC,CAACqD,CAAC,IAAIzE,CAAC;cAAE2d,CAAC,GAAG,CAAC5oB,CAAC,CAACoN,CAAC,GAAGf,CAAC,CAACe,CAAC,IAAInC,CAAC;YAC5C,IAAIkC,CAAC,CAAC,CAAC,CAAC,GAAGC,CAAC,GAAGub,CAAC,EAAExb,CAAC,CAAC,CAAC,CAAC,GAAGY,CAAC,GAAG6a,CAAC,EAAE,CAAC9oB,CAAC,CAACs8B,eAAe,KAAK3oB,IAAI,CAAC2mB,GAAG,CAACp6B,CAAC,CAAC0P,CAAC,GAAGrD,CAAC,CAACqD,CAAC,CAAC,GAAG7P,UAAU,CAACoiB,2BAA2B,IAAIxO,IAAI,CAAC2mB,GAAG,CAACp6B,CAAC,CAACoN,CAAC,GAAGf,CAAC,CAACe,CAAC,CAAC,GAAGvN,UAAU,CAACoiB,2BAA2B,CAAC,EAAE,CAAC,CAAC,KAAKpiB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,MAAM,EAAE,CAACoG,CAAC,CAACxI,gBAAgB,EAAE;cAChP8V,IAAI,EAAEsO,CAAC;cACPoC,QAAQ,EAAEze,CAAC;cACX0e,YAAY,EAAExnB;YAClB,CAAC,CAAC,CAAC,IAAIsZ,CAAC,CAAC,CAAC,EAAE9a,CAAC,CAACs8B,eAAe,GAAG,CAAC,CAAC;YAClC7vB,CAAC,CAACuC,YAAY,CAAC,WAAW,EAAE,SAAS,GAAG3B,CAAC,CAAC4B,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC;UAC/D;QACJ;MACJ,CAAC;MAAE6L,CAAC,GAAG,SAAAA,CAAU7a,CAAC,EAAE;QAChB,IAAI8K,CAAC,CAACkyB,OAAO,CAAC,CAAC,EAAExxB,CAAC,CAAC5H,SAAS,KAAK4H,CAAC,CAAC5H,SAAS,CAAC2F,MAAM,CAAC,iBAAiB,CAAC,EAAEiC,CAAC,CAAC5H,SAAS,CAAC2F,MAAM,CAAC,iBAAiB,CAAC,EAAEiC,CAAC,CAAC5H,SAAS,CAAC2F,MAAM,CAAC,mBAAmB,CAAC,EAAEiC,CAAC,CAAC5H,SAAS,CAAC2F,MAAM,CAAC,iBAAiB,CAAC,CAAC,EAAEiC,CAAC,CAACoS,mBAAmB,CAAC3d,CAAC,CAAC4f,IAAI,EAAEzT,CAAC,CAAC,EAAEZ,CAAC,CAACoS,mBAAmB,CAAC3d,CAAC,CAAC46B,EAAE,EAAEhgB,CAAC,CAAC,EAAE5a,CAAC,CAAC66B,KAAK,IAAItvB,CAAC,CAACoS,mBAAmB,CAAC3d,CAAC,CAAC66B,KAAK,EAAEjgB,CAAC,CAAC,EAAE5P,CAAC,CAACS,EAAE,IAAIL,CAAC,IAAI,IAAI,IAAIA,CAAC,EAAE,OAAOG,CAAC,CAACkB,WAAW,CAACF,CAAC,CAAC,EAAE1B,CAAC,CAAC/G,cAAc,GAAG,IAAI,EAAE,MAAMhE,CAAC,CAACs8B,eAAe,IAAIv8B,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,MAAM,EAAE,CAACoG,CAAC,CAACxI,gBAAgB,EAAE;UACxc8V,IAAI,EAAEnN,CAAC,CAACS,EAAE;UACVqd,YAAY,EAAExnB,CAAC;UACfunB,QAAQ,EAAEze,CAAC;UACXkT,KAAK,EAAEvd;QACX,CAAC,CAAC,CAAC,CAAC;QACJ,IAAIsB,CAAC,GAAGwJ,CAAC,CAACqE,OAAO,CAAC9D,CAAC,CAAC;QACpBvL,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,MAAM,EAAE,CAACoG,CAAC,CAACxI,gBAAgB,EAAE;UACnD8V,IAAI,EAAEnN,CAAC,CAACS,EAAE;UACV2M,EAAE,EAAE/W,CAAC,CAACoK,EAAE;UACRod,QAAQ,EAAEze,CAAC;UACX0e,YAAY,EAAExnB,CAAC;UACfgc,KAAK,EAAEvd;QACX,CAAC,CAAC,CAAC,EAAEoO,CAAC,CAAC/C,CAAC,EAAEE,CAAC,CAAC,EAAEC,CAAC,CAACkB,WAAW,CAACF,CAAC,CAAC,EAAE1B,CAAC,CAAC/G,cAAc,GAAG,IAAI;MAC3D,CAAC;IACDyH,CAAC,CAAC2R,gBAAgB,CAACld,CAAC,CAAC4f,IAAI,EAAEzT,CAAC,CAAC,EAAEZ,CAAC,CAAC2R,gBAAgB,CAACld,CAAC,CAAC46B,EAAE,EAAEhgB,CAAC,CAAC,EAAE5a,CAAC,CAAC66B,KAAK,IAAItvB,CAAC,CAAC2R,gBAAgB,CAACld,CAAC,CAAC66B,KAAK,EAAEjgB,CAAC,CAAC;EACzG;AACJ,CAAC,EAAC/a,UAAU,CAAC2J,SAAS,CAACwxB,qBAAqB,GAAG,UAAUl7B,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EAC9D,IAAI,CAACK,MAAM,CAAC6G,SAAS,GAAG,IAAI,CAAC81B,iBAAiB,CAACl9B,CAAC,EAAEC,CAAC,EAAEC,CAAC,CAAC,GAAG,IAAI,CAACK,MAAM,CAAC2E,cAAc,IAAI,IAAI,CAACi4B,gBAAgB,CAACn9B,CAAC,EAAEC,CAAC,EAAEC,CAAC,CAAC;AAC1H,CAAC,EAACH,UAAU,CAAC2J,SAAS,CAACwzB,iBAAiB,GAAG,UAAUl9B,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EAC1D,IAAIqB,CAAC,GAAG,IAAI;IAAEC,CAAC,GAAGxB,CAAC,CAAC2a,YAAY,CAAC5a,UAAU,CAAC2Q,IAAI,CAAC0N,OAAO,CAAC;EACzD,IAAI,IAAI,CAACjW,KAAK,EAAE,KAAK,IAAImC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACnC,KAAK,CAACoD,MAAM,EAAEjB,CAAC,EAAE,EAAE,IAAI,IAAI,CAACnC,KAAK,CAACmC,CAAC,CAAC,CAACqB,EAAE,IAAInK,CAAC,EAAE;EACvF,IAAIuJ,CAAC,GAAG,EAAE;IAAEC,CAAC,GAAG,SAAAA,CAAUhL,CAAC,EAAEC,CAAC,EAAE;MAC5B,IAAI4V,KAAK,CAACC,OAAO,CAAC9V,CAAC,CAAC,EAAE,KAAK,IAAIE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,CAAC,CAACuL,MAAM,EAAErL,CAAC,EAAE,EAAE8K,CAAC,CAAChL,CAAC,CAACE,CAAC,CAAC,EAAED,CAAC,CAAC,CAAC,KAAM;QACtEA,CAAC,CAACmT,IAAI,CAACpT,CAAC,CAAC2L,EAAE,CAAC;QACZ,KAAKzL,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,CAAC,CAACq3B,UAAU,CAAC9rB,MAAM,EAAErL,CAAC,EAAE,EAAE8K,CAAC,CAAChL,CAAC,CAACq3B,UAAU,CAACn3B,CAAC,CAAC,EAAED,CAAC,CAAC;QAC/D,KAAKC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,CAAC,CAACywB,QAAQ,CAACllB,MAAM,EAAErL,CAAC,EAAE,EAAE8K,CAAC,CAAChL,CAAC,CAACywB,QAAQ,CAACvwB,CAAC,CAAC,EAAED,CAAC,CAAC;MAC/D;IACJ,CAAC;EACD+K,CAAC,CAAC,IAAI,CAACoE,OAAO,CAAC5N,CAAC,CAAC,EAAEuJ,CAAC,CAAC;EACrB,KAAK,IAAIG,CAAC,GAAG,IAAI,CAACsB,MAAM,CAAC,CAAC,EAAErB,CAAC,GAAGpL,UAAU,CAACqtB,YAAY,CAACntB,CAAC,CAAC,EAAEqL,CAAC,GAAG,EAAE,EAAEE,CAAC,GAAG,EAAE,EAAEC,CAAC,GAAG,EAAE,EAAEc,CAAC,GAAG,EAAE,EAAEE,CAAC,GAAG,EAAE,EAAEY,CAAC,GAAG,EAAE,EAAEC,CAAC,GAAG,EAAE,EAAEW,CAAC,GAAG,EAAE,EAAEC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGnD,CAAC,CAACQ,MAAM,EAAE2C,CAAC,EAAE,EAAE;IAClJ,IAAIG,CAAC,GAAG,IAAI,CAACe,OAAO,CAACrE,CAAC,CAACmD,CAAC,CAAC,CAAC;IAC1B5C,CAAC,CAAC8H,IAAI,CAAC/E,CAAC,CAAC,EAAE5C,CAAC,CAAC2H,IAAI,CAAC;MAACxD,CAAC,EAAEvB,CAAC,CAACuB,CAAC;MAAEtC,CAAC,EAAEe,CAAC,CAACf;IAAC,CAAC,CAAC;IACnC,IAAIjB,CAAC,GAAG,IAAI,CAACmB,cAAc,CAACzC,CAAC,CAACmD,CAAC,CAAC,CAAC;IACjCzB,CAAC,CAAC2G,IAAI,CAAC/G,CAAC,CAAC;IACT,IAAIyO,CAAC,GAAG/a,UAAU,CAAC0oB,aAAa,CAACpc,CAAC,CAAC;IACnCE,CAAC,CAAC6G,IAAI,CAAC;MAACxD,CAAC,EAAEkL,CAAC,CAAC,CAAC,CAAC;MAAExN,CAAC,EAAEwN,CAAC,CAAC,CAAC;IAAC,CAAC,CAAC,EAAEtP,CAAC,CAAC4H,IAAI,CAAC0H,CAAC,CAAC;IACrC,IAAIlL,CAAC,GAAG,IAAI,CAACtP,OAAO,CAACD,aAAa,CAAE,qBAAoB0K,CAAC,CAACmD,CAAC,CAAE,IAAG,CAAC;IACjE,IAAI0B,CAAC,EAAE;MACHvC,CAAC,CAAC+F,IAAI,CAACxD,CAAC,CAAC;MACT,IAAI4W,CAAC,GAAGzmB,UAAU,CAAC0oB,aAAa,CAAC7Y,CAAC,CAAC;MACnCtC,CAAC,CAAC8F,IAAI,CAACoT,CAAC,CAAC,EAAEvY,CAAC,CAACmF,IAAI,CAAC;QAACxD,CAAC,EAAE4W,CAAC,CAAC,CAAC,CAAC;QAAElZ,CAAC,EAAEkZ,CAAC,CAAC,CAAC;MAAC,CAAC,CAAC;IACzC,CAAC,MAAMnZ,CAAC,CAAC+F,IAAI,CAAC,IAAI,CAAC,EAAE9F,CAAC,CAAC8F,IAAI,CAAC,IAAI,CAAC,EAAEnF,CAAC,CAACmF,IAAI,CAAC,IAAI,CAAC;IAC/C,IAAI,IAAI,CAAC7S,MAAM,CAAC6G,SAAS,IAAIrH,UAAU,CAACqH,SAAS,CAAC2E,IAAI,EAAE;EAC5D;EACA/L,CAAC,CAACs8B,eAAe,GAAG,CAAC,CAAC;EACtB,IAAIjtB,CAAC,GAAG,IAAI;IAAEoX,CAAC,GAAG,IAAI;EACtB,IAAI,CAACziB,cAAc,GAAG+G,CAAC,CAAC,CAAC,CAAC,EAAE3K,QAAQ,CAACksB,IAAI,CAAC5d,KAAK,CAAC6tB,aAAa,GAAGn8B,QAAQ,CAACksB,IAAI,CAAC5d,KAAK,CAAC8tB,gBAAgB,GAAGp8B,QAAQ,CAACksB,IAAI,CAAC5d,KAAK,CAAC+tB,UAAU,GAAG,MAAM;EAC9I,IAAI/V,CAAC,GAAG;MAAC9W,CAAC,EAAEzE,CAAC,CAACyE,CAAC;MAAEtC,CAAC,EAAEnC,CAAC,CAACmC;IAAC,CAAC;IAAEqZ,CAAC,GAAGplB,CAAC,CAAC4B,QAAQ,CAAC,CAAC;IAAE0jB,CAAC,GAAG,SAAAA,CAAU7mB,CAAC,EAAEC,CAAC,EAAE;MAC5D,IAAI,IAAI,IAAID,CAAC,EAAE;QACXC,CAAC,CAAC4D,SAAS,CAAC2F,MAAM,CAAC,eAAe,CAAC;QACnC,KAAK,IAAItJ,CAAC,GAAGqB,CAAC,CAAC6N,OAAO,CAACC,CAAC,CAAC,EAAE7N,CAAC,GAAGzB,UAAU,CAAC0zB,gBAAgB,CAACvzB,CAAC,CAAC,EAAEoK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG9I,CAAC,CAAC+J,MAAM,EAAEjB,CAAC,EAAE,EAAE;UACrF,IAAIS,CAAC,GAAGxJ,CAAC,CAACiM,cAAc,CAAChM,CAAC,CAAC8I,CAAC,CAAC,CAACqB,EAAE,CAAC;UACjCZ,CAAC,KAAKA,CAAC,CAAC2D,KAAK,CAACsB,OAAO,GAAG,CAAC,CAAC;QAC9B;MACJ;IACJ,CAAC;IAAEgX,CAAC,GAAG,SAAAA,CAAU/mB,CAAC,EAAE;MAChB,IAAIymB,CAAC,EAAE;QACH,IAAIxmB,CAAC,GAAGH,UAAU,CAACqtB,YAAY,CAACntB,CAAC,CAAC;UAAEqK,CAAC,GAAGrK,CAAC,CAACia,MAAM;QAChDna,UAAU,CAAC0c,QAAQ,CAAC,CAAC,KAAKnS,CAAC,GAAGlK,QAAQ,CAACw8B,gBAAgB,CAAC18B,CAAC,CAAC0P,CAAC,EAAE1P,CAAC,CAACoN,CAAC,CAAC,CAAC;QAClE,IAAItC,CAAC,GAAGjL,UAAU,CAACguB,YAAY,CAACxsB,CAAC,CAACjB,OAAO,EAAEL,CAAC,CAAC;UAAEkL,CAAC,GAAG;YAC/CoE,IAAI,EAAEhO,CAAC,CAAC4I,KAAK,CAAC,CAAC,IAAIa,CAAC,CAAC4E,CAAC,GAAGrO,CAAC,CAAChB,MAAM,CAAC+C,OAAO,CAAC,GAAG,CAAC;YAC9C6Q,KAAK,EAAEnJ,CAAC,CAAC4E,CAAC,GAAGrO,CAAC,CAAChB,MAAM,CAAC+C,OAAO,GAAG,CAAC;YACjCw3B,EAAE,EAAEv5B,CAAC,CAAC6I,MAAM,CAAC,CAAC,IAAIY,CAAC,CAACsC,CAAC,GAAG/L,CAAC,CAAChB,MAAM,CAAC+C,OAAO,CAAC,GAAG,CAAC;YAC7Cu5B,IAAI,EAAE7xB,CAAC,CAACsC,CAAC,GAAG/L,CAAC,CAAChB,MAAM,CAAC+C,OAAO,GAAG;UACnC,CAAC;QACD,IAAI6H,CAAC,CAACoE,IAAI,IAAIpE,CAAC,CAACgJ,KAAK,IAAIhJ,CAAC,CAAC2vB,EAAE,IAAI3vB,CAAC,CAAC0xB,IAAI,EAAE;UACrC3xB,CAAC,CAACrH,SAAS,KAAKqH,CAAC,CAACrH,SAAS,CAAC2F,MAAM,CAAC,iBAAiB,CAAC,EAAE0B,CAAC,CAACrH,SAAS,CAACC,GAAG,CAAC,iBAAiB,CAAC,EAAEoH,CAAC,CAACrH,SAAS,CAAC2F,MAAM,CAAC,mBAAmB,CAAC,EAAE0B,CAAC,CAACrH,SAAS,CAAC2F,MAAM,CAAC,iBAAiB,CAAC,CAAC;UAC1K,KAAK,IAAI0E,CAAC,GAAG,EAAE,EAAEG,CAAC,GAAG,EAAE,EAAEhC,CAAC,GAAG,EAAE,EAAEyO,CAAC,GAAG,EAAE,EAAElL,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGpE,CAAC,CAACD,MAAM,EAAEqE,CAAC,EAAE,EAAE1B,CAAC,CAACkF,IAAI,CAAC5H,CAAC,CAACoE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEvB,CAAC,CAAC+E,IAAI,CAAC5H,CAAC,CAACoE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEtC,CAAC,CAACsC,CAAC,CAAC,IAAIvD,CAAC,CAAC+G,IAAI,CAAC9F,CAAC,CAACsC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEkL,CAAC,CAAC1H,IAAI,CAAC9F,CAAC,CAACsC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAKvD,CAAC,CAAC+G,IAAI,CAAC,IAAI,CAAC,EAAE0H,CAAC,CAAC1H,IAAI,CAAC,IAAI,CAAC,CAAC;UAC7K,IAAIoT,CAAC,GAAGE,CAAC,CAAC9W,CAAC;YAAEoX,CAAC,GAAGN,CAAC,CAACpZ,CAAC;YAAEsb,CAAC,GAAG1oB,CAAC,CAAC0P,CAAC;YAAEiZ,CAAC,GAAG3oB,CAAC,CAACoN,CAAC;UACtC/L,CAAC,CAACu7B,SAAS,CAAC3xB,CAAC,EAAG,UAAUnL,CAAC,EAAE;YACzB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGuL,CAAC,CAACD,MAAM,EAAEtL,CAAC,EAAE,EAAE;cAC/B,IAAIuB,CAAC,GAAG0M,CAAC,CAACjO,CAAC,CAAC;gBAAEqK,CAAC,GAAG+D,CAAC,CAACpO,CAAC,CAAC;gBAAE8K,CAAC,GAAGsB,CAAC,CAACpM,CAAC,CAAC;gBAAE+K,CAAC,GAAG8P,CAAC,CAAC7a,CAAC,CAAC;cAC1CuL,CAAC,CAACvL,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGuB,CAAC,GAAGxB,CAAC,CAAC4P,CAAC,EAAEpE,CAAC,CAACvL,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGqK,CAAC,GAAGtK,CAAC,CAACsN,CAAC,EAAEoZ,CAAC,CAAC9W,CAAC,GAAG4W,CAAC,GAAGxmB,CAAC,CAAC+8B,aAAa,EAAErW,CAAC,CAACpZ,CAAC,GAAG0Z,CAAC,GAAGhnB,CAAC,CAACg9B,aAAa,EAAE98B,CAAC,CAAC0P,CAAC,GAAGgZ,CAAC,GAAG5oB,CAAC,CAAC+8B,aAAa,EAAE78B,CAAC,CAACoN,CAAC,GAAGub,CAAC,GAAG7oB,CAAC,CAACg9B,aAAa,EAAE1xB,CAAC,CAACrL,CAAC,CAAC,CAAC2P,CAAC,GAAGpO,CAAC,GAAGxB,CAAC,CAAC4P,CAAC,EAAEtE,CAAC,CAACrL,CAAC,CAAC,CAACqN,CAAC,GAAGhD,CAAC,GAAGtK,CAAC,CAACsN,CAAC,EAAEhC,CAAC,CAACrL,CAAC,CAAC,CAACgY,KAAK,GAAGjY,CAAC,CAAC4P,CAAC,EAAEtE,CAAC,CAACrL,CAAC,CAAC,CAACiY,KAAK,GAAGlY,CAAC,CAACsN,CAAC,EAAEA,CAAC,CAACrN,CAAC,CAAC,KAAKqN,CAAC,CAACrN,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG8K,CAAC,GAAG/K,CAAC,CAAC4P,CAAC,EAAEtC,CAAC,CAACrN,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG+K,CAAC,GAAGhL,CAAC,CAACsN,CAAC,CAAC;cACxQ,KAAK,IAAIpC,CAAC,GAAGnL,UAAU,CAAC+B,EAAE,CAAC+J,IAAI,CAACP,CAAC,CAACrL,CAAC,CAAC,EAAEsB,CAAC,EAAEolB,CAAC,EAAEplB,CAAC,CAAC0B,QAAQ,CAAC6I,uBAAuB,EAAEvK,CAAC,CAACgD,KAAK,EAAExE,UAAU,CAAC0D,MAAM,CAACoB,MAAM,EAAE,CAAC,CAAC,CAAC,EAAEsG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,CAAC,CAACK,MAAM,EAAEJ,CAAC,EAAE,EAAE;gBAC9I,IAAIM,CAAC,GAAGP,CAAC,CAACC,CAAC,CAAC;gBACZ,CAACoB,CAAC,GAAGhL,CAAC,CAACjB,OAAO,CAACD,aAAa,CAAE,gBAAeoL,CAAC,CAACE,EAAG,KAAIF,CAAC,CAAC2xB,OAAQ,KAAI,CAAC,MAAM7wB,CAAC,CAACS,SAAS,GAAGvB,CAAC,CAAC6Z,IAAI,CAAC;cACpG;cACA,IAAIha,CAAC,CAACrL,CAAC,CAAC,CAAC8S,MAAM,EAAE,KAAK7H,CAAC,GAAGnL,UAAU,CAAC+B,EAAE,CAAC+J,IAAI,CAACP,CAAC,CAACrL,CAAC,CAAC,CAAC8S,MAAM,EAAExR,CAAC,EAAEolB,CAAC,EAAEplB,CAAC,CAAC0B,QAAQ,CAAC6I,uBAAuB,EAAEvK,CAAC,CAACgD,KAAK,EAAExE,UAAU,CAAC0D,MAAM,CAACoB,MAAM,EAAE,CAAC,CAAC,CAAC,EAAEsG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,CAAC,CAACK,MAAM,EAAEJ,CAAC,EAAE,EAAE;gBAClK,IAAIoB,CAAC;gBACLd,CAAC,GAAGP,CAAC,CAACC,CAAC,CAAC;gBACR,CAACoB,CAAC,GAAGhL,CAAC,CAACjB,OAAO,CAACD,aAAa,CAAE,gBAAeoL,CAAC,CAACE,EAAG,KAAIF,CAAC,CAAC2xB,OAAQ,KAAI,CAAC,MAAM7wB,CAAC,CAACS,SAAS,GAAGvB,CAAC,CAAC6Z,IAAI,CAAC;cACpG;cACA7Y,CAAC,CAACxM,CAAC,CAAC,CAAC+O,YAAY,CAAC,WAAW,EAAE,SAAS,GAAGxD,CAAC,CAACvL,CAAC,CAAC,CAACgP,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC,EAAE5B,CAAC,CAACpN,CAAC,CAAC,IAAIoN,CAAC,CAACpN,CAAC,CAAC,CAAC+O,YAAY,CAAC,WAAW,EAAE,SAAS,GAAG1B,CAAC,CAACrN,CAAC,CAAC,CAACgP,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC;YAChJ;UACJ,CAAE,CAAC;QACP,CAAC,MAAM;UACH,IAAI1N,CAAC,CAAC07B,OAAO,CAAC,CAAC,EAAE/xB,CAAC,CAACrH,SAAS,KAAKqH,CAAC,CAACrH,SAAS,CAACC,GAAG,CAAC,iBAAiB,CAAC,EAAEoH,CAAC,CAACrH,SAAS,CAAC2F,MAAM,CAAC,iBAAiB,CAAC,EAAE0B,CAAC,CAACrH,SAAS,CAAC2F,MAAM,CAAC,mBAAmB,CAAC,EAAE0B,CAAC,CAACrH,SAAS,CAAC2F,MAAM,CAAC,iBAAiB,CAAC,CAAC,EAAEqd,CAAC,CAACxX,CAAC,EAAEoX,CAAC,CAAC,EAAEpX,CAAC,GAAG,IAAI,EAAEoX,CAAC,GAAG,IAAI,EAAEllB,CAAC,CAAChB,MAAM,CAAC2E,cAAc,EAAE,OAAO,IAAI,IAAIoF,CAAC,IAAIA,CAAC,IAAIY,CAAC,GAAG;YAC5Q,IAAIZ,CAAC,CAACuQ,YAAY,IAAIvQ,CAAC,CAACuQ,YAAY,CAAC9a,UAAU,CAAC2Q,IAAI,CAAC0N,OAAO,CAAC,EAAE;cAC3D,IAAI0K,CAAC,GAAGxe,CAAC,CAACqQ,YAAY,CAAC5a,UAAU,CAAC2Q,IAAI,CAAC0N,OAAO,CAAC;cAC/C,IAAI7c,CAAC,CAACyC,cAAc,IAAI8kB,CAAC,IAAIvnB,CAAC,CAACyC,cAAc,EAAE;gBAC3CqL,CAAC,GAAGyZ,CAAC,EAAErC,CAAC,GAAGnc,CAAC;gBACZ;cACJ;YACJ;YACAA,CAAC,GAAGA,CAAC,CAACoC,UAAU;UACpB;UACA,IAAI,IAAI,IAAI2C,CAAC,EAAE;YACXoX,CAAC,CAAC5iB,SAAS,CAACC,GAAG,CAAC,eAAe,CAAC;YAChC,KAAK,IAAIu5B,CAAC,GAAG97B,CAAC,CAAC6N,OAAO,CAACC,CAAC,CAAC,EAAEiuB,CAAC,GAAGv9B,UAAU,CAAC0zB,gBAAgB,CAAC4J,CAAC,CAAC,EAAEE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,CAAC,CAAC/xB,MAAM,EAAEgyB,CAAC,EAAE,EAAE;cACrF,IAAIC,CAAC,GAAGj8B,CAAC,CAACiM,cAAc,CAAC8vB,CAAC,CAACC,CAAC,CAAC,CAAC5xB,EAAE,CAAC;cACjC6xB,CAAC,KAAKA,CAAC,CAAC9uB,KAAK,CAACsB,OAAO,GAAG,EAAE,CAAC;YAC/B;YACA,CAACzO,CAAC,CAACwV,aAAa,CAACzL,CAAC,CAAC,CAAC,CAAC,CAACK,EAAE,EAAE0D,CAAC,CAAC,IAAInE,CAAC,CAACrH,SAAS,IAAIqH,CAAC,CAACrH,SAAS,CAAC2F,MAAM,CAAC,iBAAiB,CAAC,EAAE0B,CAAC,CAACrH,SAAS,CAAC2F,MAAM,CAAC,iBAAiB,CAAC,EAAE0B,CAAC,CAACrH,SAAS,CAAC2F,MAAM,CAAC,iBAAiB,CAAC,EAAE0B,CAAC,CAACrH,SAAS,CAACC,GAAG,CAAC,mBAAmB,CAAC,IAAIoH,CAAC,CAACrH,SAAS,KAAKqH,CAAC,CAACrH,SAAS,CAAC2F,MAAM,CAAC,iBAAiB,CAAC,EAAE0B,CAAC,CAACrH,SAAS,CAAC2F,MAAM,CAAC,iBAAiB,CAAC,EAAE0B,CAAC,CAACrH,SAAS,CAACC,GAAG,CAAC,iBAAiB,CAAC,EAAEoH,CAAC,CAACrH,SAAS,CAAC2F,MAAM,CAAC,mBAAmB,CAAC,CAAC;UAC1X;UACA,IAAIi0B,CAAC,GAAG,CAACv9B,CAAC,CAAC0P,CAAC,GAAG8W,CAAC,CAAC9W,CAAC,IAAI+W,CAAC;YAAE+W,CAAC,GAAG,CAACx9B,CAAC,CAACoN,CAAC,GAAGoZ,CAAC,CAACpZ,CAAC,IAAIqZ,CAAC;UAC5C,KAAK/W,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGpE,CAAC,CAACD,MAAM,EAAEqE,CAAC,EAAE,EAAE;YAC3BpE,CAAC,CAACoE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGrD,CAAC,CAACqD,CAAC,CAAC,CAACA,CAAC,GAAG6tB,CAAC,EAAEjyB,CAAC,CAACoE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGrD,CAAC,CAACqD,CAAC,CAAC,CAACtC,CAAC,GAAGowB,CAAC,EAAEpwB,CAAC,CAACsC,CAAC,CAAC,KAAKtC,CAAC,CAACsC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG3B,CAAC,CAAC2B,CAAC,CAAC,CAACA,CAAC,GAAG6tB,CAAC,EAAEnwB,CAAC,CAACsC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG3B,CAAC,CAAC2B,CAAC,CAAC,CAACtC,CAAC,GAAGowB,CAAC,CAAC,EAAEpyB,CAAC,CAACsE,CAAC,CAAC,CAACA,CAAC,GAAGnE,CAAC,CAACmE,CAAC,CAAC,CAACA,CAAC,GAAG6tB,CAAC,EAAEnyB,CAAC,CAACsE,CAAC,CAAC,CAACtC,CAAC,GAAG7B,CAAC,CAACmE,CAAC,CAAC,CAACtC,CAAC,GAAGowB,CAAC,EAAEpyB,CAAC,CAACsE,CAAC,CAAC,CAACqI,KAAK,GAAGwlB,CAAC,EAAEnyB,CAAC,CAACsE,CAAC,CAAC,CAACsI,KAAK,GAAGwlB,CAAC;YAC1K,IAAIC,CAAC,GAAG59B,UAAU,CAAC+B,EAAE,CAAC+J,IAAI,CAACP,CAAC,CAACsE,CAAC,CAAC,EAAErO,CAAC,EAAEolB,CAAC,EAAEplB,CAAC,CAAC0B,QAAQ,CAAC6I,uBAAuB,EAAEvK,CAAC,CAACgD,KAAK,EAAExE,UAAU,CAAC0D,MAAM,CAACoB,MAAM,EAAE,CAAC,CAAC,CAAC;YACjH,KAAK04B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGI,CAAC,CAACpyB,MAAM,EAAEgyB,CAAC,EAAE,EAAE;cAC3B,IAAIK,CAAC,GAAGD,CAAC,CAACJ,CAAC,CAAC;cACZ,CAACM,CAAC,GAAGt8B,CAAC,CAACjB,OAAO,CAACD,aAAa,CAAE,gBAAeu9B,CAAC,CAACjyB,EAAG,KAAIiyB,CAAC,CAACR,OAAQ,KAAI,CAAC,MAAMS,CAAC,CAAC7wB,SAAS,GAAG4wB,CAAC,CAACtY,IAAI,CAAC;YACpG;YACA,IAAIha,CAAC,CAACsE,CAAC,CAAC,CAACmD,MAAM,EAAE,KAAK4qB,CAAC,GAAG59B,UAAU,CAAC+B,EAAE,CAAC+J,IAAI,CAACP,CAAC,CAACsE,CAAC,CAAC,CAACmD,MAAM,EAAExR,CAAC,EAAEolB,CAAC,EAAEplB,CAAC,CAAC0B,QAAQ,CAAC6I,uBAAuB,EAAEvK,CAAC,CAACgD,KAAK,EAAExE,UAAU,CAAC0D,MAAM,CAACoB,MAAM,EAAE,CAAC,CAAC,CAAC,EAAE04B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGI,CAAC,CAACpyB,MAAM,EAAEgyB,CAAC,EAAE,EAAE;cAClK,IAAIM,CAAC;cACLD,CAAC,GAAGD,CAAC,CAACJ,CAAC,CAAC;cACR,CAACM,CAAC,GAAGt8B,CAAC,CAACjB,OAAO,CAACD,aAAa,CAAE,gBAAeu9B,CAAC,CAACjyB,EAAG,KAAIiyB,CAAC,CAACR,OAAQ,KAAI,CAAC,MAAMS,CAAC,CAAC7wB,SAAS,GAAG4wB,CAAC,CAACtY,IAAI,CAAC;YACpG;UACJ;UACA,IAAI,CAACtlB,CAAC,CAACs8B,eAAe,KAAK3oB,IAAI,CAAC2mB,GAAG,CAACp6B,CAAC,CAAC0P,CAAC,GAAG8W,CAAC,CAAC9W,CAAC,CAAC,GAAG7P,UAAU,CAACoiB,2BAA2B,IAAIxO,IAAI,CAAC2mB,GAAG,CAACp6B,CAAC,CAACoN,CAAC,GAAGoZ,CAAC,CAACpZ,CAAC,CAAC,GAAGvN,UAAU,CAACoiB,2BAA2B,CAAC,EAAE;YACtJ,IAAI,CAAC,CAAC,KAAKpiB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,MAAM,EAAE,CAACpD,CAAC,EAAEC,CAAC,EAAEvB,CAAC,EAAE8K,CAAC,CAAC,CAAC,IAAIkc,CAAC,CAAC,CAAC,EAAE1lB,CAAC,CAAChB,MAAM,CAAC2E,cAAc,EAAE,KAAK0K,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGnD,CAAC,CAAClB,MAAM,EAAEqE,CAAC,EAAE,EAAE1E,CAAC,CAACyxB,YAAY,CAAClwB,CAAC,CAACmD,CAAC,CAAC,EAAE1E,CAAC,CAAC+hB,UAAU,CAAC;YAC7JjtB,CAAC,CAACs8B,eAAe,GAAG,CAAC,CAAC;UAC1B;UACA,KAAK1sB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGpE,CAAC,CAACD,MAAM,EAAEqE,CAAC,EAAE,EAAEnD,CAAC,CAACmD,CAAC,CAAC,CAACZ,YAAY,CAAC,WAAW,EAAE,SAAS,GAAGxD,CAAC,CAACoE,CAAC,CAAC,CAACX,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC,EAAE5B,CAAC,CAACuC,CAAC,CAAC,IAAIvC,CAAC,CAACuC,CAAC,CAAC,CAACZ,YAAY,CAAC,WAAW,EAAE,SAAS,GAAG1B,CAAC,CAACsC,CAAC,CAAC,CAACX,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC;QAC/K;MACJ;IACJ,CAAC;IAAEgY,CAAC,GAAG,SAAAA,CAAUhnB,CAAC,EAAE;MAChB,KAAK,IAAIuB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG8J,CAAC,CAACC,MAAM,EAAE/J,CAAC,EAAE,EAAE8J,CAAC,CAAC9J,CAAC,CAAC,CAACoO,CAAC,GAAGnE,CAAC,CAACjK,CAAC,CAAC,CAACoO,CAAC,EAAEtE,CAAC,CAAC9J,CAAC,CAAC,CAAC8L,CAAC,GAAG7B,CAAC,CAACjK,CAAC,CAAC,CAAC8L,CAAC;MACnE,IAAI/L,CAAC,CAAC07B,OAAO,CAAC,CAAC,EAAE/xB,CAAC,CAACrH,SAAS,KAAKqH,CAAC,CAACrH,SAAS,CAAC2F,MAAM,CAAC,iBAAiB,CAAC,EAAE0B,CAAC,CAACrH,SAAS,CAAC2F,MAAM,CAAC,iBAAiB,CAAC,EAAE0B,CAAC,CAACrH,SAAS,CAAC2F,MAAM,CAAC,mBAAmB,CAAC,EAAE0B,CAAC,CAACrH,SAAS,CAAC2F,MAAM,CAAC,iBAAiB,CAAC,CAAC,EAAE0B,CAAC,CAAC2S,mBAAmB,CAAC3d,CAAC,CAAC4f,IAAI,EAAEkH,CAAC,CAAC,EAAE9b,CAAC,CAAC2S,mBAAmB,CAAC3d,CAAC,CAAC46B,EAAE,EAAE7T,CAAC,CAAC,EAAE/mB,CAAC,CAAC66B,KAAK,IAAI7vB,CAAC,CAAC2S,mBAAmB,CAAC3d,CAAC,CAAC66B,KAAK,EAAE9T,CAAC,CAAC,EAAE3b,CAAC,CAAC,CAAC,CAAC,CAACK,EAAE,IAAI0D,CAAC,IAAI,IAAI,IAAIA,CAAC,EAAE;QACvU,IAAI/E,CAAC,GAAG/I,CAAC,CAAC6N,OAAO,CAACC,CAAC,CAAC;QACpB,IAAI,CAAC,CAAC,MAAMrE,CAAC,GAAGjL,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,MAAM,EAAE,CAACpD,CAAC,EAAE+J,CAAC,CAAC,CAAC,CAAC,CAACK,EAAE,EAAErB,CAAC,CAACqB,EAAE,EAAEc,CAAC,CAAC,CAAC,CAAC,EAAExM,CAAC,CAAC,CAAC,CAAC,EAAE,OAAO4mB,CAAC,CAACxX,CAAC,EAAEoX,CAAC,CAAC,EAAE,MAAMllB,CAAC,CAACyC,cAAc,GAAG,IAAI,CAAC;QAC/H,IAAIzC,CAAC,CAACwV,aAAa,CAACzL,CAAC,CAAC,CAAC,CAAC,CAACK,EAAE,EAAE0D,CAAC,CAAC,EAAE,CAAClE,CAAC,GAAG5J,CAAC,CAAC8V,GAAG,CAAC/L,CAAC,CAAC,CAAC,CAAC,CAACK,EAAE,CAAC,EAAE+I,GAAG,GAAGrF,CAAC,EAAElE,CAAC,CAACmM,KAAK,GAAG,IAAI,EAAE/V,CAAC,CAAC6V,UAAU,CAACjM,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,KAAM0b,CAAC,CAACxX,CAAC,EAAEoX,CAAC,CAAC;QACtHllB,CAAC,CAACyC,cAAc,GAAG,IAAI;MAC3B,CAAC,MAAM;QACH,IAAIhE,CAAC,CAACs8B,eAAe,EAAE;UACnB,IAAItxB,CAAC,GAAGjL,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,MAAM,EAAE,CAACpD,CAAC,EAAE+J,CAAC,CAAC,CAAC,CAAC,CAACK,EAAE,EAAE,KAAK,CAAC,EAAEc,CAAC,CAAC,CAAC,CAAC,EAAExM,CAAC,CAAC,CAAC;UACxE,IAAIsB,CAAC,CAAChB,MAAM,CAAC6G,SAAS,IAAI,CAAC,CAAC,KAAK4D,CAAC,EAAE;YAChC,KAAKxJ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG8J,CAAC,CAACC,MAAM,EAAE/J,CAAC,EAAE,EAAE;cAC3B,IAAI2J,CAAC;cACL,IAAIA,CAAC,GAAG2yB,MAAM,CAACzmB,GAAG,CAAC/L,CAAC,CAAC9J,CAAC,CAAC,CAACmK,EAAE,CAAC,EAAE;gBACzB,IAAIH,CAAC,GAAGzL,UAAU,CAAC0oB,aAAa,CAAChc,CAAC,CAACjL,CAAC,CAAC,CAAC;gBACtC,IAAI,IAAI2J,CAAC,CAAC8M,KAAK,GAAG9M,CAAC,CAAC8M,KAAK,IAAIzM,CAAC,CAAC,CAAC,CAAC,GAAGF,CAAC,CAAC9J,CAAC,CAAC,CAACoO,CAAC,GAAGzE,CAAC,CAAC8M,KAAK,GAAGzM,CAAC,CAAC,CAAC,CAAC,GAAGF,CAAC,CAAC9J,CAAC,CAAC,CAACoO,CAAC,EAAE,IAAI,IAAIzE,CAAC,CAAC+M,KAAK,GAAG/M,CAAC,CAAC+M,KAAK,IAAI1M,CAAC,CAAC,CAAC,CAAC,GAAGF,CAAC,CAAC9J,CAAC,CAAC,CAAC8L,CAAC,GAAGnC,CAAC,CAAC+M,KAAK,GAAG1M,CAAC,CAAC,CAAC,CAAC,GAAGF,CAAC,CAAC9J,CAAC,CAAC,CAAC8L,CAAC,EAAEwwB,MAAM,CAACj5B,MAAM,CAACsG,CAAC,CAAC;cAChK;YACJ;YACA2yB,MAAM,CAAC5zB,IAAI,CAACnK,UAAU,CAAC0D,MAAM,CAACoB,MAAM,EAAE;cAACk5B,cAAc,EAAEhzB;YAAC,CAAC,CAAC;UAC9D;QACJ;QACAxJ,CAAC,CAACyC,cAAc,GAAG,IAAI;MAC3B;IACJ,CAAC;EACDkH,CAAC,CAACkS,gBAAgB,CAACld,CAAC,CAAC4f,IAAI,EAAEkH,CAAC,CAAC,EAAE9b,CAAC,CAACkS,gBAAgB,CAACld,CAAC,CAAC46B,EAAE,EAAE7T,CAAC,CAAC,EAAE/mB,CAAC,CAAC66B,KAAK,IAAI7vB,CAAC,CAACkS,gBAAgB,CAACld,CAAC,CAAC66B,KAAK,EAAE9T,CAAC,CAAC;AACzG,CAAC,EAAClnB,UAAU,CAAC2J,SAAS,CAACyzB,gBAAgB,GAAG,UAAUn9B,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACzD,IAAIqB,CAAC,GAAGxB,UAAU,CAACqtB,YAAY,CAACntB,CAAC,CAAC;IAAEuB,CAAC,GAAGxB,CAAC,CAAC2a,YAAY,CAAC5a,UAAU,CAAC2Q,IAAI,CAAC0N,OAAO,CAAC;IAAE9T,CAAC,GAAG,IAAI,CAAC8E,OAAO,CAAC5N,CAAC,CAAC;EACpGxB,CAAC,CAACs8B,eAAe,GAAG,CAAC,CAAC;EACtB,IAAIvxB,CAAC,GAAG,IAAI;IAAEC,CAAC,GAAG,IAAI;EACtB,IAAI,CAAChH,cAAc,GAAGxC,CAAC,EAAE,IAAI,CAAClB,OAAO,CAACoO,KAAK,CAAC6tB,aAAa,GAAG,IAAI,CAACj8B,OAAO,CAACoO,KAAK,CAAC8tB,gBAAgB,GAAG,IAAI,CAACl8B,OAAO,CAACoO,KAAK,CAAC+tB,UAAU,GAAG,MAAM;EACxI,IAAIvxB,CAAC,GAAG,IAAI;IAAEC,CAAC,GAAG,IAAI,CAACqB,MAAM,CAAC,CAAC;IAAElB,CAAC,GAAG;MAACsE,CAAC,EAAErO,CAAC,CAACqO,CAAC;MAAEtC,CAAC,EAAE/L,CAAC,CAAC+L;IAAC,CAAC;IAAE9B,CAAC,GAAGzL,UAAU,CAAC0oB,aAAa,CAACzoB,CAAC,CAAC;IAAEyL,CAAC,GAAGD,CAAC,CAAC,CAAC,CAAC;IAAEe,CAAC,GAAGf,CAAC,CAAC,CAAC,CAAC;IACtGiB,CAAC,GAAGvB,CAAC,CAAC/H,QAAQ,CAAC,CAAC;IAAEkK,CAAC,GAAGrN,CAAC,CAAC08B,SAAS,CAAC,CAAC,CAAC,CAAC;EACzCrvB,CAAC,CAAC2B,YAAY,CAAC,WAAW,EAAE,SAAS,CAAC,EAAE7D,CAAC,CAACwxB,YAAY,CAACtvB,CAAC,EAAElC,CAAC,CAAC8hB,UAAU,CAAC,EAAE5f,CAAC,CAACqB,KAAK,CAACsB,OAAO,GAAG,EAAE;EAC7F,IAAI1C,CAAC,GAAG,SAAAA,CAAUtN,CAAC,EAAEC,CAAC,EAAE;MACpB,IAAI,IAAI,IAAID,CAAC,EAAE;QACXC,CAAC,CAAC4D,SAAS,CAAC2F,MAAM,CAAC,eAAe,CAAC;QACnC,KAAK,IAAItJ,CAAC,GAAGgL,CAAC,CAACkE,OAAO,CAACrE,CAAC,CAAC,EAAExJ,CAAC,GAAGxB,UAAU,CAAC0zB,gBAAgB,CAACvzB,CAAC,CAAC,EAAEsB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,CAAC,CAACgK,MAAM,EAAE/J,CAAC,EAAE,EAAE;UACrF,IAAI8I,CAAC,GAAGY,CAAC,CAACsC,cAAc,CAACjM,CAAC,CAACC,CAAC,CAAC,CAACmK,EAAE,CAAC;UACjCrB,CAAC,KAAKA,CAAC,CAACoE,KAAK,CAACsB,OAAO,GAAG,CAAC,CAAC;QAC9B;MACJ;IACJ,CAAC;IAAE/B,CAAC,GAAG,SAAAA,CAAUhO,CAAC,EAAE;MAChB,IAAIqL,CAAC,EAAE;QACH,IAAIpL,CAAC,GAAGH,UAAU,CAACqtB,YAAY,CAACntB,CAAC,CAAC;UAAEsB,CAAC,GAAGtB,CAAC,CAACia,MAAM;QAChDna,UAAU,CAAC0c,QAAQ,CAAC,CAAC,KAAKlb,CAAC,GAAGnB,QAAQ,CAACw8B,gBAAgB,CAAC18B,CAAC,CAAC0P,CAAC,EAAE1P,CAAC,CAACoN,CAAC,CAAC,CAAC;QAClE,IAAI9L,CAAC,GAAGzB,UAAU,CAACguB,YAAY,CAAC7iB,CAAC,CAAC5K,OAAO,EAAEL,CAAC,CAAC;UAAEgO,CAAC,GAAG;YAC/CsB,IAAI,EAAErE,CAAC,CAACf,KAAK,CAAC,CAAC,IAAI3I,CAAC,CAACoO,CAAC,GAAG1E,CAAC,CAAC3K,MAAM,CAAC+C,OAAO,CAAC,GAAG,CAAC;YAC9C6Q,KAAK,EAAE3S,CAAC,CAACoO,CAAC,GAAG1E,CAAC,CAAC3K,MAAM,CAAC+C,OAAO,GAAG,CAAC;YACjCw3B,EAAE,EAAE5vB,CAAC,CAACd,MAAM,CAAC,CAAC,IAAI5I,CAAC,CAAC8L,CAAC,GAAGpC,CAAC,CAAC3K,MAAM,CAAC+C,OAAO,CAAC,GAAG,CAAC;YAC7Cu5B,IAAI,EAAEr7B,CAAC,CAAC8L,CAAC,GAAGpC,CAAC,CAAC3K,MAAM,CAAC+C,OAAO,GAAG;UACnC,CAAC;QACD,IAAI2K,CAAC,CAACsB,IAAI,IAAItB,CAAC,CAACkG,KAAK,IAAIlG,CAAC,CAAC6sB,EAAE,IAAI7sB,CAAC,CAAC4uB,IAAI,EAAE;UACrC1xB,CAAC,CAACtH,SAAS,KAAKsH,CAAC,CAACtH,SAAS,CAAC2F,MAAM,CAAC,iBAAiB,CAAC,EAAE2B,CAAC,CAACtH,SAAS,CAACC,GAAG,CAAC,iBAAiB,CAAC,EAAEqH,CAAC,CAACtH,SAAS,CAAC2F,MAAM,CAAC,mBAAmB,CAAC,EAAE2B,CAAC,CAACtH,SAAS,CAAC2F,MAAM,CAAC,iBAAiB,CAAC,CAAC;UAC1K,IAAI6E,CAAC,GAAG7C,CAAC,CAAC,CAAC,CAAC;YAAEa,CAAC,GAAGb,CAAC,CAAC,CAAC,CAAC;YAAEsP,CAAC,GAAGxP,CAAC,CAACsE,CAAC;YAAEA,CAAC,GAAGtE,CAAC,CAACgC,CAAC;YAAEkZ,CAAC,GAAGtmB,CAAC,CAAC0P,CAAC;YAAEP,CAAC,GAAGnP,CAAC,CAACoN,CAAC;UAC1DpC,CAAC,CAAC4xB,SAAS,CAAC7uB,CAAC,EAAG,UAAUjO,CAAC,EAAE;YACzBwL,CAAC,CAAC,CAAC,CAAC,GAAG6C,CAAC,GAAGrO,CAAC,CAAC4P,CAAC,EAAEpE,CAAC,CAAC,CAAC,CAAC,GAAGa,CAAC,GAAGrM,CAAC,CAACsN,CAAC,EAAEhC,CAAC,CAACsE,CAAC,GAAGkL,CAAC,GAAG9a,CAAC,CAAC+8B,aAAa,EAAEzxB,CAAC,CAACgC,CAAC,GAAGsC,CAAC,GAAG5P,CAAC,CAACg9B,aAAa,EAAE98B,CAAC,CAAC0P,CAAC,GAAG4W,CAAC,GAAGxmB,CAAC,CAAC+8B,aAAa,EAAE78B,CAAC,CAACoN,CAAC,GAAG+B,CAAC,GAAGrP,CAAC,CAACg9B,aAAa,EAAE3vB,CAAC,CAAC2B,YAAY,CAAC,WAAW,EAAE,SAAS,GAAGxD,CAAC,CAACyD,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC;UAC3M,CAAE,CAAC;QACP,CAAC,MAAM;UACH,IAAI/D,CAAC,CAAC+xB,OAAO,CAAC,CAAC,EAAE9xB,CAAC,CAACtH,SAAS,KAAKsH,CAAC,CAACtH,SAAS,CAACC,GAAG,CAAC,iBAAiB,CAAC,EAAEqH,CAAC,CAACtH,SAAS,CAAC2F,MAAM,CAAC,iBAAiB,CAAC,EAAE2B,CAAC,CAACtH,SAAS,CAAC2F,MAAM,CAAC,mBAAmB,CAAC,EAAE2B,CAAC,CAACtH,SAAS,CAAC2F,MAAM,CAAC,iBAAiB,CAAC,CAAC,EAAE8D,CAAC,CAACvC,CAAC,EAAEC,CAAC,CAAC,EAAED,CAAC,GAAG,IAAI,EAAEC,CAAC,GAAG,IAAI,EAAEE,CAAC,CAAC3K,MAAM,CAAC2E,cAAc,EAAE,OAAO,IAAI,IAAI3D,CAAC,IAAIA,CAAC,IAAI4J,CAAC,GAAG;YAC5Q,IAAI5J,CAAC,CAACsZ,YAAY,IAAItZ,CAAC,CAACsZ,YAAY,CAAC9a,UAAU,CAAC2Q,IAAI,CAAC0N,OAAO,CAAC,EAAE;cAC3D,IAAIqI,CAAC,GAAGllB,CAAC,CAACoZ,YAAY,CAAC5a,UAAU,CAAC2Q,IAAI,CAAC0N,OAAO,CAAC;cAC/C,IAAIlT,CAAC,CAAClH,cAAc,IAAIyiB,CAAC,IAAIvb,CAAC,CAAClH,cAAc,EAAE;gBAC3C+G,CAAC,GAAG0b,CAAC,EAAEzb,CAAC,GAAGzJ,CAAC;gBACZ;cACJ;YACJ;YACAA,CAAC,GAAGA,CAAC,CAACmL,UAAU;UACpB;UACA,IAAI,SAAS,IAAI3B,CAAC,KAAKA,CAAC,GAAG,IAAI,EAAEC,CAAC,GAAG,IAAI,CAAC,EAAE,IAAI,IAAID,CAAC,EAAE;YACnDC,CAAC,CAACnH,SAAS,CAACC,GAAG,CAAC,eAAe,CAAC;YAChC,KAAK,IAAI4iB,CAAC,GAAGxb,CAAC,CAACkE,OAAO,CAACrE,CAAC,CAAC,EAAE4b,CAAC,GAAG5mB,UAAU,CAAC0zB,gBAAgB,CAAC/M,CAAC,CAAC,EAAEG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,CAAC,CAACpb,MAAM,EAAEsb,CAAC,EAAE,EAAE;cACrF,IAAIG,CAAC,GAAG9b,CAAC,CAACsC,cAAc,CAACmZ,CAAC,CAACE,CAAC,CAAC,CAAClb,EAAE,CAAC;cACjCqb,CAAC,KAAKA,CAAC,CAACtY,KAAK,CAACsB,OAAO,GAAG,EAAE,CAAC;YAC/B;YACA,CAAC9E,CAAC,CAAC6L,aAAa,CAACzM,CAAC,CAACqB,EAAE,EAAEZ,CAAC,CAAC,IAAII,CAAC,CAACtH,SAAS,IAAIsH,CAAC,CAACtH,SAAS,CAAC2F,MAAM,CAAC,iBAAiB,CAAC,EAAE2B,CAAC,CAACtH,SAAS,CAAC2F,MAAM,CAAC,iBAAiB,CAAC,EAAE2B,CAAC,CAACtH,SAAS,CAAC2F,MAAM,CAAC,iBAAiB,CAAC,EAAE2B,CAAC,CAACtH,SAAS,CAACC,GAAG,CAAC,mBAAmB,CAAC,IAAIqH,CAAC,CAACtH,SAAS,KAAKsH,CAAC,CAACtH,SAAS,CAAC2F,MAAM,CAAC,iBAAiB,CAAC,EAAE2B,CAAC,CAACtH,SAAS,CAAC2F,MAAM,CAAC,iBAAiB,CAAC,EAAE2B,CAAC,CAACtH,SAAS,CAACC,GAAG,CAAC,iBAAiB,CAAC,EAAEqH,CAAC,CAACtH,SAAS,CAAC2F,MAAM,CAAC,mBAAmB,CAAC,CAAC;UACvX;UACA,IAAIyd,CAAC,GAAG,CAAC/mB,CAAC,CAAC0P,CAAC,GAAGtE,CAAC,CAACsE,CAAC,IAAInD,CAAC;YAAEmc,CAAC,GAAG,CAAC1oB,CAAC,CAACoN,CAAC,GAAGhC,CAAC,CAACgC,CAAC,IAAIb,CAAC;UAC5C,IAAIjB,CAAC,CAAC,CAAC,CAAC,GAAGC,CAAC,GAAGwb,CAAC,EAAEzb,CAAC,CAAC,CAAC,CAAC,GAAGe,CAAC,GAAGqc,CAAC,EAAE,CAAC5oB,CAAC,CAACs8B,eAAe,KAAK3oB,IAAI,CAAC2mB,GAAG,CAACp6B,CAAC,CAAC0P,CAAC,GAAGtE,CAAC,CAACsE,CAAC,CAAC,GAAG7P,UAAU,CAACoiB,2BAA2B,IAAIxO,IAAI,CAAC2mB,GAAG,CAACp6B,CAAC,CAACoN,CAAC,GAAGhC,CAAC,CAACgC,CAAC,CAAC,GAAGvN,UAAU,CAACoiB,2BAA2B,CAAC,EAAE,CAAC,CAAC,KAAKpiB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,MAAM,EAAE,CAACuG,CAAC,EAAEub,CAAC,EAAExmB,CAAC,CAAC,CAAC,IAAIiO,CAAC,CAAC,CAAC,EAAElO,CAAC,CAACs8B,eAAe,GAAG,CAAC,CAAC;UACxQjvB,CAAC,CAAC2B,YAAY,CAAC,WAAW,EAAE,SAAS,GAAGxD,CAAC,CAACyD,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC;QAC/D;MACJ;IACJ,CAAC;IAAEf,CAAC,GAAG,SAAAA,CAAUjO,CAAC,EAAE;MAChB,IAAIiL,CAAC,CAAC+xB,OAAO,CAAC,CAAC,EAAE9xB,CAAC,CAACtH,SAAS,KAAKsH,CAAC,CAACtH,SAAS,CAAC2F,MAAM,CAAC,iBAAiB,CAAC,EAAE2B,CAAC,CAACtH,SAAS,CAAC2F,MAAM,CAAC,iBAAiB,CAAC,EAAE2B,CAAC,CAACtH,SAAS,CAAC2F,MAAM,CAAC,mBAAmB,CAAC,EAAE2B,CAAC,CAACtH,SAAS,CAAC2F,MAAM,CAAC,iBAAiB,CAAC,CAAC,EAAE2B,CAAC,CAAC0S,mBAAmB,CAAC3d,CAAC,CAAC4f,IAAI,EAAE7R,CAAC,CAAC,EAAE9C,CAAC,CAAC0S,mBAAmB,CAAC3d,CAAC,CAAC46B,EAAE,EAAE5sB,CAAC,CAAC,EAAEhO,CAAC,CAAC66B,KAAK,IAAI5vB,CAAC,CAAC0S,mBAAmB,CAAC3d,CAAC,CAAC66B,KAAK,EAAE7sB,CAAC,CAAC,EAAE5D,CAAC,CAACqB,EAAE,IAAIZ,CAAC,IAAI,IAAI,IAAIA,CAAC,EAAE,OAAO/K,CAAC,CAACs8B,eAAe,IAAIv8B,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,MAAM,EAAE,CAACuG,CAAC,EAAEZ,CAAC,CAACqB,EAAE,EAAE,KAAK,CAAC,EAAE0B,CAAC,EAAEpN,CAAC,CAAC,CAAC,EAAEkL,CAAC,CAACwB,WAAW,CAACU,CAAC,CAAC,EAAE,MAAMnC,CAAC,CAAClH,cAAc,GAAG,IAAI,CAAC;MAChd,IAAIzC,CAAC,GAAG2J,CAAC,CAACkE,OAAO,CAACrE,CAAC,CAAC;MACpB,IAAI,CAAC,CAAC,KAAKhL,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,MAAM,EAAE,CAACuG,CAAC,EAAEZ,CAAC,CAACqB,EAAE,EAAEpK,CAAC,CAACoK,EAAE,EAAE0B,CAAC,EAAEpN,CAAC,CAAC,CAAC,EAAE,OAAOqN,CAAC,CAACvC,CAAC,EAAEC,CAAC,CAAC,EAAEG,CAAC,CAACwB,WAAW,CAACU,CAAC,CAAC,EAAE,MAAMnC,CAAC,CAAClH,cAAc,GAAG,IAAI,CAAC;MACrI,IAAIkH,CAAC,CAAC6L,aAAa,CAACzM,CAAC,CAACqB,EAAE,EAAEZ,CAAC,CAAC,EAAE;QAC1B,IAAIvJ,CAAC,GAAG0J,CAAC,CAACmM,GAAG,CAAC/M,CAAC,CAACqB,EAAE,CAAC;QACnBnK,CAAC,CAACkT,GAAG,GAAG3J,CAAC,EAAEvJ,CAAC,CAAC8V,KAAK,GAAG,IAAI,EAAEpM,CAAC,CAACkM,UAAU,CAAC5V,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;MACxD,CAAC,MAAM2J,CAAC,CAACwB,WAAW,CAACU,CAAC,CAAC,EAAEC,CAAC,CAACvC,CAAC,EAAEC,CAAC,CAAC;MAChCE,CAAC,CAAClH,cAAc,GAAG,IAAI;IAC3B,CAAC;EACDmH,CAAC,CAACiS,gBAAgB,CAACld,CAAC,CAAC4f,IAAI,EAAE7R,CAAC,CAAC,EAAE9C,CAAC,CAACiS,gBAAgB,CAACld,CAAC,CAAC46B,EAAE,EAAE5sB,CAAC,CAAC,EAAEhO,CAAC,CAAC66B,KAAK,IAAI5vB,CAAC,CAACiS,gBAAgB,CAACld,CAAC,CAAC66B,KAAK,EAAE7sB,CAAC,CAAC;AACzG,CAAC,EAACnO,UAAU,CAAC2J,SAAS,CAAC8S,cAAc,GAAG,UAAUxc,CAAC,EAAEC,CAAC,EAAE;EACpD,IAAI,IAAI,CAACuE,SAAS,EAAE;IAChB,IAAItE,CAAC,GAAG,IAAI,CAACmD,UAAU,CAAC,CAAC;MAAE9B,CAAC,GAAG,IAAI,CAACiL,MAAM,CAAC,CAAC;MAAEhL,CAAC,GAAGD,CAAC,CAACoZ,YAAY,CAAC,OAAO,CAAC;MAAErQ,CAAC,GAAG/I,CAAC,CAACoZ,YAAY,CAAC,QAAQ,CAAC;MACnG5P,CAAC,GAAGvJ,CAAC,GAAGtB,CAAC,CAAC,CAAC,CAAC;MAAE8K,CAAC,GAAGV,CAAC,GAAGpK,CAAC,CAAC,CAAC,CAAC;MAAEgL,CAAC,GAAGH,CAAC,GAAGC,CAAC,GAAGA,CAAC,GAAGD,CAAC;IACjDxJ,CAAC,CAACyN,YAAY,CAAC,OAAO,EAAE,IAAI,CAAC7E,KAAK,CAAC,CAAC,CAAC,EAAE5I,CAAC,CAACyN,YAAY,CAAC,QAAQ,EAAE,IAAI,CAAC5E,MAAM,CAAC,CAAC,CAAC,EAAElK,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAACiK,KAAK,CAAC,CAAC,GAAGe,CAAC,EAAEhL,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAACkK,MAAM,CAAC,CAAC,GAAGc,CAAC,EAAE,IAAI,CAAC3H,UAAU,CAACrD,CAAC,CAAC,EAAE,IAAI,CAAC6C,SAAS,CAACqK,MAAM,CAAC,IAAI,CAACjD,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,CAACxG,SAAS,CAACyJ,MAAM,CAAC,IAAI,CAAChD,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC5G,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAACsc,MAAM,CAAC;EAC9Q;AACJ,CAAC,EAAChgB,UAAU,CAAC2J,SAAS,CAACgyB,mBAAmB,GAAG,UAAU17B,CAAC,EAAEC,CAAC,EAAE;EACzD,IAAI,CAAC,CAAC,KAAKF,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,SAAS,EAAE,CAAC,IAAI,EAAE,IAAI,CAAC0S,GAAG,CAACrX,CAAC,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;EAC/E,IAAI,CAACg+B,mBAAmB,CAACh+B,CAAC,EAAEC,CAAC,EAAE,IAAI,CAACM,MAAM,CAACqF,gBAAgB,CAAC;AAChE,CAAC,EAAC7F,UAAU,CAAC2J,SAAS,CAAC0xB,iBAAiB,GAAG,UAAUp7B,CAAC,EAAEC,CAAC,EAAE;EACvD,IAAIC,CAAC,GAAG,IAAI,CAACsN,cAAc,CAACxN,CAAC,CAAC;EAC9B,IAAIE,CAAC,IAAIA,CAAC,CAACo8B,eAAe,EAAEp8B,CAAC,CAACo8B,eAAe,GAAG,CAAC,CAAC,CAAC,KAAM;IACrD,IAAI,CAAC,CAAC,KAAKv8B,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,EAAE;MAACoH,IAAI,EAAE,IAAI,CAACqD,OAAO,CAACpP,CAAC,CAAC;MAAEwd,KAAK,EAAEvd;IAAC,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;IACnG,IAAI,CAAC+9B,mBAAmB,CAACh+B,CAAC,EAAEC,CAAC,EAAE,IAAI,CAACM,MAAM,CAACmF,cAAc,CAAC;EAC9D;AACJ,CAAC,EAAC3F,UAAU,CAAC2J,SAAS,CAAC6xB,+BAA+B,GAAG,UAAUv7B,CAAC,EAAEC,CAAC,EAAE;EACrE,IAAIC,CAAC,GAAGF,CAAC,CAAC0M,UAAU,CAACiO,YAAY,CAAC5a,UAAU,CAAC2Q,IAAI,CAACqO,mCAAmC,CAAC;IAClFxd,CAAC,GAAGvB,CAAC,CAAC2a,YAAY,CAAC5a,UAAU,CAAC2Q,IAAI,CAACoO,6BAA6B,CAAC;IAAEtd,CAAC,GAAG,IAAI,CAACe,gBAAgB,CAAC8lB,KAAK,CAAC9mB,CAAC,CAAC;EACzGxB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAACpC,gBAAgB,EAAE;IAAC0iB,MAAM,EAAE/kB,CAAC;IAAE8oB,YAAY,EAAEznB,CAAC;IAAEwnB,QAAQ,EAAEvnB,CAAC;IAAEgc,KAAK,EAAEvd;EAAC,CAAC,CAAC,CAAC;AACpH,CAAC,EAACF,UAAU,CAAC2J,SAAS,CAAC4xB,2BAA2B,GAAG,UAAUt7B,CAAC,EAAE;EAC9DD,UAAU,CAAC0iB,6CAA6C,IAAI,IAAI,CAACtgB,QAAQ,CAACuiB,IAAI,CAAC,CAAC,EAAE,IAAI,CAACtiB,UAAU,CAACsiB,IAAI,CAAC,CAAC,EAAE,IAAI,CAAChiB,iBAAiB,CAACgiB,IAAI,CAAC,CAAC,EAAE,IAAI,CAACriB,MAAM,CAACqiB,IAAI,CAAC,CAAC;EAC3J,IAAIzkB,CAAC,GAAG,IAAI,CAACmP,OAAO,CAACpP,CAAC,CAAC;IAAEE,CAAC,GAAG,IAAI;EACjC,IAAI2V,KAAK,CAACC,OAAO,CAAC7V,CAAC,CAACqB,IAAI,CAAC,EAAE,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGtB,CAAC,CAACqB,IAAI,CAACiK,MAAM,EAAEhK,CAAC,EAAE,EAAE;IAC/D,IAAIC,CAAC,GAAGvB,CAAC,CAACqB,IAAI,CAACC,CAAC,CAAC;IACjB,IAAI,CAAChB,MAAM,CAACe,IAAI,CAACE,CAAC,CAAC,IAAI,IAAI,CAACjB,MAAM,CAACe,IAAI,CAACE,CAAC,CAAC,CAACiB,cAAc,KAAKvC,CAAC,GAAG,IAAI,CAACK,MAAM,CAACe,IAAI,CAACE,CAAC,CAAC,CAACiB,cAAc,CAAC;EACzG;EACA,IAAI,CAACF,gBAAgB,CAACiI,IAAI,CAACxK,CAAC,EAAEE,CAAC,CAAC;AACpC,CAAC,EAACH,UAAU,CAAC2J,SAAS,CAACs0B,mBAAmB,GAAG,UAAUh+B,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EAC5D,IAAIqB,CAAC;EACL,CAACxB,UAAU,CAAC0iB,6CAA6C,IAAI,IAAI,CAACtgB,QAAQ,CAACuiB,IAAI,CAAC,CAAC,EAAE,IAAI,CAACtiB,UAAU,CAACsiB,IAAI,CAAC,CAAC,EAAE,IAAI,CAAChiB,iBAAiB,CAACgiB,IAAI,CAAC,CAAC,EAAE,IAAI,CAACriB,MAAM,CAACqiB,IAAI,CAAC,CAAC,EAAE,IAAI,CAACniB,gBAAgB,CAACmiB,IAAI,CAAC,CAAC,EAAExkB,CAAC,IAAIH,UAAU,CAAC0D,MAAM,CAACic,cAAc,IAAI,IAAI,CAACue,oBAAoB,CAACj+B,CAAC,EAAEC,CAAC,CAAC,EAAEC,CAAC,IAAIH,UAAU,CAAC0D,MAAM,CAACwF,IAAI,KAAM,CAAC1H,CAAC,GAAG,IAAI,CAAC6N,OAAO,CAACpP,CAAC,CAAC,MAAM,IAAI,CAAC+B,MAAM,CAACyI,IAAI,CAACjJ,CAAC,CAACoK,EAAE,CAAC,EAAE,IAAI,CAACiC,MAAM,CAACrM,CAAC,CAACoK,EAAE,EAAE1L,CAAC,CAACotB,OAAO,EAAEptB,CAAC,CAACqtB,OAAO,CAAC,CAAE;EAClYptB,CAAC,IAAIH,UAAU,CAAC0D,MAAM,CAACkC,OAAO,IAAK,CAACpE,CAAC,GAAG,IAAI,CAAC6N,OAAO,CAACpP,CAAC,CAAC,MAAM,IAAI,CAAC+B,MAAM,CAACyI,IAAI,CAACjJ,CAAC,CAACoK,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,CAACiC,MAAM,CAACrM,CAAC,CAACoK,EAAE,EAAE1L,CAAC,CAACotB,OAAO,EAAEptB,CAAC,CAACqtB,OAAO,CAAC,CAAE;AACtI,CAAC,EAACvtB,UAAU,CAAC2J,SAAS,CAACw0B,4BAA4B,GAAG,UAAUl+B,CAAC,EAAEC,CAAC,EAAE;EAClEA,CAAC,CAAC0d,eAAe,CAAC,CAAC,EAAE1d,CAAC,CAAC2d,cAAc,CAAC,CAAC;AAC3C,CAAC,EAAC7d,UAAU,CAAC2J,SAAS,CAAC2xB,qBAAqB,GAAG,UAAUr7B,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EAC9DH,UAAU,CAAC0iB,6CAA6C,IAAI,IAAI,CAACtgB,QAAQ,CAACuiB,IAAI,CAAC,CAAC,EAAE,IAAI,CAACtiB,UAAU,CAACsiB,IAAI,CAAC,CAAC,EAAE,IAAI,CAAChiB,iBAAiB,CAACgiB,IAAI,CAAC,CAAC,EAAE,IAAI,CAACriB,MAAM,CAACqiB,IAAI,CAAC,CAAC,EAAE,IAAI,CAACniB,gBAAgB,CAACmiB,IAAI,CAAC,CAAC;EACzL,IAAInjB,CAAC,GAAG,IAAI,CAAC6N,OAAO,CAACpP,CAAC,CAAC;IAAEwB,CAAC,GAAG,IAAI;EACjC,IAAIqU,KAAK,CAACC,OAAO,CAACvU,CAAC,CAACD,IAAI,CAAC,EAAE,KAAK,IAAIgJ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG/I,CAAC,CAACD,IAAI,CAACiK,MAAM,EAAEjB,CAAC,EAAE,EAAE;IAC/D,IAAIS,CAAC,GAAGxJ,CAAC,CAACD,IAAI,CAACgJ,CAAC,CAAC;IACjB,IAAI,CAAC/J,MAAM,CAACe,IAAI,CAACyJ,CAAC,CAAC,IAAI,IAAI,CAACxK,MAAM,CAACe,IAAI,CAACyJ,CAAC,CAAC,CAACzI,QAAQ,KAAKd,CAAC,GAAG,IAAI,CAACjB,MAAM,CAACe,IAAI,CAACyJ,CAAC,CAAC,CAACzI,QAAQ,CAAC;EAC7F;EACA,IAAI,CAACF,UAAU,CAACmlB,WAAW,CAACtnB,CAAC,EAAED,CAAC,EAAE,IAAI,EAAEwB,CAAC,CAAC;AAC9C,CAAC,EAACzB,UAAU,CAAC2J,SAAS,CAACsT,iBAAiB,GAAG,UAAUhd,CAAC,EAAEC,CAAC,EAAE;EACvDA,CAAC,CAAC0d,eAAe,CAAC,CAAC,EAAE1d,CAAC,CAAC2d,cAAc,CAAC,CAAC,EAAE,IAAI,CAACxb,UAAU,CAACsiB,IAAI,CAAC,CAAC,EAAE,IAAI,CAAChiB,iBAAiB,CAACgiB,IAAI,CAAC,CAAC,EAAE,IAAI,CAACriB,MAAM,CAACmI,IAAI,CAACxK,CAAC,CAAC2tB,UAAU,EAAE3tB,CAAC,CAAC4tB,SAAS,CAAC;AAC/I,CAAC,EAAC7tB,UAAU,CAAC2J,SAAS,CAAC8xB,oBAAoB,GAAG,YAAY;EACtD,IAAIx7B,CAAC,GAAG;IAAC2L,EAAE,EAAE,IAAI,CAAC+H,UAAU,CAAC;EAAC,CAAC;EAC/B,CAAC,CAAC,KAAK,IAAI,CAACqE,OAAO,CAAC/X,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,CAACiQ,MAAM,CAACjQ,CAAC,CAAC2L,EAAE,CAAC;AACzD,CAAC,EAAC5L,UAAU,CAAC2J,SAAS,CAACu0B,oBAAoB,GAAG,UAAUj+B,CAAC,EAAEC,CAAC,EAAE;EAC1D,IAAIC,CAAC,GAAG,IAAI,CAACkP,OAAO,CAACpP,CAAC,CAAC;IAAEuB,CAAC,GAAG,IAAI,CAAC0R,eAAe,CAAC/S,CAAC,CAAC;EACpD,IAAIqB,CAAC,CAACgK,MAAM,EAAE;IACV,IAAI,CAAC,CAAC,KAAKxL,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,cAAc,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE3E,CAAC,EAAEuB,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;IACjF,IAAI,CAACkG,MAAM,CAACzH,CAAC,EAAEuB,CAAC,EAAE,CAAC,CAAC,CAAC;EACzB,CAAC,MAAM;IACH,IAAI,CAAC,CAAC,KAAKxB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,cAAc,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE3E,CAAC,EAAEE,CAAC,CAACgT,WAAW,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;IAC7F,IAAI,CAAC9R,QAAQ,CAACpB,CAAC,EAAEE,CAAC,CAACgT,WAAW,EAAE,CAAC,CAAC,CAAC;EACvC;EACAjT,CAAC,IAAI,IAAI,CAAC2N,MAAM,CAAC1N,CAAC,CAACyL,EAAE,EAAE1L,CAAC,CAACotB,OAAO,EAAEptB,CAAC,CAACqtB,OAAO,CAAC;AAChD,CAAC,EAACvtB,UAAU,CAAC2J,SAAS,CAACy0B,KAAK,GAAG,UAAUn+B,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EAC9CA,CAAC,CAAC,CAAC,CAAC,GAAGD,CAAC,EAAEC,CAAC,CAAC,CAAC,CAAC,GAAGF,CAAC,EAAE,IAAI,CAACuD,UAAU,CAACrD,CAAC,CAAC,EAAE,IAAI,CAAC6C,SAAS,CAACgK,WAAW,CAAC,CAAC,EAAE,IAAI,CAACpJ,SAAS,CAACoJ,WAAW,CAAC,CAAC;AACtG,CAAC,EAAChN,UAAU,CAAC2J,SAAS,CAACozB,SAAS,GAAG,UAAU98B,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;EACrD,IAAIvB,CAAC,EAAE;IACH,IAAI,CAAC,IAAI,CAACqE,aAAa,EAAE;MACrB,IAAI7C,CAAC,GAAG,IAAI;QAAE8I,CAAC,GAAG,IAAI,CAACjH,UAAU,CAAC,CAAC,CAAC8L,KAAK,CAAC,CAAC,CAAC;QAAEpE,CAAC,GAAG,IAAI,CAAC5H,QAAQ,CAAC,CAAC;QAAE6H,CAAC,GAAG,CAAC;QAAEE,CAAC,GAAG,CAAC;QAAEC,CAAC,GAAG,CAAC;MACtFpL,UAAU,CAACgS,KAAK,CAAC7R,CAAC,CAAC,KAAKA,CAAC,GAAGH,UAAU,CAAC8H,IAAI,CAACuT,KAAK,CAAC,EAAErb,UAAU,CAACgS,KAAK,CAACxQ,CAAC,CAAC,KAAKA,CAAC,GAAG,GAAG,CAAC,EAAE,IAAI,CAAC8C,aAAa,GAAGmW,WAAW,CAAE,YAAY;QAChI,IAAIlP,CAAC,GAAG;UAACsE,CAAC,EAAE,CAAC;UAAEtC,CAAC,EAAE,CAAC;UAAEyvB,aAAa,EAAE,CAAC;UAAEC,aAAa,EAAE;QAAC,CAAC;QACxDh9B,CAAC,CAACuP,IAAI,IAAIvE,CAAC,EAAE,EAAEM,CAAC,CAACsE,CAAC,GAAG5E,CAAC,GAAGjL,UAAU,CAACmjB,SAAS,GAAGnY,CAAC,EAAEO,CAAC,CAACyxB,aAAa,GAAG/xB,CAAC,GAAGjL,UAAU,CAACmjB,SAAS,IAAIljB,CAAC,CAACmU,KAAK,KAAKnJ,CAAC,EAAE,EAAEM,CAAC,CAACsE,CAAC,GAAG,CAAC5E,CAAC,GAAGjL,UAAU,CAACmjB,SAAS,GAAGnY,CAAC,EAAEO,CAAC,CAACyxB,aAAa,GAAG,CAAC/xB,CAAC,GAAGjL,UAAU,CAACmjB,SAAS,CAAC,EAAEljB,CAAC,CAAC86B,EAAE,IAAI5vB,CAAC,EAAE,EAAEI,CAAC,CAACgC,CAAC,GAAGpC,CAAC,GAAGnL,UAAU,CAACmjB,SAAS,GAAGnY,CAAC,EAAEO,CAAC,CAAC0xB,aAAa,GAAG9xB,CAAC,GAAGnL,UAAU,CAACmjB,SAAS,IAAIljB,CAAC,CAAC68B,IAAI,KAAK3xB,CAAC,EAAE,EAAEI,CAAC,CAACgC,CAAC,GAAG,CAACpC,CAAC,GAAGnL,UAAU,CAACmjB,SAAS,GAAGnY,CAAC,EAAEO,CAAC,CAAC0xB,aAAa,GAAG,CAAC9xB,CAAC,GAAGnL,UAAU,CAACmjB,SAAS,CAAC;QACrY,IAAI1X,CAAC,GAAGtL,CAAC,CAAC,CAAC,EAAE,GAAGiL,CAAC,GAAG,EAAE,IAAI5J,CAAC,CAAC;QAC5B+J,CAAC,CAACsE,CAAC,GAAGtE,CAAC,CAACsE,CAAC,GAAGpE,CAAC,EAAEF,CAAC,CAACyxB,aAAa,GAAGzxB,CAAC,CAACyxB,aAAa,GAAGvxB,CAAC,EAAEF,CAAC,CAACgC,CAAC,GAAGhC,CAAC,CAACgC,CAAC,GAAG9B,CAAC,EAAEF,CAAC,CAAC0xB,aAAa,GAAG1xB,CAAC,CAAC0xB,aAAa,GAAGxxB,CAAC,EAAEhK,CAAC,CAAC+B,UAAU,CAAC,CAAC+G,CAAC,CAAC,CAAC,CAAC,GAAGgB,CAAC,CAACsE,CAAC,EAAEtF,CAAC,CAAC,CAAC,CAAC,GAAGgB,CAAC,CAACgC,CAAC,EAAEhD,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAErK,CAAC,IAAIA,CAAC,CAACqL,CAAC,CAAC,EAAEH,CAAC,IAAI,CAAC;MACrL,CAAC,EAAG,EAAE,CAAC;IACX;EACJ,CAAC,MAAMqD,OAAO,CAACC,KAAK,CAAC,oCAAoC,CAAC;AAC9D,CAAC,EAAC1O,UAAU,CAAC2J,SAAS,CAACuzB,OAAO,GAAG,YAAY;EACzC,IAAI,CAAC54B,aAAa,KAAK4W,aAAa,CAAC,IAAI,CAAC5W,aAAa,CAAC,EAAE,IAAI,CAACA,aAAa,GAAG,IAAI,CAAC;AACxF,CAAC,EAAC,KAAK,CAAC,KAAKtE,UAAU,KAAKA,UAAU,GAAG,CAAC,CAAC,CAAC,EAACA,UAAU,CAACgM,IAAI,GAAG,UAAU/L,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;EACjF,IAAI,CAACmO,YAAY,GAAGnO,CAAC,EAAE,IAAI,CAACoK,EAAE,GAAG3L,CAAC,EAAE,IAAI,CAAC0U,GAAG,GAAGzU,CAAC,EAAE,IAAI,CAACwwB,QAAQ,GAAG,EAAE,EAAE,IAAI,CAACvd,WAAW,GAAG,EAAE,EAAE,IAAI,CAACH,MAAM,GAAG,IAAI,EAAE,IAAI,CAACuE,KAAK,GAAG,IAAI,EAAE,IAAI,CAACtE,QAAQ,GAAG,IAAI,EAAE,IAAI,CAACqkB,UAAU,GAAG,EAAE,EAAE,IAAI,CAACD,aAAa,GAAG,EAAE,EAAE,IAAI,CAAC91B,IAAI,GAAGpB,CAAC,EAAE,IAAI,CAACoB,IAAI,KAAK,IAAI,CAACA,IAAI,GAAG,EAAE,CAAC;AACzP,CAAC,EAACvB,UAAU,CAAC2J,SAAS,CAACuxB,iBAAiB,GAAG,UAAUj7B,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EAC1D,IAAIqB,CAAC,GAAG,IAAI;EACZxB,UAAU,CAACwjB,qBAAqB,IAAI,IAAI,CAACxhB,MAAM,CAAC2iB,IAAI,CAAC,CAAC,EAAE3kB,UAAU,CAAC0iB,6CAA6C,IAAI,IAAI,CAACtgB,QAAQ,CAACuiB,IAAI,CAAC,CAAC,EAAE,IAAI,CAACtiB,UAAU,CAACsiB,IAAI,CAAC,CAAC,EAAE,IAAI,CAAChiB,iBAAiB,CAACgiB,IAAI,CAAC,CAAC,EAAE,IAAI,CAACriB,MAAM,CAACqiB,IAAI,CAAC,CAAC,EAAE,IAAI,CAACniB,gBAAgB,CAACmiB,IAAI,CAAC,CAAC;EACjP,IAAIljB,CAAC,GAAG,IAAI,CAAC6B,UAAU,CAAC,CAAC;IAAEiH,CAAC,GAAG,IAAI,CAACnH,QAAQ,CAAC,CAAC;IAAE4H,CAAC,GAAGhL,UAAU,CAACytB,mBAAmB,CAACvtB,CAAC,EAAE,CAAC,CAAC;IACpF+K,CAAC,GAAGjL,UAAU,CAACytB,mBAAmB,CAACvtB,CAAC,EAAE,CAAC,CAAC;IACxCiL,CAAC,GAAG;MAACkzB,KAAK,EAAE,CAAC;MAAEC,KAAK,EAAE,CAAC;MAAEC,EAAE,EAAEvzB,CAAC,CAAC6E,CAAC;MAAE2uB,EAAE,EAAExzB,CAAC,CAACuC,CAAC;MAAE6X,IAAI,EAAE,KAAK;MAAEqZ,WAAW,EAAEh9B,CAAC,CAAC,CAAC,CAAC;MAAEi9B,UAAU,EAAEj9B,CAAC,CAAC,CAAC;IAAC,CAAC;EAChGvB,CAAC,CAACwtB,OAAO,IAAIxtB,CAAC,CAACwtB,OAAO,CAACliB,MAAM,GAAG,CAAC,KAAKL,CAAC,CAACia,IAAI,GAAG,OAAO,EAAEja,CAAC,CAACwzB,IAAI,GAAG/qB,IAAI,CAACmI,IAAI,CAAC,CAAC/Q,CAAC,CAAC6E,CAAC,GAAG5E,CAAC,CAAC4E,CAAC,KAAK7E,CAAC,CAAC6E,CAAC,GAAG5E,CAAC,CAAC4E,CAAC,CAAC,GAAG,CAAC7E,CAAC,CAACuC,CAAC,GAAGtC,CAAC,CAACsC,CAAC,KAAKvC,CAAC,CAACuC,CAAC,GAAGtC,CAAC,CAACsC,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,IAAIpC,CAAC,CAACia,IAAI,KAAK,IAAI,CAAC5X,oBAAoB,CAAC,CAAC,EAAE,IAAI,CAACoxB,uBAAuB,CAACn9B,CAAC,EAAE8I,CAAC,EAAErK,CAAC,CAAC,CAAC;EAC3N,IAAIkL,CAAC,GAAG,SAAAA,CAAUnL,CAAC,EAAE;MACjB,IAAIC,CAAC,GAAGF,UAAU,CAACytB,mBAAmB,CAACxtB,CAAC,EAAE,CAAC,CAAC;MAC5C,IAAIkL,CAAC,IAAI,KAAK,IAAIA,CAAC,CAACia,IAAI,EAAE;QACtB5jB,CAAC,CAACgM,oBAAoB,CAAC,CAAC,EAAErC,CAAC,CAACkzB,KAAK,GAAGn+B,CAAC,CAAC2P,CAAC,GAAG1E,CAAC,CAACozB,EAAE,EAAEpzB,CAAC,CAACmzB,KAAK,GAAGp+B,CAAC,CAACqN,CAAC,GAAGpC,CAAC,CAACqzB,EAAE;QACpE,IAAIr+B,CAAC,GAAG,CAACgL,CAAC,CAACmzB,KAAK,GAAG/zB,CAAC,GAAGY,CAAC,CAACuzB,UAAU;UAAE1zB,CAAC,GAAG,CAACG,CAAC,CAACkzB,KAAK,GAAG9zB,CAAC,GAAGY,CAAC,CAACszB,WAAW;QACrEj9B,CAAC,CAAC48B,KAAK,CAACj+B,CAAC,EAAE6K,CAAC,EAAEvJ,CAAC,CAAC;MACpB,CAAC,MAAM,IAAI0J,CAAC,IAAI,OAAO,IAAIA,CAAC,CAACia,IAAI,EAAE;QAC/B,IAAIna,CAAC,GAAGjL,UAAU,CAACytB,mBAAmB,CAACxtB,CAAC,EAAE,CAAC,CAAC;UACxCmL,CAAC,GAAGwI,IAAI,CAACmI,IAAI,CAAC,CAAC7b,CAAC,CAAC2P,CAAC,GAAG5E,CAAC,CAAC4E,CAAC,KAAK3P,CAAC,CAAC2P,CAAC,GAAG5E,CAAC,CAAC4E,CAAC,CAAC,GAAG,CAAC3P,CAAC,CAACqN,CAAC,GAAGtC,CAAC,CAACsC,CAAC,KAAKrN,CAAC,CAACqN,CAAC,GAAGtC,CAAC,CAACsC,CAAC,CAAC,CAAC;UACpEhC,CAAC,GAAG,CAAC,GAAG,CAACH,CAAC,GAAGD,CAAC,CAACwzB,IAAI,KAAKxzB,CAAC,CAACwzB,IAAI,GAAG,GAAG,CAAC,GAAG,GAAG;QAC/CxzB,CAAC,CAACwzB,IAAI,GAAGvzB,CAAC;QACV,IAAIK,CAAC,GAAGzL,UAAU,CAACmuB,0BAA0B,CAAC3sB,CAAC,CAACjB,OAAO,EAAEiB,CAAC,CAAC4I,KAAK,CAAC,CAAC,EAAE5I,CAAC,CAAC6I,MAAM,CAAC,CAAC,EAAEpK,CAAC,CAAC;QAClFuB,CAAC,CAACwE,IAAI,CAACuF,CAAC,EAAEE,CAAC,CAAC;MAChB;IACJ,CAAC;IAAEF,CAAC,GAAG,SAAAA,CAAA,EAAY;MACf,KAAK,IAAIJ,CAAC,CAACia,IAAI,IAAI5jB,CAAC,CAAChB,MAAM,CAACkF,MAAM,GAAG0nB,UAAU,CAAE,YAAY;QACzDptB,UAAU,CAAC6R,mBAAmB,CAAC5R,CAAC,EAAEuB,CAAC,CAAC8B,UAAU,CAAC,CAAC,EAAE9B,CAAC,CAAC0B,QAAQ,CAACD,QAAQ,EAAG,YAAY;UAChFzB,CAAC,CAACiC,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAACoO,GAAG,CAAC;QACtC,CAAE,CAAC;MACP,CAAC,EAAG,CAAC,CAAC,GAAG,KAAK,IAAI3G,CAAC,CAACia,IAAI,IAAI5jB,CAAC,CAAChB,MAAM,CAACkF,MAAM,IAAI0nB,UAAU,CAAE,YAAY;QACnE5rB,CAAC,CAACiC,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAACoO,GAAG,CAAC;MACtC,CAAC,EAAG,CAAC,CAAC,EAAE,KAAK,IAAI3G,CAAC,CAACia,IAAI,IAAI5jB,CAAC,CAACq9B,qBAAqB,CAAC,CAAC,EAAE1zB,CAAC,GAAG,IAAI,EAAElL,CAAC,CAAC6d,mBAAmB,CAAC3d,CAAC,CAAC4f,IAAI,EAAE3U,CAAC,CAAC,EAAEnL,CAAC,CAAC6d,mBAAmB,CAAC3d,CAAC,CAAC46B,EAAE,EAAExvB,CAAC,CAAC,EAAEpL,CAAC,CAAC66B,KAAK,IAAI/6B,CAAC,CAAC6d,mBAAmB,CAAC3d,CAAC,CAAC66B,KAAK,EAAEzvB,CAAC,CAAC,EAAEpL,CAAC,CAAC86B,UAAU,IAAIh7B,CAAC,CAAC6d,mBAAmB,CAAC3d,CAAC,CAAC86B,UAAU,EAAE1vB,CAAC,CAAC;IAC1O,CAAC;EACD,IAAI,CAAC/K,MAAM,CAAC8E,SAAS,KAAKrF,CAAC,CAACod,gBAAgB,CAACld,CAAC,CAAC4f,IAAI,EAAE3U,CAAC,CAAC,EAAEnL,CAAC,CAACod,gBAAgB,CAACld,CAAC,CAAC46B,EAAE,EAAExvB,CAAC,CAAC,EAAEpL,CAAC,CAAC66B,KAAK,IAAI/6B,CAAC,CAACod,gBAAgB,CAACld,CAAC,CAAC66B,KAAK,EAAEzvB,CAAC,CAAC,EAAEpL,CAAC,CAAC86B,UAAU,IAAIh7B,CAAC,CAACod,gBAAgB,CAACld,CAAC,CAAC86B,UAAU,EAAE1vB,CAAC,CAAC,CAAC;AACzL,CAAC,EAACvL,UAAU,CAAC2J,SAAS,CAACi1B,uBAAuB,GAAG,UAAU3+B,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EAChE,IAAIqB,CAAC,GAAG,IAAI,CAAC8lB,iBAAiB,CAAC,CAAC;IAAE7lB,CAAC,GAAGzB,UAAU,CAACguB,YAAY,CAAC,IAAI,CAACztB,OAAO,EAAEJ,CAAC,CAAC;IAAEoK,CAAC,GAAG9I,CAAC,CAACoO,CAAC,GAAG3P,CAAC,GAAGD,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,GAAGC,CAAC;IACvG8K,CAAC,GAAGvJ,CAAC,CAAC8L,CAAC,GAAGrN,CAAC,GAAGD,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,GAAGC,CAAC;EAC/BsB,CAAC,CAACmN,KAAK,CAAC4D,OAAO,GAAG,SAAS,EAAE/Q,CAAC,CAACyN,YAAY,CAAC,WAAW,EAAE,iBAAiB,GAAG1E,CAAC,GAAG,GAAG,GAAGS,CAAC,GAAG,GAAG,CAAC,EAAEhL,UAAU,CAAC0N,OAAO,CAAClM,CAAC,EAAE;IACnHqZ,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAEtQ,CAAC,EAAES,CAAC,CAAC;IAC7BiF,OAAO,EAAE;EACb,CAAC,EAAE;IAAC4K,SAAS,EAAE,CAAC,CAAC,GAAG3a,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAGA,CAAC,EAAEqK,CAAC,EAAES,CAAC,CAAC;IAAEiF,OAAO,EAAE;EAAC,CAAC,EAAE,GAAG,EAAEjQ,UAAU,CAAC8H,IAAI,CAACsU,OAAO,CAAC;AACzF,CAAC,EAACpc,UAAU,CAAC2J,SAAS,CAACk1B,qBAAqB,GAAG,YAAY;EACvD,IAAI,CAACvX,iBAAiB,CAAC,CAAC,CAAC3Y,KAAK,CAAC4D,OAAO,GAAG,MAAM;AACnD,CAAC,EAACvS,UAAU,CAACoC,QAAQ,GAAG,YAAY;EAChC,IAAI,CAAC08B,UAAU,GAAG,EAAE,EAAE,IAAI,CAACC,sBAAsB,GAAG,CAAC,CAAC,EAAE,IAAI,CAACp9B,SAAS,GAAG3B,UAAU,CAAC4B,KAAK,CAAC,CAAC,EAAE,IAAI,CAACo9B,QAAQ,GAAG,IAAI;AACrH,CAAC,EAACh/B,UAAU,CAACoC,QAAQ,CAACuH,SAAS,CAAC1H,IAAI,GAAG,UAAUhC,CAAC,EAAE;EAChD,IAAI,CAAC++B,QAAQ,GAAG/+B,CAAC,EAAE,IAAI,CAACykB,GAAG,GAAG,IAAI,CAACsa,QAAQ,EAAE,IAAI,CAACC,iBAAiB,CAAC,CAAC;EACrE,IAAI/+B,CAAC,GAAG,IAAI;IAAEC,CAAC,GAAG,IAAI,CAAC6+B,QAAQ,CAACx+B,MAAM,CAAC+C,OAAO,GAAG,EAAE;IAAE/B,CAAC,GAAG,IAAI,CAACw9B,QAAQ,CAACx+B,MAAM,CAAC+C,OAAO,GAAG,EAAE;IACtF9B,CAAC,GAAG,IAAI,CAACu9B,QAAQ,CAAChiB,aAAa,CAAC,CAAC;EACrC,IAAIvb,CAAC,EAAE;IACH,IAAI8I,CAAC,GAAG9I,CAAC,CAAC8N,qBAAqB,CAAC,CAAC;MAAEvE,CAAC,GAAG,IAAI,CAACg0B,QAAQ,CAACvyB,MAAM,CAAC,CAAC,CAAC8C,qBAAqB,CAAC,CAAC;IACrFpP,CAAC,GAAG6K,CAAC,CAACoJ,KAAK,GAAG7J,CAAC,CAACiF,IAAI,GAAG,EAAE,EAAEhO,CAAC,GAAG+I,CAAC,CAACrD,GAAG,GAAG8D,CAAC,CAAC9D,GAAG,GAAG,EAAE;EACrD;EACA,IAAI+D,CAAC,GAAG5K,QAAQ,CAAC0mB,aAAa,CAAC,KAAK,CAAC;EACrC9b,CAAC,CAACnH,SAAS,CAACC,GAAG,CAAC,YAAY,CAAC,EAAEkH,CAAC,CAAC0D,KAAK,CAACyF,KAAK,GAAGjU,CAAC,GAAG,IAAI,EAAE8K,CAAC,CAAC0D,KAAK,CAACzH,GAAG,GAAG1F,CAAC,GAAG,IAAI;EAC/E,IAAI2J,CAAC,GAAGnL,UAAU,CAAC0J,QAAQ,CAACyb,OAAO,CAAC,CAAC,CAAC,EAAE;IAACE,KAAK,EAAErlB,UAAU,CAACwiB,kBAAkB;IAAE8C,GAAG,EAAE;EAAG,CAAC,EAAE,OAAO,CAAC;EAClGra,CAAC,CAACgC,SAAS,IAAI9B,CAAC,CAACoa,IAAI,EAAE,IAAI,CAAC2Z,IAAI,GAAGj0B,CAAC,CAAC3K,aAAa,CAAC,kBAAkB,CAAC,EAAE,IAAI,CAAC4+B,IAAI,CAACvwB,KAAK,CAAC4D,OAAO,GAAG,MAAM,EAAE,IAAI,CAAC4sB,kBAAkB,GAAG9+B,QAAQ,CAAC0mB,aAAa,CAAC,KAAK,CAAC,EAAE9b,CAAC,CAAC+E,WAAW,CAAC,IAAI,CAACmvB,kBAAkB,CAAC;EACzM,IAAI/zB,CAAC,GAAG,IAAI,CAAC4zB,QAAQ,CAACvyB,MAAM,CAAC,CAAC,CAAC2yB,WAAW;EAC1C,IAAI,CAACJ,QAAQ,CAACz+B,OAAO,CAACq8B,YAAY,CAAC3xB,CAAC,EAAEG,CAAC,CAAC,EAAEpL,UAAU,CAAC4kB,KAAK,CAAC3iB,IAAI,CAACgJ,CAAC,CAAC,EAAE,IAAI,CAAC2Z,KAAK,GAAGvkB,QAAQ,CAAColB,cAAc,CAACta,CAAC,CAACS,EAAE,CAAC,EAAE,IAAI,CAACszB,IAAI,CAAC7hB,gBAAgB,CAAC,OAAO,EAAG,UAAUpd,CAAC,EAAE;IAC9JA,CAAC,CAAC4d,cAAc,CAAC,CAAC,EAAE3d,CAAC,CAACykB,IAAI,CAAC,CAAC;EAChC,CAAE,CAAC,EAAE,IAAI,CAACC,KAAK,CAACvH,gBAAgB,CAAC,UAAU,EAAG,UAAUpd,CAAC,EAAE;IACvD,OAAO,IAAIA,CAAC,CAACoW,GAAG,IAAIpW,CAAC,CAAC4d,cAAc,CAAC,CAAC;EAC1C,CAAE,CAAC,EAAE,IAAI,CAAC+G,KAAK,CAACvH,gBAAgB,CAAC,OAAO,EAAG,UAAUpd,CAAC,EAAE;IACpDC,CAAC,CAACg/B,IAAI,CAACvwB,KAAK,CAAC4D,OAAO,GAAG,EAAE,EAAErS,CAAC,CAACgS,OAAO,CAAC,CAAC;EAC1C,CAAE,CAAC,EAAE,IAAI,CAAC0S,KAAK,CAACvH,gBAAgB,CAAC,MAAM,EAAG,UAAUpd,CAAC,EAAE;IACnDD,UAAU,CAACgS,KAAK,CAAC9R,CAAC,CAAC0kB,KAAK,CAACgB,KAAK,CAAC,IAAI5lB,UAAU,CAACyiB,kBAAkB,IAAIviB,CAAC,CAAC0kB,KAAK,CAACgB,KAAK,KAAK1lB,CAAC,CAACg/B,IAAI,CAACvwB,KAAK,CAAC4D,OAAO,GAAG,MAAM,CAAC;EACxH,CAAE,CAAC,EAAE,IAAI,CAACqS,KAAK,CAACvH,gBAAgB,CAAC,SAAS,EAAG,UAAUpd,CAAC,EAAE;IACtD,CAAC,WAAW,IAAIA,CAAC,CAACoW,GAAG,IAAI,SAAS,IAAIpW,CAAC,CAACoW,GAAG,KAAKpW,CAAC,CAAC4d,cAAc,CAAC,CAAC;EACtE,CAAE,CAAC,EAAE,IAAI,CAAC+G,KAAK,CAACvH,gBAAgB,CAAC,OAAO,EAAG,UAAUpd,CAAC,EAAE;IACpD,WAAW,IAAIA,CAAC,CAACoW,GAAG,GAAG9K,CAAC,CAAC,CAAC,GAAG,SAAS,IAAItL,CAAC,CAACoW,GAAG,GAAG5K,CAAC,CAAC,CAAC,GAAG,OAAO,IAAIxL,CAAC,CAACoW,GAAG,GAAGnW,CAAC,CAACm/B,aAAa,CAAC,CAAC,GAAG,QAAQ,IAAIp/B,CAAC,CAACoW,GAAG,GAAGnW,CAAC,CAACykB,IAAI,CAAC,CAAC,GAAGzkB,CAAC,CAACgS,OAAO,CAAC,CAAC;EAC7I,CAAE,CAAC;EACH,IAAI3G,CAAC,GAAG,SAAAA,CAAA,EAAY;MAChB,IAAItL,CAAC,GAAGC,CAAC,CAAC8+B,QAAQ,CAACz+B,OAAO,CAACkS,gBAAgB,CAAC,uBAAuB,CAAC;QAChEtS,CAAC,GAAGD,CAAC,CAAC8+B,QAAQ,CAACz+B,OAAO,CAACD,aAAa,CAAC,uBAAuB,CAAC;MACjE,IAAI,IAAIH,CAAC,IAAIF,CAAC,CAACuL,MAAM,GAAG,CAAC,GAAGvL,CAAC,CAAC,CAAC,CAAC,CAACgP,YAAY,CAAC,eAAe,EAAE,KAAK,CAAC,GAAGhP,CAAC,CAACuL,MAAM,GAAG,CAAC,IAAIrL,CAAC,CAACi/B,WAAW,IAAIj/B,CAAC,CAACi/B,WAAW,CAACnwB,YAAY,KAAK9O,CAAC,CAACm/B,eAAe,CAAC,eAAe,CAAC,EAAEn/B,CAAC,CAACi/B,WAAW,CAACnwB,YAAY,CAAC,eAAe,EAAE,KAAK,CAAC,CAAC;IACnO,CAAC;IAAExD,CAAC,GAAG,SAAAA,CAAA,EAAY;MACf,IAAIxL,CAAC,GAAGC,CAAC,CAAC8+B,QAAQ,CAACz+B,OAAO,CAACkS,gBAAgB,CAAC,uBAAuB,CAAC;QAChEtS,CAAC,GAAGD,CAAC,CAAC8+B,QAAQ,CAACz+B,OAAO,CAACD,aAAa,CAAC,uBAAuB,CAAC;MACjE,IAAI,IAAIH,CAAC,IAAIF,CAAC,CAACuL,MAAM,GAAG,CAAC,GAAGvL,CAAC,CAACA,CAAC,CAACuL,MAAM,GAAG,CAAC,CAAC,CAACyD,YAAY,CAAC,eAAe,EAAE,KAAK,CAAC,GAAGhP,CAAC,CAACuL,MAAM,GAAG,CAAC,IAAIrL,CAAC,CAACqlB,eAAe,IAAIrlB,CAAC,CAACqlB,eAAe,CAACvW,YAAY,KAAK9O,CAAC,CAACm/B,eAAe,CAAC,eAAe,CAAC,EAAEn/B,CAAC,CAACqlB,eAAe,CAACvW,YAAY,CAAC,eAAe,EAAE,KAAK,CAAC,CAAC;IAC1P,CAAC;AACL,CAAC,EAACjP,UAAU,CAACoC,QAAQ,CAACuH,SAAS,CAAC01B,aAAa,GAAG,YAAY;EACxD,IAAIp/B,CAAC,GAAG,IAAI,CAAC++B,QAAQ,CAACz+B,OAAO,CAACD,aAAa,CAAC,uBAAuB,CAAC;EACpE,IAAIL,CAAC,EAAE;IACH,IAAIA,CAAC,CAAC6a,YAAY,CAAC,qBAAqB,CAAC,EAAE;MACvC,IAAI5a,CAAC,GAAGD,CAAC,CAAC2a,YAAY,CAAC,qBAAqB,CAAC;MAC7C,IAAI,IAAI,CAACgK,KAAK,CAACgB,KAAK,IAAI5lB,UAAU,CAACyiB,kBAAkB,EAAE;QACnD,IAAItiB,CAAC,GAAGH,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,EAAE,EAAE,CAAC,IAAI,CAACo6B,QAAQ,EAAE9+B,CAAC,CAAC,CAAC;UACrDsB,CAAC,GAAGxB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,aAAa,EAAE,CAAC,IAAI,EAAE;YAACsgB,MAAM,EAAEhlB;UAAC,CAAC,CAAC,CAAC;QACrE,CAAC,CAAC,KAAKC,CAAC,KAAKqB,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,IAAIA,CAAC,IAAI,IAAI,CAACw9B,QAAQ,CAAC9uB,MAAM,CAAChQ,CAAC,CAAC;MAC3D,CAAC,MAAM,IAAI,CAAC0kB,KAAK,CAACgB,KAAK,GAAG1lB,CAAC,GAAG,GAAG,EAAE,IAAI,CAACi/B,kBAAkB,CAAClyB,SAAS,GAAG,EAAE;IAC7E;EACJ,CAAC,MAAM,IAAI,CAAC8xB,sBAAsB,GAAG,CAAC,CAAC,EAAE,IAAI,CAACQ,QAAQ,CAAC,CAAC,EAAE,IAAI,CAACJ,kBAAkB,CAAClyB,SAAS,GAAG,EAAE,EAAE,IAAI,CAAC+xB,QAAQ,CAAC70B,IAAI,CAAC,CAAC;AAC1H,CAAC,EAACnK,UAAU,CAACoC,QAAQ,CAACuH,SAAS,CAACs1B,iBAAiB,GAAG,YAAY;EAC5D,IAAI,IAAI,IAAI,IAAI,CAACD,QAAQ,CAACx+B,MAAM,CAAC+F,YAAY,EAAE;IAC3C,IAAI,CAAC0L,aAAa,GAAG,EAAE;IACvB,KAAK,IAAIhS,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAC++B,QAAQ,CAAC97B,QAAQ,CAAC4H,SAAS,CAACU,MAAM,EAAEvL,CAAC,EAAE,EAAE;MAC9D,IAAIC,CAAC,GAAG,IAAI,CAAC8+B,QAAQ,CAAC97B,QAAQ,CAAC4H,SAAS,CAAC7K,CAAC,CAAC;MAC3C,MAAM,IAAIC,CAAC,IAAIF,UAAU,CAAC2sB,WAAW,CAAC,IAAI,CAACqS,QAAQ,CAACx+B,MAAM,EAAEN,CAAC,CAAC,IAAI,IAAI,CAAC+R,aAAa,CAACoB,IAAI,CAACnT,CAAC,CAAC;IAChG;EACJ,CAAC,MAAM,IAAI,CAAC+R,aAAa,GAAG,IAAI,CAAC+sB,QAAQ,CAACx+B,MAAM,CAAC+F,YAAY;EAC7D,IAAI,IAAI,IAAI,IAAI,CAACy4B,QAAQ,CAACx+B,MAAM,CAACkG,wBAAwB,EAAE;IACvD,IAAI,CAACA,wBAAwB,GAAG,CAAC,CAAC;IAClC,KAAKzG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACgS,aAAa,CAACzG,MAAM,EAAEvL,CAAC,EAAE,EAAE;MAC5C,KAAK,IAAIE,CAAC,GAAG,IAAI,CAAC8R,aAAa,CAAChS,CAAC,CAAC,EAAEuB,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAGtB,CAAC,CAACiP,KAAK,CAAC,CAAC,EAAE5N,CAAC,GAAG,CAAC,CAAC,CAACmZ,WAAW,CAAC,CAAC,EAAE,IAAI,CAACjU,wBAAwB,CAACjF,CAAC,CAAC,GAAGD,CAAC,EAAE,EAAEC,CAAC,GAAGtB,CAAC,CAACiP,KAAK,CAAC,CAAC,EAAE5N,CAAC,GAAG,CAAC,CAAC,CAACmZ,WAAW,CAAC,CAAC;MAC3J,IAAI,CAACjU,wBAAwB,CAACjF,CAAC,CAAC,GAAGtB,CAAC;IACxC;EACJ,CAAC,MAAM,IAAI,CAACuG,wBAAwB,GAAG,IAAI,CAACs4B,QAAQ,CAACx+B,MAAM,CAACkG,wBAAwB;EACpF,IAAI,CAACyL,yBAAyB,GAAG,IAAI,CAACzL,wBAAwB;AAClE,CAAC,EAAC1G,UAAU,CAACoC,QAAQ,CAACuH,SAAS,CAAC61B,IAAI,GAAG,UAAUv/B,CAAC,EAAE;EAChD,IAAI,CAAC2kB,KAAK,KAAK,IAAI,CAACA,KAAK,CAACgB,KAAK,GAAG3lB,CAAC,EAAEI,QAAQ,CAACo/B,aAAa,IAAI,IAAI,CAAC7a,KAAK,GAAG,IAAI,CAAC1S,OAAO,CAACjS,CAAC,CAAC,GAAG,IAAI,CAAC2kB,KAAK,CAACc,KAAK,CAAC,CAAC,CAAC;AACrH,CAAC,EAAC1lB,UAAU,CAACoC,QAAQ,CAACuH,SAAS,CAAC+1B,WAAW,GAAG,UAAUz/B,CAAC,EAAE;EACvD,IAAI,IAAI,CAAC8+B,sBAAsB,EAAE;IAC7B,KAAK,IAAI7+B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAC4+B,UAAU,CAACtzB,MAAM,EAAEtL,CAAC,EAAE,EAAE,IAAI,IAAI,CAAC4+B,UAAU,CAAC5+B,CAAC,CAAC,CAAC0L,EAAE,IAAI3L,CAAC,EAAE,OAAO,CAAC,CAAC;IAC1F,OAAO,CAAC,CAAC;EACb;EACA,OAAO,IAAI;AACf,CAAC,EAACD,UAAU,CAACoC,QAAQ,CAACuH,SAAS,CAAC41B,QAAQ,GAAG,YAAY;EACnD,IAAI,CAACT,UAAU,GAAG9+B,UAAU,CAACkS,OAAO,CAACH,MAAM,CAAC,IAAI,CAACitB,QAAQ,CAACx+B,MAAM,CAACgE,KAAK,EAAE,IAAI,CAACogB,KAAK,CAACgB,KAAK,EAAE,IAAI,CAAC3T,aAAa,EAAE,IAAI,CAACA,aAAa,EAAE,IAAI,CAAC+sB,QAAQ,CAACx+B,MAAM,CAACgG,kBAAkB,EAAE,IAAI,CAACw4B,QAAQ,CAACx+B,MAAM,CAACiG,kBAAkB,EAAE,IAAI,CAACC,wBAAwB,CAAC;AACtP,CAAC,EAAC1G,UAAU,CAACoC,QAAQ,CAACuH,SAAS,CAACuI,OAAO,GAAG,YAAY;EAClD,IAAIjS,CAAC;IAAEC,CAAC,GAAG,IAAI;EACf,IAAI,IAAI,CAAC6+B,sBAAsB,GAAG,CAAC,CAAC,EAAE,IAAI,CAACna,KAAK,CAACgB,KAAK,IAAI5lB,UAAU,CAACyiB,kBAAkB,EAAExiB,CAAC,GAAG,IAAI,CAAC0/B,QAAQ,CAAC,CAAC,CAAC,KAAM;IAC/G,IAAI,CAACJ,QAAQ,CAAC,CAAC;IACf,IAAIp/B,CAAC,GAAGH,UAAU,CAAC0sB,gBAAgB,CAAC,IAAI,CAACsS,QAAQ,CAACx+B,MAAM,CAAC;IACzDP,CAAC,GAAI,oHAAmH,YAAY;MAChI,KAAK,IAAIA,CAAC,GAAG,EAAE,EAAEuB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGtB,CAAC,CAAC4+B,UAAU,CAACtzB,MAAM,IAAI,EAAEhK,CAAC,IAAIxB,UAAU,CAAC2iB,mBAAmB,CAAC,EAAEnhB,CAAC,EAAE,EAAE;QAC5F,IAAIC,CAAC,GAAGvB,CAAC,CAAC4+B,UAAU,CAACt9B,CAAC,CAAC;UAAE+I,CAAC,GAAG,EAAE;QAC/B,IAAIpK,CAAC,EAAE;UACH,IAAI6K,CAAC,GAAG9K,CAAC,CAAC8+B,QAAQ,CAACrzB,IAAI,CAAClK,CAAC,CAACmK,EAAE,CAAC;UAC7B,UAAU,IAAI,OAAOzL,CAAC,GAAGoK,CAAC,GAAGpK,CAAC,CAACD,CAAC,CAAC8+B,QAAQ,EAAE9+B,CAAC,CAAC8+B,QAAQ,CAAC3vB,OAAO,CAAC5N,CAAC,CAACmK,EAAE,CAAC,EAAEZ,CAAC,CAAC,GAAGA,CAAC,CAAC7K,CAAC,CAAC,KAAKoK,CAAC,GAAGS,CAAC,CAAC7K,CAAC,CAAC,CAAC;QAChG;QACA,IAAI8K,CAAC,GAAG,EAAE;UAAEE,CAAC,GAAG,EAAE;QAClBjL,CAAC,CAAC8+B,QAAQ,CAACx+B,MAAM,CAACgG,kBAAkB,IAAI/E,CAAC,CAACm+B,aAAa,GAAG30B,CAAC,GAAGxJ,CAAC,CAACo+B,aAAa,GAAG3/B,CAAC,CAAC8+B,QAAQ,CAACx+B,MAAM,CAACgG,kBAAkB,IAAIyE,CAAC,GAAGxJ,CAAC,CAACvB,CAAC,CAAC8+B,QAAQ,CAACx+B,MAAM,CAACgG,kBAAkB,CAAC,EAAExG,UAAU,CAACgS,KAAK,CAAC/G,CAAC,CAAC,KAAKA,CAAC,GAAG,EAAE,CAAC,EAAEE,CAAC,GAAG1J,CAAC,CAACo+B,aAAa,IAAI50B,CAAC,GAAGxJ,CAAC,CAACo+B,aAAa;QAChP,IAAIz0B,CAAC,GAAG;UACJ00B,GAAG,EAAEv1B,CAAC;UACN2a,MAAM,EAAEzjB,CAAC,CAACmK,EAAE;UACZm0B,KAAK,EAAE90B,CAAC;UACR+0B,MAAM,EAAE70B,CAAC;UACT80B,UAAU,EAAEx+B,CAAC;UACb8jB,IAAI,EAAEvlB,UAAU,CAACoC,QAAQ,CAAC89B,UAAU,CAAC31B,CAAC,EAAE9I,CAAC,CAACmK,EAAE,EAAEX,CAAC,EAAEE,CAAC;QACtD,CAAC;QACDnL,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,UAAU,EAAE,CAAC1E,CAAC,EAAEkL,CAAC,CAAC,CAAC,EAAEnL,CAAC,IAAImL,CAAC,CAACma,IAAI;MAC9D;MACA,OAAOtlB,CAAC;IACZ,CAAC,CAAC,CAAE,oEAAmE;EAC3E;EACA,IAAI,CAACk/B,kBAAkB,CAAClyB,SAAS,GAAGhN,CAAC;EACrC,KAAK,IAAIuB,CAAC,GAAG,IAAI,CAACw9B,QAAQ,CAACz+B,OAAO,CAACkS,gBAAgB,CAAC,uBAAuB,CAAC,EAAEhR,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,CAAC,CAACgK,MAAM,EAAE/J,CAAC,EAAE,EAAED,CAAC,CAACC,CAAC,CAAC,CAAC4b,gBAAgB,CAAC,OAAO,EAAG,YAAY;IAChJ,IAAI,IAAI,CAACvC,YAAY,CAAC,qBAAqB,CAAC,EAAE;MAC1C,IAAI7a,CAAC,GAAG,IAAI,CAAC2a,YAAY,CAAC,qBAAqB,CAAC;MAChD,IAAI1a,CAAC,CAAC0kB,KAAK,CAACgB,KAAK,IAAI5lB,UAAU,CAACyiB,kBAAkB,EAAE;QAChD,IAAItiB,CAAC,GAAGH,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,aAAa,EAAE,CAAC1E,CAAC,CAAC8+B,QAAQ,EAAE/+B,CAAC,CAAC,CAAC;UAC7DuB,CAAC,GAAGxB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,aAAa,EAAE,CAAC1E,CAAC,EAAE;YAACglB,MAAM,EAAEjlB;UAAC,CAAC,CAAC,CAAC;QAClE,IAAI,CAAC,CAAC,KAAKE,CAAC,KAAKqB,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAKA,CAAC,EAAE;UAChCtB,CAAC,CAAC8+B,QAAQ,CAAC9uB,MAAM,CAAC,IAAI,CAAC0K,YAAY,CAAC,qBAAqB,CAAC,CAAC;UAC3D,IAAInZ,CAAC,GAAGvB,CAAC,CAAC8+B,QAAQ,CAACz+B,OAAO,CAACD,aAAa,CAAC,uBAAuB,CAAC;UACjEmB,CAAC,IAAIA,CAAC,CAAC69B,eAAe,CAAC,eAAe,CAAC,EAAE,IAAI,CAACrwB,YAAY,CAAC,eAAe,EAAE,KAAK,CAAC,EAAE/O,CAAC,CAAC0kB,KAAK,CAACc,KAAK,CAAC,CAAC;QACvG;MACJ,CAAC,MAAMxlB,CAAC,CAAC0kB,KAAK,CAACgB,KAAK,GAAG3lB,CAAC,GAAG,GAAG,EAAEC,CAAC,CAACi/B,kBAAkB,CAAClyB,SAAS,GAAG,EAAE,EAAE/M,CAAC,CAAC0kB,KAAK,CAACc,KAAK,CAAC,CAAC;IACxF;EACJ,CAAE,CAAC;EACH1lB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,YAAY,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;AACvD,CAAC,EAAC5E,UAAU,CAACoC,QAAQ,CAACuH,SAAS,CAACg2B,QAAQ,GAAG,YAAY;EACnD,IAAI1/B,CAAC,GAAG,oDAAoD;EAC5D,KAAK,IAAIC,CAAC,IAAI,IAAI,CAACwG,wBAAwB,EAAEzG,CAAC,IAAK,4BAA2BC,CAAE,uFAAsFA,CAAE,uCAAsC,IAAI,CAACwG,wBAAwB,CAACxG,CAAC,CAAE,YAAW;EAC1P,OAAOD,CAAC,IAAI,UAAU;AAC1B,CAAC,EAACD,UAAU,CAACoC,QAAQ,CAAC89B,UAAU,GAAG,UAAUjgC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;EACrD,OAAOrB,CAAC,KAAKA,CAAC,GAAG,KAAK,GAAGA,CAAC,GAAG,MAAM,CAAC,EAAG,4BAA2BD,CAAE,6EAA4ED,CAAC,GAAGA,CAAC,GAAI,8DAA6DA,CAAE,WAAU,GAAI,iCAAgCD,UAAU,CAACmJ,IAAI,CAACqd,IAAI,CAAC,EAAE,EAAE,EAAE,EAAE,SAAS,CAAE,QAAQ,2EAA0ErmB,CAAE,SAAQqB,CAAE,0BAAyB;AACza,CAAC,EAACxB,UAAU,CAACoC,QAAQ,CAACuH,SAAS,CAACgb,IAAI,GAAG,YAAY;EAC/C,IAAI,CAAC,CAAC,KAAK3kB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;EAC/D,IAAI,CAACm6B,sBAAsB,KAAK,IAAI,CAACA,sBAAsB,GAAG,CAAC,CAAC,EAAE,IAAI,CAACC,QAAQ,CAAC70B,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC20B,UAAU,GAAG,EAAE,EAAE,IAAI,CAACI,IAAI,KAAK,IAAI,CAACA,IAAI,CAACvwB,KAAK,CAAC4D,OAAO,GAAG,MAAM,CAAC,EAAE,IAAI,CAAC4sB,kBAAkB,KAAK,IAAI,CAACA,kBAAkB,CAAClyB,SAAS,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC2X,KAAK,KAAK,IAAI,CAACA,KAAK,CAACgB,KAAK,GAAG,EAAE,EAAEvlB,QAAQ,CAACo/B,aAAa,IAAI,IAAI,CAAC7a,KAAK,IAAI,IAAI,CAACA,KAAK,CAACub,IAAI,CAAC,CAAC,EAAE9/B,QAAQ,CAACo/B,aAAa,IAAI,IAAI,CAACP,IAAI,IAAIl/B,UAAU,CAAC4kB,KAAK,CAACwb,WAAW,CAAC,IAAI,CAACxb,KAAK,CAAC,CAAC;AAC1Z,CAAC,EAAC5kB,UAAU,CAACoC,QAAQ,CAACuH,SAAS,CAACM,EAAE,GAAG,UAAUhK,CAAC,EAAEC,CAAC,EAAE;EACjD,OAAOF,UAAU,CAAC2E,MAAM,CAACsF,EAAE,CAAChK,CAAC,EAAEC,CAAC,EAAE,IAAI,CAACyB,SAAS,CAAC,EAAE,IAAI;AAC3D,CAAC,EAAC,KAAK,CAAC,KAAK3B,UAAU,KAAKA,UAAU,GAAG,CAAC,CAAC,CAAC,EAACA,UAAU,CAACmC,OAAO,GAAG,UAAUlC,CAAC,EAAE;EAC3E,IAAI,CAACO,MAAM,GAAGP,CAAC,CAACO,MAAM,EAAE,IAAI,CAAC6/B,aAAa,GAAGpgC,CAAC,CAACU,cAAc,EAAE,IAAI,CAACiK,cAAc,GAAG,EAAE,EAAE,IAAI,CAACvH,OAAO,GAAG,IAAI,EAAE,IAAI,CAACK,MAAM,GAAG,IAAI,EAAE,IAAI,CAAC48B,YAAY,GAAG,IAAI,EAAE,IAAI,CAAC97B,KAAK,GAAG,CAAC,CAAC,EAAE,IAAI,CAACiU,QAAQ,GAAG,CAAC,CAAC,EAAE,IAAI,CAACrK,IAAI,GAAG,IAAI,EAAE,IAAI,CAACG,IAAI,GAAG,IAAI,EAAE,IAAI,CAACF,IAAI,GAAG,IAAI,EAAE,IAAI,CAACG,IAAI,GAAG,IAAI,EAAE,IAAI,CAACzC,uBAAuB,GAAG,IAAI,EAAE,IAAI,CAAC3D,KAAK,GAAG,IAAI,EAAE,IAAI,CAACC,KAAK,GAAG,IAAI,EAAE,IAAI,CAACk4B,wBAAwB,GAAG,CAAC,CAAC,EAAE,IAAI,CAACtqB,QAAQ,GAAG,EAAE,EAAE,IAAI,CAAC+oB,QAAQ,GAAG/+B,CAAC,EAAE,IAAI,CAACugC,mBAAmB,GAAG;IACtb3wB,CAAC,EAAE,CAAC;IACJtC,CAAC,EAAE;EACP,CAAC;AACL,CAAC,EAACvN,UAAU,CAACmC,OAAO,CAACwH,SAAS,CAACa,IAAI,GAAG,UAAUvK,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAES,CAAC,EAAEC,CAAC,EAAE;EACpE,IAAIE,CAAC,GAAG,IAAI;EACZnL,UAAU,CAACqI,KAAK,CAACsD,IAAI,CAAC,IAAI,CAACnL,MAAM,CAAC6H,KAAK,EAAEnI,CAAC,EAAEC,CAAC,EAAG,UAAUiL,CAAC,EAAE;IACzDD,CAAC,CAAC9C,KAAK,GAAG+C,CAAC,EAAED,CAAC,CAACzH,MAAM,GAAGjC,CAAC,EAAE0J,CAAC,CAACm1B,YAAY,GAAG/1B,CAAC,EAAE9I,CAAC,IAAIzB,UAAU,CAAC0D,MAAM,CAACzB,IAAI,IAAI,CAACkJ,CAAC,CAAC9C,KAAK,IAAIkC,CAAC,IAAIA,CAAC,CAACkG,MAAM,IAAI,KAAK,IAAIlG,CAAC,CAACkG,MAAM,IAAItF,CAAC,CAAC9H,OAAO,GAAG7B,CAAC,EAAE2J,CAAC,CAACo1B,wBAAwB,GAAG,CAAC,CAAC,KAAKp1B,CAAC,CAAC9H,OAAO,GAAG8H,CAAC,CAAC9C,KAAK,CAACqvB,EAAE,EAAEvsB,CAAC,CAACo1B,wBAAwB,GAAG,CAAC,CAAC,EAAEzqB,KAAK,CAACC,OAAO,CAAC5K,CAAC,CAAC9C,KAAK,CAACD,KAAK,CAAC,KAAK+C,CAAC,CAAC3K,MAAM,CAAC4H,KAAK,GAAG+C,CAAC,CAAC9C,KAAK,CAACD,KAAK,CAAC,CAAC;IAC7S,IAAImD,CAAC,GAAGJ,CAAC,CAACiD,IAAI;MAAE3C,CAAC,GAAGN,CAAC,CAACoD,IAAI;MAAE7C,CAAC,GAAGP,CAAC,CAACkD,IAAI;MAAE7B,CAAC,GAAGrB,CAAC,CAACqD,IAAI;MAAE9B,CAAC,GAAGvB,CAAC,CAACY,uBAAuB;MAAEuB,CAAC,GAAGnC,CAAC,CAAC/C,KAAK;MAAEmF,CAAC,GAAGpC,CAAC,CAAC3G,KAAK;IAC3G,IAAIvE,CAAC,EAAE;MACH,IAAIiO,CAAC,GAAGlO,UAAU,CAACmC,OAAO,CAACs+B,YAAY,CAACvgC,CAAC,EAAEC,CAAC,EAAEgL,CAAC,CAACP,cAAc,EAAEO,CAAC,CAAC3K,MAAM,EAAE+K,CAAC,EAAEE,CAAC,EAAEC,CAAC,EAAEc,CAAC,EAAErB,CAAC,CAAC9H,OAAO,EAAEiK,CAAC,EAAEnC,CAAC,CAACzH,MAAM,EAAEyH,CAAC,CAACm1B,YAAY,EAAE/yB,CAAC,EAAEpC,CAAC,CAACsN,QAAQ,EAAEtN,CAAC,CAACo1B,wBAAwB,CAAC;MACxK9+B,CAAC,IAAIzB,UAAU,CAAC0D,MAAM,CAACiH,SAAS,KAAKQ,CAAC,CAACiD,IAAI,GAAG7C,CAAC,EAAEJ,CAAC,CAACoD,IAAI,GAAG9C,CAAC,EAAEN,CAAC,CAACkD,IAAI,GAAG3C,CAAC,EAAEP,CAAC,CAACqD,IAAI,GAAGhC,CAAC,EAAErB,CAAC,CAAC/C,KAAK,GAAGkF,CAAC,EAAEnC,CAAC,CAAC3G,KAAK,GAAG+I,CAAC,EAAEpC,CAAC,CAACP,cAAc,GAAGsD,CAAC,CAACtD,cAAc,CAAC,EAAEsD,CAAC,CAACnC,uBAAuB,GAAGW,CAAC,EAAEwB,CAAC,CAAC9F,KAAK,GAAGkF,CAAC,EAAEY,CAAC,CAACuF,SAAS,GAAG;QAC3M5D,CAAC,EAAE,CAAC;QACJtC,CAAC,EAAE;MACP,CAAC,EAAEpC,CAAC,CAAC9C,KAAK,KAAK6F,CAAC,CAACuF,SAAS,GAAGtI,CAAC,CAAC9C,KAAK,CAACoL,SAAS,CAAC,EAAEzI,CAAC,CAACkD,CAAC,CAAC;IACzD,CAAC,MAAM/C,CAAC,CAACsN,QAAQ,GAAGlL,CAAC,IAAI,IAAI,EAAEpC,CAAC,CAACu1B,KAAK,CAAE,UAAUzgC,CAAC,EAAE;MACjDsL,CAAC,GAAGtL,CAAC,CAACmO,IAAI,EAAE3C,CAAC,GAAGxL,CAAC,CAACsO,IAAI,EAAE7C,CAAC,GAAGzL,CAAC,CAACoO,IAAI,EAAE7B,CAAC,GAAGvM,CAAC,CAACuO,IAAI,EAAE9B,CAAC,GAAGzM,CAAC,CAAC8L,uBAAuB,EAAEuB,CAAC,GAAGrN,CAAC,CAACmI,KAAK,EAAEmF,CAAC,GAAGtN,CAAC,CAACuE,KAAK;MACvG,IAAIhD,CAAC,GAAGxB,UAAU,CAACmC,OAAO,CAACs+B,YAAY,CAACvgC,CAAC,EAAEC,CAAC,EAAEgL,CAAC,CAACP,cAAc,EAAEO,CAAC,CAAC3K,MAAM,EAAE+K,CAAC,EAAEE,CAAC,EAAEC,CAAC,EAAEc,CAAC,EAAErB,CAAC,CAAC9H,OAAO,EAAEiK,CAAC,EAAEnC,CAAC,CAACzH,MAAM,EAAEyH,CAAC,CAACm1B,YAAY,EAAE/yB,CAAC,EAAEpC,CAAC,CAACsN,QAAQ,EAAEtN,CAAC,CAACo1B,wBAAwB,CAAC;MACxK/+B,CAAC,CAACkJ,KAAK,GAAGzK,CAAC,CAAC0gC,KAAK,EAAEn/B,CAAC,CAAC4G,KAAK,GAAGkF,CAAC,EAAE9L,CAAC,CAACuK,uBAAuB,GAAGW,CAAC,EAAElL,CAAC,CAACiS,SAAS,GAAGxT,CAAC,CAACwT,SAAS,EAAEhS,CAAC,IAAIzB,UAAU,CAAC0D,MAAM,CAACiH,SAAS,KAAKQ,CAAC,CAACiD,IAAI,GAAG7C,CAAC,EAAEJ,CAAC,CAACoD,IAAI,GAAG9C,CAAC,EAAEN,CAAC,CAACkD,IAAI,GAAG3C,CAAC,EAAEP,CAAC,CAACqD,IAAI,GAAGhC,CAAC,EAAErB,CAAC,CAAC/C,KAAK,GAAGkF,CAAC,EAAEnC,CAAC,CAAC3G,KAAK,GAAG+I,CAAC,EAAEpC,CAAC,CAACP,cAAc,GAAGpJ,CAAC,CAACoJ,cAAc,EAAEO,CAAC,CAACY,uBAAuB,GAAGW,CAAC,EAAEvB,CAAC,CAAC8K,QAAQ,GAAGhW,CAAC,CAACgW,QAAQ,CAAC,EAAEjL,CAAC,CAACxJ,CAAC,CAAC;IAC/S,CAAC,EAAGyJ,CAAC,CAAC;EACV,CAAE,CAAC;AACP,CAAC,EAACjL,UAAU,CAACmC,OAAO,CAACwH,SAAS,CAAC+2B,KAAK,GAAG,UAAUzgC,CAAC,EAAEC,CAAC,EAAE;EACnD,IAAIC,CAAC,GAAG,IAAI;IAAEqB,CAAC,GAAGxB,UAAU,CAACmC,OAAO,CAACy+B,YAAY,CAAC,IAAI,CAAC5B,QAAQ,CAAC;EAChE9+B,CAAC,CAACsB,CAAC,CAAC;EACJ,IAAIC,CAAC,GAAGD,CAAC,CAACgD,KAAK;IAAE+F,CAAC,GAAG/I,CAAC,CAAC4G,KAAK;IAAE4C,CAAC,GAAGhL,UAAU,CAACozB,MAAM;EACnD,IAAI,IAAIpoB,CAAC,KAAKA,CAAC,GAAGhL,UAAU,CAAC6gC,KAAK,CAAC,EAAE71B,CAAC,CAAC81B,aAAa,CAACv2B,CAAC,EAAEpK,CAAC,CAACkgC,aAAa,EAAG,UAAUngC,CAAC,EAAE;IACnF,IAAI8K,CAAC,GAAGhL,UAAU,CAACmC,OAAO,CAAC4+B,sCAAsC,CAACx2B,CAAC,EAAE9I,CAAC,EAAEtB,CAAC,CAACuD,MAAM,EAAEvD,CAAC,CAACmgC,YAAY,EAAEngC,CAAC,CAACsY,QAAQ,EAAEtY,CAAC,CAACK,MAAM,CAACK,WAAW,CAAC;IACnIV,CAAC,CAACkI,KAAK,IAAIlI,CAAC,CAACuD,MAAM,IAAI1D,UAAU,CAAC0D,MAAM,CAACzB,IAAI,KAAK+I,CAAC,GAAG7K,CAAC,CAACkI,KAAK,CAACoL,SAAS,CAAC,EAAEtT,CAAC,CAACuD,MAAM,IAAI1D,UAAU,CAAC0D,MAAM,CAACiH,SAAS,GAAGK,CAAC,GAAG7K,CAAC,CAACqgC,mBAAmB,GAAGrgC,CAAC,CAACqgC,mBAAmB,GAAGx1B,CAAC;IACzK,KAAK,IAAIC,CAAC,GAAG;QACToD,IAAI,EAAE,IAAI;QACVG,IAAI,EAAE,IAAI;QACVJ,IAAI,EAAE,IAAI;QACVG,IAAI,EAAE;MACV,CAAC,EAAEpD,CAAC,GAAG,CAAC,CAAC,EAAEC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGb,CAAC,CAACiB,MAAM,EAAEJ,CAAC,EAAE,EAAEpL,UAAU,CAACmC,OAAO,CAAC6+B,4BAA4B,CAACz2B,CAAC,CAACa,CAAC,CAAC,EAAEb,CAAC,CAACa,CAAC,CAAC,EAAEH,CAAC,EAAE,CAAC,EAAEE,CAAC,EAAEH,CAAC,EAAE7K,CAAC,CAACK,MAAM,CAACK,WAAW,CAAC;IAClIZ,CAAC,CAAC;MACEoO,IAAI,EAAEpD,CAAC,CAACoD,IAAI;MACZG,IAAI,EAAEvD,CAAC,CAACuD,IAAI;MACZJ,IAAI,EAAEnD,CAAC,CAACmD,IAAI;MACZG,IAAI,EAAEtD,CAAC,CAACsD,IAAI;MACZxC,uBAAuB,EAAEZ,CAAC;MAC1B3G,KAAK,EAAE/C,CAAC;MACR2G,KAAK,EAAEmC,CAAC;MACR0L,QAAQ,EAAEzU,CAAC,CAACyU,QAAQ;MACpB0qB,KAAK,EAAEzgC,CAAC;MACRuT,SAAS,EAAEzI;IACf,CAAC,CAAC;EACN,CAAC,EAAGvJ,CAAC,CAAC;AACV,CAAC,EAAC,KAAK,CAAC,KAAKzB,UAAU,KAAKA,UAAU,GAAG,CAAC,CAAC,CAAC,EAACA,UAAU,CAACmC,OAAO,CAAC8+B,gBAAgB,GAAG,UAAUhhC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EAClGD,CAAC,KAAKD,CAAC,CAACihC,GAAG,GAAGhhC,CAAC,CAAC,EAAEC,CAAC,KAAKF,CAAC,CAACiX,WAAW,GAAG,CAAC,CAAC,CAAC;EAC3C,IAAI1V,CAAC,GAAGxB,UAAU,CAACE,CAAC,CAACD,CAAC,CAAC0P,YAAY,CAAC;EACpC1P,CAAC,CAACqP,CAAC,GAAG9N,CAAC,IAAIA,CAAC,CAACkwB,IAAI,GAAGlwB,CAAC,CAACkwB,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,EAAEzxB,CAAC,CAACuM,CAAC,GAAGhL,CAAC,IAAIA,CAAC,CAACkwB,IAAI,GAAGlwB,CAAC,CAACkwB,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,EAAEzxB,CAAC,CAACkhC,OAAO,GAAG,OAAO,IAAIlhC,CAAC,CAAC0P,YAAY,EAAE1P,CAAC,CAACmhC,QAAQ,GAAG,QAAQ,IAAInhC,CAAC,CAAC0P,YAAY,EAAE1P,CAAC,CAACohC,UAAU,GAAG,UAAU,IAAIphC,CAAC,CAAC0P,YAAY;AACrM,CAAC,EAAC3P,UAAU,CAACmC,OAAO,CAACm/B,qBAAqB,GAAG,UAAUrhC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAES,CAAC,EAAE;EACxE,IAAI,IAAI/K,CAAC,CAACmT,SAAS,IAAIlT,CAAC,CAACmB,QAAQ,IAAInB,CAAC,CAACmB,QAAQ,CAACkgC,WAAW,GAAGthC,CAAC,CAACmT,SAAS,GAAG,CAAC,CAAC,GAAG,IAAI,IAAInT,CAAC,CAACmT,SAAS,KAAKnT,CAAC,CAACmT,SAAS,GAAG,CAAC,CAAC,CAAC,EAAE3R,CAAC,IAAIzB,UAAU,CAAC0D,MAAM,CAACgE,MAAM,IAAI,CAAC,CAAC,IAAIvH,CAAC,CAAC25B,GAAG,CAACtkB,OAAO,CAACvV,CAAC,CAAC2L,EAAE,CAAC,KAAK3L,CAAC,CAACmT,SAAS,GAAG,CAAC,CAAC,CAAC,EAAE3R,CAAC,IAAIzB,UAAU,CAAC0D,MAAM,CAACrC,QAAQ,KAAKlB,CAAC,CAAC45B,SAAS,IAAI55B,CAAC,CAAC65B,WAAW,CAAC,GAAG75B,CAAC,CAAC45B,SAAS,IAAI,CAAC,CAAC,IAAI55B,CAAC,CAAC45B,SAAS,CAACvkB,OAAO,CAACvV,CAAC,CAAC2L,EAAE,CAAC,GAAG3L,CAAC,CAACmT,SAAS,GAAG,CAAC,CAAC,GAAGjT,CAAC,CAAC65B,WAAW,IAAI,CAAC,CAAC,IAAI75B,CAAC,CAAC65B,WAAW,CAACxkB,OAAO,CAACvV,CAAC,CAAC2L,EAAE,CAAC,KAAK3L,CAAC,CAACmT,SAAS,GAAG,CAAC,CAAC,CAAC,GAAG3R,CAAC,IAAIzB,UAAU,CAAC0D,MAAM,CAACrC,QAAQ,IAAI,CAAC,CAAC,IAAIlB,CAAC,CAAC25B,GAAG,CAACtkB,OAAO,CAACvV,CAAC,CAAC2L,EAAE,CAAC,KAAK3L,CAAC,CAACmT,SAAS,GAAG,CAAC,CAAC,CAAC,EAAE3R,CAAC,IAAIzB,UAAU,CAAC0D,MAAM,CAACgE,MAAM,IAAI,KAAK,IAAIvH,CAAC,CAAC25B,GAAG,KAAK75B,CAAC,CAACmT,SAAS,GAAG,CAAC,CAAC,CAAC,EAAE3R,CAAC,IAAIzB,UAAU,CAAC0D,MAAM,CAACiH,SAAS,IAAIxK,CAAC,CAAC6nB,cAAc,KAAK/nB,CAAC,CAACmT,SAAS,GAAG,CAAC,CAAC,CAAC,EAAE3R,CAAC,IAAIzB,UAAU,CAAC0D,MAAM,CAACzB,IAAI,IAAI,IAAI,IAAI+I,CAAC,GAAG/K,CAAC,CAACmT,SAAS,GAAG,CAACpI,CAAC,CAACuI,GAAG,CAACmG,GAAG,CAACzZ,CAAC,CAAC2L,EAAE,CAAC,GAAGnK,CAAC,IAAIzB,UAAU,CAAC0D,MAAM,CAACzB,IAAI,GAAGhC,CAAC,CAACmT,SAAS,GAAGlT,CAAC,CAACmB,QAAQ,IAAIkJ,CAAC,IAAIrK,CAAC,CAACmB,QAAQ,CAACmgC,KAAK,GAAG,CAAC,IAAI,CAAC,CAAC,IAAIhgC,CAAC,CAACgU,OAAO,CAACvV,CAAC,CAAC2L,EAAE,CAAC,GAAGnK,CAAC,IAAIzB,UAAU,CAAC0D,MAAM,CAAC0I,UAAU,IAAI3K,CAAC,IAAIzB,UAAU,CAAC0D,MAAM,CAAC2I,MAAM,IAAI5K,CAAC,IAAIzB,UAAU,CAAC0D,MAAM,CAACgE,MAAM,IAAIjG,CAAC,IAAIzB,UAAU,CAAC0D,MAAM,CAACrC,QAAQ,GAAGG,CAAC,CAACkY,GAAG,CAACzZ,CAAC,CAAC2L,EAAE,CAAC,KAAK3L,CAAC,CAACmT,SAAS,GAAG,CAAC,CAAC,CAAC,GAAG3R,CAAC,IAAIzB,UAAU,CAAC0D,MAAM,CAACoB,MAAM,IAAI3E,CAAC,IAAIA,CAAC,CAAC+5B,WAAW,IAAI/5B,CAAC,CAAC+5B,WAAW,CAACxgB,GAAG,CAACzZ,CAAC,CAAC2L,EAAE,CAAC,KAAK3L,CAAC,CAACmT,SAAS,GAAG,CAAC,CAAC,CAAC;AACxlC,CAAC,EAACpT,UAAU,CAACmC,OAAO,CAACs/B,SAAS,GAAG,UAAUxhC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAES,CAAC,EAAE;EAC5D,IAAIC,CAAC,GAAGD,CAAC,CAAC7I,OAAO,CAAC3B,MAAM;IAAE2K,CAAC,GAAGH,CAAC,CAAC7I,OAAO,CAACk+B,aAAa;IAAEj1B,CAAC,GAAGJ,CAAC,CAAC7I,OAAO,CAACuB,MAAM;IAAE6H,CAAC,GAAGP,CAAC,CAAC7I,OAAO,CAACm+B,YAAY;IACnG70B,CAAC,GAAGT,CAAC,CAAC7I,OAAO,CAACkG,KAAK;IAAEqD,CAAC,GAAGP,CAAC,CAAChL,CAAC,IAAI,MAAM,CAAC;EAC3C,IAAI,IAAIF,CAAC,CAAC+S,MAAM,IAAIhT,UAAU,CAACmC,OAAO,CAACm/B,qBAAqB,CAACrhC,CAAC,EAAEyL,CAAC,EAAEH,CAAC,EAAE9J,CAAC,EAAE2J,CAAC,EAAE5J,CAAC,GAAG,CAAC,EAAEiK,CAAC,CAAC;EACrF,KAAK,IAAIe,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGvM,CAAC,CAACkT,WAAW,CAAC3H,MAAM,EAAEgB,CAAC,EAAE,EAAE;IAC3C,IAAIE,CAAC,GAAGxM,CAAC,CAACD,CAAC,CAACkT,WAAW,CAAC3G,CAAC,CAAC,CAAC;IAC3B,IAAIxM,UAAU,CAACmC,OAAO,CAACm/B,qBAAqB,CAAC50B,CAAC,EAAEhB,CAAC,EAAEH,CAAC,EAAE9J,CAAC,EAAE2J,CAAC,EAAE5J,CAAC,EAAEiK,CAAC,CAAC,EAAE,CAACiB,CAAC,CAAC0G,SAAS,EAAE;MAC7E,IAAI1G,CAAC,CAACsG,MAAM,GAAG/S,CAAC,EAAE,IAAI,IAAIyM,CAAC,CAAC8L,IAAI,EAAE;QAC9B,IAAIlL,CAAC,GAAGpN,CAAC,CAACwM,CAAC,CAAC8L,IAAI,CAAC;QACjBlL,CAAC,KAAKZ,CAAC,CAACg1B,aAAa,GAAGp0B,CAAC,CAAC;MAC9B;MACA,CAAC,CAAC,CAAC,IAAIZ,CAAC,CAACnL,IAAI,CAACiU,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,IAAI9I,CAAC,CAACnL,IAAI,CAACiU,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,IAAI9I,CAAC,CAACnL,IAAI,CAACiU,OAAO,CAAC,SAAS,CAAC,IAAI9I,CAAC,CAACg1B,aAAa,KAAK,CAAC,CAAC,IAAIn3B,CAAC,CAACiL,OAAO,CAACvV,CAAC,CAAC2L,EAAE,CAAC,IAAIrB,CAAC,CAAC8I,IAAI,CAACpT,CAAC,CAAC2L,EAAE,CAAC,EAAE3L,CAAC,CAACywB,QAAQ,CAACrd,IAAI,CAAC3G,CAAC,CAAC;IACtM;EACJ;EACA,IAAItB,CAAC,IAAIpL,UAAU,CAAC0D,MAAM,CAACgc,QAAQ,IAAIzf,CAAC,CAACmG,GAAG,GAAGgF,CAAC,IAAIpL,UAAU,CAAC0D,MAAM,CAAC+b,QAAQ,IAAI,CAAC,CAAC,KAAKxf,CAAC,CAACmG,GAAG,GAAG,CAACmF,CAAC,CAAC4uB,GAAG,IAAI5uB,CAAC,CAACK,EAAE,IAAI3L,CAAC,CAAC2L,EAAE,MAAM3L,CAAC,CAACmG,GAAG,GAAG,CAAC,CAAC,CAAC,GAAGgF,CAAC,IAAIpL,UAAU,CAAC0D,MAAM,CAACiH,SAAS,IAAI,CAAC,CAAC,KAAKY,CAAC,CAACnF,GAAG,GAAGnG,CAAC,CAACmG,GAAG,GAAG,CAAC,CAAC,GAAGgF,CAAC,IAAIpL,UAAU,CAAC0D,MAAM,CAACzB,IAAI,IAAI,IAAI,IAAIwJ,CAAC,KAAKxL,CAAC,CAACmG,GAAG,GAAGqF,CAAC,CAACrF,GAAG,CAACsT,GAAG,CAACzZ,CAAC,CAAC2L,EAAE,CAAC,CAAC,GAAG,CAACL,CAAC,CAAC4uB,GAAG,IAAI5uB,CAAC,CAACK,EAAE,IAAI3L,CAAC,CAAC2L,EAAE,MAAM3L,CAAC,CAACmG,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE,CAACnG,CAAC,CAACmG,GAAG,EAAE,KAAKoG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGvM,CAAC,CAACo3B,aAAa,CAAC7rB,MAAM,EAAEgB,CAAC,EAAE,EAAE;IAC7WE,CAAC,GAAGxM,CAAC,CAACD,CAAC,CAACo3B,aAAa,CAAC7qB,CAAC,CAAC,CAAC;IACzBvM,CAAC,CAACsB,IAAI,IAAItB,CAAC,CAACsB,IAAI,CAACmY,GAAG,CAAC,QAAQ,CAAC,KAAKhN,CAAC,CAACuG,QAAQ,GAAGhT,CAAC,EAAEA,CAAC,CAACq3B,UAAU,CAACjkB,IAAI,CAAC3G,CAAC,CAAC,CAAC;EAC5E;EACA,IAAI,IAAIlL,CAAC,KAAKvB,CAAC,CAACuhC,KAAK,GAAGhgC,CAAC,CAAC,EAAErB,CAAC,KAAKF,CAAC,CAACihC,GAAG,GAAG/gC,CAAC,CAAC;EAC5C,IAAIoN,CAAC,GAAGvN,UAAU,CAACsvB,aAAa,CAACrvB,CAAC,CAACsB,IAAI,EAAE0J,CAAC,CAAC1J,IAAI,CAAC;EAChDgM,CAAC,GAAG,CAAC,KAAKtN,CAAC,CAACsvB,SAAS,GAAGhiB,CAAC,CAAC,EAAE,CAAC,CAAC,IAAItN,CAAC,CAACsB,IAAI,CAACiU,OAAO,CAAC,WAAW,CAAC,IAAI,IAAI,IAAIvV,CAAC,CAAC+S,MAAM,KAAK/S,CAAC,CAACiX,WAAW,GAAG,CAAC,CAAC,CAAC;EACzG,IAAIhJ,CAAC,GAAGlO,UAAU,CAACE,CAAC,CAACD,CAAC,CAAC0P,YAAY,EAAE1P,CAAC,CAACmG,GAAG,CAAC;EAC3CnG,CAAC,CAACqP,CAAC,GAAGpB,CAAC,IAAIA,CAAC,CAACwjB,IAAI,GAAGxjB,CAAC,CAACwjB,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,EAAEzxB,CAAC,CAACuM,CAAC,GAAG0B,CAAC,IAAIA,CAAC,CAACwjB,IAAI,GAAGxjB,CAAC,CAACwjB,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,EAAEzxB,CAAC,CAACsD,OAAO,GAAG2K,CAAC,IAAIA,CAAC,CAAC3K,OAAO,GAAG2K,CAAC,CAAC3K,OAAO,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;EAC3H,IAAI4K,CAAC,GAAG;IAACnC,IAAI,EAAE/L;EAAC,CAAC;EACjBD,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,kBAAkB,EAAE,CAACoG,CAAC,EAAEmD,CAAC,CAAC,CAAC,EAAEnO,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,cAAc,EAAE,CAAC3E,CAAC,CAAC,CAAC;AACzG,CAAC,EAACD,UAAU,CAACmC,OAAO,CAACw/B,QAAQ,GAAG,UAAU1hC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAES,CAAC,EAAEC,CAAC,EAAEE,CAAC,EAAEC,CAAC,EAAEG,CAAC,EAAEE,CAAC,EAAE;EAC1E,IAAIC,CAAC,GAAGD,CAAC,CAACtJ,OAAO,CAACk+B,aAAa;EAC/B,IAAIrgC,UAAU,CAACmC,OAAO,CAACs/B,SAAS,CAACvhC,CAAC,EAAEC,CAAC,EAAEgL,CAAC,EAAE3J,CAAC,EAAE4J,CAAC,EAAEG,CAAC,EAAEE,CAAC,CAAC,EAAEvL,CAAC,CAACgX,WAAW,KAAK3M,CAAC,CAACrK,CAAC,CAACyU,GAAG,CAAC,KAAKpK,CAAC,CAACrK,CAAC,CAACyU,GAAG,CAAC,GAAG,EAAE,CAAC,EAAEpK,CAAC,CAACrK,CAAC,CAACyU,GAAG,CAAC,CAACtB,IAAI,CAACnT,CAAC,CAAC0L,EAAE,CAAC,CAAC,EAAE1L,CAAC,CAACqvB,SAAS,GAAG,CAAC,IAAIvkB,CAAC,CAACqI,IAAI,CAACnT,CAAC,CAAC0L,EAAE,CAAC,EAAE5L,UAAU,CAACgjB,8CAA8C,IAAI,CAAC9iB,CAAC,CAACgX,WAAW,IAAIhX,CAAC,CAAC8S,MAAM,EAAE;IAClP,IAAI9S,CAAC,CAAC8S,MAAM,IAAI9S,CAAC,CAAC8S,MAAM,CAAC0d,QAAQ,CAACllB,MAAM,IAAItL,CAAC,CAAC8S,MAAM,CAAC0d,QAAQ,CAACxwB,CAAC,CAAC8S,MAAM,CAAC0d,QAAQ,CAACllB,MAAM,GAAG,CAAC,CAAC,IAAItL,CAAC,EAAE;MAC9F,KAAK,IAAIsM,CAAC,GAAG,EAAE,EAAEE,CAAC,GAAG,CAAC,EAAEY,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGrN,CAAC,CAAC8S,MAAM,CAAC0d,QAAQ,CAACllB,MAAM,EAAE+B,CAAC,EAAE,EAAE;QACrE,CAAC,CAAC,IAAI,CAACW,CAAC,GAAGhO,CAAC,CAAC8S,MAAM,CAAC0d,QAAQ,CAACnjB,CAAC,CAAC,EAAEhM,IAAI,CAACiU,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAItH,CAAC,CAAC3M,IAAI,CAACiU,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,IAAItH,CAAC,CAAC3M,IAAI,CAACiU,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,IAAItH,CAAC,CAAC3M,IAAI,CAACiU,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,IAAItH,CAAC,CAACwiB,QAAQ,CAACllB,MAAM,GAAGgB,CAAC,CAAC6G,IAAI,CAACnF,CAAC,CAACtC,EAAE,CAAC,GAAG,CAAC,CAAC,IAAIsC,CAAC,CAAC3M,IAAI,CAACiU,OAAO,CAAC,WAAW,CAAC,GAAG9I,CAAC,EAAE,GAAG,CAAC,CAAC,IAAIwB,CAAC,CAAC3M,IAAI,CAACiU,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAItH,CAAC,CAAC3M,IAAI,CAACiU,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,IAAItH,CAAC,CAAC3M,IAAI,CAACiU,OAAO,CAAC,eAAe,CAAC,IAAIlI,CAAC,EAAE;MAC/X;MACA,CAACtN,UAAU,CAAC+iB,sBAAsB,IAAIvW,CAAC,CAAChB,MAAM,GAAG,CAAC,IAAIgB,CAAC,CAAChB,MAAM,IAAItL,CAAC,CAAC8S,MAAM,CAAC0d,QAAQ,CAACllB,MAAM,GAAGkB,CAAC,GAAGY,CAAC,IAAI,CAACtN,UAAU,CAAC+iB,sBAAsB,IAAIvW,CAAC,CAAChB,MAAM,GAAG,CAAC,MAAMP,CAAC,CAAC/K,CAAC,CAACyU,GAAG,CAAC,GAAGnI,CAAC,CAAC;IAC/K;EACJ,CAAC,MAAM,IAAI,CAACtM,CAAC,CAACgX,WAAW,IAAI,CAAC,IAAIhX,CAAC,CAACiT,WAAW,CAAC3H,MAAM,IAAItL,CAAC,CAAC8S,MAAM,IAAI,CAAC/H,CAAC,CAAC/K,CAAC,CAACyU,GAAG,CAAC,EAAE;IAC7E,KAAKnI,CAAC,GAAG,EAAE,EAAEE,CAAC,GAAG,CAAC,EAAEY,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGrN,CAAC,CAAC8S,MAAM,CAAC0d,QAAQ,CAACllB,MAAM,EAAE+B,CAAC,EAAE,EAAE;MACjE,IAAIW,CAAC;MACL,CAAC,CAAC,IAAI,CAACA,CAAC,GAAGhO,CAAC,CAAC8S,MAAM,CAAC0d,QAAQ,CAACnjB,CAAC,CAAC,EAAEhM,IAAI,CAACiU,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAItH,CAAC,CAAC3M,IAAI,CAACiU,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,IAAItH,CAAC,CAAC3M,IAAI,CAACiU,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,IAAItH,CAAC,CAAC3M,IAAI,CAACiU,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,IAAItH,CAAC,CAACiF,WAAW,CAAC3H,MAAM,GAAGgB,CAAC,CAAC6G,IAAI,CAACnF,CAAC,CAACtC,EAAE,CAAC,GAAG,CAAC,CAAC,IAAIsC,CAAC,CAAC3M,IAAI,CAACiU,OAAO,CAAC,WAAW,CAAC,GAAG9I,CAAC,EAAE,GAAG,CAAC,CAAC,IAAIwB,CAAC,CAAC3M,IAAI,CAACiU,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAItH,CAAC,CAAC3M,IAAI,CAACiU,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,IAAItH,CAAC,CAAC3M,IAAI,CAACiU,OAAO,CAAC,eAAe,CAAC,IAAIlI,CAAC,EAAE;IAClY;IACA,CAACtN,UAAU,CAAC+iB,sBAAsB,IAAIvW,CAAC,CAAChB,MAAM,GAAGxL,UAAU,CAACijB,+CAA+C,IAAIzW,CAAC,CAAChB,MAAM,IAAItL,CAAC,CAAC8S,MAAM,CAACG,WAAW,CAAC3H,MAAM,GAAGkB,CAAC,GAAGY,CAAC,IAAI,CAACtN,UAAU,CAAC+iB,sBAAsB,IAAIvW,CAAC,CAAChB,MAAM,GAAGxL,UAAU,CAACijB,+CAA+C,MAAMhY,CAAC,CAAC/K,CAAC,CAACyU,GAAG,CAAC,GAAGnI,CAAC,CAAC;EACpS;EACAtM,CAAC,CAACo3B,UAAU,CAAC9rB,MAAM,KAAKvL,CAAC,CAAC2hC,gBAAgB,KAAK3hC,CAAC,CAAC2hC,gBAAgB,GAAG,EAAE,CAAC,EAAE3hC,CAAC,CAAC2hC,gBAAgB,CAACvuB,IAAI,CAACnT,CAAC,CAAC,CAAC;EACpG,KAAK,IAAIiO,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGjO,CAAC,CAACo3B,UAAU,CAAC9rB,MAAM,EAAE2C,CAAC,EAAE,EAAE;IAC1C,IAAIG,CAAC,GAAG,EAAE;IACV,KAAKf,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGrN,CAAC,CAACqB,IAAI,CAACiK,MAAM,EAAE+B,CAAC,EAAE,EAAE,IAAI7B,CAAC,CAACxL,CAAC,CAACqB,IAAI,CAACgM,CAAC,CAAC,CAAC,EAAE;MAClDe,CAAC,GAAGpO,CAAC,CAACqB,IAAI,CAACgM,CAAC,CAAC;MACb;IACJ;IACA9L,CAAC,CAAC4R,IAAI,CAACnT,CAAC,CAACo3B,UAAU,CAACnpB,CAAC,CAAC,CAACvC,EAAE,CAAC,EAAE5L,UAAU,CAACmC,OAAO,CAACw/B,QAAQ,CAAC1hC,CAAC,EAAEC,CAAC,CAACo3B,UAAU,CAACnpB,CAAC,CAAC,EAAEhO,CAAC,EAAE,CAAC,EAAEsB,CAAC,EAAE8I,CAAC,EAAES,CAAC,EAAEC,CAAC,EAAEqD,CAAC,EAAElD,CAAC,EAAEG,CAAC,EAAEE,CAAC,CAAC;EAC7G;EACAjK,CAAC,EAAE;EACH,KAAK2M,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGjO,CAAC,CAACwwB,QAAQ,CAACllB,MAAM,EAAE2C,CAAC,EAAE,EAAEnO,UAAU,CAACmC,OAAO,CAACw/B,QAAQ,CAAC1hC,CAAC,EAAEC,CAAC,CAACwwB,QAAQ,CAACviB,CAAC,CAAC,EAAEhO,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAES,CAAC,EAAEC,CAAC,EAAEE,CAAC,EAAEC,CAAC,EAAEG,CAAC,EAAEE,CAAC,CAAC;AACvH,CAAC,EAACzL,UAAU,CAACmC,OAAO,CAAC0/B,aAAa,GAAG,UAAU5hC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAES,CAAC,EAAEC,CAAC,EAAE;EACnE,KAAK,IAAIE,CAAC,GAAG,EAAE,EAAEC,CAAC,GAAGpL,UAAU,CAAC8hC,eAAe,CAAC3hC,CAAC,CAAC,EAAEoL,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,CAAC,CAACI,MAAM,EAAED,CAAC,EAAE,EAAE;IAC1E,IAAIE,CAAC;MAAEC,CAAC,GAAGN,CAAC,CAACG,CAAC,CAAC;IACfE,CAAC,GAAGzL,UAAU,CAACqiB,WAAW,GAAG3W,CAAC,CAACnK,IAAI,GAAGmK,CAAC,CAACnK,IAAI,CAACyqB,KAAK,CAAC,GAAG,CAAC,GAAG,EAAE,GAAGlW,KAAK,CAACC,OAAO,CAACrK,CAAC,CAACnK,IAAI,CAAC,GAAGmK,CAAC,CAACnK,IAAI,CAAC6N,KAAK,CAAC,CAAC,CAAC,GAAG,EAAE,EAAEnE,CAAC,CAAC/I,QAAQ,CAAC6/B,YAAY,CAACr2B,CAAC,CAAC,IAAID,CAAC,CAACu2B,OAAO,CAAC,QAAQ,CAAC;IAC9J,IAAIx1B,CAAC,GAAGvB,CAAC,CAAC7I,QAAQ,CAACs9B,WAAW,CAACh0B,CAAC,CAACE,EAAE,CAAC;IACpC,CAAC,CAAC,KAAKY,CAAC,GAAGf,CAAC,CAACu2B,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,KAAKx1B,CAAC,IAAIf,CAAC,CAACu2B,OAAO,CAAC,UAAU,CAAC;IACjE,IAAIt1B,CAAC,GAAG1M,UAAU,CAACovB,YAAY,CAAC3jB,CAAC,EAAEtL,CAAC,CAACoB,IAAI,EAAEpB,CAAC,CAACgG,QAAQ,CAAC;MAAEmH,CAAC,GAAG,IAAItN,UAAU,CAACgM,IAAI,CAACN,CAAC,CAACE,EAAE,EAAEF,CAAC,CAACiJ,GAAG,EAAElJ,CAAC,EAAEiB,CAAC,CAAC;IAClG1M,UAAU,CAACgS,KAAK,CAACtG,CAAC,CAAC8M,IAAI,CAAC,KAAKlL,CAAC,CAACkL,IAAI,GAAG9M,CAAC,CAAC8M,IAAI,CAAC,EAAExY,UAAU,CAACgS,KAAK,CAACtG,CAAC,CAAC6L,KAAK,CAAC,KAAKjK,CAAC,CAACiK,KAAK,GAAG7L,CAAC,CAAC6L,KAAK,CAAC,EAAE,IAAI,IAAIpX,CAAC,CAACqH,OAAO,KAAK8F,CAAC,CAAC20B,KAAK,GAAGjiC,UAAU,CAACmC,OAAO,CAAC+/B,mBAAmB,CAACx2B,CAAC,EAAEvL,CAAC,CAACqH,OAAO,CAAC,CAAC,EAAE,IAAI,IAAIkE,CAAC,CAACwM,KAAK,KAAK5K,CAAC,CAAC4K,KAAK,GAAGxM,CAAC,CAACwM,KAAK,CAAC,EAAE,IAAI,IAAIxM,CAAC,CAACyM,KAAK,KAAK7K,CAAC,CAAC6K,KAAK,GAAGzM,CAAC,CAACyM,KAAK,CAAC,EAAElY,CAAC,CAACyL,CAAC,CAACE,EAAE,CAAC,GAAG0B,CAAC,EAAEnC,CAAC,CAACkI,IAAI,CAAC3H,CAAC,CAACE,EAAE,CAAC;EACrS;EACA,IAAI,IAAIzL,CAAC,CAACqH,OAAO,IAAI2D,CAAC,CAACoK,IAAI,CAAE,UAAUrV,CAAC,EAAEsB,CAAC,EAAE;IACzC,IAAIC,CAAC,GAAGxB,CAAC,CAACC,CAAC,CAAC,CAAC+hC,KAAK;MAAE13B,CAAC,GAAGtK,CAAC,CAACuB,CAAC,CAAC,CAACygC,KAAK;IAClC,OAAO,QAAQ,IAAI,OAAOxgC,CAAC,IAAI,QAAQ,IAAI,OAAO8I,CAAC,IAAI,IAAI,IAAI9I,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,IAAI8I,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,CAAC,EAAEpK,CAAC,CAACqH,OAAO,CAAC26B,IAAI,GAAG53B,CAAC,GAAG9I,CAAC,GAAGA,CAAC,GAAG8I,CAAC,IAAI,QAAQ,IAAI,OAAO9I,CAAC,IAAI,QAAQ,IAAI,OAAO8I,CAAC,IAAI,IAAI,IAAI9I,CAAC,KAAKA,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,IAAI8I,CAAC,KAAKA,CAAC,GAAG,EAAE,CAAC,EAAEpK,CAAC,CAACqH,OAAO,CAAC26B,IAAI,GAAG53B,CAAC,CAAC63B,aAAa,CAAC3gC,CAAC,CAAC,GAAGA,CAAC,CAAC2gC,aAAa,CAAC73B,CAAC,CAAC,IAAI,KAAK,CAAC;EAC3S,CAAE,CAAC;EACH,KAAKgB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,CAAC,CAACK,MAAM,EAAED,CAAC,EAAE,EAAE;IAC3B,IAAIgC,CAAC,GAAGpC,CAAC,CAACI,CAAC,CAAC;MAAE2C,CAAC,IAAIZ,CAAC,GAAGrN,CAAC,CAACsN,CAAC,CAAC,EAAEhD,CAAC,GAAGA,CAAC,CAACgD,CAAC,CAAC,GAAG,IAAI,CAAC;MAAEY,CAAC,GAAGlO,CAAC,CAACqN,CAAC,CAACiK,KAAK,CAAC;MAAEjJ,CAAC,GAAGrO,CAAC,CAACqN,CAAC,CAACqH,GAAG,CAAC;IAC3E,IAAIxG,CAAC,KAAKb,CAAC,CAACiK,KAAK,GAAG,IAAI,CAAC,EAAEjJ,CAAC,KAAKhB,CAAC,CAACqH,GAAG,GAAG,IAAI,CAAC,EAAExG,CAAC,EAAE;MAC/C,IAAI7B,CAAC,GAAG/B,CAAC,GAAGA,CAAC,CAAC4D,CAAC,CAACvC,EAAE,CAAC,GAAG,IAAI;MAC1BU,CAAC,KAAK6B,CAAC,CAAC/H,GAAG,GAAGkG,CAAC,CAAClG,GAAG,CAAC,EAAE+H,CAAC,CAACkpB,aAAa,CAAChkB,IAAI,CAAC/F,CAAC,CAAC1B,EAAE,CAAC;IACpD,CAAC,MAAM0C,CAAC,IAAIJ,CAAC,KAAKZ,CAAC,CAAC8F,SAAS,GAAGlF,CAAC,CAACkF,SAAS,EAAE9F,CAAC,CAAClH,GAAG,GAAG8H,CAAC,CAAC9H,GAAG,CAAC,EAAEkI,CAAC,CAAC6E,WAAW,CAACE,IAAI,CAAC/F,CAAC,CAAC1B,EAAE,CAAC,KAAKsC,CAAC,KAAKZ,CAAC,CAAC8F,SAAS,GAAGlF,CAAC,CAACkF,SAAS,EAAE9F,CAAC,CAAClH,GAAG,GAAG8H,CAAC,CAAC9H,GAAG,CAAC,EAAElG,CAAC,CAACmT,IAAI,CAAC/F,CAAC,CAAC,EAAEtC,CAAC,CAACqI,IAAI,CAAC/F,CAAC,CAAC1B,EAAE,CAAC,CAAC;IACnKpK,CAAC,IAAIxB,UAAU,CAAC0D,MAAM,CAACzB,IAAI,KAAKqL,CAAC,CAAClH,GAAG,GAAGpG,UAAU,CAACqvB,OAAO,CAAC/hB,CAAC,EAAEnN,CAAC,CAAC,CAAC;EACrE;AACJ,CAAC,EAACH,UAAU,CAACmC,OAAO,CAACy+B,YAAY,GAAG,UAAU3gC,CAAC,EAAE;EAC7C,IAAIC,CAAC,GAAGD,CAAC,CAACkC,OAAO,CAAC3B,MAAM;IAAEL,CAAC,GAAGF,CAAC,CAACkC,OAAO,CAACk+B,aAAa;IAAE7+B,CAAC,GAAGvB,CAAC,CAACkC,OAAO,CAACuB,MAAM;IAAEjC,CAAC,GAAGxB,CAAC,CAACkC,OAAO,CAACm+B,YAAY;IACnG/1B,CAAC,GAAGtK,CAAC,CAACkC,OAAO,CAACsW,QAAQ;IAAEzN,CAAC,GAAG/K,CAAC,CAACkC,OAAO,CAACkG,KAAK;IAAE4C,CAAC,GAAG,CAAC,CAAC;IAAEE,CAAC,GAAG,EAAE;IAAEC,CAAC,GAAG,EAAE;EACvE,IAAIpL,UAAU,CAACmC,OAAO,CAAC0/B,aAAa,CAAC52B,CAAC,EAAEE,CAAC,EAAEjL,CAAC,EAAEsB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAEa,CAAC,EAAEnL,CAAC,CAAC,EAAE,IAAI,IAAIC,CAAC,CAACkI,KAAK,EAAE;IAC3E+C,CAAC,GAAG,EAAE;IACN,KAAK,IAAII,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGrL,CAAC,CAACkI,KAAK,CAACoD,MAAM,EAAED,CAAC,EAAE,EAAE;MACrC,IAAIE,CAAC,GAAGR,CAAC,CAAC/K,CAAC,CAACkI,KAAK,CAACmD,CAAC,CAAC,CAAC;MACrB,IAAIE,CAAC,IAAIjK,CAAC,IAAIxB,UAAU,CAAC0D,MAAM,CAAC0I,UAAU,EAAE;QACxC,KAAK,IAAIV,CAAC,GAAGD,CAAC,EAAE,IAAI,IAAIC,CAAC,CAACiJ,GAAG,IAAI,IAAI,IAAIjJ,CAAC,CAAC6L,KAAK,GAAG7L,CAAC,GAAG,IAAI,IAAIA,CAAC,CAACiJ,GAAG,IAAI,IAAI,IAAIjJ,CAAC,CAAC6L,KAAK,GAAGtM,CAAC,CAACS,CAAC,CAAC6L,KAAK,CAAC,GAAGtM,CAAC,CAACS,CAAC,CAACiJ,GAAG,CAAC;QAC/G,KAAK,IAAInI,CAAC,GAAGvB,CAAC,CAACxJ,CAAC,CAACmK,EAAE,CAAC,EAAE,CAAC,IAAI,IAAIY,CAAC,CAACmI,GAAG,IAAI,IAAI,IAAInI,CAAC,CAAC+K,KAAK,KAAK/K,CAAC,IAAIf,CAAC,GAAGe,CAAC,GAAG,IAAI,IAAIA,CAAC,CAACmI,GAAG,IAAI,IAAI,IAAInI,CAAC,CAAC+K,KAAK,GAAGtM,CAAC,CAACuB,CAAC,CAAC+K,KAAK,CAAC,GAAGtM,CAAC,CAACuB,CAAC,CAACmI,GAAG,CAAC;QACjIjJ,CAAC,IAAIc,CAAC,KAAKf,CAAC,GAAGC,CAAC,CAAC;MACrB;MACA,IAAID,CAAC,EAAE;QACH,KAAK,IAAIiB,CAAC,GAAG,CAAC,CAAC,EAAEY,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGnC,CAAC,CAACK,MAAM,EAAE8B,CAAC,EAAE,EAAE,IAAInC,CAAC,CAACmC,CAAC,CAAC,CAAC1B,EAAE,IAAIH,CAAC,CAACG,EAAE,EAAE;UAC5Dc,CAAC,GAAG,CAAC,CAAC;UACN;QACJ;QACA,IAAI,CAACA,CAAC,EAAE;UACJ,IAAI,CAAC1M,UAAU,CAACgS,KAAK,CAACvG,CAAC,CAACkJ,GAAG,CAAC,EAAE,CAAC0tB,EAAE,GAAG,CAACl0B,CAAC,GAAGlD,CAAC,CAACQ,CAAC,CAACkJ,GAAG,CAAC,EAAExB,WAAW,CAACqC,OAAO,CAAC/J,CAAC,CAACG,EAAE,CAAC,IAAI,CAAC,CAAC,IAAIuC,CAAC,CAACgF,WAAW,CAAC0E,MAAM,CAACwqB,EAAE,EAAE,CAAC,CAAC;UACjHl3B,CAAC,CAACkI,IAAI,CAAC5H,CAAC,CAAC;QACb;MACJ;IACJ;IACAvL,CAAC,CAACkI,KAAK,GAAG,EAAE;IACZ,KAAKmD,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,CAAC,CAACK,MAAM,EAAED,CAAC,EAAE,EAAErL,CAAC,CAACkI,KAAK,CAACiL,IAAI,CAAClI,CAAC,CAACI,CAAC,CAAC,CAACK,EAAE,CAAC;EACxD;EACApK,CAAC,IAAIxB,UAAU,CAAC0D,MAAM,CAACiH,SAAS,IAAI,IAAI,IAAIlJ,CAAC,CAACmK,EAAE,IAAK,CAACsC,CAAC,GAAGjD,CAAC,CAACxJ,CAAC,CAACmK,EAAE,CAAC,MAAMsC,CAAC,CAACyG,GAAG,GAAG,IAAI,EAAExJ,CAAC,GAAG,CAAC+C,CAAC,CAAC,CAAE;EAC9F,IAAIX,CAAC,GAAG,EAAE;EACV,IAAI/L,CAAC,IAAIxB,UAAU,CAAC0D,MAAM,CAACzB,IAAI,IAAI/B,CAAC,CAACwH,MAAM,IAAIxH,CAAC,CAACwH,MAAM,CAAClD,KAAK,IAAI,IAAI,IAAIwG,CAAC,EAAE,KAAKO,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGrL,CAAC,CAACwH,MAAM,CAAClD,KAAK,CAACgH,MAAM,EAAED,CAAC,EAAE,EAAE;IACpH,IAAI2C,CAAC,GAAGjD,CAAC,CAAC/K,CAAC,CAACwH,MAAM,CAAClD,KAAK,CAAC+G,CAAC,CAAC,CAAC;IAC5B,KAAK,CAAC,CAAC,KAAKrL,CAAC,CAACwH,MAAM,CAAC65B,WAAW,IAAIvhC,UAAU,CAACmC,OAAO,CAACmgC,0BAA0B,CAACp0B,CAAC,EAAEjD,CAAC,EAAEsC,CAAC,CAAC,EAAEW,CAAC,GAAGX,CAAC,CAAC8F,IAAI,CAACnF,CAAC,CAACtC,EAAE,CAAC,EAAE,IAAI,IAAIsC,CAAC,CAACyG,GAAG,IAAI,IAAI,IAAIzG,CAAC,CAACqJ,KAAK,GAAG,CAACrJ,CAAC,GAAGjD,CAAC,CAACiD,CAAC,CAACqJ,KAAK,CAAC,EAAEnR,GAAG,GAAG,CAAC,CAAC,GAAG8H,CAAC,GAAGjD,CAAC,CAACiD,CAAC,CAACyG,GAAG,CAAC;EAC7L,CAAC,MAAM,IAAInT,CAAC,IAAIxB,UAAU,CAAC0D,MAAM,CAACgE,MAAM,IAAIjG,CAAC,CAACq4B,GAAG,IAAI,KAAK,IAAIr4B,CAAC,CAACq4B,GAAG,IAAIt4B,CAAC,IAAIxB,UAAU,CAAC0D,MAAM,CAACrC,QAAQ,IAAII,CAAC,IAAIA,CAAC,CAACs4B,SAAS,EAAE;IACxHwI,EAAE,GAAG/gC,CAAC,IAAIxB,UAAU,CAAC0D,MAAM,CAACgE,MAAM,GAAGjG,CAAC,CAACq4B,GAAG,GAAGr4B,CAAC,CAACs4B,SAAS;IACxD,KAAKxuB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGg3B,EAAE,CAAC/2B,MAAM,EAAED,CAAC,EAAE,EAAE,KAAK,IAAI4C,CAAC,GAAGlD,CAAC,CAAC,CAACiD,CAAC,GAAGjD,CAAC,CAACs3B,EAAE,CAACh3B,CAAC,CAAC,CAAC,EAAEoJ,GAAG,CAAC,EAAExG,CAAC,GAAGZ,CAAC,CAAC8F,IAAI,CAAClF,CAAC,CAACvC,EAAE,CAAC,EAAE,IAAI,IAAIuC,CAAC,CAACwG,GAAG,IAAI,IAAI,IAAIxG,CAAC,CAACoJ,KAAK,GAAG,CAACpJ,CAAC,GAAGlD,CAAC,CAACkD,CAAC,CAACoJ,KAAK,CAAC,EAAEnR,GAAG,GAAG,CAAC,CAAC,GAAG+H,CAAC,GAAGlD,CAAC,CAACkD,CAAC,CAACwG,GAAG,CAAC;EACrK,CAAC,MAAM,IAAInT,CAAC,IAAIxB,UAAU,CAAC0D,MAAM,CAAC0I,UAAU,EAAE;IAC1C,KAAK,IAAIkC,CAAC,GAAGrD,CAAC,CAACxJ,CAAC,CAACmK,EAAE,CAAC,EAAE0C,CAAC,GAAG;MACtB,IAAIf,CAAC,CAAC8F,IAAI,CAAC/E,CAAC,CAAC1C,EAAE,CAAC,EAAEnK,CAAC,CAACqM,OAAO,CAACqC,WAAW,KAAKnQ,UAAU,CAAC8hB,yBAAyB,IAAIxT,CAAC,EAAE,KAAK/C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG+C,CAAC,CAAC6E,WAAW,CAAC3H,MAAM,EAAED,CAAC,EAAE,EAAE;QAC9H,CAACoyB,CAAC,GAAG1yB,CAAC,CAACqD,CAAC,CAAC6E,WAAW,CAAC5H,CAAC,CAAC,CAAC,EAAE6H,SAAS,GAAG,CAAC,CAAC;MAC5C;MACA,IAAI,IAAI9E,CAAC,CAACqG,GAAG,IAAI,IAAI,IAAIrG,CAAC,CAACiJ,KAAK,GAAG,CAACjJ,CAAC,GAAGrD,CAAC,CAACqD,CAAC,CAACiJ,KAAK,CAAC,EAAEnR,GAAG,GAAG,CAAC,CAAC,GAAGkI,CAAC,GAAGrD,CAAC,CAACqD,CAAC,CAACqG,GAAG,CAAC;IAC/E;IACArG,CAAC,GAAGrD,CAAC,CAACxJ,CAAC,CAACmK,EAAE,CAAC;IACX,IAAInK,CAAC,CAACqM,OAAO,CAACsC,aAAa,KAAKpQ,UAAU,CAAC+hB,sBAAsB,EAAE,KAAKxW,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG+C,CAAC,CAAC6E,WAAW,CAAC3H,MAAM,EAAED,CAAC,EAAE,EAAE;MAC1G,CAACwP,CAAC,GAAG9P,CAAC,CAACqD,CAAC,CAAC6E,WAAW,CAAC5H,CAAC,CAAC,CAAC,EAAE6H,SAAS,GAAG,CAAC,CAAC;MACxC,KAAK,IAAI9G,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGyO,CAAC,CAAC5H,WAAW,CAAC3H,MAAM,EAAEc,CAAC,EAAE,EAAE;QAC3CrB,CAAC,CAAC8P,CAAC,CAAC5H,WAAW,CAAC7G,CAAC,CAAC,CAAC,CAAC8G,SAAS,GAAG,CAAC,CAAC;MACtC;IACJ;IACA,IAAI3R,CAAC,CAACqM,OAAO,CAACqC,WAAW,KAAKnQ,UAAU,CAACgiB,2CAA2C,EAAE,IAAI7T,CAAC,GAAGlD,CAAC,CAACqD,CAAC,CAACqG,GAAG,CAAC,EAAE,KAAKpJ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG4C,CAAC,CAACgF,WAAW,CAAC3H,MAAM,EAAED,CAAC,EAAE,EAAE;MAC/I,IAAIwP,CAAC;MACL,IAAI,CAACA,CAAC,GAAG9P,CAAC,CAACkD,CAAC,CAACgF,WAAW,CAAC5H,CAAC,CAAC,CAAC,KAAK+C,CAAC,EAAE;QAChCyM,CAAC,CAAC3H,SAAS,GAAG,CAAC,CAAC;QAChB,KAAK9G,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGyO,CAAC,CAAC5H,WAAW,CAAC3H,MAAM,EAAEc,CAAC,EAAE,EAAE;UACvCrB,CAAC,CAAC8P,CAAC,CAAC5H,WAAW,CAAC7G,CAAC,CAAC,CAAC,CAAC8G,SAAS,GAAG,CAAC,CAAC;QACtC;MACJ;IACJ;EACJ,CAAC,MAAM,IAAI5R,CAAC,IAAIxB,UAAU,CAAC0D,MAAM,CAAC2I,MAAM,EAAE,KAAK6B,CAAC,GAAGjD,CAAC,CAACxJ,CAAC,CAACwW,cAAc,CAAC,EAAE/J,CAAC,GAAGX,CAAC,CAAC8F,IAAI,CAACnF,CAAC,CAACtC,EAAE,CAAC,EAAE,IAAI,IAAIsC,CAAC,CAACyG,GAAG,IAAI,IAAI,IAAIzG,CAAC,CAACqJ,KAAK,GAAG,CAACrJ,CAAC,GAAGjD,CAAC,CAACiD,CAAC,CAACqJ,KAAK,CAAC,EAAEnR,GAAG,GAAG,CAAC,CAAC,GAAG8H,CAAC,GAAGjD,CAAC,CAACiD,CAAC,CAACyG,GAAG,CAAC;EACrK,IAAI9E,CAAC,GAAG,EAAE;IAAE4W,CAAC,GAAG,CAAC,CAAC;IAAEnX,CAAC,GAAG,EAAE;IAAEoX,CAAC,GAAG,CAAC,CAAC;IAAEC,CAAC,GAAG,EAAE;EAC1C,KAAKpb,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,CAAC,CAACK,MAAM,EAAED,CAAC,EAAE,EAAEvL,UAAU,CAACmC,OAAO,CAACw/B,QAAQ,CAACx2B,CAAC,CAACI,CAAC,CAAC,EAAEJ,CAAC,CAACI,CAAC,CAAC,EAAEN,CAAC,EAAE,CAAC,EAAE4E,CAAC,EAAE4W,CAAC,EAAEnX,CAAC,EAAEoX,CAAC,EAAE,EAAE,EAAEnZ,CAAC,EAAEoZ,CAAC,EAAE1mB,CAAC,CAAC;EACrG,IAAIuB,CAAC,IAAIxB,UAAU,CAAC0D,MAAM,CAACrC,QAAQ,IAAII,CAAC,IAAIqU,KAAK,CAACC,OAAO,CAACtU,CAAC,CAACs4B,SAAS,CAAC,IAAIjkB,KAAK,CAACC,OAAO,CAACtU,CAAC,CAACu4B,WAAW,CAAC,EAAE,KAAKzuB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG9J,CAAC,CAACq4B,GAAG,CAACtuB,MAAM,EAAED,CAAC,EAAE,EAAE;IACvI,IAAI9J,CAAC,CAACs4B,SAAS,CAACrgB,GAAG,CAACjY,CAAC,CAACu4B,WAAW,CAACzuB,CAAC,CAAC,CAAC,EAAEkD,OAAO,CAACC,KAAK,CAAE,MAAKjN,CAAC,CAACu4B,WAAW,CAACzuB,CAAC,CAAE,0CAAyC,CAAC,CAAC,KAAM,CAAC2C,CAAC,GAAGjD,CAAC,CAACxJ,CAAC,CAACu4B,WAAW,CAACzuB,CAAC,CAAC,CAAC,MAAM2C,CAAC,CAACkF,SAAS,GAAG,CAAC,CAAC,CAAC;EAChL;EACA,KAAK7H,CAAC,GAAGJ,CAAC,CAACK,MAAM,GAAG,CAAC,EAAED,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAEJ,CAAC,CAACI,CAAC,CAAC,CAAC6H,SAAS,IAAIjI,CAAC,CAAC0M,MAAM,CAACtM,CAAC,EAAE,CAAC,CAAC;EACpE,KAAKA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGob,CAAC,CAACnb,MAAM,EAAED,CAAC,EAAE,EAAE;IAC3B2C,CAAC,GAAGjD,CAAC,CAAC0b,CAAC,CAACpb,CAAC,CAAC,CAAC;IACX,IAAIqb,CAAC,GAAG,EAAE;MAAEE,CAAC,GAAG,EAAE;MAAEG,CAAC,GAAG,EAAE;MAAEC,CAAC,GAAG,CAAC,CAAC;MAAE2B,CAAC,GAAG,CAAC;MAAEC,CAAC,GAAG,CAAC;MAAEC,CAAC,GAAG,CAAC;MAAEuU,CAAC,GAAG,EAAE;MAAEC,CAAC,GAAG,EAAE;IACvE,KAAKjxB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG4B,CAAC,CAACwiB,QAAQ,CAACllB,MAAM,EAAEc,CAAC,EAAE,EAAE;MACpC,CAACqxB,CAAC,GAAGzvB,CAAC,CAACwiB,QAAQ,CAACpkB,CAAC,CAAC,EAAE4K,WAAW,GAAG0P,CAAC,CAACvT,IAAI,CAACsqB,CAAC,CAAC/xB,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI+xB,CAAC,CAACp8B,IAAI,CAACiU,OAAO,CAAC,eAAe,CAAC,IAAImoB,CAAC,CAACloB,SAAS,GAAG,CAAC,EAAEkoB,CAAC,CAACjN,QAAQ,GAAG,EAAE,EAAE5J,CAAC,CAACzT,IAAI,CAACsqB,CAAC,CAAC/xB,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI+xB,CAAC,CAACp8B,IAAI,CAACiU,OAAO,CAAC,cAAc,CAAC,IAAImoB,CAAC,CAACloB,SAAS,GAAG,CAAC,EAAEkoB,CAAC,CAACjN,QAAQ,GAAG,EAAE,EAAEzJ,CAAC,CAAC5T,IAAI,CAACsqB,CAAC,CAAC/xB,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI+xB,CAAC,CAACp8B,IAAI,CAACiU,OAAO,CAAC,SAAS,CAAC,IAAIqT,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI8U,CAAC,CAACp8B,IAAI,CAACiU,OAAO,CAAC,SAAS,CAAC,IAAIqT,CAAC,GAAG,CAAC,IAAI8U,CAAC,CAACloB,SAAS,GAAG,CAAC,EAAEkoB,CAAC,CAACjN,QAAQ,GAAG,EAAE,EAAEzJ,CAAC,CAAC5T,IAAI,CAACsqB,CAAC,CAAC/xB,EAAE,CAAC,EAAEid,CAAC,EAAE,IAAI8U,CAAC,CAAC+D,aAAa,IAAIxa,CAAC,CAACyW,CAAC,CAAC+D,aAAa,CAAC91B,EAAE,CAAC,KAAKsb,CAAC,CAACyW,CAAC,CAAC+D,aAAa,CAAC91B,EAAE,CAAC,GAAG,EAAE,CAAC,EAAEsb,CAAC,CAACyW,CAAC,CAAC+D,aAAa,CAAC91B,EAAE,CAAC,CAACyH,IAAI,CAACsqB,CAAC,CAAC/xB,EAAE,CAAC,IAAIgb,CAAC,CAACvT,IAAI,CAACsqB,CAAC,CAAC/xB,EAAE,CAAC,IAAI+xB,CAAC,CAACloB,SAAS,GAAG,CAAC,EAAEkoB,CAAC,CAACjN,QAAQ,GAAG,EAAE,EAAE5J,CAAC,CAACzT,IAAI,CAACsqB,CAAC,CAAC/xB,EAAE,CAAC,EAAEid,CAAC,EAAE,CAAC;IAC1iB;IACA3a,CAAC,CAACwiB,QAAQ,GAAG,EAAE;IACf,IAAI8M,CAAC,GAAG,EAAE;IACV,KAAKlxB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGwa,CAAC,CAACtb,MAAM,EAAEc,CAAC,EAAE,EAAE;MAC3B4a,CAAC,CAAC,CAACyW,CAAC,GAAG1yB,CAAC,CAAC6b,CAAC,CAACxa,CAAC,CAAC,CAAC,EAAEV,EAAE,CAAC,GAAGsC,CAAC,CAACwiB,QAAQ,CAACrd,IAAI,CAACsqB,CAAC,CAAC,GAAGzvB,CAAC,CAACwiB,QAAQ,CAAC7Y,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE8lB,CAAC,CAAC;MACrE,KAAK,IAAIF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGE,CAAC,CAACxqB,WAAW,CAAC3H,MAAM,EAAEiyB,CAAC,EAAE,EAAED,CAAC,CAACnqB,IAAI,CAACsqB,CAAC,CAACxqB,WAAW,CAACsqB,CAAC,CAAC,CAAC;IAC3E;IACA,IAAIC,CAAC,GAAG,EAAE;IACV,KAAKpxB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG2a,CAAC,CAACzb,MAAM,EAAEc,CAAC,EAAE,EAAE;MAC3B4a,CAAC,CAAC,CAACyW,CAAC,GAAG1yB,CAAC,CAACgc,CAAC,CAAC3a,CAAC,CAAC,CAAC,EAAEV,EAAE,CAAC,GAAGsC,CAAC,CAACwiB,QAAQ,CAACrd,IAAI,CAACsqB,CAAC,CAAC,GAAGzvB,CAAC,CAACwiB,QAAQ,CAAC7Y,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE8lB,CAAC,CAAC;MACrE,KAAKF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGE,CAAC,CAACxqB,WAAW,CAAC3H,MAAM,EAAEiyB,CAAC,EAAE,EAAEC,CAAC,CAACrqB,IAAI,CAACsqB,CAAC,CAACxqB,WAAW,CAACsqB,CAAC,CAAC,CAAC;IACvE;IACA,KAAKnxB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGoxB,CAAC,CAAClyB,MAAM,EAAEc,CAAC,EAAE,EAAE;MAC3B,CAACqxB,CAAC,GAAG1yB,CAAC,CAACyyB,CAAC,CAACpxB,CAAC,CAAC,CAAC,EAAE8G,SAAS,KAAKuqB,CAAC,CAAC+D,aAAa,GAAG/D,CAAC,CAAC3qB,MAAM,EAAE2qB,CAAC,CAAC3qB,MAAM,GAAG9E,CAAC,EAAEyvB,CAAC,CAAC6E,gBAAgB,GAAG,CAAC,CAAC,EAAEt0B,CAAC,CAACwiB,QAAQ,CAACrd,IAAI,CAACsqB,CAAC,CAAC,CAAC;IACtH;IACA,KAAKrxB,CAAC,GAAG2a,CAAC,CAACzb,MAAM,GAAG,CAAC,EAAEc,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE,IAAI4a,CAAC,CAACD,CAAC,CAAC3a,CAAC,CAAC,CAAC,EAAE,KAAKgB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG4Z,CAAC,CAACD,CAAC,CAAC3a,CAAC,CAAC,CAAC,CAACd,MAAM,EAAE8B,CAAC,EAAE,EAAEY,CAAC,CAACwiB,QAAQ,CAACrd,IAAI,CAACpI,CAAC,CAACic,CAAC,CAACD,CAAC,CAAC3a,CAAC,CAAC,CAAC,CAACgB,CAAC,CAAC,CAAC,CAAC,EAAEwb,CAAC,EAAE,EAAE,CAAC,CAAC,IAAIyU,CAAC,CAAC/nB,OAAO,CAACyR,CAAC,CAAC3a,CAAC,CAAC,CAAC,IAAIixB,CAAC,CAAClqB,IAAI,CAAC4T,CAAC,CAAC3a,CAAC,CAAC,CAAC;IAChK,KAAKA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGsa,CAAC,CAACpb,MAAM,EAAEc,CAAC,EAAE,EAAE;MAC3B,IAAIqxB,CAAC,GAAG1yB,CAAC,CAAC2b,CAAC,CAACta,CAAC,CAAC,CAAC;MACf4B,CAAC,CAACwiB,QAAQ,CAACrd,IAAI,CAACsqB,CAAC,CAAC;IACtB;IACA,KAAKrxB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGwa,CAAC,CAACtb,MAAM,EAAEc,CAAC,EAAE,EAAE,IAAI4a,CAAC,CAACJ,CAAC,CAACxa,CAAC,CAAC,CAAC,EAAE,KAAKgB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG4Z,CAAC,CAACJ,CAAC,CAACxa,CAAC,CAAC,CAAC,CAACd,MAAM,EAAE8B,CAAC,EAAE,EAAEY,CAAC,CAACwiB,QAAQ,CAACrd,IAAI,CAACpI,CAAC,CAACic,CAAC,CAACJ,CAAC,CAACxa,CAAC,CAAC,CAAC,CAACgB,CAAC,CAAC,CAAC,CAAC,EAAEyb,CAAC,EAAE,EAAE,CAAC,CAAC,IAAIuU,CAAC,CAAC9nB,OAAO,CAACsR,CAAC,CAACxa,CAAC,CAAC,CAAC,IAAIgxB,CAAC,CAACjqB,IAAI,CAACyT,CAAC,CAACxa,CAAC,CAAC,CAAC;IAC3J,KAAKA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGkxB,CAAC,CAAChyB,MAAM,EAAEc,CAAC,EAAE,EAAE;MAC3B,CAACqxB,CAAC,GAAG1yB,CAAC,CAACuyB,CAAC,CAAClxB,CAAC,CAAC,CAAC,EAAE8G,SAAS,KAAKuqB,CAAC,CAAC+D,aAAa,GAAG/D,CAAC,CAAC3qB,MAAM,EAAE2qB,CAAC,CAAC3qB,MAAM,GAAG9E,CAAC,EAAEyvB,CAAC,CAAC6E,gBAAgB,GAAG,CAAC,CAAC,EAAEt0B,CAAC,CAACwiB,QAAQ,CAACrd,IAAI,CAACsqB,CAAC,CAAC,CAAC;IACtH;IACAzvB,CAAC,CAACu0B,iBAAiB,GAAG7uB,IAAI,CAAC0oB,GAAG,CAACiB,CAAC,CAAC/xB,MAAM,EAAE8xB,CAAC,CAAC9xB,MAAM,CAAC,GAAGtL,CAAC,CAAC+G,8BAA8B,GAAG/G,CAAC,CAAC8G,oBAAoB,EAAE4f,CAAC,CAACpb,MAAM,IAAI,CAACsd,CAAC,IAAIC,CAAC,GAAGnC,CAAC,CAACpb,MAAM,IAAIsd,CAAC,IAAI,CAACC,CAAC,GAAGnC,CAAC,CAACpb,MAAM,IAAI,CAAC,IAAIsd,CAAC,IAAI,CAAC,IAAIC,CAAC,GAAGnC,CAAC,CAACpb,MAAM,IAAIsd,CAAC,IAAIC,CAAC,GAAG,CAACnC,CAAC,CAACpb,MAAM,IAAIsd,CAAC,IAAIC,CAAC,GAAGnC,CAAC,CAACpb,MAAM,KAAKsd,CAAC,IAAIC,CAAC,CAAC,GAAG7a,CAAC,CAAC+I,WAAW,GAAG,CAAC,GAAG/I,CAAC,CAAC+I,WAAW,GAAG,CAAC,GAAG/I,CAAC,CAAC+I,WAAW,GAAG,CAAC,GAAG/I,CAAC,CAAC+I,WAAW,GAAG,CAAC,GAAG/I,CAAC,CAAC+I,WAAW,GAAG,CAAC,GAAG/I,CAAC,CAAC+I,WAAW,GAAG,CAAC,GAAG/I,CAAC,CAAC+I,WAAW,GAAG,CAAC;EAC1Y;EACA,KAAK1L,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG+D,CAAC,CAAC9D,MAAM,EAAED,CAAC,EAAE,EAAE;IAC3B,IAAIqyB,CAAC,GAAGz9B,CAAC,CAAC,CAAC+N,CAAC,GAAGjD,CAAC,CAACqE,CAAC,CAAC/D,CAAC,CAAC,CAAC,EAAE21B,GAAG,GAAGhzB,CAAC,CAACgzB,GAAG,GAAG,MAAM,CAAC;IAC7C,KAAK50B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG4B,CAAC,CAACqhB,SAAS,EAAEjjB,CAAC,EAAE,EAAE;MAC9B,IAAIuxB,CAAC,GAAG,IAAI79B,UAAU,CAACgM,IAAI,CAACkC,CAAC,CAACtC,EAAE,GAAG,mBAAmB,GAAGU,CAAC,EAAE4B,CAAC,CAACyG,GAAG,EAAE,EAAE,EAAE,UAAU,CAAC;MAClF,IAAI3U,UAAU,CAACmC,OAAO,CAAC8+B,gBAAgB,CAACpD,CAAC,EAAE3vB,CAAC,CAACgzB,GAAG,CAAC,EAAE/yB,CAAC,GAAGD,CAAC,CAAC8E,MAAM,EAAE,CAACqvB,EAAE,GAAGl0B,CAAC,CAACuiB,QAAQ,CAAClb,OAAO,CAACtH,CAAC,CAAC,IAAI,CAAC,CAAC,KAAKC,CAAC,CAACuiB,QAAQ,CAAC7Y,MAAM,CAACwqB,EAAE,EAAE,CAAC,CAAC,EAAEl0B,CAAC,CAACuiB,QAAQ,CAAC7Y,MAAM,CAACwqB,EAAE,EAAE,CAAC,EAAExE,CAAC,CAAC,CAAC,EAAEA,CAAC,CAACnN,QAAQ,CAACrd,IAAI,CAACnF,CAAC,CAAC,EAAE2vB,CAAC,CAAC7qB,MAAM,GAAG7E,CAAC,EAAED,CAAC,CAAC8E,MAAM,GAAG6qB,CAAC,EAAE5yB,CAAC,CAAC4yB,CAAC,CAACjyB,EAAE,CAAC,GAAGiyB,CAAC;IAC9N;EACJ;EACA,KAAK,IAAIC,CAAC,IAAIrX,CAAC,EAAE;IACb,CAACtY,CAAC,GAAGlD,CAAC,CAAC6yB,CAAC,CAAC,EAAE3mB,aAAa,GAAG,CAAC,CAAC;IAC7B0mB,CAAC,GAAG,IAAI79B,UAAU,CAACgM,IAAI,CAACmC,CAAC,CAACvC,EAAE,GAAG,mBAAmB,EAAEuC,CAAC,CAACvC,EAAE,EAAE,CAAC,WAAW,CAAC,EAAE,OAAO,CAAC;IACjF5L,UAAU,CAACmC,OAAO,CAAC8+B,gBAAgB,CAACpD,CAAC,EAAE1vB,CAAC,CAAC+yB,GAAG,EAAE,CAAC,CAAC,CAAC,EAAEj2B,CAAC,CAAC4yB,CAAC,CAACjyB,EAAE,CAAC,GAAGiyB,CAAC;IAC9D,IAAI6E,CAAC,GAAG,EAAE;IACV,KAAKp2B,CAAC,GAAG6B,CAAC,CAACuiB,QAAQ,CAACllB,MAAM,GAAG,CAAC,EAAEc,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;MACzC,CAACqxB,CAAC,GAAGxvB,CAAC,CAACuiB,QAAQ,CAACpkB,CAAC,CAAC,EAAE4K,WAAW,IAAIymB,CAAC,CAAC3qB,MAAM,GAAG,IAAI,EAAE7E,CAAC,CAACuiB,QAAQ,CAAC7Y,MAAM,CAACvL,CAAC,EAAE,CAAC,CAAC,EAAEo2B,CAAC,CAAC7qB,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE8lB,CAAC,CAAC/xB,EAAE,CAAC,IAAI+xB,CAAC,CAACloB,SAAS,KAAKkoB,CAAC,CAAC3qB,MAAM,IAAI0T,CAAC,CAACiX,CAAC,CAAC3qB,MAAM,CAACpH,EAAE,CAAC,IAAIiyB,CAAC,IAAIF,CAAC,CAAC3qB,MAAM,CAACpH,EAAE,IAAIiyB,CAAC,CAACjyB,EAAE,KAAKoC,MAAM,CAAC0sB,cAAc,CAAChU,CAAC,EAAEmX,CAAC,CAACjyB,EAAE,EAAEoC,MAAM,CAAC20B,wBAAwB,CAACjc,CAAC,EAAEiX,CAAC,CAAC3qB,MAAM,CAACpH,EAAE,CAAC,CAAC,EAAE,OAAO8a,CAAC,CAACiX,CAAC,CAAC3qB,MAAM,CAACpH,EAAE,CAAC,CAAC,EAAE+xB,CAAC,CAAC3qB,MAAM,GAAG6qB,CAAC,EAAEA,CAAC,CAACnN,QAAQ,CAACsR,OAAO,CAACrE,CAAC,CAAC,EAAExvB,CAAC,CAACuiB,QAAQ,CAAC7Y,MAAM,CAACvL,CAAC,EAAE,CAAC,CAAC,CAAC;IAC1V;IACA,IAAIo2B,CAAC,CAACl3B,MAAM,GAAG,CAAC,EAAE;MACd,IAAI0Y,CAAC,GAAGjZ,CAAC,CAACy3B,CAAC,CAACA,CAAC,CAACl3B,MAAM,GAAG,CAAC,CAAC,CAAC;QAAEo3B,CAAC,GAAG,IAAI5iC,UAAU,CAACgM,IAAI,CAACkY,CAAC,CAACtY,EAAE,GAAG,SAAS,EAAEuC,CAAC,CAACwG,GAAG,EAAE,EAAE,EAAE,QAAQ,CAAC;MAC1F3U,UAAU,CAACmC,OAAO,CAAC8+B,gBAAgB,CAAC2B,CAAC,EAAE1e,CAAC,CAACgd,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE0B,CAAC,CAAC1rB,WAAW,GAAG,CAAC,CAAC,EAAE0rB,CAAC,CAACtzB,CAAC,GAAG4U,CAAC,CAAC5U,CAAC,EAAEszB,CAAC,CAACp2B,CAAC,GAAG0X,CAAC,CAAC1X,CAAC,EAAEvB,CAAC,CAAC23B,CAAC,CAACh3B,EAAE,CAAC,GAAGg3B,CAAC,EAAEF,CAAC,CAAC7qB,MAAM,CAAC6qB,CAAC,CAACl3B,MAAM,GAAG,CAAC,EAAE,CAAC,EAAEo3B,CAAC,CAACh3B,EAAE,CAAC;IAC7I;IACA,IAAIi3B,CAAC,GAAG,CAAC;IACT,KAAKv2B,CAAC,GAAGo2B,CAAC,CAACl3B,MAAM,GAAG,CAAC,EAAEc,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE,IAAIA,CAAC,GAAG,CAAC,IAAIA,CAAC,IAAIo2B,CAAC,CAACl3B,MAAM,GAAG,CAAC,EAAE;MAChE,IAAIs3B,CAAC,GAAG,IAAI9iC,UAAU,CAACgM,IAAI,CAACmC,CAAC,CAACvC,EAAE,GAAG,kBAAkB,GAAGi3B,CAAC,EAAE10B,CAAC,CAACwG,GAAG,EAAE,EAAE,EAAE,OAAO,CAAC;MAC9E3U,UAAU,CAACmC,OAAO,CAAC8+B,gBAAgB,CAAC6B,CAAC,EAAE30B,CAAC,CAAC+yB,GAAG,EAAE,CAAC,CAAC,CAAC,EAAEj2B,CAAC,CAAC63B,CAAC,CAACl3B,EAAE,CAAC,GAAGk3B,CAAC,EAAEJ,CAAC,CAAC7qB,MAAM,CAACvL,CAAC,EAAE,CAAC,EAAEw2B,CAAC,CAACl3B,EAAE,CAAC,EAAEi3B,CAAC,EAAE;IAC7F,CAAC,MAAMv2B,CAAC,GAAG,CAAC,IAAIo2B,CAAC,CAAC7qB,MAAM,CAACvL,CAAC,EAAE,CAAC,EAAEuxB,CAAC,CAACjyB,EAAE,CAAC;IACpC,KAAKU,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGo2B,CAAC,CAACl3B,MAAM,EAAEc,CAAC,IAAI,CAAC,EAAE;MAC9B,IAAIy2B,CAAC,GAAG,IAAI;MACZA,CAAC,GAAG,CAAC,IAAIz2B,CAAC,GAAG6B,CAAC,GAAGlD,CAAC,CAACy3B,CAAC,CAACp2B,CAAC,GAAG,CAAC,CAAC,CAAC;MAC5B,IAAI02B,CAAC,GAAG/3B,CAAC,CAACy3B,CAAC,CAACp2B,CAAC,CAAC,CAAC;QAAE22B,CAAC,GAAGh4B,CAAC,CAACy3B,CAAC,CAACp2B,CAAC,GAAG,CAAC,CAAC,CAAC;QAAE42B,CAAC,GAAGj4B,CAAC,CAACy3B,CAAC,CAACp2B,CAAC,GAAG,CAAC,CAAC,CAAC;MACjD02B,CAAC,CAAChwB,MAAM,GAAG+vB,CAAC,EAAEE,CAAC,CAACjwB,MAAM,GAAG+vB,CAAC,EAAEG,CAAC,CAAClwB,MAAM,GAAG+vB,CAAC,EAAEA,CAAC,CAACrS,QAAQ,CAACrd,IAAI,CAAC2vB,CAAC,CAAC,EAAED,CAAC,CAACrS,QAAQ,CAACrd,IAAI,CAAC4vB,CAAC,CAAC,EAAEF,CAAC,CAACrS,QAAQ,CAACrd,IAAI,CAAC6vB,CAAC,CAAC;IACxG;EACJ;EACA,IAAIC,CAAC,GAAG,CAAC,CAAC;EACV,KAAK,IAAIC,CAAC,IAAIjjC,CAAC,EAAE;IACb,IAAI,CAACy9B,CAAC,GAAGz9B,CAAC,CAACijC,CAAC,CAAC,EAAEjiC,MAAM,GAAG,CAAC,EAAE;MACvBgiC,CAAC,GAAG,CAAC,CAAC;MACN;IACJ;EACJ;EACA,IAAIE,EAAE,GAAGrjC,UAAU,CAAC2E,MAAM,CAAC+U,GAAG,CAAC,aAAa,EAAEzZ,CAAC,CAAC0B,SAAS,CAAC;EAC1D,IAAIwhC,CAAC,IAAIE,EAAE,EAAE;IACT,IAAIC,EAAE,GAAG;MAAC9+B,KAAK,EAAEyG,CAAC;MAAEzK,MAAM,EAAEN,CAAC;MAAEwD,MAAM,EAAElC,CAAC;MAAE8+B,YAAY,EAAE7+B;IAAC,CAAC;IAC1D,IAAI6N,CAAC,CAAC9D,MAAM,EAAE;MACV,IAAI0nB,EAAE,GAAG,CAAC,CAAC;MACX,KAAK,IAAI4K,CAAC,IAAIpX,CAAC,EAAE;QACb,IAAI6b,EAAE,GAAG7b,CAAC,CAACoX,CAAC,CAAC;QACb,KAAKvyB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGg3B,EAAE,CAAC/2B,MAAM,EAAED,CAAC,EAAE,EAAE;UAC5B,IAAI,CAAC2C,CAAC,GAAGjD,CAAC,CAACs3B,EAAE,CAACh3B,CAAC,CAAC,CAAC,EAAEgkB,SAAS,EAAE;YAC1B2D,EAAE,GAAG,CAAC,CAAC;YACP;UACJ;QACJ;QACA,IAAIA,EAAE,EAAE;MACZ;MACA,IAAIA,EAAE,EAAE;QACJ,IAAIqQ,EAAE,GAAG,CAAC,CAAC;UAAEC,EAAE,GAAG,CAAC,CAAC;UAAEC,EAAE,GAAG,CAAC,CAAC;QAC7B,KAAK,IAAI3F,CAAC,IAAIpX,CAAC,EAAE;UACb6b,EAAE,GAAG7b,CAAC,CAACoX,CAAC,CAAC;UACT,IAAI4F,EAAE,GAAG,CAAC,CAAC;YAAEC,EAAE,GAAG,IAAI;UACtB,KAAKp4B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGg3B,EAAE,CAAC/2B,MAAM,EAAED,CAAC,EAAE,EAAE;YAC5B,IAAIq4B,EAAE,GAAGrB,EAAE,CAACh3B,CAAC,CAAC;YACd,CAAC,IAAI,KAAKo4B,EAAE,IAAIr0B,CAAC,CAACoK,GAAG,CAACkqB,EAAE,CAAC,MAAMD,EAAE,GAAG14B,CAAC,CAAC24B,EAAE,CAAC,CAAC5wB,MAAM,CAACpH,EAAE,EAAE83B,EAAE,IAAI1jC,UAAU,CAACgS,KAAK,CAAC/G,CAAC,CAAC24B,EAAE,CAAC,CAACrU,SAAS,CAAC,KAAKmU,EAAE,GAAGz4B,CAAC,CAAC24B,EAAE,CAAC,CAACrU,SAAS,GAAG,CAAC,CAAC,CAAC,EAAEgU,EAAE,CAACI,EAAE,CAAC,KAAKJ,EAAE,CAACI,EAAE,CAAC,GAAG,EAAE,CAAC,EAAEJ,EAAE,CAACI,EAAE,CAAC,CAACtwB,IAAI,CAACuwB,EAAE,CAAC,EAAEF,EAAE,KAAKD,EAAE,CAACE,EAAE,CAAC,GAAG7F,CAAC,EAAE0F,EAAE,CAACG,EAAE,CAAC,KAAKH,EAAE,CAACG,EAAE,CAAC,GAAG,EAAE,CAAC,EAAEH,EAAE,CAACG,EAAE,CAAC,CAACtwB,IAAI,CAACuwB,EAAE,CAAC,CAAC;UACvO;QACJ;QACA,KAAK,IAAI9F,CAAC,IAAIpX,CAAC,GAAG,CAAC,CAAC,EAAE8c,EAAE,EAAE,IAAIA,EAAE,CAAC1F,CAAC,CAAC,CAACtyB,MAAM,GAAGxL,UAAU,CAACijB,+CAA+C,EAAE;UACrG,IAAI4gB,EAAE,GAAGJ,EAAE,CAAC3F,CAAC,CAAC;UACd,KAAKvyB,CAAC,GAAGN,CAAC,CAAC44B,EAAE,CAAC,CAACnT,QAAQ,CAACllB,MAAM,GAAG,CAAC,EAAED,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;YAC7CoyB,CAAC,GAAG1yB,CAAC,CAAC44B,EAAE,CAAC,CAACnT,QAAQ,CAACnlB,CAAC,CAAC;YACrBi4B,EAAE,CAAC1F,CAAC,CAAC,CAACpkB,GAAG,CAACikB,CAAC,CAAC/xB,EAAE,CAAC,IAAIX,CAAC,CAAC44B,EAAE,CAAC,CAACnT,QAAQ,CAAC7Y,MAAM,CAACtM,CAAC,EAAE,CAAC,CAAC;UAClD;QACJ;QACA,KAAK,IAAIuyB,CAAC,IAAIyF,EAAE,EAAEA,EAAE,CAACzF,CAAC,CAAC,CAACtyB,MAAM,GAAGxL,UAAU,CAACijB,+CAA+C,KAAKyD,CAAC,CAACoX,CAAC,CAAC,GAAGyF,EAAE,CAACzF,CAAC,CAAC,CAAC;MACjH;IACJ;IACA,KAAK,IAAIA,CAAC,IAAIpX,CAAC,EAAE;MACb,KAAK,IAAIod,EAAE,GAAG31B,CAAC,GAAGlD,CAAC,CAAC6yB,CAAC,CAAC,EAAEgG,EAAE,CAAC3C,OAAO,GAAG2C,EAAE,GAAG74B,CAAC,CAAC64B,EAAE,CAACnvB,GAAG,CAAC;MACnD,OAAOmvB,EAAE,CAACzC,UAAU,GAAGyC,EAAE,GAAG74B,CAAC,CAAC64B,EAAE,CAACnvB,GAAG,CAAC;MACrC,IAAI,CAACipB,CAAC,GAAGz9B,CAAC,CAACgO,CAAC,CAAC+yB,GAAG,GAAG/yB,CAAC,CAAC+yB,GAAG,GAAG,MAAM,CAAC,EAAE//B,MAAM,GAAG,CAAC,IAAIkiC,EAAE,EAAE;QAClDC,EAAE,CAACS,KAAK,GAAG51B,CAAC,EAAEm1B,EAAE,CAACniC,MAAM,GAAGy8B,CAAC,CAACz8B,MAAM,EAAEmiC,EAAE,CAACnwB,WAAW,GAAGuT,CAAC,CAACoX,CAAC,CAAC,EAAEwF,EAAE,CAACU,kBAAkB,GAAGtd,CAAC,EAAE4c,EAAE,CAAC/T,SAAS,GAAG,CAAC,EAAE+T,EAAE,CAAC7X,OAAO,GAAG,EAAE,EAAEzrB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,aAAa,EAAE,CAAC3E,CAAC,EAAEqjC,EAAE,CAAC,CAAC,EAAEtjC,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,QAAQ,EAAE,CAAC0+B,EAAE,CAAC,CAAC,EAAEA,EAAE,CAAC7X,OAAO,CAACjgB,MAAM,IAAI83B,EAAE,CAAC7X,OAAO,CAACpY,IAAI,CAAC;UACxPlS,MAAM,EAAEmiC,EAAE,CAACniC,MAAM;UACjBgS,WAAW,EAAEmwB,EAAE,CAACnwB,WAAW;UAC3Boc,SAAS,EAAE+T,EAAE,CAAC/T;QAClB,CAAC,CAAC;QACF,KAAK,IAAI0U,EAAE,GAAG,CAAC,EAAEA,EAAE,GAAGX,EAAE,CAAC7X,OAAO,CAACjgB,MAAM,EAAEy4B,EAAE,EAAE,EAAE;UAC3C,IAAIC,EAAE,GAAGZ,EAAE,CAAC7X,OAAO,CAACwY,EAAE,CAAC;UACvB,KAAKjkC,UAAU,CAACgS,KAAK,CAACkyB,EAAE,CAAC3U,SAAS,CAAC,KAAK2U,EAAE,CAAC3U,SAAS,GAAG,CAAC,CAAC,EAAEvvB,UAAU,CAACgS,KAAK,CAACkyB,EAAE,CAAC/iC,MAAM,CAAC,KAAK+iC,EAAE,CAAC/iC,MAAM,GAAGy8B,CAAC,CAACz8B,MAAM,CAAC,EAAE2iC,EAAE,GAAG31B,CAAC,GAAGlD,CAAC,CAAC6yB,CAAC,CAAC,EAAEgG,EAAE,CAAC3C,OAAO,GAAG2C,EAAE,GAAG74B,CAAC,CAAC64B,EAAE,CAACnvB,GAAG,CAAC;UAC5J,OAAOmvB,EAAE,CAACzC,UAAU,GAAGyC,EAAE,GAAG74B,CAAC,CAAC64B,EAAE,CAACnvB,GAAG,CAAC;UACrC,IAAIwvB,EAAE,GAAGh2B,CAAC;UACV,KAAK7B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG43B,EAAE,CAAC3U,SAAS,EAAEjjB,CAAC,EAAE,EAAE;YAC/BuxB,CAAC,GAAG,IAAI79B,UAAU,CAACgM,IAAI,CAACi4B,EAAE,GAAG,mBAAmB,GAAG33B,CAAC,EAAE63B,EAAE,CAACv4B,EAAE,EAAE,EAAE,EAAE,UAAU,CAAC;YAC5E5L,UAAU,CAACmC,OAAO,CAAC8+B,gBAAgB,CAACpD,CAAC,EAAEsG,EAAE,CAACjD,GAAG,CAAC,EAAErD,CAAC,CAAC7qB,MAAM,GAAGmxB,EAAE,EAAEA,EAAE,CAACzT,QAAQ,CAACrd,IAAI,CAACwqB,CAAC,CAAC,EAAE5yB,CAAC,CAAC4yB,CAAC,CAACjyB,EAAE,CAAC,GAAGiyB,CAAC,EAAEsG,EAAE,GAAGtG,CAAC;UAC3G;UACA,IAAIqG,EAAE,CAAC3U,SAAS,EAAE;YACd,KAAKjjB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG43B,EAAE,CAAC/wB,WAAW,CAAC3H,MAAM,EAAEc,CAAC,EAAE,EAAE;cACxC,IAAI+1B,EAAE;cACN1E,CAAC,GAAG1yB,CAAC,CAACi5B,EAAE,CAAC/wB,WAAW,CAAC7G,CAAC,CAAC,CAAC;cACxB,CAAC,CAAC,KAAK+1B,EAAE,GAAGl0B,CAAC,CAACuiB,QAAQ,CAAClb,OAAO,CAACmoB,CAAC,CAAC,CAAC,IAAIxvB,CAAC,CAACuiB,QAAQ,CAAC7Y,MAAM,CAACwqB,EAAE,EAAE,CAAC,CAAC,EAAE1E,CAAC,CAAC3qB,MAAM,GAAGmxB,EAAE,EAAEA,EAAE,CAACzT,QAAQ,CAACrd,IAAI,CAACsqB,CAAC,CAAC;YACtG;YACAxvB,CAAC,GAAGg2B,EAAE;UACV;UACA,IAAID,EAAE,CAAC/iC,MAAM,IAAInB,UAAU,CAACmB,MAAM,CAACkf,KAAK,EAAE;YACtC,IAAI+jB,EAAE,GAAGF,EAAE,CAAC/wB,WAAW;YACvB,KAAK5H,CAAC,GAAG64B,EAAE,CAAC54B,MAAM,GAAG,CAAC,EAAED,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;cACjC4C,CAAC,GAAG,CAACwvB,CAAC,GAAG1yB,CAAC,CAACm5B,EAAE,CAAC74B,CAAC,CAAC,CAAC,EAAEyH,MAAM,EAAE2qB,CAAC,CAACx8B,MAAM,GAAGnB,UAAU,CAACmB,MAAM,CAACkf,KAAK;cAC7D,KAAK/T,CAAC,GAAG6B,CAAC,CAACuiB,QAAQ,CAACllB,MAAM,GAAG,CAAC,EAAEc,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE,IAAIqxB,CAAC,CAAC/xB,EAAE,IAAIuC,CAAC,CAACuiB,QAAQ,CAACpkB,CAAC,CAAC,CAACV,EAAE,EAAE;gBACvEuC,CAAC,CAACuiB,QAAQ,CAAC7Y,MAAM,CAACvL,CAAC,EAAE,CAAC,CAAC;gBACvB;cACJ;cACA,IAAIf,CAAC,GAAG,CAAC,EAAE;gBACP,IAAI84B,EAAE,GAAGp5B,CAAC,CAACm5B,EAAE,CAAC74B,CAAC,GAAG,CAAC,CAAC,CAAC;gBACrBoyB,CAAC,CAAC3qB,MAAM,GAAGqxB,EAAE,EAAE1G,CAAC,CAACx8B,MAAM,GAAGnB,UAAU,CAACmB,MAAM,CAACkf,KAAK,EAAEgkB,EAAE,CAAC3T,QAAQ,CAACrd,IAAI,CAACsqB,CAAC,CAAC;cAC1E,CAAC,MAAMxvB,CAAC,CAACuiB,QAAQ,CAACrd,IAAI,CAACsqB,CAAC,CAAC;YAC7B;UACJ,CAAC,MAAM,IAAIuG,EAAE,CAAC/iC,MAAM,GAAG,CAAC,EAAE;YACtB08B,CAAC,GAAG,IAAI79B,UAAU,CAACgM,IAAI,CAACi4B,EAAE,GAAG,GAAG,GAAG91B,CAAC,CAACvC,EAAE,GAAG,UAAU,EAAEk4B,EAAE,CAACl4B,EAAE,EAAE,EAAE,EAAE,OAAO,CAAC;YACzE5L,UAAU,CAACmC,OAAO,CAAC8+B,gBAAgB,CAACpD,CAAC,EAAE1vB,CAAC,CAAC+yB,GAAG,CAAC,EAAEj2B,CAAC,CAAC4yB,CAAC,CAACjyB,EAAE,CAAC,GAAGiyB,CAAC,EAAEA,CAAC,CAAC18B,MAAM,GAAG+iC,EAAE,CAAC/iC,MAAM;YAChF,IAAImjC,EAAE,GAAG,EAAE;YACX,KAAK/4B,CAAC,GAAG24B,EAAE,CAAC/wB,WAAW,CAAC3H,MAAM,GAAG,CAAC,EAAED,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;cAC7C,KAAKoyB,CAAC,GAAG1yB,CAAC,CAACi5B,EAAE,CAAC/wB,WAAW,CAAC5H,CAAC,CAAC,CAAC,EAAEe,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG6B,CAAC,CAACuiB,QAAQ,CAACllB,MAAM,EAAEc,CAAC,EAAE,EAAE6B,CAAC,CAACuiB,QAAQ,CAACpkB,CAAC,CAAC,CAACV,EAAE,IAAI+xB,CAAC,CAAC/xB,EAAE,IAAIuC,CAAC,CAACuiB,QAAQ,CAAC7Y,MAAM,CAACvL,CAAC,EAAE,CAAC,CAAC;cACrH,IAAIqxB,CAAC,CAAC3qB,MAAM,GAAG,IAAI,EAAE2qB,CAAC,CAACx8B,MAAM,GAAG+iC,EAAE,CAAC/iC,MAAM,EAAE+iC,EAAE,CAAC/iC,MAAM,IAAInB,UAAU,CAACmB,MAAM,CAACof,eAAe,IAAI2jB,EAAE,CAAC/iC,MAAM,IAAInB,UAAU,CAACmB,MAAM,CAACsf,SAAS,IAAI6jB,EAAE,CAACzsB,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE8lB,CAAC,CAAC/xB,EAAE,CAAC,EAAEs4B,EAAE,CAAC/iC,MAAM,GAAG,CAAC,EAAE;gBAC3K,IAAIojC,EAAE,GAAG,IAAIvkC,UAAU,CAACgM,IAAI,CAACi4B,EAAE,GAAG,GAAG,GAAGtG,CAAC,CAAC/xB,EAAE,GAAG,SAAS,EAAEk4B,EAAE,CAACl4B,EAAE,EAAE,EAAE,EAAE,QAAQ,CAAC;gBAC9E5L,UAAU,CAACmC,OAAO,CAAC8+B,gBAAgB,CAACsD,EAAE,EAAE5G,CAAC,CAACuD,GAAG,CAAC,EAAEqD,EAAE,CAACpjC,MAAM,GAAG+iC,EAAE,CAAC/iC,MAAM,EAAE8J,CAAC,CAACs5B,EAAE,CAAC34B,EAAE,CAAC,GAAG24B,EAAE,EAAED,EAAE,CAACzsB,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE0sB,EAAE,CAAC34B,EAAE,CAAC;cAChH;cACAs4B,EAAE,CAAC/iC,MAAM,IAAInB,UAAU,CAACmB,MAAM,CAACof,eAAe,IAAI2jB,EAAE,CAAC/iC,MAAM,IAAInB,UAAU,CAACmB,MAAM,CAACsf,SAAS,IAAI6jB,EAAE,CAACzsB,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE8lB,CAAC,CAAC/xB,EAAE,CAAC;YACvH;YACA,KAAKi3B,CAAC,GAAG,CAAC,EAAEv2B,CAAC,GAAGg4B,EAAE,CAAC94B,MAAM,GAAG,CAAC,EAAEc,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE,IAAIA,CAAC,GAAG,CAAC,IAAIA,CAAC,IAAIg4B,EAAE,CAAC94B,MAAM,GAAG,CAAC,EAAE;cACzEs3B,CAAC,GAAG,IAAI9iC,UAAU,CAACgM,IAAI,CAACi4B,EAAE,GAAG,GAAG,GAAG91B,CAAC,CAACvC,EAAE,GAAG,SAAS,GAAGi3B,CAAC,EAAEiB,EAAE,CAACl4B,EAAE,EAAE,EAAE,EAAE,OAAO,CAAC;cAC5E5L,UAAU,CAACmC,OAAO,CAAC8+B,gBAAgB,CAAC6B,CAAC,EAAE30B,CAAC,CAAC+yB,GAAG,CAAC,EAAE4B,CAAC,CAAC3hC,MAAM,GAAG+iC,EAAE,CAAC/iC,MAAM,EAAE8J,CAAC,CAAC63B,CAAC,CAACl3B,EAAE,CAAC,GAAGk3B,CAAC,EAAEwB,EAAE,CAACzsB,MAAM,CAACvL,CAAC,EAAE,CAAC,EAAEw2B,CAAC,CAACl3B,EAAE,CAAC,EAAEi3B,CAAC,EAAE;YAChH,CAAC,MAAMv2B,CAAC,GAAG,CAAC,IAAIg4B,EAAE,CAACzsB,MAAM,CAACvL,CAAC,EAAE,CAAC,EAAEuxB,CAAC,CAACjyB,EAAE,CAAC;YACrC,KAAKU,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGg4B,EAAE,CAAC94B,MAAM,EAAEc,CAAC,IAAI,CAAC,EAAE;cAC/By2B,CAAC,GAAG,IAAI;cACR,CAAC,IAAIz2B,CAAC,KAAKy2B,CAAC,GAAG50B,CAAC,CAAC;cACjB60B,CAAC,GAAG/3B,CAAC,CAACq5B,EAAE,CAACh4B,CAAC,CAAC,CAAC,EAAE22B,CAAC,GAAGh4B,CAAC,CAACq5B,EAAE,CAACh4B,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE42B,CAAC,GAAGj4B,CAAC,CAACq5B,EAAE,CAACh4B,CAAC,GAAG,CAAC,CAAC,CAAC;cAChD,CAAC,IAAIA,CAAC,KAAKy2B,CAAC,GAAG93B,CAAC,CAACq5B,EAAE,CAACh4B,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,IAAIA,CAAC,IAAI22B,CAAC,KAAKF,CAAC,GAAG93B,CAAC,CAACq5B,EAAE,CAACh4B,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE02B,CAAC,CAAChwB,MAAM,GAAG+vB,CAAC,EAAEA,CAAC,CAACrS,QAAQ,CAACrd,IAAI,CAAC2vB,CAAC,CAAC,EAAEC,CAAC,KAAK,CAAC,IAAI32B,CAAC,KAAKy2B,CAAC,GAAG93B,CAAC,CAACq5B,EAAE,CAACh4B,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE22B,CAAC,CAACjwB,MAAM,GAAG+vB,CAAC,EAAEA,CAAC,CAACrS,QAAQ,CAACrd,IAAI,CAAC4vB,CAAC,CAAC,CAAC,EAAEC,CAAC,KAAK,CAAC,IAAI52B,CAAC,KAAKy2B,CAAC,GAAG93B,CAAC,CAACq5B,EAAE,CAACh4B,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE42B,CAAC,CAAClwB,MAAM,GAAG+vB,CAAC,EAAEA,CAAC,CAACrS,QAAQ,CAACrd,IAAI,CAAC6vB,CAAC,CAAC,CAAC;YACnP;UACJ;QACJ;MACJ;IACJ;EACJ;EACA,IAAIljC,UAAU,CAAC6jB,2BAA2B,EAAE,KAAKtY,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,CAAC,CAACK,MAAM,EAAED,CAAC,EAAE,EAAEvL,UAAU,CAACmC,OAAO,CAACqiC,yBAAyB,CAACr5B,CAAC,CAACI,CAAC,CAAC,EAAEN,CAAC,CAAC;EAChIq4B,EAAE,GAAG;IAAC9+B,KAAK,EAAEyG,CAAC;IAAE7C,KAAK,EAAE+C;EAAC,CAAC;EACzB,OAAOnL,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,mBAAmB,EAAE,CAAC3E,CAAC,EAAEqjC,EAAE,CAAC,CAAC,EAAE;IAAC9+B,KAAK,EAAE8+B,EAAE,CAAC9+B,KAAK;IAAE4D,KAAK,EAAEk7B,EAAE,CAACl7B,KAAK;IAAE6N,QAAQ,EAAE7K;EAAC,CAAC;AACnH,CAAC,EAACpL,UAAU,CAACmC,OAAO,CAAC+/B,mBAAmB,GAAG,UAAUjiC,CAAC,EAAEC,CAAC,EAAE;EACvD,IAAIC,CAAC,GAAGD,CAAC;EACT,OAAOA,CAAC,CAACukC,KAAK,KAAKtkC,CAAC,GAAGD,CAAC,CAACukC,KAAK,CAAC,EAAExkC,CAAC,CAACE,CAAC,CAAC;AACzC,CAAC,EAACH,UAAU,CAACmC,OAAO,CAACgS,aAAa,GAAG,UAAUlU,CAAC,EAAEC,CAAC,EAAE;EACjD,QAAQA,CAAC,CAACW,WAAW;IACjB,KAAKb,UAAU,CAACa,WAAW,CAACqG,GAAG;IAC/B,KAAKlH,UAAU,CAACa,WAAW,CAAC0T,QAAQ;IACpC,KAAKvU,UAAU,CAACa,WAAW,CAAC4T,MAAM;IAClC,KAAKzU,UAAU,CAACa,WAAW,CAACyT,WAAW;MACnC,OAAOrU,CAAC,CAACqP,CAAC;IACd,KAAKtP,UAAU,CAACa,WAAW,CAACuT,KAAK;IACjC,KAAKpU,UAAU,CAACa,WAAW,CAACwT,SAAS;IACrC,KAAKrU,UAAU,CAACa,WAAW,CAAC2O,IAAI;IAChC,KAAKxP,UAAU,CAACa,WAAW,CAAC2T,QAAQ;MAChC,OAAOvU,CAAC,CAACuM,CAAC;EAClB;EACA,OAAO,CAAC;AACZ,CAAC,EAACxM,UAAU,CAACmC,OAAO,CAACuiC,UAAU,GAAG,UAAUzkC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;EACpD,IAAI,IAAI,IAAIvB,CAAC,CAAC4P,CAAC,IAAI,IAAI,IAAI5P,CAAC,CAACsN,CAAC,EAAE;IAC5B,IAAIrN,CAAC,CAACgF,WAAW,IAAI1D,CAAC,KAAKxB,UAAU,CAAC0D,MAAM,CAACiH,SAAS,EAAE;MACpD,SAASlJ,CAACA,CAACxB,CAAC,EAAEC,CAAC,EAAE;QACb,IAAIC,CAAC,GAAGF,CAAC,CAAC4P,CAAC;UAAErO,CAAC,GAAGvB,CAAC,CAACsN,CAAC;UAAE9L,CAAC,GAAGxB,CAAC,CAACqP,CAAC;UAAE/E,CAAC,GAAGtK,CAAC,CAACuM,CAAC;UAAExB,CAAC,GAAG9K,CAAC,CAAC,CAAC,CAAC,GAAGF,UAAU,CAACujB,mBAAmB;UAC7EtY,CAAC,GAAG/K,CAAC,CAAC,CAAC,CAAC,GAAGF,UAAU,CAACujB,mBAAmB,GAAGrjB,CAAC,CAAC,CAAC,CAAC;UAAEiL,CAAC,GAAGjL,CAAC,CAAC,CAAC,CAAC,GAAGF,UAAU,CAACujB,mBAAmB;UAC3FnY,CAAC,GAAGlL,CAAC,CAAC,CAAC,CAAC,GAAGF,UAAU,CAACujB,mBAAmB,GAAGrjB,CAAC,CAAC,CAAC,CAAC;UAAEqL,CAAC,GAAGpL,CAAC,GAAGsB,CAAC,GAAGuJ,CAAC,IAAIC,CAAC,GAAG9K,CAAC;QAC5E,OAAOoL,CAAC,KAAKA,CAAC,GAAG/J,CAAC,GAAG+I,CAAC,GAAGY,CAAC,IAAIC,CAAC,GAAG5J,CAAC,CAAC,EAAE+J,CAAC;MAC3C;MAEA,IAAI9J,CAAC,CAACxB,CAAC,EAAEE,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;MACtB,KAAK,IAAIoK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGtK,CAAC,CAACywB,QAAQ,CAACllB,MAAM,EAAEjB,CAAC,EAAE,EAAE,IAAI9I,CAAC,CAACxB,CAAC,CAACywB,QAAQ,CAACnmB,CAAC,CAAC,EAAEpK,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;MAC9E,OAAO,CAAC,CAAC;IACb;IACA,OAAO,CAAC,CAAC;EACb;AACJ,CAAC,EAACH,UAAU,CAACmC,OAAO,CAACwiC,YAAY,GAAG,UAAU1kC,CAAC,EAAE;EAC7C,IAAIC,CAAC,GAAG,CAACF,UAAU,CAACqf,IAAI,CAAC;EACzB,KAAK,IAAIlf,CAAC,IAAIF,CAAC,CAACoG,WAAW,EAAEnG,CAAC,CAACmT,IAAI,CAACpT,CAAC,CAACoG,WAAW,CAAClG,CAAC,CAAC,CAAC;EACrD,KAAKA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,CAAC,CAACuE,KAAK,CAACgH,MAAM,EAAErL,CAAC,EAAE,EAAE,KAAK,IAAIqB,CAAC,IAAIvB,CAAC,CAACuE,KAAK,CAACrE,CAAC,CAAC,EAAEqB,CAAC,KAAKxB,UAAU,CAACkf,EAAE,IAAI1d,CAAC,KAAKxB,UAAU,CAACqf,IAAI,IAAI7d,CAAC,KAAKxB,UAAU,CAACsf,KAAK,IAAI9d,CAAC,KAAKxB,UAAU,CAACmf,GAAG,IAAI3d,CAAC,KAAKxB,UAAU,CAACof,KAAK,IAAI,OAAO,KAAK5d,CAAC,IAAI,OAAO,KAAKA,CAAC,KAAKvB,CAAC,CAACoG,WAAW,CAAC7E,CAAC,CAAC,IAAItB,CAAC,CAACwZ,GAAG,CAAClY,CAAC,CAAC,IAAItB,CAAC,CAACmT,IAAI,CAAC7R,CAAC,CAAC,CAAC;EACxQ,OAAOtB,CAAC;AACZ,CAAC,EAACF,UAAU,CAACmC,OAAO,CAACyiC,iBAAiB,GAAG,UAAU3kC,CAAC,EAAE;EAClD,IAAIA,CAAC,EAAE;IACH,IAAIC,CAAC,GAAGD,CAAC;IACT,OAAO,SAASA,CAACA,CAACE,CAAC,EAAE;MACjBA,CAAC,CAAC8d,EAAE,GAAG/d,CAAC,CAAC+d,EAAE,KAAK/d,CAAC,GAAGC,CAAC,CAAC;MACtB,KAAK,IAAIqB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGrB,CAAC,CAACuwB,QAAQ,CAACllB,MAAM,EAAEhK,CAAC,EAAE,EAAEvB,CAAC,CAACE,CAAC,CAACuwB,QAAQ,CAAClvB,CAAC,CAAC,CAAC;IAChE,CAAC,CAACvB,CAAC,CAAC,EAAEC,CAAC;EACX;AACJ,CAAC,EAACF,UAAU,CAACmC,OAAO,CAACs+B,YAAY,GAAG,UAAUxgC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAES,CAAC,EAAEC,CAAC,EAAEE,CAAC,EAAEC,CAAC,EAAEG,CAAC,EAAEE,CAAC,EAAEC,CAAC,EAAEc,CAAC,EAAEE,CAAC,EAAE;EACvF,IAAIY,CAAC,GAAGlC,CAAC,CAAC,CAAC,CAAC;IAAEmC,CAAC,GAAG,EAAE;IAChBW,CAAC,GAAG;MAAChH,GAAG,EAAE,IAAI;MAAEsI,IAAI,EAAE,IAAI;MAAEiF,MAAM,EAAE,IAAI;MAAEL,KAAK,EAAE,IAAI;MAAE/F,IAAI,EAAE,IAAI;MAAED,IAAI,EAAE,IAAI;MAAEI,IAAI,EAAE,IAAI;MAAED,IAAI,EAAE;IAAI,CAAC;IACtGJ,CAAC,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;IAAEG,CAAC,GAAG7M,CAAC,GAAGuJ,CAAC,GAAG,CAAC,GAAGxJ,CAAC,CAAC+B,OAAO;IAAE+I,CAAC,GAAG/B,CAAC,GAAGU,CAAC,GAAG,CAAC,GAAGzJ,CAAC,CAAC+B,OAAO;IACtEwX,CAAC,GAAG/a,UAAU,CAACoD,QAAQ,CAAC+H,CAAC,EAAElL,CAAC,EAAEC,CAAC,EAAEsB,CAAC,CAAC4F,YAAY,EAAE5F,CAAC,CAAC+F,QAAQ,EAAE/F,CAAC,CAAC8F,QAAQ,EAAEgH,CAAC,EAAEhC,CAAC,CAAC;EAClF,IAAI4B,CAAC,CAAChH,GAAG,GAAG+D,CAAC,GAAGzJ,CAAC,CAAC+B,OAAO,EAAE2K,CAAC,CAACsB,IAAI,GAAGxE,CAAC,GAAGxJ,CAAC,CAAC+B,OAAO,EAAE2K,CAAC,CAACuG,MAAM,GAAGlK,CAAC,GAAG/I,CAAC,CAAC+B,OAAO,GAAGrD,CAAC,GAAG6a,CAAC,EAAE7M,CAAC,CAACkG,KAAK,GAAG3S,CAAC,GAAGD,CAAC,CAAC+B,OAAO,GAAGtD,CAAC,GAAG8a,CAAC,EAAE7M,CAAC,CAACE,IAAI,GAAG3M,CAAC,EAAEyM,CAAC,CAACG,IAAI,GAAGrD,CAAC,EAAEkD,CAAC,CAACK,IAAI,GAAGhE,CAAC,EAAE2D,CAAC,CAACM,IAAI,GAAGvD,CAAC,EAAE,CAAC,IAAIG,CAAC,CAACI,MAAM,IAAI,IAAI,IAAIL,CAAC,IAAI,CAACuB,CAAC,IAAIlL,CAAC,CAACmG,KAAK,IAAI3H,UAAU,CAAC4H,MAAM,EAAE;IACpO,IAAIiI,CAAC,GAAG+D,IAAI,CAACK,IAAI,CAAChU,CAAC,GAAG8a,CAAC,CAAC;MAAE0L,CAAC,GAAG7S,IAAI,CAACK,IAAI,CAAC/T,CAAC,GAAG6a,CAAC,CAAC;MAAEzL,CAAC,GAAG,CAAC;MAAEoX,CAAC,GAAG,CAAC;IAC5D,IAAI7W,CAAC,GAAG,CAAC,GAAGrO,CAAC,CAAC+B,OAAO,IAAI9B,CAAC,GAAGuJ,CAAC,EAAE,QAAQsE,CAAC,GAAG,CAAC7N,CAAC,GAAGuJ,CAAC,IAAI,CAAC,GAAG6E,CAAC,GAAG,CAAC,EAAErO,CAAC,CAACX,WAAW;MAC1E,KAAKb,UAAU,CAACa,WAAW,CAACuT,KAAK;MACjC,KAAKpU,UAAU,CAACa,WAAW,CAACwT,SAAS;QACjC/E,CAAC,GAAG,CAACtE,CAAC,GAAGvJ,CAAC,IAAI,CAAC,GAAGoO,CAAC,GAAG,CAAC;IAC/B,CAAC,MAAM,QAAQP,CAAC,GAAGhC,CAAC,CAACuC,CAAC,GAAGA,CAAC,GAAG,CAAC,GAAG7P,UAAU,CAACmC,OAAO,CAACgS,aAAa,CAAC7G,CAAC,EAAE9L,CAAC,CAAC,GAAG,CAAC,EAAEA,CAAC,CAACX,WAAW;MACtF,KAAKb,UAAU,CAACa,WAAW,CAACuT,KAAK;MACjC,KAAKpU,UAAU,CAACa,WAAW,CAACwT,SAAS;QACjC,CAAC/E,CAAC,GAAG,EAAEO,CAAC,GAAG,CAAC,GAAG,CAAC7E,CAAC,GAAGvJ,CAAC,IAAI,CAAC,CAAC,IAAID,CAAC,CAAC+B,OAAO,GAAGsM,CAAC,KAAKP,CAAC,GAAG9N,CAAC,CAAC+B,OAAO,GAAGsM,CAAC,CAAC;QACnE;MACJ,KAAK7P,UAAU,CAACa,WAAW,CAAC2O,IAAI;MAChC,KAAKxP,UAAU,CAACa,WAAW,CAACyT,WAAW;MACvC,KAAKtU,UAAU,CAACa,WAAW,CAAC0T,QAAQ;MACpC,KAAKvU,UAAU,CAACa,WAAW,CAAC2T,QAAQ;QAChC,CAAClF,CAAC,GAAG,EAAEO,CAAC,GAAG,CAAC,GAAG,CAACpO,CAAC,GAAGuJ,CAAC,IAAI,CAAC,CAAC,IAAI,CAACxJ,CAAC,CAAC+B,OAAO,KAAK+L,CAAC,GAAG,CAAC9N,CAAC,CAAC+B,OAAO,CAAC;IACrE;IACA,IAAIkjB,CAAC,GAAG,CAAC,GAAGjlB,CAAC,CAAC+B,OAAO,IAAIgH,CAAC,GAAGU,CAAC,EAAE,QAAQyb,CAAC,GAAG,CAACnc,CAAC,GAAGU,CAAC,IAAI,CAAC,GAAGwb,CAAC,GAAG,CAAC,EAAEjlB,CAAC,CAACX,WAAW;MAC1E,KAAKb,UAAU,CAACa,WAAW,CAAC4T,MAAM;MAClC,KAAKzU,UAAU,CAACa,WAAW,CAACyT,WAAW;QACnCoS,CAAC,GAAG,CAACzb,CAAC,GAAGV,CAAC,IAAI,CAAC,GAAGkc,CAAC,GAAG,CAAC;IAC/B,CAAC,MAAM,QAAQ,CAACC,CAAC,GAAG,EAAED,CAAC,GAAG,CAAC,GAAG,CAAClc,CAAC,GAAGU,CAAC,IAAI,CAAC,CAAC,IAAI,CAACzJ,CAAC,CAAC+B,OAAO,KAAKmjB,CAAC,GAAG,CAACllB,CAAC,CAAC+B,OAAO,CAAC,EAAE/B,CAAC,CAACX,WAAW;MACvF,KAAKb,UAAU,CAACa,WAAW,CAAC4T,MAAM;MAClC,KAAKzU,UAAU,CAACa,WAAW,CAACyT,WAAW;QACnC,CAACoS,CAAC,GAAG,EAAED,CAAC,GAAG,CAAC,GAAG,CAACxb,CAAC,GAAGV,CAAC,IAAI,CAAC,CAAC,IAAI/I,CAAC,CAAC+B,OAAO,GAAGkjB,CAAC,KAAKC,CAAC,GAAGllB,CAAC,CAAC+B,OAAO,GAAGkjB,CAAC,CAAC;QACnE;MACJ,KAAKzmB,UAAU,CAACa,WAAW,CAAC2O,IAAI;MAChC,KAAKxP,UAAU,CAACa,WAAW,CAACuT,KAAK;QAC7BsS,CAAC,GAAGpZ,CAAC,CAACC,CAAC,GAAGkZ,CAAC,GAAG,CAAC,GAAGzmB,UAAU,CAACmC,OAAO,CAACgS,aAAa,CAAC7G,CAAC,EAAE9L,CAAC,CAAC,GAAG,CAAC;IACpE;IACA2J,CAAC,GAAG,CAACmE,CAAC,EAAEoX,CAAC,EAAE7W,CAAC,EAAE4W,CAAC,CAAC;EACpB,CAAC,MAAM,IAAI,IAAI,IAAItb,CAAC,IAAI,CAACuB,CAAC,IAAIlL,CAAC,CAACmG,KAAK,IAAI3H,UAAU,CAACge,WAAW,EAAE;IAC7DnO,CAAC,GAAG+D,IAAI,CAACK,IAAI,CAAChU,CAAC,GAAG8a,CAAC,CAAC,EAAE0L,CAAC,GAAG7S,IAAI,CAACK,IAAI,CAAC/T,CAAC,GAAG6a,CAAC,CAAC,EAAEzL,CAAC,GAAG,CAAC,EAAEoX,CAAC,GAAG,CAAC;IACxD,QAAQllB,CAAC,CAACX,WAAW;MACjB,KAAKb,UAAU,CAACa,WAAW,CAACqG,GAAG;QAC3BoI,CAAC,GAAGhC,CAAC,CAACuC,CAAC,GAAGA,CAAC,GAAG,CAAC,GAAG7P,UAAU,CAACmC,OAAO,CAACgS,aAAa,CAAC7G,CAAC,EAAE9L,CAAC,CAAC,GAAG,CAAC,EAAEklB,CAAC,GAAG,CAACllB,CAAC,CAAC+B,OAAO;QAC5E;MACJ,KAAKvD,UAAU,CAACa,WAAW,CAAC4T,MAAM;QAC9BnF,CAAC,GAAGhC,CAAC,CAACuC,CAAC,GAAGA,CAAC,GAAG,CAAC,GAAG7P,UAAU,CAACmC,OAAO,CAACgS,aAAa,CAAC7G,CAAC,EAAE9L,CAAC,CAAC,GAAG,CAAC,EAAEklB,CAAC,GAAGllB,CAAC,CAAC+B,OAAO,GAAGkjB,CAAC;QAC/E;MACJ,KAAKzmB,UAAU,CAACa,WAAW,CAAC2O,IAAI;QAC5BF,CAAC,GAAG,CAAC9N,CAAC,CAAC+B,OAAO,EAAEmjB,CAAC,GAAGpZ,CAAC,CAACC,CAAC,GAAGkZ,CAAC,GAAG,CAAC,GAAGzmB,UAAU,CAACmC,OAAO,CAACgS,aAAa,CAAC7G,CAAC,EAAE9L,CAAC,CAAC,GAAG,CAAC;QAC5E;MACJ,KAAKxB,UAAU,CAACa,WAAW,CAACuT,KAAK;QAC7B9E,CAAC,GAAG9N,CAAC,CAAC+B,OAAO,GAAGsM,CAAC,EAAE6W,CAAC,GAAGpZ,CAAC,CAACC,CAAC,GAAGkZ,CAAC,GAAG,CAAC,GAAGzmB,UAAU,CAACmC,OAAO,CAACgS,aAAa,CAAC7G,CAAC,EAAE9L,CAAC,CAAC,GAAG,CAAC;QAC/E;MACJ,KAAKxB,UAAU,CAACa,WAAW,CAAC0T,QAAQ;QAChCjF,CAAC,GAAG,CAAC9N,CAAC,CAAC+B,OAAO,EAAEmjB,CAAC,GAAG,CAACllB,CAAC,CAAC+B,OAAO;QAC9B;MACJ,KAAKvD,UAAU,CAACa,WAAW,CAACwT,SAAS;QACjC/E,CAAC,GAAG9N,CAAC,CAAC+B,OAAO,GAAGsM,CAAC,EAAE6W,CAAC,GAAG,CAACllB,CAAC,CAAC+B,OAAO;QACjC;MACJ,KAAKvD,UAAU,CAACa,WAAW,CAAC2T,QAAQ;QAChClF,CAAC,GAAG,CAAC9N,CAAC,CAAC+B,OAAO,EAAEmjB,CAAC,GAAG,CAACllB,CAAC,CAAC+B,OAAO;QAC9B;MACJ,KAAKvD,UAAU,CAACa,WAAW,CAACyT,WAAW;QACnChF,CAAC,GAAG,CAAC9N,CAAC,CAAC+B,OAAO,EAAEmjB,CAAC,GAAGllB,CAAC,CAAC+B,OAAO,GAAGkjB,CAAC;IACzC;IACAtb,CAAC,GAAG,CAACmE,CAAC,EAAEoX,CAAC,EAAE7W,CAAC,EAAE4W,CAAC,CAAC,EAAEjlB,CAAC,CAACkE,MAAM,KAAKyF,CAAC,CAAC,CAAC,CAAC,GAAG+C,CAAC,CAACsB,IAAI,IAAIrE,CAAC,CAAC,CAAC,CAAC,GAAG+C,CAAC,CAACkG,KAAK,KAAKjJ,CAAC,CAAC,CAAC,CAAC,GAAG+C,CAAC,CAACsB,IAAI,GAAGtB,CAAC,CAACkG,KAAK,GAAGlG,CAAC,CAACkG,KAAK,GAAGlG,CAAC,CAACsB,IAAI,CAAC,EAAErE,CAAC,CAAC,CAAC,CAAC,GAAG+C,CAAC,CAACkG,KAAK,IAAIjJ,CAAC,CAAC,CAAC,CAAC,GAAG+C,CAAC,CAACsB,IAAI,KAAKrE,CAAC,CAAC,CAAC,CAAC,GAAG+C,CAAC,CAACsB,IAAI,GAAGtB,CAAC,CAACkG,KAAK,GAAGlG,CAAC,CAACsB,IAAI,GAAGtB,CAAC,CAACkG,KAAK,CAAC,EAAEjJ,CAAC,CAAC,CAAC,CAAC,GAAG+C,CAAC,CAAChH,GAAG,IAAIiE,CAAC,CAAC,CAAC,CAAC,GAAG+C,CAAC,CAACuG,MAAM,KAAKtJ,CAAC,CAAC,CAAC,CAAC,GAAG+C,CAAC,CAAChH,GAAG,GAAGgH,CAAC,CAACuG,MAAM,GAAGvG,CAAC,CAACuG,MAAM,GAAGvG,CAAC,CAAChH,GAAG,CAAC,EAAEiE,CAAC,CAAC,CAAC,CAAC,GAAG+C,CAAC,CAACuG,MAAM,IAAItJ,CAAC,CAAC,CAAC,CAAC,GAAG+C,CAAC,CAAChH,GAAG,KAAKiE,CAAC,CAAC,CAAC,CAAC,GAAG+C,CAAC,CAAChH,GAAG,GAAGgH,CAAC,CAACuG,MAAM,GAAGvG,CAAC,CAAChH,GAAG,GAAGgH,CAAC,CAACuG,MAAM,CAAC,CAAC;EACtW;EACA,IAAIlJ,CAAC,IAAIvL,UAAU,CAAC0D,MAAM,CAAC0I,UAAU,IAAIb,CAAC,IAAIvL,UAAU,CAAC0D,MAAM,CAAC+b,QAAQ,EAAE;IACtE,IAAIkH,CAAC,GAAGjb,CAAC,CAACD,CAAC,CAACG,EAAE,CAAC;IACf,CAAC,IAAIH,CAAC,CAACqC,OAAO,CAACwC,UAAU,KAAKnF,CAAC,CAAC,CAAC,CAAC,GAAGwb,CAAC,CAAC9W,CAAC,GAAG8W,CAAC,CAACrX,CAAC,GAAG,CAAC,GAAGnE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,IAAIM,CAAC,CAACqC,OAAO,CAACuC,QAAQ,KAAKlF,CAAC,CAAC,CAAC,CAAC,GAAGwb,CAAC,CAACpZ,CAAC,GAAGoZ,CAAC,CAACna,CAAC,GAAG,CAAC,GAAGrB,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE3J,CAAC,CAACkE,MAAM,KAAKyF,CAAC,CAAC,CAAC,CAAC,GAAG+C,CAAC,CAACsB,IAAI,IAAIrE,CAAC,CAAC,CAAC,CAAC,GAAG+C,CAAC,CAACkG,KAAK,KAAKjJ,CAAC,CAAC,CAAC,CAAC,GAAG+C,CAAC,CAACsB,IAAI,GAAGtB,CAAC,CAACkG,KAAK,GAAGlG,CAAC,CAACkG,KAAK,GAAGlG,CAAC,CAACsB,IAAI,CAAC,EAAErE,CAAC,CAAC,CAAC,CAAC,GAAG+C,CAAC,CAACkG,KAAK,IAAIjJ,CAAC,CAAC,CAAC,CAAC,GAAG+C,CAAC,CAACsB,IAAI,KAAKrE,CAAC,CAAC,CAAC,CAAC,GAAG+C,CAAC,CAACsB,IAAI,GAAGtB,CAAC,CAACkG,KAAK,GAAGlG,CAAC,CAACsB,IAAI,GAAGtB,CAAC,CAACkG,KAAK,CAAC,EAAEjJ,CAAC,CAAC,CAAC,CAAC,GAAG+C,CAAC,CAAChH,GAAG,IAAIiE,CAAC,CAAC,CAAC,CAAC,GAAG+C,CAAC,CAACuG,MAAM,KAAKtJ,CAAC,CAAC,CAAC,CAAC,GAAG+C,CAAC,CAAChH,GAAG,GAAGgH,CAAC,CAACuG,MAAM,GAAGvG,CAAC,CAACuG,MAAM,GAAGvG,CAAC,CAAChH,GAAG,CAAC,EAAEiE,CAAC,CAAC,CAAC,CAAC,GAAG+C,CAAC,CAACuG,MAAM,IAAItJ,CAAC,CAAC,CAAC,CAAC,GAAG+C,CAAC,CAAChH,GAAG,KAAKiE,CAAC,CAAC,CAAC,CAAC,GAAG+C,CAAC,CAAChH,GAAG,GAAGgH,CAAC,CAACuG,MAAM,GAAGvG,CAAC,CAAChH,GAAG,GAAGgH,CAAC,CAACuG,MAAM,CAAC,CAAC;EACld;EACA,IAAIlJ,CAAC,IAAIvL,UAAU,CAAC0D,MAAM,CAAC2I,MAAM,IAAId,CAAC,IAAIvL,UAAU,CAAC0D,MAAM,CAACgE,MAAM,IAAI6D,CAAC,IAAIvL,UAAU,CAAC0D,MAAM,CAACrC,QAAQ,IAAIkK,CAAC,IAAIvL,UAAU,CAAC0D,MAAM,CAACoB,MAAM,IAAIyG,CAAC,IAAIvL,UAAU,CAAC0D,MAAM,CAAC0I,UAAU,EAAE;IACzK,IAAIwa,CAAC,GAAG,IAAI;IACZ,IAAIrb,CAAC,IAAIvL,UAAU,CAAC0D,MAAM,CAAC2I,MAAM,IAAIZ,CAAC,IAAI,IAAI,IAAIA,CAAC,CAACwM,cAAc,IAAI,IAAI,IAAIxM,CAAC,CAACwM,cAAc,EAAE2O,CAAC,GAAGlb,CAAC,CAACD,CAAC,CAACwM,cAAc,CAAC,CAAC,KAAM,IAAI1M,CAAC,IAAIvL,UAAU,CAAC0D,MAAM,CAACoB,MAAM,IAAI2G,CAAC,IAAI,IAAI,IAAIA,CAAC,CAACo5B,KAAK,IAAI,IAAI,IAAIp5B,CAAC,CAACo5B,KAAK,EAAEje,CAAC,GAAGlb,CAAC,CAACD,CAAC,CAACo5B,KAAK,CAAC,CAAC,KAAM,IAAIt5B,CAAC,IAAIvL,UAAU,CAAC0D,MAAM,CAACgE,MAAM,IAAI6D,CAAC,IAAIvL,UAAU,CAAC0D,MAAM,CAACrC,QAAQ,IAAI,CAACoK,CAAC,IAAI,IAAI,IAAIA,CAAC,CAACG,EAAE,IAAI,IAAI,IAAIH,CAAC,CAACG,EAAE,EAAE;MACzU,IAAIL,CAAC,IAAIvL,UAAU,CAAC0D,MAAM,CAAC0I,UAAU,EAAE;QACnC,QAAQ5K,CAAC,CAACX,WAAW;UACjB,KAAKb,UAAU,CAACa,WAAW,CAACqG,GAAG;UAC/B,KAAKlH,UAAU,CAACa,WAAW,CAAC0T,QAAQ;UACpC,KAAKvU,UAAU,CAACa,WAAW,CAAC4T,MAAM;UAClC,KAAKzU,UAAU,CAACa,WAAW,CAACyT,WAAW;YACnC7I,CAAC,CAACqC,OAAO,CAACuC,QAAQ,KAAKuW,CAAC,GAAGlb,CAAC,CAACD,CAAC,CAACG,EAAE,CAAC,CAAC;YACnC;UACJ,KAAK5L,UAAU,CAACa,WAAW,CAACuT,KAAK;UACjC,KAAKpU,UAAU,CAACa,WAAW,CAACwT,SAAS;UACrC,KAAKrU,UAAU,CAACa,WAAW,CAAC2O,IAAI;UAChC,KAAKxP,UAAU,CAACa,WAAW,CAAC2T,QAAQ;YAChC/I,CAAC,CAACqC,OAAO,CAACwC,UAAU,KAAKsW,CAAC,GAAGlb,CAAC,CAACD,CAAC,CAACG,EAAE,CAAC,CAAC;QAC7C;QACAgb,CAAC,KAAKA,CAAC,GAAG5mB,UAAU,CAACmC,OAAO,CAACyiC,iBAAiB,CAAChe,CAAC,EAAElb,CAAC,CAAC,CAAC;MACzD;IACJ,CAAC,MAAMkb,CAAC,GAAGlb,CAAC,CAACD,CAAC,CAACG,EAAE,CAAC,EAAEgb,CAAC,GAAG5mB,UAAU,CAACmC,OAAO,CAACyiC,iBAAiB,CAAChe,CAAC,EAAElb,CAAC,CAAC;IAClE,IAAI,CAAC1L,UAAU,CAAC6iB,uBAAuB,IAAI+D,CAAC,EAAE,QAAQplB,CAAC,CAACX,WAAW;MAC/D,KAAKb,UAAU,CAACa,WAAW,CAACqG,GAAG;MAC/B,KAAKlH,UAAU,CAACa,WAAW,CAAC0T,QAAQ;QAChC,IAAIuS,CAAC,GAAGF,CAAC,CAACrZ,CAAC,GAAGqZ,CAAC,CAACpa,CAAC,GAAGrB,CAAC,CAAC,CAAC,CAAC,GAAG3J,CAAC,CAAC+B,OAAO;QACpC4H,CAAC,CAAC,CAAC,CAAC,GAAG2b,CAAC,KAAK3b,CAAC,CAAC,CAAC,CAAC,GAAG2b,CAAC,CAAC;QACtB;MACJ,KAAK9mB,UAAU,CAACa,WAAW,CAAC4T,MAAM;MAClC,KAAKzU,UAAU,CAACa,WAAW,CAACyT,WAAW;QACnCwS,CAAC,GAAGF,CAAC,CAACrZ,CAAC,GAAG/L,CAAC,CAAC+B,OAAO;QACnB4H,CAAC,CAAC,CAAC,CAAC,GAAG2b,CAAC,KAAK3b,CAAC,CAAC,CAAC,CAAC,GAAG2b,CAAC,CAAC;QACtB;MACJ,KAAK9mB,UAAU,CAACa,WAAW,CAACuT,KAAK;MACjC,KAAKpU,UAAU,CAACa,WAAW,CAACwT,SAAS;QACjCyS,CAAC,GAAGF,CAAC,CAAC/W,CAAC,GAAGrO,CAAC,CAAC+B,OAAO;QACnB4H,CAAC,CAAC,CAAC,CAAC,GAAG2b,CAAC,KAAK3b,CAAC,CAAC,CAAC,CAAC,GAAG2b,CAAC,CAAC;QACtB;MACJ,KAAK9mB,UAAU,CAACa,WAAW,CAAC2O,IAAI;MAChC,KAAKxP,UAAU,CAACa,WAAW,CAAC2T,QAAQ;QAChCsS,CAAC,GAAGF,CAAC,CAAC/W,CAAC,GAAG+W,CAAC,CAACtX,CAAC,GAAGnE,CAAC,CAAC,CAAC,CAAC,GAAG3J,CAAC,CAAC+B,OAAO;QAChC4H,CAAC,CAAC,CAAC,CAAC,GAAG2b,CAAC,KAAK3b,CAAC,CAAC,CAAC,CAAC,GAAG2b,CAAC,CAAC;IAC9B;EACJ;EACA,KAAK,IAAIG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG7b,CAAC,CAACI,MAAM,EAAEyb,CAAC,EAAE,EAAEjnB,UAAU,CAACmC,OAAO,CAAC2iC,SAAS,CAAC15B,CAAC,CAAC6b,CAAC,CAAC,EAAEvb,CAAC,EAAElK,CAAC,EAAE2J,CAAC,EAAEI,CAAC,EAAEE,CAAC,EAAE8B,CAAC,EAAEf,CAAC,EAAErM,CAAC,EAAEgO,CAAC,CAAC;EAChG,OAAO;IACHlC,UAAU,EAAEkC,CAAC;IACblL,QAAQ,EAAEiL,CAAC;IACX7K,OAAO,EAAE8H,CAAC;IACVP,cAAc,EAAE2C,CAAC;IACjB/I,KAAK,EAAEkH,CAAC;IACRZ,SAAS,EAAE9K,UAAU,CAACmC,OAAO,CAACwiC,YAAY,CAACnjC,CAAC;EAChD,CAAC;AACL,CAAC,EAACxB,UAAU,CAACmC,OAAO,CAAC2iC,SAAS,GAAG,UAAU7kC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAES,CAAC,EAAEC,CAAC,EAAEE,CAAC,EAAEC,CAAC,EAAE;EACrE,IAAIpL,UAAU,CAACmC,OAAO,CAACuiC,UAAU,CAACzkC,CAAC,EAAEE,CAAC,EAAEqB,CAAC,EAAEC,CAAC,CAAC,EAAE;IAC3CuJ,CAAC,CAACqI,IAAI,CAACpT,CAAC,CAAC2L,EAAE,CAAC;IACZ,IAAIL,CAAC,GAAG,IAAI;IACZ,IAAI,CAAC9J,CAAC,IAAIzB,UAAU,CAAC0D,MAAM,CAACgE,MAAM,IAAIjG,CAAC,IAAIzB,UAAU,CAAC0D,MAAM,CAACrC,QAAQ,IAAII,CAAC,IAAIzB,UAAU,CAAC0D,MAAM,CAAC+b,QAAQ,KAAKxU,CAAC,IAAIA,CAAC,CAAChL,CAAC,CAAC2L,EAAE,CAAC,IAAI,uBAAuB,IAAIrB,CAAC,CAACkG,MAAM,EAAE;MAC9J,IAAIlF,CAAC,GAAG;QAACsE,CAAC,EAAE,CAACnD,CAAC,GAAGzB,CAAC,CAAChL,CAAC,CAAC2L,EAAE,CAAC,EAAEiE,CAAC;QAAEtC,CAAC,EAAEb,CAAC,CAACa;MAAC,CAAC,EAAEb,CAAC,EAAE;QACrCnB,CAAC,GAAG;UAACsE,CAAC,EAAEnD,CAAC,CAACmD,CAAC;UAAEtC,CAAC,EAAEb,CAAC,CAACa;QAAC,CAAC;QACpB,KAAK,IAAI9B,CAAC,GAAGxL,CAAC,EAAEyL,CAAC,GAAG,IAAI,EAAE,IAAI,IAAID,CAAC,GAAGR,CAAC,CAACQ,CAAC,CAACG,EAAE,CAAC,IAAIX,CAAC,CAACQ,CAAC,CAACG,EAAE,CAAC,CAACwH,SAAS,KAAK1H,CAAC,GAAGD,CAAC,CAAC,EAAEA,CAAC,GAAGA,CAAC,CAACuH,MAAM;QAC3FtH,CAAC,IAAIA,CAAC,CAACsH,MAAM,KAAKzH,CAAC,GAAG;UAACsE,CAAC,EAAEnE,CAAC,CAACsH,MAAM,CAACnD,CAAC;UAAEtC,CAAC,EAAE7B,CAAC,CAACsH,MAAM,CAACzF;QAAC,CAAC,CAAC;MACzD;MACA,IAAID,CAAC,GAAGpN,CAAC,CAACqK,CAAC,CAACqB,EAAE,CAAC,EAAE;QACb,KAAKH,CAAC,GAAGxL,CAAC,CAAC+S,MAAM,EAAE,IAAI,IAAIvH,CAAC,GAAGA,CAAC,GAAGA,CAAC,CAACuH,MAAM;QAC3CvH,CAAC,KAAKF,CAAC,GAAG;UAACsE,CAAC,EAAEvC,CAAC,CAACuC,CAAC,GAAGvC,CAAC,CAACgC,CAAC,GAAG,CAAC,GAAGrP,CAAC,CAACqP,CAAC,GAAG,CAAC;UAAE/B,CAAC,EAAED,CAAC,CAACC,CAAC,GAAGD,CAAC,CAACd,CAAC,GAAG,CAAC,GAAGvM,CAAC,CAACuM,CAAC,GAAG;QAAC,CAAC,CAAC;MACvE;IACJ,CAAC,MAAM,IAAI,CAAC/K,CAAC,IAAIzB,UAAU,CAAC0D,MAAM,CAACgE,MAAM,IAAIjG,CAAC,IAAIzB,UAAU,CAAC0D,MAAM,CAACrC,QAAQ,KAAK4J,CAAC,IAAIA,CAAC,CAAChL,CAAC,CAAC2L,EAAE,CAAC,EAAE;MAC3F,IAAIL,CAAC,GAAG;QAACsE,CAAC,EAAE,CAACnD,CAAC,GAAGzB,CAAC,CAAChL,CAAC,CAAC2L,EAAE,CAAC,EAAEiE,CAAC;QAAEtC,CAAC,EAAEb,CAAC,CAACa;MAAC,CAAC,EAAE,KAAK,IAAIhD,CAAC,CAACuvB,GAAG,IAAIptB,CAAC,EAAE;QACvDnB,CAAC,GAAG;UAACsE,CAAC,EAAEnD,CAAC,CAACmD,CAAC;UAAEtC,CAAC,EAAEb,CAAC,CAACa;QAAC,CAAC;QACpB,KAAK9B,CAAC,GAAGxL,CAAC,EAAEyL,CAAC,GAAG,IAAI,EAAE,IAAI,IAAID,CAAC,GAAGR,CAAC,CAACQ,CAAC,CAACG,EAAE,CAAC,IAAIX,CAAC,CAACQ,CAAC,CAACG,EAAE,CAAC,CAACwH,SAAS,KAAK1H,CAAC,GAAGD,CAAC,CAAC,EAAEA,CAAC,GAAGA,CAAC,CAACuH,MAAM;QACvFtH,CAAC,IAAIA,CAAC,CAACsH,MAAM,KAAKzH,CAAC,GAAG;UAACsE,CAAC,EAAEnE,CAAC,CAACsH,MAAM,CAACnD,CAAC;UAAEtC,CAAC,EAAE7B,CAAC,CAACsH,MAAM,CAACzF;QAAC,CAAC,CAAC;MACzD;MACA,IAAID,CAAC,GAAGpN,CAAC,CAACqK,CAAC,CAACqB,EAAE,CAAC,EAAE;QACb,KAAKH,CAAC,GAAGxL,CAAC,CAAC+S,MAAM,EAAE,IAAI,IAAIvH,CAAC,IAAI,CAAC,CAAC,IAAIlB,CAAC,CAACuvB,GAAG,CAACtkB,OAAO,CAACvV,CAAC,CAAC2L,EAAE,CAAC,IAAI,CAAC,CAAC,IAAIrB,CAAC,CAACuvB,GAAG,CAACtkB,OAAO,CAAC/J,CAAC,CAACG,EAAE,CAAC,GAAGH,CAAC,GAAGA,CAAC,CAACuH,MAAM;QACrGvH,CAAC,KAAKF,CAAC,GAAG;UAACsE,CAAC,EAAEvC,CAAC,CAACuC,CAAC,GAAGvC,CAAC,CAACgC,CAAC,GAAG,CAAC,GAAGrP,CAAC,CAACqP,CAAC,GAAG,CAAC;UAAE/B,CAAC,EAAED,CAAC,CAACC,CAAC,GAAGD,CAAC,CAACd,CAAC,GAAG,CAAC,GAAGvM,CAAC,CAACuM,CAAC,GAAG;QAAC,CAAC,CAAC;MACvE;IACJ,CAAC,MAAM,IAAI/K,CAAC,IAAIzB,UAAU,CAAC0D,MAAM,CAAC0I,UAAU,IAAInB,CAAC,IAAIA,CAAC,CAAChL,CAAC,CAAC2L,EAAE,CAAC,EAAE;MAC1D,IAAI,IAAI,IAAI,CAACc,CAAC,GAAGzB,CAAC,CAAChL,CAAC,CAAC2L,EAAE,CAAC,EAAEiE,CAAC,IAAI,IAAI,IAAInD,CAAC,CAACa,CAAC,KAAKhC,CAAC,GAAG;QAC/CsE,CAAC,EAAEnD,CAAC,CAACmD,CAAC;QACNtC,CAAC,EAAEb,CAAC,CAACa;MACT,CAAC,CAAC,EAAE,CAACf,CAAC,GAAGtM,CAAC,CAACqK,CAAC,CAACqB,EAAE,CAAC,KAAKY,CAAC,IAAIvM,CAAC,EAAE,CAACwL,CAAC,GAAGxL,CAAC,CAAC+S,MAAM,KAAKvH,CAAC,CAACG,EAAE,IAAIrB,CAAC,CAACqB,EAAE,KAAKL,CAAC,GAAG;QAChEsE,CAAC,EAAErD,CAAC,CAACqD,CAAC,GAAGrD,CAAC,CAAC8C,CAAC,GAAG,CAAC,GAAGrP,CAAC,CAACqP,CAAC,GAAG,CAAC;QAC1B/B,CAAC,EAAEf,CAAC,CAACe,CAAC,GAAGf,CAAC,CAACA,CAAC,GAAG,CAAC,GAAGvM,CAAC,CAACuM,CAAC,GAAG;MAC7B,CAAC,CAAC;IACN,CAAC,MAAM,IAAI/K,CAAC,IAAIzB,UAAU,CAAC0D,MAAM,CAAC+b,QAAQ,IAAIxU,CAAC,IAAIA,CAAC,CAAChL,CAAC,CAAC2L,EAAE,CAAC,EAAE;MACxD,IAAIY,CAAC;MACL,IAAI,IAAI,IAAI,CAACE,CAAC,GAAGzB,CAAC,CAAChL,CAAC,CAAC2L,EAAE,CAAC,EAAEiE,CAAC,IAAI,IAAI,IAAInD,CAAC,CAACa,CAAC,KAAKhC,CAAC,GAAG;QAC/CsE,CAAC,EAAEnD,CAAC,CAACmD,CAAC;QACNtC,CAAC,EAAEb,CAAC,CAACa;MACT,CAAC,CAAC,EAAE,CAACf,CAAC,GAAGtM,CAAC,CAACqK,CAAC,CAACqB,EAAE,CAAC,KAAKY,CAAC,IAAIvM,CAAC,EAAE,CAACwL,CAAC,GAAGxL,CAAC,CAAC+S,MAAM,KAAKvH,CAAC,CAACG,EAAE,IAAIrB,CAAC,CAACqB,EAAE,KAAKL,CAAC,GAAG;QAChEsE,CAAC,EAAErD,CAAC,CAACqD,CAAC,GAAGrD,CAAC,CAAC8C,CAAC,GAAG,CAAC,GAAGrP,CAAC,CAACqP,CAAC,GAAG,CAAC;QAC1B/B,CAAC,EAAEf,CAAC,CAACe,CAAC,GAAGf,CAAC,CAACA,CAAC,GAAG,CAAC,GAAGvM,CAAC,CAACuM,CAAC,GAAG;MAC7B,CAAC,CAAC;IACN,CAAC,MAAM,IAAI/K,CAAC,IAAIzB,UAAU,CAAC0D,MAAM,CAACgc,QAAQ,IAAIzU,CAAC,IAAIA,CAAC,CAAChL,CAAC,CAAC2L,EAAE,CAAC,EAAE;MACxDL,CAAC,GAAG;QAACsE,CAAC,EAAE,CAACnD,CAAC,GAAGzB,CAAC,CAAChL,CAAC,CAAC2L,EAAE,CAAC,EAAEiE,CAAC;QAAEtC,CAAC,EAAEb,CAAC,CAACa;MAAC,CAAC;IACpC,CAAC,MAAM,IAAI9L,CAAC,IAAIzB,UAAU,CAAC0D,MAAM,CAAC2I,MAAM,IAAI9B,CAAC,IAAIA,CAAC,CAAC0N,cAAc,IAAIhY,CAAC,CAAC2L,EAAE,IAAI3L,CAAC,CAAC+S,MAAM,EAAEzH,CAAC,GAAG;MACvFsE,CAAC,EAAE5P,CAAC,CAAC+S,MAAM,CAACnD,CAAC;MACbtC,CAAC,EAAEtN,CAAC,CAAC+S,MAAM,CAACzF;IAChB,CAAC,CAAC,KAAM,IAAI9L,CAAC,IAAIzB,UAAU,CAAC0D,MAAM,CAACoB,MAAM,IAAIrD,CAAC,IAAIzB,UAAU,CAAC0D,MAAM,CAAC2I,MAAM,IAAI,CAACpB,CAAC,EAAExJ,CAAC,KAAKzB,UAAU,CAAC0D,MAAM,CAACiH,SAAS,IAAIlJ,CAAC,KAAKzB,UAAU,CAAC0D,MAAM,CAACzB,IAAI,IAAI,CAAC,CAAC,IAAIkJ,CAAC,CAACqK,OAAO,CAACvV,CAAC,CAAC2L,EAAE,CAAC,KAAKR,CAAC,CAAC,CAAC,CAAC,CAACiI,IAAI,CAACpT,CAAC,CAAC2L,EAAE,CAAC,EAAER,CAAC,CAAC,CAAC,CAAC,CAACiI,IAAI,CAAC;MAACpD,OAAO,EAAE;IAAC,CAAC,CAAC,EAAE7E,CAAC,CAAC,CAAC,CAAC,CAACiI,IAAI,CAAC;MAACpD,OAAO,EAAE;IAAC,CAAC,CAAC,CAAC,CAAC,KAAM;MACtP,IAAIvD,CAAC,EAAEY,CAAC;MACR,IAAI,CAAC,EAAEZ,CAAC,GAAGzB,CAAC,CAAChL,CAAC,CAAC2L,EAAE,CAAC,CAAC,IAAI5L,UAAU,CAACgS,KAAK,CAACtF,CAAC,CAACmD,CAAC,CAAC,IAAI7P,UAAU,CAACgS,KAAK,CAACtF,CAAC,CAACa,CAAC,CAAC,KAAKhD,CAAC,EAAE;QACzE,IAAI+C,CAAC,GAAGpN,CAAC,CAACqK,CAAC,CAACqB,EAAE,CAAC,EAAE;UACb,KAAKH,CAAC,GAAG6B,CAAC,EAAE7B,CAAC,IAAIA,CAAC,CAACG,EAAE,IAAI3L,CAAC,CAAC2L,EAAE,GAAGH,CAAC,GAAGA,CAAC,CAACuH,MAAM;UAC5CvH,CAAC,KAAKF,CAAC,GAAG;YAACsE,CAAC,EAAEvC,CAAC,CAACuC,CAAC;YAAEtC,CAAC,EAAED,CAAC,CAACC;UAAC,CAAC,CAAC;QAC/B;MACJ,CAAC,MAAMb,CAAC,KAAKnB,CAAC,GAAG;QAACsE,CAAC,EAAEnD,CAAC,CAACmD,CAAC;QAAEtC,CAAC,EAAEb,CAAC,CAACa;MAAC,CAAC,CAAC;IACtC;IACA,IAAI,IAAI,IAAIhC,CAAC,IAAI,IAAI,IAAIA,CAAC,CAACsE,CAAC,IAAI,IAAI,IAAItE,CAAC,CAACgC,CAAC,EAAE,IAAIhC,CAAC,CAACsE,CAAC,IAAI5P,CAAC,CAAC4P,CAAC,IAAItE,CAAC,CAACgC,CAAC,IAAItN,CAAC,CAACsN,CAAC,EAAEhD,CAAC,IAAIA,CAAC,CAACyzB,cAAc,IAAI,CAAC,CAAC,IAAIzzB,CAAC,CAACyzB,cAAc,CAACxoB,OAAO,CAACvV,CAAC,CAAC2L,EAAE,CAAC,KAAKR,CAAC,CAAC,CAAC,CAAC,CAACiI,IAAI,CAACpT,CAAC,CAAC2L,EAAE,CAAC,EAAER,CAAC,CAAC,CAAC,CAAC,CAACiI,IAAI,CAAC;MAACwH,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAEtP,CAAC,CAACsE,CAAC,EAAEtE,CAAC,CAACgC,CAAC;IAAC,CAAC,CAAC,EAAEnC,CAAC,CAAC,CAAC,CAAC,CAACiI,IAAI,CAAC;MAACwH,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE5a,CAAC,CAAC4P,CAAC,EAAE5P,CAAC,CAACsN,CAAC;IAAC,CAAC,CAAC,CAAC;EACjQ;EACA,KAAK,IAAIA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGtN,CAAC,CAACq3B,UAAU,CAAC9rB,MAAM,EAAE+B,CAAC,EAAE,EAAEvN,UAAU,CAACmC,OAAO,CAAC2iC,SAAS,CAAC7kC,CAAC,CAACq3B,UAAU,CAAC/pB,CAAC,CAAC,EAAErN,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAES,CAAC,EAAEC,CAAC,EAAEE,CAAC,EAAEC,CAAC,CAAC;EACtH,KAAKmC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGtN,CAAC,CAACywB,QAAQ,CAACllB,MAAM,EAAE+B,CAAC,EAAE,EAAEvN,UAAU,CAACmC,OAAO,CAAC2iC,SAAS,CAAC7kC,CAAC,CAACywB,QAAQ,CAACnjB,CAAC,CAAC,EAAErN,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAES,CAAC,EAAEC,CAAC,EAAEE,CAAC,EAAEC,CAAC,CAAC;AAClH,CAAC,EAACpL,UAAU,CAACmC,OAAO,CAACmgC,0BAA0B,GAAG,UAAUriC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACjE,KAAK,IAAIqB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGvB,CAAC,CAACkT,WAAW,CAAC3H,MAAM,EAAEhK,CAAC,EAAE,EAAErB,CAAC,CAACkT,IAAI,CAACpT,CAAC,CAACkT,WAAW,CAAC3R,CAAC,CAAC,CAAC,EAAExB,UAAU,CAACmC,OAAO,CAACmgC,0BAA0B,CAACpiC,CAAC,CAACD,CAAC,CAACkT,WAAW,CAAC3R,CAAC,CAAC,CAAC,EAAEtB,CAAC,EAAEC,CAAC,CAAC;AACrJ,CAAC,EAACH,UAAU,CAACmC,OAAO,CAAC6+B,4BAA4B,GAAG,UAAU/gC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAES,CAAC,EAAE;EAC/E/K,CAAC,CAAC4P,CAAC,IAAItF,CAAC,CAACsF,CAAC,EAAE5P,CAAC,CAACsN,CAAC,IAAIhD,CAAC,CAACgD,CAAC;EACtB,KAAK,IAAItC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGhL,CAAC,CAACq3B,UAAU,CAAC9rB,MAAM,EAAEP,CAAC,EAAE,EAAEjL,UAAU,CAACmC,OAAO,CAAC6+B,4BAA4B,CAAC/gC,CAAC,CAACq3B,UAAU,CAACrsB,CAAC,CAAC,EAAEhL,CAAC,CAACq3B,UAAU,CAACrsB,CAAC,CAAC,EAAE9K,CAAC,EAAE,CAAC,EAAEsB,CAAC,EAAE8I,CAAC,EAAES,CAAC,CAAC;EAC9I/K,CAAC,CAACwV,SAAS,GAAGxV,CAAC,CAACge,EAAE,GAAGzc,CAAC,GAAG,CAAC,GAAGvB,CAAC,CAACge,EAAE,GAAGzc,CAAC,EAAE,IAAI,IAAIC,CAAC,CAACvB,CAAC,CAAC0L,EAAE,CAAC,KAAKnK,CAAC,CAACvB,CAAC,CAAC0L,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,IAAInK,CAAC,CAACvB,CAAC,CAAC0L,EAAE,CAAC,CAAC3L,CAAC,CAACge,EAAE,CAAC,KAAKxc,CAAC,CAACvB,CAAC,CAAC0L,EAAE,CAAC,CAAC3L,CAAC,CAACge,EAAE,CAAC,GAAG;IAChH5P,IAAI,EAAE,IAAI;IACVG,IAAI,EAAE,IAAI;IACVJ,IAAI,EAAE,IAAI;IACVG,IAAI,EAAE;EACV,CAAC,CAAC,EAAEtO,CAAC,CAACkB,MAAM,IAAInB,UAAU,CAACyzB,YAAY,CAACxzB,CAAC,EAAEwB,CAAC,CAACvB,CAAC,CAAC0L,EAAE,CAAC,CAAC3L,CAAC,CAACge,EAAE,CAAC,CAAC,EAAE,IAAI,IAAIhe,CAAC,CAACiY,KAAK,KAAKjY,CAAC,CAAC4P,CAAC,IAAI5P,CAAC,CAACiY,KAAK,CAAC,EAAE,IAAI,IAAIjY,CAAC,CAACkY,KAAK,KAAKlY,CAAC,CAACsN,CAAC,IAAItN,CAAC,CAACkY,KAAK,CAAC,EAAEnY,UAAU,CAACyzB,YAAY,CAACxzB,CAAC,EAAEE,CAAC,CAAC,EAAEqB,CAAC,EAAE;EACvK,KAAKyJ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGhL,CAAC,CAACywB,QAAQ,CAACllB,MAAM,EAAEP,CAAC,EAAE,EAAEjL,UAAU,CAACmC,OAAO,CAAC6+B,4BAA4B,CAAC/gC,CAAC,CAACywB,QAAQ,CAACzlB,CAAC,CAAC,EAAE/K,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAES,CAAC,CAAC;AAC5H,CAAC,EAAChL,UAAU,CAACmC,OAAO,CAAC4+B,sCAAsC,GAAG,UAAU9gC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAE;EACtF,IAAIpK,CAAC,IAAIH,UAAU,CAAC0D,MAAM,CAACgE,MAAM,IAAIvH,CAAC,IAAIH,UAAU,CAAC0D,MAAM,CAACrC,QAAQ,IAAIlB,CAAC,IAAIH,UAAU,CAAC0D,MAAM,CAACgc,QAAQ,IAAIvf,CAAC,IAAIH,UAAU,CAAC0D,MAAM,CAAC+b,QAAQ,IAAItf,CAAC,IAAIH,UAAU,CAAC0D,MAAM,CAAC0I,UAAU,IAAIjM,CAAC,IAAIH,UAAU,CAAC0D,MAAM,CAACoB,MAAM,IAAI3E,CAAC,IAAIH,UAAU,CAAC0D,MAAM,CAAC2I,MAAM,EAAE,OAAO;IACtPwD,CAAC,EAAE,CAAC;IACJtC,CAAC,EAAE;EACP,CAAC;EACD,IAAIpN,CAAC,IAAIH,UAAU,CAAC0D,MAAM,CAACoB,MAAM,KAAK,CAACtD,CAAC,IAAI,IAAI,IAAIA,CAAC,CAACoK,EAAE,CAAC,EAAE;IACvD,IAAI,CAAC3L,CAAC,IAAI,CAACA,CAAC,CAACuL,MAAM,EAAE,OAAO;MAACqE,CAAC,EAAE,CAAC;MAAEtC,CAAC,EAAE;IAAC,CAAC;IACxC/L,CAAC,GAAG;MAACoK,EAAE,EAAE3L,CAAC,CAAC,CAAC,CAAC,CAAC2L;IAAE,CAAC;EACrB;EACA,IAAI,IAAI,IAAIpK,CAAC,CAACoK,EAAE,EAAE,OAAO;IAACiE,CAAC,EAAE,CAAC;IAAEtC,CAAC,EAAE;EAAC,CAAC;EACrC,IAAIvC,CAAC,GAAGxJ,CAAC,CAACoK,EAAE;EACZ,CAACzL,CAAC,IAAIH,UAAU,CAAC0D,MAAM,CAACgc,QAAQ,IAAIxf,CAAC,CAAC8K,CAAC,CAAC,CAACgI,MAAM,IAAI7S,CAAC,IAAIH,UAAU,CAAC0D,MAAM,CAAC+b,QAAQ,IAAIvf,CAAC,CAAC8K,CAAC,CAAC,CAACgI,MAAM,MAAMhI,CAAC,GAAG9K,CAAC,CAAC8K,CAAC,CAAC,CAAC2J,GAAG,CAAC;EACpH,IAAI1J,CAAC,GAAG/K,CAAC,CAAC8K,CAAC,CAAC;IAAEG,CAAC,GAAG1J,CAAC,CAACuJ,CAAC,CAAC;EACtB,IAAI,CAACG,CAAC,EAAE,OAAO;IAAC0E,CAAC,EAAE,CAAC;IAAEtC,CAAC,EAAE;EAAC,CAAC;EAC3B,IAAInC,CAAC,GAAG,IAAI,IAAID,CAAC,CAAC+M,KAAK,GAAG/M,CAAC,CAAC+M,KAAK,GAAG,CAAC;IAAE3M,CAAC,GAAG,IAAI,IAAIJ,CAAC,CAACgN,KAAK,GAAGhN,CAAC,CAACgN,KAAK,GAAG,CAAC;EACxE,OAAO;IAACtI,CAAC,EAAE,CAAC1E,CAAC,CAAC0E,CAAC,GAAG1E,CAAC,CAAC0E,CAAC,GAAGzE,CAAC,GAAG,CAAC,IAAIH,CAAC,CAAC4E,CAAC;IAAEtC,CAAC,EAAE,CAACpC,CAAC,CAACoC,CAAC,GAAGpC,CAAC,CAACoC,CAAC,GAAGhC,CAAC,GAAG,CAAC,IAAIN,CAAC,CAACsC;EAAC,CAAC;AACvE,CAAC,EAACvN,UAAU,CAACmC,OAAO,CAACqiC,yBAAyB,GAAG,UAAUvkC,CAAC,EAAEC,CAAC,EAAE;EAC7D,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,CAAC,CAACq3B,UAAU,CAAC9rB,MAAM,EAAErL,CAAC,EAAE,EAAEH,UAAU,CAACmC,OAAO,CAACqiC,yBAAyB,CAACvkC,CAAC,CAACq3B,UAAU,CAACn3B,CAAC,CAAC,EAAED,CAAC,CAAC;EAC9G,IAAI,CAAC,IAAID,CAAC,CAACywB,QAAQ,CAACllB,MAAM,EAAExL,UAAU,CAACmC,OAAO,CAACqiC,yBAAyB,CAACvkC,CAAC,CAACywB,QAAQ,CAAC,CAAC,CAAC,EAAExwB,CAAC,CAAC,EAAEF,UAAU,CAACmC,OAAO,CAACqiC,yBAAyB,CAACvkC,CAAC,CAACywB,QAAQ,CAAC,CAAC,CAAC,EAAExwB,CAAC,CAAC,EAAEF,UAAU,CAACmC,OAAO,CAACqiC,yBAAyB,CAACvkC,CAAC,CAACywB,QAAQ,CAAC,CAAC,CAAC,EAAExwB,CAAC,CAAC,CAAC,KAAM,KAAKC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,CAAC,CAACywB,QAAQ,CAACllB,MAAM,EAAErL,CAAC,EAAE,EAAEH,UAAU,CAACmC,OAAO,CAACqiC,yBAAyB,CAACvkC,CAAC,CAACywB,QAAQ,CAACvwB,CAAC,CAAC,EAAED,CAAC,CAAC;EACvU,IAAID,CAAC,CAACiX,WAAW,IAAIjX,CAAC,CAACkhC,OAAO,IAAIlhC,CAAC,CAACywB,QAAQ,CAACllB,MAAM,EAAE;IACjD,KAAK,IAAIhK,CAAC,GAAGvB,CAAC,CAAC+S,MAAM,CAAC0d,QAAQ,CAAC,CAAC,CAAC,EAAEjvB,CAAC,GAAGxB,CAAC,CAAC+S,MAAM,CAAC0d,QAAQ,CAAC,CAAC,CAAC,EAAEnmB,CAAC,GAAGtK,CAAC,CAAC+S,MAAM,EAAE,CAACzI,CAAC,CAAC4M,aAAa,GAAG5M,CAAC,GAAGA,CAAC,CAACyI,MAAM;IAC1G,IAAIhI,CAAC,GAAG;QAACsxB,GAAG,EAAE;MAAC,CAAC;MAAErxB,CAAC,GAAG;QAACqxB,GAAG,EAAE;MAAC,CAAC;IAC9Bt8B,UAAU,CAACmC,OAAO,CAAC4iC,mCAAmC,CAACvjC,CAAC,EAAE,CAAC,EAAEwJ,CAAC,CAAC,EAAEhL,UAAU,CAACmC,OAAO,CAAC4iC,mCAAmC,CAACtjC,CAAC,EAAE,CAAC,EAAEwJ,CAAC,CAAC;IAChI,IAAIE,CAAC,GAAGyI,IAAI,CAAC0oB,GAAG,CAACtxB,CAAC,CAACsxB,GAAG,EAAErxB,CAAC,CAACqxB,GAAG,CAAC;MAAElxB,CAAC,GAAG,EAAE;IACtC,KAAKjL,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGgL,CAAC,EAAEhL,CAAC,EAAE,EAAE;MACpB,IAAIoL,CAAC,GAAG,IAAIvL,UAAU,CAACgM,IAAI,CAAC/L,CAAC,CAAC+S,MAAM,CAACpH,EAAE,GAAG,wBAAwB,GAAGzL,CAAC,EAAEF,CAAC,CAAC0U,GAAG,EAAE,EAAE,EAAE,UAAU,CAAC;MAC9F3U,UAAU,CAACmC,OAAO,CAAC8+B,gBAAgB,CAAC11B,CAAC,EAAEtL,CAAC,CAACihC,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE/gC,CAAC,GAAG,CAAC,KAAKiL,CAAC,CAACjL,CAAC,GAAG,CAAC,CAAC,CAACuwB,QAAQ,CAACrd,IAAI,CAAC9H,CAAC,CAAC,EAAEA,CAAC,CAACyH,MAAM,GAAG5H,CAAC,CAACjL,CAAC,GAAG,CAAC,CAAC,CAAC,EAAED,CAAC,CAACqL,CAAC,CAACK,EAAE,CAAC,GAAGL,CAAC,EAAEH,CAAC,CAACiI,IAAI,CAAC9H,CAAC,CAAC;IACxI;IACA,IAAIH,CAAC,CAACI,MAAM,EAAE;MACV,KAAK,IAAIC,CAAC,GAAGL,CAAC,CAACA,CAAC,CAACI,MAAM,GAAG,CAAC,CAAC,EAAEE,CAAC,GAAGN,CAAC,CAAC,CAAC,CAAC,EAAEoB,CAAC,GAAGvM,CAAC,CAACywB,QAAQ,CAACllB,MAAM,GAAG,CAAC,EAAEgB,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;QAC5E,IAAIE,CAAC,GAAGzM,CAAC,CAACywB,QAAQ,CAAClkB,CAAC,CAAC;QACrBf,CAAC,CAACilB,QAAQ,CAACsR,OAAO,CAACt1B,CAAC,CAAC,EAAEA,CAAC,CAACsG,MAAM,GAAGvH,CAAC,EAAExL,CAAC,CAACywB,QAAQ,CAAC7Y,MAAM,CAACrL,CAAC,EAAE,CAAC,CAAC;MAChE;MACAvM,CAAC,CAACywB,QAAQ,CAACrd,IAAI,CAAC3H,CAAC,CAAC,EAAEA,CAAC,CAACsH,MAAM,GAAG/S,CAAC;IACpC;EACJ;AACJ,CAAC,EAACD,UAAU,CAACmC,OAAO,CAAC4iC,mCAAmC,GAAG,UAAU9kC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EAC1EA,CAAC,CAACm8B,GAAG,GAAGp8B,CAAC,KAAKC,CAAC,CAACm8B,GAAG,GAAGp8B,CAAC,CAAC,EAAEA,CAAC,EAAE;EAC7B,KAAK,IAAIsB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGvB,CAAC,CAACywB,QAAQ,CAACllB,MAAM,EAAEhK,CAAC,EAAE,EAAExB,UAAU,CAACmC,OAAO,CAAC4iC,mCAAmC,CAAC9kC,CAAC,CAACywB,QAAQ,CAAClvB,CAAC,CAAC,EAAEtB,CAAC,EAAEC,CAAC,CAAC;AAC3H,CAAC,EAACH,UAAU,CAAC8hC,eAAe,GAAG,UAAU7hC,CAAC,EAAE;EACxC,IAAIC,CAAC,GAAGD,CAAC,CAACuE,KAAK;EACf,IAAI,CAACvE,CAAC,CAAC4G,gBAAgB,CAAC2E,MAAM,IAAIvL,CAAC,CAAC6G,WAAW,CAAC0E,MAAM,MAAMtL,CAAC,GAAG2Y,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAAC7Y,CAAC,CAAC,CAAC,CAAC,EAAED,CAAC,CAAC4G,gBAAgB,CAAC2E,MAAM,EAAE,KAAK,IAAIrL,CAAC,GAAG,EAAE,EAAEqB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGvB,CAAC,CAAC4G,gBAAgB,CAAC2E,MAAM,EAAEhK,CAAC,EAAE,EAAE;IACnL,IAAIC,CAAC,GAAGxB,CAAC,CAAC4G,gBAAgB,CAACrF,CAAC,CAAC;IAC7B,IAAI,IAAIC,CAAC,CAACujC,MAAM,KAAKvjC,CAAC,CAACujC,MAAM,GAAGvjC,CAAC,CAAC8W,EAAE,CAAC;IACrC,IAAIhO,CAAC,GAAI,uBAAsB9I,CAAC,CAACujC,MAAO,EAAC;IACzC,IAAI,CAAC7kC,CAAC,CAACuZ,GAAG,CAACnP,CAAC,CAAC,EAAE,KAAK,IAAIS,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG9K,CAAC,CAACsL,MAAM,EAAER,CAAC,EAAE,EAAE,IAAI9K,CAAC,CAAC8K,CAAC,CAAC,CAACY,EAAE,IAAInK,CAAC,CAACujC,MAAM,EAAE;MACvE,CAACz5B,CAAC,GAAGsN,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAAC7Y,CAAC,CAAC8K,CAAC,CAAC,CAAC,CAAC,EAAEY,EAAE,GAAI,uBAAsBnK,CAAC,CAACujC,MAAO,cAAa9kC,CAAC,CAAC8K,CAAC,CAAC,CAACY,EAAG,EAAC,EAAEL,CAAC,CAACoJ,GAAG,GAAG,KAAK,CAAC,EAAEpJ,CAAC,CAACgM,KAAK,GAAGrX,CAAC,CAAC8K,CAAC,CAAC,CAACY,EAAE,EAAE1L,CAAC,CAACmT,IAAI,CAAC9H,CAAC,CAAC,EAAEpL,CAAC,CAACkT,IAAI,CAAC9I,CAAC,CAAC,EAAErK,CAAC,CAAC8K,CAAC,CAAC,CAACzJ,IAAI,KAAKrB,CAAC,CAAC8K,CAAC,CAAC,CAACzJ,IAAI,GAAG,EAAE,CAAC,EAAErB,CAAC,CAAC8K,CAAC,CAAC,CAACzJ,IAAI,CAAC8R,IAAI,CAAC,oBAAoB,CAAC,EAAEnT,CAAC,CAAC8K,CAAC,CAAC,CAACzJ,IAAI,CAAC8R,IAAI,CAAC,qBAAqB,GAAG9I,CAAC,CAAC;MAC3Q;IACJ;IACA,KAAKS,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG9K,CAAC,CAACsL,MAAM,EAAER,CAAC,EAAE,EAAE,IAAI9K,CAAC,CAAC8K,CAAC,CAAC,CAACY,EAAE,IAAInK,CAAC,CAAC6W,IAAI,EAAE;MAClD,IAAI,CAAC/M,CAAC,GAAGsN,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAAC7Y,CAAC,CAAC8K,CAAC,CAAC,CAAC,CAAC,EAAEY,EAAE,GAAI,uBAAsBnK,CAAC,CAACujC,MAAO,cAAa9kC,CAAC,CAAC8K,CAAC,CAAC,CAACY,EAAG,EAAC,EAAEL,CAAC,CAACoJ,GAAG,GAAI,uBAAsBlT,CAAC,CAACujC,MAAO,cAAavjC,CAAC,CAAC8W,EAAG,EAAC,EAAEhN,CAAC,CAAChK,IAAI,EAAE;QACzK,IAAI0J,CAAC,GAAGM,CAAC,CAAChK,IAAI,CAACiU,OAAO,CAAC,oBAAoB,CAAC;QAC5C,CAAC,CAAC,IAAIvK,CAAC,IAAIM,CAAC,CAAChK,IAAI,CAACsW,MAAM,CAAC5M,CAAC,EAAE,CAAC,CAAC;MAClC;MACA,IAAIM,CAAC,CAAChK,IAAI,KAAKgK,CAAC,CAAChK,IAAI,GAAG,EAAE,CAAC,EAAEgK,CAAC,CAAChK,IAAI,CAAC8R,IAAI,CAAC,sBAAsB,CAAC,EAAE5R,CAAC,CAACF,IAAI,EAAE,KAAK,IAAI4J,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG1J,CAAC,CAACF,IAAI,CAACiK,MAAM,EAAEL,CAAC,EAAE,EAAEI,CAAC,CAAChK,IAAI,CAAC8R,IAAI,CAAC5R,CAAC,CAACF,IAAI,CAAC4J,CAAC,CAAC,CAAC;MACxIjL,CAAC,CAACmT,IAAI,CAAC9H,CAAC,CAAC;MACT;IACJ;EACJ;EACA,IAAItL,CAAC,CAAC6G,WAAW,CAAC0E,MAAM,EAAE,KAAKhK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGvB,CAAC,CAAC6G,WAAW,CAAC0E,MAAM,EAAEhK,CAAC,EAAE,EAAE;IACjE,IAAI4J,CAAC,GAAGnL,CAAC,CAAC6G,WAAW,CAACtF,CAAC,CAAC;IACxB,IAAI,IAAI4J,CAAC,CAAC45B,MAAM,KAAK55B,CAAC,CAAC45B,MAAM,GAAG55B,CAAC,CAACmN,EAAE,CAAC;IACrC,KAAKvN,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG9K,CAAC,CAACsL,MAAM,EAAER,CAAC,EAAE,EAAE,IAAI9K,CAAC,CAAC8K,CAAC,CAAC,CAACY,EAAE,IAAIR,CAAC,CAACkN,IAAI,EAAE;MAClD,IAAI/M,CAAC;MACL,IAAI,CAACA,CAAC,GAAGsN,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAAC7Y,CAAC,CAAC8K,CAAC,CAAC,CAAC,CAAC,EAAEY,EAAE,GAAI,iBAAgBR,CAAC,CAAC45B,MAAO,cAAa9kC,CAAC,CAAC8K,CAAC,CAAC,CAACY,EAAG,EAAC,EAAER,CAAC,CAAC45B,MAAM,IAAI55B,CAAC,CAACmN,EAAE,GAAGhN,CAAC,CAACoJ,GAAG,GAAGvJ,CAAC,CAACmN,EAAE,GAAGhN,CAAC,CAACoJ,GAAG,GAAI,iBAAgBvJ,CAAC,CAAC45B,MAAO,cAAa55B,CAAC,CAACmN,EAAG,EAAC,EAAEhN,CAAC,CAAChK,IAAI,KAAKgK,CAAC,CAAChK,IAAI,GAAG,EAAE,CAAC,EAAEgK,CAAC,CAAChK,IAAI,CAAC8R,IAAI,CAAC,sBAAsB,CAAC,EAAEjI,CAAC,CAAC7J,IAAI,EAAE,KAAK4J,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGC,CAAC,CAAC7J,IAAI,CAACiK,MAAM,EAAEL,CAAC,EAAE,EAAEI,CAAC,CAAChK,IAAI,CAAC8R,IAAI,CAACjI,CAAC,CAAC7J,IAAI,CAAC4J,CAAC,CAAC,CAAC;MAC3TjL,CAAC,CAACmT,IAAI,CAAC9H,CAAC,CAAC;MACT;IACJ;EACJ;EACA,OAAOrL,CAAC;AACZ,CAAC,EAACF,UAAU,CAACmC,OAAO,CAAC0/B,aAAa,GAAG,UAAU5hC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAES,CAAC,EAAEC,CAAC,EAAE;EACnE,KAAK,IAAIE,CAAC,GAAGhL,CAAC,CAACqE,KAAK,EAAE4G,CAAC,GAAG,EAAE,EAAEG,CAAC,GAAG,CAAC,CAAC,EAAEE,CAAC,GAAG,CAAC,CAAC,EAAEC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGP,CAAC,CAACK,MAAM,EAAEE,CAAC,EAAE,EAAE;IACpE,IAAIc,CAAC;MAAEE,CAAC,GAAGvB,CAAC,CAACO,CAAC,CAAC;IACfc,CAAC,GAAGxM,UAAU,CAACqiB,WAAW,GAAG3V,CAAC,CAACnL,IAAI,GAAGmL,CAAC,CAACnL,IAAI,CAACyqB,KAAK,CAAC,GAAG,CAAC,GAAG,EAAE,GAAGlW,KAAK,CAACC,OAAO,CAACrJ,CAAC,CAACnL,IAAI,CAAC,GAAGmL,CAAC,CAACnL,IAAI,CAAC6N,KAAK,CAAC,CAAC,CAAC,GAAG,EAAE,EAAEnE,CAAC,CAAC/I,QAAQ,CAAC6/B,YAAY,CAACr1B,CAAC,CAAC,IAAIF,CAAC,CAAC6G,IAAI,CAAC,QAAQ,CAAC;IAC3J,IAAI/F,CAAC,GAAGrC,CAAC,CAAC7I,QAAQ,CAACs9B,WAAW,CAAChzB,CAAC,CAACd,EAAE,CAAC;IACpC,CAAC,CAAC,KAAK0B,CAAC,GAAGd,CAAC,CAACw1B,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,KAAK10B,CAAC,IAAId,CAAC,CAACw1B,OAAO,CAAC,UAAU,CAAC,EAAEt1B,CAAC,CAACu4B,MAAM,IAAIz4B,CAAC,CAAC6G,IAAI,CAAC3G,CAAC,CAACu4B,MAAM,CAAC;IAC/F,IAAI13B,CAAC,GAAGvN,UAAU,CAACovB,YAAY,CAAC5iB,CAAC,EAAErM,CAAC,CAACoB,IAAI,EAAEpB,CAAC,CAACgG,QAAQ,CAAC;IACtDuG,CAAC,CAACiD,YAAY,KAAKpC,CAAC,GAAGb,CAAC,CAACiD,YAAY,CAAC;IACtC,IAAIzB,CAAC,GAAG,IAAIlO,UAAU,CAACgM,IAAI,CAACU,CAAC,CAACd,EAAE,EAAEc,CAAC,CAACiI,GAAG,EAAEnI,CAAC,EAAEe,CAAC,CAAC;IAC9CW,CAAC,CAACyL,aAAa,GAAG,EAAE,EAAEzL,CAAC,CAACoH,IAAI,GAAG,EAAE,EAAEtV,UAAU,CAACgS,KAAK,CAACtF,CAAC,CAAC8L,IAAI,CAAC,KAAKtK,CAAC,CAACsK,IAAI,GAAG9L,CAAC,CAAC8L,IAAI,CAAC,EAAExY,UAAU,CAACgS,KAAK,CAACtF,CAAC,CAAC6K,KAAK,CAAC,KAAKrJ,CAAC,CAACqJ,KAAK,GAAG7K,CAAC,CAAC6K,KAAK,CAAC,EAAEvX,UAAU,CAACgS,KAAK,CAACtF,CAAC,CAACgJ,GAAG,CAAC,KAAKxH,CAAC,CAACwH,GAAG,GAAGhJ,CAAC,CAACgJ,GAAG,CAAC,EAAE1V,UAAU,CAACgS,KAAK,CAACtF,CAAC,CAACiJ,GAAG,CAAC,KAAKzH,CAAC,CAACyH,GAAG,GAAGjJ,CAAC,CAACiJ,GAAG,CAAC,EAAE3V,UAAU,CAACgS,KAAK,CAACtF,CAAC,CAACu4B,MAAM,CAAC,KAAK/2B,CAAC,CAAC+2B,MAAM,GAAGv4B,CAAC,CAACu4B,MAAM,CAAC,EAAEnvB,KAAK,CAACC,OAAO,CAACrJ,CAAC,CAACkJ,IAAI,CAAC,GAAG1H,CAAC,CAAC0H,IAAI,GAAGlJ,CAAC,CAACkJ,IAAI,GAAG1H,CAAC,CAAC0H,IAAI,GAAG,EAAE,EAAE,IAAI,IAAIzV,CAAC,CAACqH,OAAO,KAAK0G,CAAC,CAAC+zB,KAAK,GAAGjiC,UAAU,CAACmC,OAAO,CAAC+/B,mBAAmB,CAACx1B,CAAC,EAAEvM,CAAC,CAACqH,OAAO,CAAC,CAAC,EAAEvH,CAAC,CAACyM,CAAC,CAACd,EAAE,CAAC,GAAGsC,CAAC,EAAElO,UAAU,CAACgS,KAAK,CAAC9D,CAAC,CAACqJ,KAAK,CAAC,IAAIvX,UAAU,CAACgS,KAAK,CAAC9D,CAAC,CAACwH,GAAG,CAAC,KAAKnK,CAAC,CAAC2C,CAAC,CAACwH,GAAG,CAAC,KAAKnK,CAAC,CAAC2C,CAAC,CAACwH,GAAG,CAAC,GAAG,EAAE,CAAC,EAAEnK,CAAC,CAAC2C,CAAC,CAACwH,GAAG,CAAC,CAACrC,IAAI,CAACnF,CAAC,CAACtC,EAAE,CAAC,CAAC,EAAE5L,UAAU,CAACgS,KAAK,CAAC9D,CAAC,CAACyH,GAAG,CAAC,KAAKpK,CAAC,CAAC2C,CAAC,CAACyH,GAAG,CAAC,KAAKpK,CAAC,CAAC2C,CAAC,CAACyH,GAAG,CAAC,GAAG,EAAE,CAAC,EAAEpK,CAAC,CAAC2C,CAAC,CAACyH,GAAG,CAAC,CAACtC,IAAI,CAACnF,CAAC,CAACtC,EAAE,CAAC,CAAC,EAAE5L,UAAU,CAACgS,KAAK,CAAC9D,CAAC,CAACwH,GAAG,CAAC,IAAI1V,UAAU,CAACgS,KAAK,CAAC9D,CAAC,CAACyH,GAAG,CAAC,IAAI3V,UAAU,CAACgS,KAAK,CAAC9D,CAAC,CAACqJ,KAAK,CAAC,KAAKnM,CAAC,CAACsO,GAAG,CAACxL,CAAC,CAACtC,EAAE,CAAC,IAAIR,CAAC,CAACiI,IAAI,CAACnF,CAAC,CAACtC,EAAE,CAAC,CAAC,KAAKH,CAAC,CAACyC,CAAC,CAACqJ,KAAK,CAAC,KAAK9L,CAAC,CAACyC,CAAC,CAACqJ,KAAK,CAAC,GAAG,EAAE,CAAC,EAAE9L,CAAC,CAACyC,CAAC,CAACqJ,KAAK,CAAC,CAAClE,IAAI,CAACnF,CAAC,CAACtC,EAAE,CAAC,CAAC;EACvxB;EACA,IAAI,IAAI,IAAIzL,CAAC,CAACqH,OAAO,IAAI+D,CAAC,EAAE,KAAK,IAAI4C,CAAC,IAAI5C,CAAC,EAAEA,CAAC,CAAC4C,CAAC,CAAC,CAACoH,IAAI,CAAE,UAAUrV,CAAC,EAAEsB,CAAC,EAAE;IACpE,IAAIC,CAAC,GAAGxB,CAAC,CAACC,CAAC,CAAC,CAAC+hC,KAAK;MAAE13B,CAAC,GAAGtK,CAAC,CAACuB,CAAC,CAAC,CAACygC,KAAK;IAClC,OAAO,QAAQ,IAAI,OAAOxgC,CAAC,IAAI,QAAQ,IAAI,OAAO8I,CAAC,IAAI,IAAI,IAAI9I,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,IAAI8I,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,CAAC,EAAEpK,CAAC,CAACqH,OAAO,CAAC26B,IAAI,GAAG53B,CAAC,GAAG9I,CAAC,GAAGA,CAAC,GAAG8I,CAAC,IAAI,QAAQ,IAAI,OAAO9I,CAAC,IAAI,QAAQ,IAAI,OAAO8I,CAAC,IAAI,IAAI,IAAI9I,CAAC,KAAKA,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,IAAI8I,CAAC,KAAKA,CAAC,GAAG,EAAE,CAAC,EAAEpK,CAAC,CAACqH,OAAO,CAAC26B,IAAI,GAAG53B,CAAC,CAAC63B,aAAa,CAAC3gC,CAAC,CAAC,GAAGA,CAAC,CAAC2gC,aAAa,CAAC73B,CAAC,CAAC,IAAI,KAAK,CAAC;EAC3S,CAAE,CAAC;EACH,KAAKmB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGN,CAAC,CAACI,MAAM,EAAEE,CAAC,EAAE,EAAE;IAC3B,IAAI4C,CAAC,GAAGrO,CAAC,CAACmL,CAAC,CAACM,CAAC,CAAC,CAAC;IACf,IAAI4C,CAAC,EAAE;MACH,IAAIhC,CAAC,GAAG,EAAE;MACVtM,UAAU,CAACmC,OAAO,CAAC+iC,kBAAkB,CAAC52B,CAAC,CAAC1C,EAAE,EAAE0C,CAAC,CAAC1C,EAAE,EAAEH,CAAC,EAAEF,CAAC,EAAEtL,CAAC,EAAEqM,CAAC,CAAC,EAAEtB,CAAC,CAACqI,IAAI,CAAC/G,CAAC,CAAC;IAC5E;EACJ;EACA,KAAKZ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGV,CAAC,CAACQ,MAAM,EAAEE,CAAC,EAAE,EAAE,KAAK,IAAIqP,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG/P,CAAC,CAACQ,MAAM,EAAEuP,CAAC,EAAE,EAAE,IAAIA,CAAC,IAAIrP,CAAC,EAAE;IAC1E,KAAK,IAAImE,CAAC,GAAG7E,CAAC,CAACU,CAAC,CAAC,EAAE+a,CAAC,GAAGzb,CAAC,CAAC+P,CAAC,CAAC,EAAEzL,CAAC,GAAG,CAAC,CAAC,EAAEoX,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG7W,CAAC,CAACrE,MAAM,EAAEkb,CAAC,EAAE,EAAE,IAAID,CAAC,CAAC/M,GAAG,CAAC7J,CAAC,CAAC6W,CAAC,CAAC,CAAC,EAAE;MAC5EpX,CAAC,GAAG,CAAC,CAAC;MACN;IACJ;IACAA,CAAC,KAAKtE,CAAC,CAACU,CAAC,CAAC,GAAGmE,CAAC,CAACoqB,MAAM,CAACxT,CAAC,CAAC,CAACgU,MAAM,CAAC,CAAC,EAAEzvB,CAAC,CAAC+P,CAAC,CAAC,GAAG,EAAE,CAAC;EACjD;EACA,KAAKrP,CAAC,GAAGV,CAAC,CAACQ,MAAM,GAAG,CAAC,EAAEE,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAEV,CAAC,CAACU,CAAC,CAAC,CAACF,MAAM,IAAIR,CAAC,CAAC6M,MAAM,CAACnM,CAAC,EAAE,CAAC,CAAC;EACjE,IAAI,CAACvL,CAAC,CAACiI,KAAK,IAAI,CAACjI,CAAC,CAACiI,KAAK,CAACoD,MAAM,EAAE;IAC7BrL,CAAC,CAACiI,KAAK,GAAG,EAAE;IACZ,KAAKsD,CAAC,GAAGV,CAAC,CAACQ,MAAM,GAAG,CAAC,EAAEE,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAEvL,CAAC,CAACiI,KAAK,CAACiL,IAAI,CAACrI,CAAC,CAACU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC7D;EACA,KAAKA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGvL,CAAC,CAACiI,KAAK,CAACoD,MAAM,EAAEE,CAAC,EAAE,EAAE1L,UAAU,CAACmC,OAAO,CAACgjC,UAAU,CAAChlC,CAAC,CAACiI,KAAK,CAACsD,CAAC,CAAC,EAAED,CAAC,EAAEF,CAAC,EAAEtL,CAAC,EAAEsK,CAAC,EAAErK,CAAC,EAAEsB,CAAC,EAAEC,CAAC,EAAEtB,CAAC,CAAC;AAC1G,CAAC,EAACH,UAAU,CAACmC,OAAO,CAAC+iC,kBAAkB,GAAG,UAAUjlC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAE;EAClE,IAAIS,CAAC,GAAGvJ,CAAC,CAACxB,CAAC,CAAC;EACZ,IAAI+K,CAAC,EAAE;IACHA,CAAC,CAACsK,IAAI,CAACoE,GAAG,CAACxZ,CAAC,CAAC,IAAI8K,CAAC,CAACsK,IAAI,CAACjC,IAAI,CAACnT,CAAC,CAAC;IAC/B,KAAK,IAAI+K,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,CAAC,CAACsK,IAAI,CAAC9J,MAAM,EAAEP,CAAC,EAAE,EAAEV,CAAC,CAACmP,GAAG,CAAC1O,CAAC,CAACsK,IAAI,CAACrK,CAAC,CAAC,CAAC,IAAIV,CAAC,CAAC8I,IAAI,CAACrI,CAAC,CAACsK,IAAI,CAACrK,CAAC,CAAC,CAAC;IAC7E,KAAKA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,CAAC,CAAC4K,IAAI,CAACpK,MAAM,EAAEP,CAAC,EAAE,EAAE;MAChC,IAAIE,CAAC,GAAG1J,CAAC,CAACuJ,CAAC,CAAC4K,IAAI,CAAC3K,CAAC,CAAC,CAAC;MACpB,IAAIE,CAAC,EAAE,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,CAAC,CAACmK,IAAI,CAAC9J,MAAM,EAAEJ,CAAC,EAAE,EAAEb,CAAC,CAACmP,GAAG,CAACvO,CAAC,CAACmK,IAAI,CAAClK,CAAC,CAAC,CAAC,IAAIb,CAAC,CAAC8I,IAAI,CAAClI,CAAC,CAACmK,IAAI,CAAClK,CAAC,CAAC,CAAC;IACxF;IACA,IAAIjL,CAAC,CAAC6K,CAAC,CAACY,EAAE,CAAC,EAAE,KAAKX,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG9K,CAAC,CAAC6K,CAAC,CAACY,EAAE,CAAC,CAACJ,MAAM,EAAEP,CAAC,EAAE,EAAEjL,UAAU,CAACmC,OAAO,CAAC+iC,kBAAkB,CAAC/kC,CAAC,CAAC6K,CAAC,CAACY,EAAE,CAAC,CAACX,CAAC,CAAC,EAAE/K,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,CAAC;IAClH,IAAI/I,CAAC,CAACwJ,CAAC,CAACY,EAAE,CAAC,EAAE,KAAKX,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGzJ,CAAC,CAACwJ,CAAC,CAACY,EAAE,CAAC,CAACJ,MAAM,EAAEP,CAAC,EAAE,EAAEjL,UAAU,CAACmC,OAAO,CAAC+iC,kBAAkB,CAAC1jC,CAAC,CAACwJ,CAAC,CAACY,EAAE,CAAC,CAACX,CAAC,CAAC,EAAE/K,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,CAAC;EACtH;AACJ,CAAC,EAACvK,UAAU,CAACmC,OAAO,CAACgjC,UAAU,GAAG,UAAUllC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAES,CAAC,EAAEC,CAAC,EAAEE,CAAC,EAAE;EACnE,IAAIC,CAAC;IAAEG,CAAC,GAAG/J,CAAC,CAACvB,CAAC,CAAC;IAAEwL,CAAC,GAAGhK,CAAC,GAAGA,CAAC,CAACxB,CAAC,CAAC,GAAG,IAAI;IAAEyL,CAAC,GAAGlK,CAAC,CAAC+J,CAAC,CAACgM,KAAK,CAAC;IAAE/K,CAAC,GAAGhL,CAAC,CAAC+J,CAAC,CAACmK,GAAG,CAAC;IAAEhJ,CAAC,GAAGlL,CAAC,CAAC+J,CAAC,CAACoK,GAAG,CAAC;EAChF,IAAIjK,CAAC,KAAKH,CAAC,CAACgM,KAAK,GAAG,IAAI,CAAC,EAAE/K,CAAC,GAAGE,CAAC,KAAKF,CAAC,CAACjL,IAAI,CAACmY,GAAG,CAAC,SAAS,CAAC,IAAIlN,CAAC,CAACjL,IAAI,CAACmY,GAAG,CAAC,cAAc,CAAC,IAAIlN,CAAC,CAACjL,IAAI,CAACmY,GAAG,CAAC,eAAe,CAAC,CAAC,IAAInO,CAAC,CAACoJ,GAAG,GAAGjI,CAAC,CAACd,EAAE,EAAER,CAAC,GAAGsB,CAAC,EAAEnB,CAAC,CAACiN,IAAI,GAAGhM,CAAC,CAACZ,EAAE,KAAKL,CAAC,CAACoJ,GAAG,GAAGnI,CAAC,CAACZ,EAAE,EAAER,CAAC,GAAGoB,CAAC,EAAEE,CAAC,KAAKnB,CAAC,CAACiN,IAAI,GAAG9L,CAAC,CAACd,EAAE,CAAC,CAAC,GAAGc,CAAC,GAAGF,CAAC,KAAKE,CAAC,CAACnL,IAAI,CAACmY,GAAG,CAAC,SAAS,CAAC,IAAIhN,CAAC,CAACnL,IAAI,CAACmY,GAAG,CAAC,cAAc,CAAC,IAAIhN,CAAC,CAACnL,IAAI,CAACmY,GAAG,CAAC,eAAe,CAAC,CAAC,IAAInO,CAAC,CAACoJ,GAAG,GAAGnI,CAAC,CAACZ,EAAE,EAAER,CAAC,GAAGoB,CAAC,EAAEjB,CAAC,CAACiN,IAAI,GAAG9L,CAAC,CAACd,EAAE,KAAKL,CAAC,CAACoJ,GAAG,GAAGjI,CAAC,CAACd,EAAE,EAAER,CAAC,GAAGsB,CAAC,EAAEF,CAAC,KAAKjB,CAAC,CAACiN,IAAI,GAAGhM,CAAC,CAACZ,EAAE,CAAC,CAAC,GAAGL,CAAC,CAACoJ,GAAG,EAAEjJ,CAAC,EAAE;IAC3Y,IAAI4B,CAAC,GAAG7L,CAAC,GAAGA,CAAC,CAACiK,CAAC,CAACE,EAAE,CAAC,GAAG,IAAI;IAC1B0B,CAAC,KAAK5B,CAAC,CAACtF,GAAG,GAAGkH,CAAC,CAAClH,GAAG,CAAC,EAAEsF,CAAC,CAAC2rB,aAAa,CAAChkB,IAAI,CAAC9H,CAAC,CAACK,EAAE,CAAC;EACpD,CAAC,MAAMY,CAAC,IAAIE,CAAC,IAAIjB,CAAC,KAAKF,CAAC,CAAC6H,SAAS,GAAG3H,CAAC,CAAC2H,SAAS,EAAE7H,CAAC,CAACnF,GAAG,GAAGqF,CAAC,CAACrF,GAAG,CAAC,EAAEgF,CAAC,IAAI,CAACA,CAAC,CAAC+H,WAAW,CAACuG,GAAG,CAACnO,CAAC,CAACK,EAAE,CAAC,IAAIR,CAAC,CAAC+H,WAAW,CAACE,IAAI,CAAC9H,CAAC,CAACK,EAAE,CAAC,EAAEY,CAAC,IAAI,CAACA,CAAC,CAACmN,aAAa,CAACD,GAAG,CAACnO,CAAC,CAACK,EAAE,CAAC,IAAIY,CAAC,CAACmN,aAAa,CAACtG,IAAI,CAAC9H,CAAC,CAACK,EAAE,CAAC,EAAEc,CAAC,IAAI,CAACA,CAAC,CAACiN,aAAa,CAACD,GAAG,CAACnO,CAAC,CAACK,EAAE,CAAC,IAAIc,CAAC,CAACiN,aAAa,CAACtG,IAAI,CAAC9H,CAAC,CAACK,EAAE,CAAC,KAAKH,CAAC,KAAKF,CAAC,CAAC6H,SAAS,GAAG3H,CAAC,CAAC2H,SAAS,EAAE7H,CAAC,CAACnF,GAAG,GAAGqF,CAAC,CAACrF,GAAG,CAAC,EAAEmE,CAAC,CAAC8I,IAAI,CAAC9H,CAAC,CAAC,CAAC;EACzTP,CAAC,IAAIhL,UAAU,CAAC0D,MAAM,CAACzB,IAAI,KAAKsJ,CAAC,CAACnF,GAAG,GAAGpG,UAAU,CAACqvB,OAAO,CAAC9jB,CAAC,EAAEJ,CAAC,CAAC,CAAC;EACjE,KAAK,IAAIoC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGhC,CAAC,CAACqK,IAAI,CAACpK,MAAM,EAAE+B,CAAC,EAAE,EAAE;IACpC,IAAIW,CAAC,GAAG1M,CAAC,CAAC+J,CAAC,CAACqK,IAAI,CAACrI,CAAC,CAAC,CAAC;IACpB,IAAIW,CAAC,EAAE;MACHA,CAAC,CAACyG,GAAG,GAAGpJ,CAAC,CAACK,EAAE;MACZ,IAAIuC,CAAC,GAAG1M,CAAC,GAAGA,CAAC,CAACyM,CAAC,CAACtC,EAAE,CAAC,GAAG,IAAI;MAC1B,IAAIuC,CAAC,KAAKD,CAAC,CAACkF,SAAS,GAAGjF,CAAC,CAACiF,SAAS,EAAElF,CAAC,CAAC9H,GAAG,GAAG+H,CAAC,CAAC/H,GAAG,CAAC,EAAE4E,CAAC,IAAIhL,UAAU,CAAC0D,MAAM,CAACzB,IAAI,KAAKiM,CAAC,CAAC9H,GAAG,GAAGpG,UAAU,CAACqvB,OAAO,CAACnhB,CAAC,EAAE/C,CAAC,CAAC,CAAC,EAAEF,CAAC,IAAIQ,CAAC,IAAI0C,CAAC,IAAIlD,CAAC,CAACW,EAAE,IAAIL,CAAC,CAACK,EAAE,GAAGuC,CAAC,CAAC8I,WAAW,IAAI,CAAC,IAAIxL,CAAC,CAACgK,SAAS,GAAGvH,CAAC,CAAC3M,IAAI,CAAC8R,IAAI,CAAC,cAAc,CAAC,GAAGlF,CAAC,CAAC8I,WAAW,IAAI,CAAC,IAAIxL,CAAC,CAACgK,SAAS,IAAI,CAAC,IAAIhK,CAAC,CAACgK,SAAS,GAAGvH,CAAC,CAAC3M,IAAI,CAAC8R,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,IAAI5H,CAAC,CAACgK,SAAS,GAAGvH,CAAC,CAAC3M,IAAI,CAAC8R,IAAI,CAAC,cAAc,CAAC,GAAGnF,CAAC,CAAC3M,IAAI,CAAC8R,IAAI,CAAC,SAAS,CAAC,GAAGlF,CAAC,IAAI,CAAC,IAAIA,CAAC,CAACsH,SAAS,GAAGvH,CAAC,CAAC3M,IAAI,CAAC8R,IAAI,CAAC,cAAc,CAAC,GAAGlF,CAAC,IAAI,CAAC,IAAIA,CAAC,CAACsH,SAAS,GAAGvH,CAAC,CAAC3M,IAAI,CAAC8R,IAAI,CAAC,eAAe,CAAC,GAAGnF,CAAC,CAAC3M,IAAI,CAAC8R,IAAI,CAAC,SAAS,CAAC,EAAE,CAACrT,UAAU,CAACgS,KAAK,CAAC9D,CAAC,CAAC,IAAI/N,CAAC,CAAC+N,CAAC,CAACtC,EAAE,CAAC,EAAE,KAAK,IAAI0C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGnO,CAAC,CAAC+N,CAAC,CAACtC,EAAE,CAAC,CAACJ,MAAM,EAAE8C,CAAC,EAAE,EAAE;QACpkB,IAAIhC,CAAC,GAAG9K,CAAC,CAACrB,CAAC,CAAC+N,CAAC,CAACtC,EAAE,CAAC,CAAC0C,CAAC,CAAC,CAAC;QACrBhC,CAAC,KAAKtM,UAAU,CAACgS,KAAK,CAAC1F,CAAC,CAACqJ,GAAG,CAAC,IAAI3V,UAAU,CAACgS,KAAK,CAAC1F,CAAC,CAACoJ,GAAG,CAAC,CAAC,IAAI1V,UAAU,CAACmC,OAAO,CAACgjC,UAAU,CAAChlC,CAAC,CAAC+N,CAAC,CAACtC,EAAE,CAAC,CAAC0C,CAAC,CAAC,EAAEpO,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAES,CAAC,EAAEC,CAAC,EAAEE,CAAC,CAAC;MAClI;MACAI,CAAC,CAAC4H,WAAW,CAACE,IAAI,CAACnF,CAAC,CAACtC,EAAE,CAAC;IAC5B;EACJ;EACA,IAAI1L,CAAC,CAACD,CAAC,CAAC,EAAE,KAAKqO,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGpO,CAAC,CAACD,CAAC,CAAC,CAACuL,MAAM,EAAE8C,CAAC,EAAE,EAAEtO,UAAU,CAACmC,OAAO,CAACgjC,UAAU,CAACjlC,CAAC,CAACD,CAAC,CAAC,CAACqO,CAAC,CAAC,EAAEpO,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAES,CAAC,EAAEC,CAAC,EAAEE,CAAC,CAAC;EAC1G,IAAIhL,CAAC,CAACF,CAAC,CAAC,EAAE,KAAKqO,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGnO,CAAC,CAACF,CAAC,CAAC,CAACuL,MAAM,EAAE8C,CAAC,EAAE,EAAEtO,UAAU,CAACmC,OAAO,CAACgjC,UAAU,CAAChlC,CAAC,CAACF,CAAC,CAAC,CAACqO,CAAC,CAAC,EAAEpO,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAES,CAAC,EAAEC,CAAC,EAAEE,CAAC,CAAC;AAC9G,CAAC,EAACnL,UAAU,CAACmC,OAAO,CAACwiC,YAAY,GAAG,UAAU1kC,CAAC,EAAE;EAC7C,IAAIC,CAAC,GAAG,CAACF,UAAU,CAACqf,IAAI,CAAC;EACzB,KAAK,IAAIlf,CAAC,IAAIF,CAAC,CAACoG,WAAW,EAAEnG,CAAC,CAACmT,IAAI,CAACpT,CAAC,CAACoG,WAAW,CAAClG,CAAC,CAAC,CAAC;EACrD,KAAKA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,CAAC,CAACuE,KAAK,CAACgH,MAAM,EAAErL,CAAC,EAAE,EAAE,KAAK,IAAIqB,CAAC,IAAIvB,CAAC,CAACuE,KAAK,CAACrE,CAAC,CAAC,EAAEqB,CAAC,KAAKxB,UAAU,CAACkf,EAAE,IAAI1d,CAAC,KAAKxB,UAAU,CAACqf,IAAI,IAAI7d,CAAC,KAAKxB,UAAU,CAACsf,KAAK,IAAI9d,CAAC,KAAKxB,UAAU,CAACmf,GAAG,IAAI3d,CAAC,KAAKxB,UAAU,CAACof,KAAK,IAAI,KAAK,KAAK5d,CAAC,IAAI,KAAK,KAAKA,CAAC,IAAI,MAAM,KAAKA,CAAC,KAAKvB,CAAC,CAACoG,WAAW,CAAC7E,CAAC,CAAC,IAAItB,CAAC,CAACwZ,GAAG,CAAClY,CAAC,CAAC,IAAItB,CAAC,CAACmT,IAAI,CAAC7R,CAAC,CAAC,CAAC;EACpR,OAAOtB,CAAC;AACZ,CAAC,EAACF,UAAU,CAACuxB,SAAS,GAAG,CAAC,CAAC,EAACvxB,UAAU,CAACuxB,SAAS,CAAC3wB,IAAI,GAAG;EACpDmK,IAAI,EAAG,qlBAAolB/K,UAAU,CAACmJ,IAAI,CAACisB,OAAO,CAAC,EAAE,EAAE,EAAE,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAE,wLAAuLp1B,UAAU,CAACmJ,IAAI,CAAC6rB,KAAK,CAAC,EAAE,EAAE,EAAE,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAE,yLAAwLh1B,UAAU,CAACmJ,IAAI,CAACgsB,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,SAAS,EAAE,CAAC,EAAE,CAAC,CAAE,gMAA+L;EAC/wCzD,IAAI,EAAE,CAAC,GAAG,EAAE,GAAG,CAAC;EAChB0T,YAAY,EAAE;IAACC,KAAK,EAAE,CAAC;IAAEC,KAAK,EAAE,CAAC;IAAEC,GAAG,EAAE,CAAC;IAAEC,GAAG,EAAE;EAAC,CAAC;EAClD33B,MAAM,EAAE;IAACiC,MAAM,EAAE,CAAC;IAAEC,KAAK,EAAE,SAAS;IAAEH,IAAI,EAAE;EAAI,CAAC;EACjD61B,kBAAkB,EAAE,CAAC;EACrBl5B,GAAG,EAAE,qMAAqM;EAC1MT,IAAI,EAAE,gGAAgG;EACtG45B,cAAc,EAAE,yIAAyI;EACzJx6B,OAAO,EAAE,iTAAiT;EAC1Tc,IAAI,EAAE,oGAAoG;EAC1GmB,UAAU,EAAE,+FAA+F,GAAGnN,UAAU,CAAC2Q,IAAI,CAACiO,mBAAmB,GAAG,kNAAkN;EACtWrb,OAAO,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;EACzBoiC,cAAc,EAAG,QAAO3lC,UAAU,CAAC2Q,IAAI,CAACkO,oBAAqB,uDAAsD;EACnH+mB,kBAAkB,EAAE,gFAAgF;EACpGC,uBAAuB,EAAE,iFAAiF;EAC1G9K,EAAE,EAAE,8CAA8C;EAClD+K,KAAK,EAAE,qLAAqL;EAC5LC,YAAY,EAAE,4CAA4C,GAAG/lC,UAAU,CAAC2Q,IAAI,CAACvG,KAAK,GAAG;AACzF,CAAC,EAACpK,UAAU,CAACuxB,SAAS,CAACyU,GAAG,GAAGh4B,MAAM,CAACud,MAAM,CAAC,CAAC,CAAC,EAAEvrB,UAAU,CAACuxB,SAAS,CAAC3wB,IAAI,CAAC,EAACZ,UAAU,CAACuxB,SAAS,CAACyU,GAAG,CAACh6B,IAAI,GAAG,qFAAqF,EAAChM,UAAU,CAACuxB,SAAS,CAACyU,GAAG,CAACtU,IAAI,GAAG,CAAC,EAAE,EAAE,EAAE,CAAC,EAAC1xB,UAAU,CAACuxB,SAAS,CAACyU,GAAG,CAACL,cAAc,GAAG,EAAE,EAAC3lC,UAAU,CAACuxB,SAAS,CAACyU,GAAG,CAACJ,kBAAkB,GAAG,EAAE,EAAC5lC,UAAU,CAACuxB,SAAS,CAACyU,GAAG,CAACH,uBAAuB,GAAG,EAAE,EAAC7lC,UAAU,CAACuxB,SAAS,CAACyU,GAAG,CAACjL,EAAE,GAAG,EAAE,EAAC/6B,UAAU,CAACuxB,SAAS,CAAC0U,IAAI,GAAGj4B,MAAM,CAACud,MAAM,CAAC,CAAC,CAAC,EAAEvrB,UAAU,CAACuxB,SAAS,CAAC3wB,IAAI,CAAC,EAACZ,UAAU,CAACuxB,SAAS,CAAC0U,IAAI,CAACN,cAAc,GAAI,QAAO3lC,UAAU,CAAC2Q,IAAI,CAACkO,oBAAqB,sDAAqD,EAAC7e,UAAU,CAACuxB,SAAS,CAAC0U,IAAI,CAACl7B,IAAI,GAAI,k0CAAi0C/K,UAAU,CAAC4zB,qBAAqB,CAAC,QAAQ,EAAE,SAAS,EAAE,EAAE,EAAE,CAAC,CAAE,yCAAwC5zB,UAAU,CAAC4zB,qBAAqB,CAAC,aAAa,EAAE,SAAS,EAAE,EAAE,EAAE,CAAC,CAAE,yCAAwC5zB,UAAU,CAAC4zB,qBAAqB,CAAC,eAAe,EAAE,SAAS,EAAE,EAAE,EAAE,CAAC,CAAE,EAAC,EAAC5zB,UAAU,CAACuxB,SAAS,CAAC0U,IAAI,CAACC,OAAO,GAAG,QAAQ,GAAGlmC,UAAU,CAAC2Q,IAAI,CAACvG,KAAK,GAAG,kHAAkH,EAACpK,UAAU,CAACuxB,SAAS,CAAC0U,IAAI,CAACE,OAAO,GAAG,QAAQ,GAAGnmC,UAAU,CAAC2Q,IAAI,CAACvG,KAAK,GAAG,iGAAiG,EAACpK,UAAU,CAACuxB,SAAS,CAAC0U,IAAI,CAACj6B,IAAI,GAAG,0CAA0C,EAAChM,UAAU,CAACuxB,SAAS,CAAC0U,IAAI,CAACH,KAAK,GAAG,6IAA6I,EAAC9lC,UAAU,CAACuxB,SAAS,CAAC0U,IAAI,CAACp4B,MAAM,GAAG;EAC32FiC,MAAM,EAAE,EAAE;EACVC,KAAK,EAAE,SAAS;EAChBH,IAAI,EAAE;AACV,CAAC,EAAC5P,UAAU,CAACuxB,SAAS,CAAC0U,IAAI,CAACvU,IAAI,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,EAAC1xB,UAAU,CAACuxB,SAAS,CAAC6U,SAAS,GAAGp4B,MAAM,CAACud,MAAM,CAAC,CAAC,CAAC,EAAEvrB,UAAU,CAACuxB,SAAS,CAAC0U,IAAI,CAAC,EAACjmC,UAAU,CAACuxB,SAAS,CAAC6U,SAAS,CAACp6B,IAAI,IAAI,+CAA+C,EAAChM,UAAU,CAACuxB,SAAS,CAAC6U,SAAS,CAACv4B,MAAM,GAAG;EACvPiC,MAAM,EAAE,EAAE;EACVC,KAAK,EAAE,SAAS;EAChBH,IAAI,EAAE;AACV,CAAC,EAAC5P,UAAU,CAACuxB,SAAS,CAAC8U,WAAW,GAAGr4B,MAAM,CAACud,MAAM,CAAC,CAAC,CAAC,EAAEvrB,UAAU,CAACuxB,SAAS,CAAC0U,IAAI,CAAC,EAACjmC,UAAU,CAACuxB,SAAS,CAAC8U,WAAW,CAACr6B,IAAI,IAAI,iDAAiD,EAAChM,UAAU,CAACuxB,SAAS,CAAC8U,WAAW,CAACx4B,MAAM,GAAG;EACnNiC,MAAM,EAAE,EAAE;EACVC,KAAK,EAAE,SAAS;EAChBH,IAAI,EAAE;AACV,CAAC,EAAC5P,UAAU,CAACuxB,SAAS,CAAC+U,KAAK,GAAGt4B,MAAM,CAACud,MAAM,CAAC,CAAC,CAAC,EAAEvrB,UAAU,CAACuxB,SAAS,CAAC3wB,IAAI,CAAC,EAACZ,UAAU,CAACuxB,SAAS,CAAC+U,KAAK,CAACv7B,IAAI,GAAG,6oCAA6oC,EAAC/K,UAAU,CAACuxB,SAAS,CAAC+U,KAAK,CAACJ,OAAO,GAAG,QAAQ,GAAGlmC,UAAU,CAAC2Q,IAAI,CAACvG,KAAK,GAAG,gHAAgH,EAACpK,UAAU,CAACuxB,SAAS,CAAC+U,KAAK,CAACH,OAAO,GAAG,QAAQ,GAAGnmC,UAAU,CAAC2Q,IAAI,CAACvG,KAAK,GAAG,+FAA+F,EAACpK,UAAU,CAACuxB,SAAS,CAAC+U,KAAK,CAACt6B,IAAI,GAAG,mHAAmH,EAAChM,UAAU,CAACuxB,SAAS,CAACgV,UAAU,GAAGv4B,MAAM,CAACud,MAAM,CAAC,CAAC,CAAC,EAAEvrB,UAAU,CAACuxB,SAAS,CAAC+U,KAAK,CAAC,EAACtmC,UAAU,CAACuxB,SAAS,CAACgV,UAAU,CAACv6B,IAAI,GAAG,mHAAmH,EAAChM,UAAU,CAACuxB,SAAS,CAACiV,YAAY,GAAGx4B,MAAM,CAACud,MAAM,CAAC,CAAC,CAAC,EAAEvrB,UAAU,CAACuxB,SAAS,CAAC+U,KAAK,CAAC,EAACtmC,UAAU,CAACuxB,SAAS,CAACiV,YAAY,CAACx6B,IAAI,GAAG,mHAAmH,EAAChM,UAAU,CAACuxB,SAAS,CAACkV,IAAI,GAAGz4B,MAAM,CAACud,MAAM,CAAC,CAAC,CAAC,EAAEvrB,UAAU,CAACuxB,SAAS,CAAC3wB,IAAI,CAAC,EAACZ,UAAU,CAACuxB,SAAS,CAACkV,IAAI,CAAC1L,EAAE,GAAG,6CAA6C,EAAC/6B,UAAU,CAACuxB,SAAS,CAACkV,IAAI,CAACd,cAAc,GAAI,uBAAsB3lC,UAAU,CAAC2Q,IAAI,CAACkO,oBAAqB,wCAAuC,EAAC7e,UAAU,CAACuxB,SAAS,CAACkV,IAAI,CAAC17B,IAAI,GAAI,k8CAAi8C/K,UAAU,CAACmJ,IAAI,CAACgsB,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAE,kyEAAiyE,EAACn1B,UAAU,CAACuxB,SAAS,CAACkV,IAAI,CAACX,KAAK,GAAG,oLAAoL,EAAC9lC,UAAU,CAACuxB,SAAS,CAACkV,IAAI,CAACP,OAAO,GAAG,QAAQ,GAAGlmC,UAAU,CAAC2Q,IAAI,CAACvG,KAAK,GAAG,kHAAkH,EAACpK,UAAU,CAACuxB,SAAS,CAACkV,IAAI,CAACN,OAAO,GAAG,QAAQ,GAAGnmC,UAAU,CAAC2Q,IAAI,CAACvG,KAAK,GAAG,kGAAkG,EAACpK,UAAU,CAACuxB,SAAS,CAACkV,IAAI,CAACz6B,IAAI,GAAG,yHAAyH,EAAChM,UAAU,CAACuxB,SAAS,CAACmV,SAAS,GAAG14B,MAAM,CAACud,MAAM,CAAC,CAAC,CAAC,EAAEvrB,UAAU,CAACuxB,SAAS,CAACkV,IAAI,CAAC,EAACzmC,UAAU,CAACuxB,SAAS,CAACmV,SAAS,CAAC16B,IAAI,GAAG,8HAA8H,EAAChM,UAAU,CAACuxB,SAAS,CAACoV,WAAW,GAAG34B,MAAM,CAACud,MAAM,CAAC,CAAC,CAAC,EAAEvrB,UAAU,CAACuxB,SAAS,CAACkV,IAAI,CAAC,EAACzmC,UAAU,CAACuxB,SAAS,CAACoV,WAAW,CAAC36B,IAAI,GAAG,gIAAgI,EAAChM,UAAU,CAACuxB,SAAS,CAACmE,MAAM,GAAG1nB,MAAM,CAACud,MAAM,CAAC,CAAC,CAAC,EAAEvrB,UAAU,CAACuxB,SAAS,CAAC3wB,IAAI,CAAC,EAACZ,UAAU,CAACuxB,SAAS,CAACmE,MAAM,CAACqF,EAAE,GAAG,EAAE,EAAC/6B,UAAU,CAACuxB,SAAS,CAACmE,MAAM,CAAC1pB,IAAI,GAAG,+NAA+N,GAAGhM,UAAU,CAACmJ,IAAI,CAACusB,MAAM,CAAC,EAAE,EAAE,EAAE,EAAE,SAAS,EAAE,EAAE,EAAE,EAAE,CAAC,EAAC11B,UAAU,CAACuxB,SAAS,CAACmE,MAAM,CAACwQ,OAAO,GAAG,EAAE,EAAClmC,UAAU,CAACuxB,SAAS,CAACmE,MAAM,CAACyQ,OAAO,GAAG,EAAE,EAACnmC,UAAU,CAACuxB,SAAS,CAACkE,MAAM,GAAGznB,MAAM,CAACud,MAAM,CAAC,CAAC,CAAC,EAAEvrB,UAAU,CAACuxB,SAAS,CAACmE,MAAM,CAAC,EAAC11B,UAAU,CAACuxB,SAAS,CAACkE,MAAM,CAACzpB,IAAI,GAAG,4OAA4O,GAAGhM,UAAU,CAACmJ,IAAI,CAACssB,MAAM,CAAC,EAAE,EAAE,EAAE,EAAE,SAAS,EAAE,EAAE,EAAE,EAAE,CAAC,EAACz1B,UAAU,CAACuxB,SAAS,CAACqV,OAAO,GAAG54B,MAAM,CAACud,MAAM,CAAC,CAAC,CAAC,EAAEvrB,UAAU,CAACuxB,SAAS,CAACmE,MAAM,CAAC,EAAC11B,UAAU,CAACuxB,SAAS,CAACqV,OAAO,CAAC56B,IAAI,GAAG,6OAA6O,EAAChM,UAAU,CAACuxB,SAAS,CAAC+D,GAAG,GAAGtnB,MAAM,CAACud,MAAM,CAAC,CAAC,CAAC,EAAEvrB,UAAU,CAACuxB,SAAS,CAACmE,MAAM,CAAC,EAAC11B,UAAU,CAACuxB,SAAS,CAAC+D,GAAG,CAACtpB,IAAI,GAAG,yOAAyO,GAAGhM,UAAU,CAACmJ,IAAI,CAACmsB,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,SAAS,EAAE,EAAE,EAAE,EAAE,CAAC,EAACt1B,UAAU,CAACuxB,SAAS,CAAC8D,QAAQ,GAAGrnB,MAAM,CAACud,MAAM,CAAC,CAAC,CAAC,EAAEvrB,UAAU,CAACuxB,SAAS,CAACmE,MAAM,CAAC,EAAC11B,UAAU,CAACuxB,SAAS,CAAC8D,QAAQ,CAACrpB,IAAI,GAAG,8OAA8O,GAAGhM,UAAU,CAACmJ,IAAI,CAACksB,QAAQ,CAAC,EAAE,EAAE,EAAE,EAAE,SAAS,EAAE,EAAE,EAAE,EAAE,CAAC,EAACr1B,UAAU,CAACuxB,SAAS,CAACiE,OAAO,GAAGxnB,MAAM,CAACud,MAAM,CAAC,CAAC,CAAC,EAAEvrB,UAAU,CAACuxB,SAAS,CAACmE,MAAM,CAAC,EAAC11B,UAAU,CAACuxB,SAAS,CAACiE,OAAO,CAACxpB,IAAI,GAAG,6OAA6O,GAAGhM,UAAU,CAACmJ,IAAI,CAACqsB,OAAO,CAAC,EAAE,EAAE,EAAE,EAAE,SAAS,EAAE,EAAE,EAAE,EAAE,CAAC,EAACx1B,UAAU,CAACuxB,SAAS,CAACgE,IAAI,GAAGvnB,MAAM,CAACud,MAAM,CAAC,CAAC,CAAC,EAAEvrB,UAAU,CAACuxB,SAAS,CAACmE,MAAM,CAAC,EAAC11B,UAAU,CAACuxB,SAAS,CAACgE,IAAI,CAACvpB,IAAI,GAAG,0OAA0O,GAAGhM,UAAU,CAACmJ,IAAI,CAACosB,IAAI,CAAC,EAAE,EAAE,EAAE,EAAE,SAAS,EAAE,EAAE,EAAE,EAAE,CAAC,EAACv1B,UAAU,CAACuxB,SAAS,CAACsV,GAAG,GAAG74B,MAAM,CAACud,MAAM,CAAC,CAAC,CAAC,EAAEvrB,UAAU,CAACuxB,SAAS,CAACmE,MAAM,CAAC,EAAC11B,UAAU,CAACuxB,SAAS,CAACsV,GAAG,CAAC76B,IAAI,GAAG,gNAAgN,GAAGhM,UAAU,CAACmJ,IAAI,CAACwsB,KAAK,CAAC,EAAE,EAAE,EAAE,EAAE,SAAS,EAAE,EAAE,EAAE,EAAE,CAAC,EAAC31B,UAAU,CAACuxB,SAAS,CAACuV,MAAM,GAAG94B,MAAM,CAACud,MAAM,CAAC,CAAC,CAAC,EAAEvrB,UAAU,CAACuxB,SAAS,CAAC3wB,IAAI,CAAC,EAACZ,UAAU,CAACuxB,SAAS,CAACuV,MAAM,CAAC/7B,IAAI,GAAG,EAAE,EAAC/K,UAAU,CAACuxB,SAAS,CAACuV,MAAM,CAACpV,IAAI,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,EAAC1xB,UAAU,CAACuxB,SAAS,CAACuV,MAAM,CAACvjC,OAAO,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAACvD,UAAU,CAACuxB,SAAS,CAACuV,MAAM,CAAC96B,IAAI,GAAG,EAAE,EAAChM,UAAU,CAACuxB,SAAS,CAACvF,KAAK,GAAGhe,MAAM,CAACud,MAAM,CAAC,CAAC,CAAC,EAAEvrB,UAAU,CAACuxB,SAAS,CAAC3wB,IAAI,CAAC,EAACZ,UAAU,CAACuxB,SAAS,CAACvF,KAAK,CAAC0F,IAAI,GAAG,CAAC,EAAE,EAAE,EAAE,CAAC,EAAC1xB,UAAU,CAACuxB,SAAS,CAACvF,KAAK,CAAChgB,IAAI,GAAG,qFAAqF,EAAChM,UAAU,CAACuxB,SAAS,CAACwV,MAAM,GAAG;EACpnW3B,YAAY,EAAE,CAAC,CAAC;EAChBt5B,IAAI,EAAE,EAAE;EACRE,IAAI,EAAE,EAAE;EACR25B,cAAc,EAAE,EAAE;EAClBjU,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC;AACf,CAAC,EAAC1xB,UAAU,CAAC+B,EAAE,GAAG;EACdilB,QAAQ,EAAE,CAAC,CAAC;EAAEjc,IAAI,EAAE,SAAAA,CAAU9K,CAAC,EAAE;IAC7B,IAAIC,CAAC,GAAG,EAAE;IACV,KAAK,IAAIC,CAAC,IAAIH,UAAU,CAACuxB,SAAS,EAAE;MAChC,IAAI/vB,CAAC,GAAGxB,UAAU,CAACuxB,SAAS,CAACpxB,CAAC,CAAC;MAC/BqB,CAAC,CAACuJ,IAAI,KAAK/K,UAAU,CAAC+B,EAAE,CAACilB,QAAQ,CAAC7mB,CAAC,CAAC,GAAGH,UAAU,CAAC0P,QAAQ,CAAC,CAAC,EAAExP,CAAC,IAAIsB,CAAC,CAACuJ,IAAI,CAAColB,UAAU,CAAC,UAAU,EAAEnwB,UAAU,CAAC+B,EAAE,CAACilB,QAAQ,CAAC7mB,CAAC,CAAC,CAAC,CAAC;IAChI;IACA,OAAO,QAAQ,GAAGD,CAAC,GAAGD,CAAC,GAAG,SAAS;EACvC,CAAC;EAAEkM,MAAM,EAAE,SAAAA,CAAUlM,CAAC,EAAE;IACpB,OAAOA,CAAC,CAACuE,KAAK,IAAIvE,CAAC,CAACuE,KAAK,CAACgH,MAAM,GAAG,EAAE,GAAGxL,UAAU,CAACiiB,iBAAiB,CAACtJ,OAAO,CAAC,QAAQ,EAAE3Y,UAAU,CAACkiB,GAAG,CAACC,sBAAsB,CAAC;EACjI,CAAC;EAAEjX,OAAO,EAAE,SAAAA,CAAUjL,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;IAC3B,OAAOD,CAAC,KAAKF,UAAU,CAAC0D,MAAM,CAACiH,SAAS,GAAG,EAAE,GAAG3K,UAAU,CAACE,CAAC,CAACD,CAAC,CAACkG,QAAQ,EAAE,CAAC,CAAC,EAAEhG,CAAC,CAAC,CAAC+K,OAAO;EAC3F,CAAC;EAAEc,IAAI,EAAE,SAAAA,CAAU/L,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAES,CAAC,EAAEC,CAAC,EAAEE,CAAC,EAAEC,CAAC,EAAE;IAC7C,IAAIG,CAAC,GAAGvL,UAAU,CAACE,CAAC,CAACD,CAAC,CAAC0P,YAAY,EAAE1P,CAAC,CAACmG,GAAG,EAAE+E,CAAC,CAAC;MAAEM,CAAC,GAAGF,CAAC,CAACS,IAAI,CAACmkB,UAAU,CAAC,KAAK,EAAElwB,CAAC,CAACqP,CAAC,CAAC,CAAC6gB,UAAU,CAAC,KAAK,EAAElwB,CAAC,CAACuM,CAAC,CAAC;IACxGjB,CAAC,CAACR,IAAI,KAAKU,CAAC,GAAGA,CAAC,CAAC0kB,UAAU,CAAC,UAAU,EAAEnwB,UAAU,CAAC+B,EAAE,CAACilB,QAAQ,CAAC/mB,CAAC,CAAC0P,YAAY,CAAC,CAAC,CAAC,EAAE,IAAI,IAAI3E,CAAC,KAAKA,CAAC,GAAGxJ,CAAC,CAAC6E,WAAW,CAAC;IAClH,IAAIqF,CAAC,GAAG;MAACM,IAAI,EAAE/L,CAAC;MAAEglB,IAAI,EAAE/kB;IAAC,CAAC;IAC1B,KAAK,IAAIsM,CAAC,IAAIxB,CAAC,EAAE;MACb,IAAI0B,CAAC;QAAEY,CAAC,GAAGtC,CAAC,CAACwB,CAAC,CAAC;MACftM,CAAC,KAAKwM,CAAC,GAAGxM,CAAC,CAACoN,CAAC,CAAC,CAAC;MACf,IAAIC,CAAC,GAAGvN,UAAU,CAACysB,SAAS,CAACjrB,CAAC,EAAEgL,CAAC,CAAC;MAClC,IAAId,CAAC,CAACka,KAAK,GAAGlZ,CAAC,EAAEhB,CAAC,CAACnL,OAAO,GAAGgL,CAAC,CAACiB,CAAC,CAAC,EAAEd,CAAC,CAACsa,IAAI,GAAG1Y,CAAC,EAAE5B,CAAC,CAAC+4B,KAAK,GAAGj4B,CAAC,EAAE,CAAC,CAAC,KAAKxM,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,OAAO,EAAE,CAACwG,CAAC,EAAEM,CAAC,CAAC,CAAC,IAAI,IAAI,IAAIA,CAAC,CAACka,KAAK,IAAI,IAAI,IAAIla,CAAC,CAACka,KAAK,IAAI,IAAI,IAAIla,CAAC,CAACnL,OAAO,KAAK,CAACgN,CAAC,IAAIA,CAAC,IAAI,CAACvN,UAAU,CAACgS,KAAK,CAACtG,CAAC,CAACka,KAAK,CAAC,CAAC,EAAE;QACjN,IAAI,CAACrY,CAAC,IAAI,QAAQ,IAAI,OAAO7B,CAAC,CAACka,KAAK,EAAE;UAClC,IAAI1X,CAAC,GAAGxC,CAAC,CAACnL,OAAO;UACjB2N,CAAC,KAAKA,CAAC,GAAGA,CAAC,CAACiiB,UAAU,CAAC,MAAM,EAAElwB,CAAC,CAACqP,CAAC,IAAIrP,CAAC,CAACsD,OAAO,GAAGtD,CAAC,CAACsD,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC4sB,UAAU,CAAC,MAAM,EAAElwB,CAAC,CAACqP,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE5D,CAAC,CAACka,KAAK,GAAG5lB,UAAU,CAACgwB,QAAQ,CAACtkB,CAAC,CAACka,KAAK,EAAE1X,CAAC,CAAC;QAChJ;QACA,IAAIC,CAAC,GAAGzC,CAAC,CAACnL,OAAO,CAACoY,OAAO,CAAC,OAAO,EAAEjN,CAAC,CAACka,KAAK,CAAC;QAC3Cna,CAAC,IAAI0C,CAAC,GAAGA,CAAC,CAACgiB,UAAU,CAAC,MAAM,EAAElwB,CAAC,CAACqP,CAAC,IAAIrP,CAAC,CAACsD,OAAO,GAAGtD,CAAC,CAACsD,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC4sB,UAAU,CAAC,MAAM,EAAElwB,CAAC,CAACqP,CAAC,GAAG,CAAC,CAAC,CAAC6gB,UAAU,CAAC,UAAU,EAAEnwB,UAAU,CAAC0P,QAAQ,CAAC,CAAC,CAAC,CAACygB,UAAU,CAAC,WAAW,EAAEnwB,UAAU,CAAC0P,QAAQ,CAAC,CAAC,CAAC;MAChM;IACJ;IACA,IAAIpB,CAAC,GAAGtO,UAAU,CAACqxB,YAAY,CAAClxB,CAAC,EAAEF,CAAC,EAAEwB,CAAC,EAAE8I,CAAC,CAAC;MAAE+B,CAAC,GAAG,MAAM;IACvDwJ,KAAK,CAACC,OAAO,CAAC9V,CAAC,CAACsB,IAAI,CAAC,IAAItB,CAAC,CAACsB,IAAI,CAACiK,MAAM,KAAKc,CAAC,IAAI,GAAG,GAAGrM,CAAC,CAACsB,IAAI,CAACiS,IAAI,CAAC,GAAG,CAAC,CAAC,EAAEvT,CAAC,CAACkB,MAAM,KAAKmL,CAAC,IAAI,cAAc,CAAC;IAC1G,IAAIyO,CAAC,GAAG,EAAE;IACV9a,CAAC,CAACihC,GAAG,KAAKnmB,CAAC,GAAG,OAAO,GAAG9a,CAAC,CAACihC,GAAG,GAAG,GAAG,CAAC;IACpC,IAAIrxB,CAAC,GAAG7P,UAAU,CAAC0gB,WAAW,CAAC/H,OAAO,CAAC,OAAO,EAAEoC,CAAC,CAAC,CAACpC,OAAO,CAAC,MAAM,EAAE1Y,CAAC,CAAC2L,EAAE,CAAC,CAAC+M,OAAO,CAAC,SAAS,EAAErM,CAAC,CAAC,CAACqM,OAAO,CAAC,MAAM,EAAE1Y,CAAC,CAACge,EAAE,CAAC,CAACtF,OAAO,CAAC,SAAS,EAAE1Y,CAAC,CAACuhC,KAAK,CAAC,CAAC7oB,OAAO,CAAC,KAAK,EAAErK,CAAC,CAACuB,CAAC,CAAC,CAAC8I,OAAO,CAAC,KAAK,EAAErK,CAAC,CAACf,CAAC,CAAC;MACpLkZ,CAAC,GAAGzmB,UAAU,CAACsxB,WAAW,CAACnxB,CAAC,EAAEF,CAAC,CAAC;IACpC,OAAOwL,CAAC,GAAG,CAACoE,CAAC,GAAGA,CAAC,CAAC8I,OAAO,CAAC,WAAW,EAAE8N,CAAC,CAAC,KAAKhb,CAAC,IAAIzL,UAAU,CAAC+B,EAAE,CAACilC,QAAQ,CAACxlC,CAAC,EAAEvB,CAAC,EAAEgL,CAAC,EAAEM,CAAC,EAAEH,CAAC,CAAC,CAAC,GAAGpL,UAAU,CAAC+gB,UAAU;EACrH,CAAC;EAAEimB,QAAQ,EAAE,SAAAA,CAAU/mC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;IAClC,IAAI8I,CAAC,GAAG,EAAE;IACV,OAAO,IAAI,IAAItK,CAAC,CAACsC,QAAQ,IAAIrC,CAAC,CAACihC,OAAO,IAAIhhC,CAAC,KAAKH,UAAU,CAAC0D,MAAM,CAACiH,SAAS,KAAKJ,CAAC,IAAI/I,CAAC,CAACmkC,cAAc,CAAChtB,OAAO,CAAC,MAAM,EAAEzY,CAAC,CAAC0L,EAAE,CAAC,CAAC+M,OAAO,CAAC,MAAM,EAAEzY,CAAC,CAACoP,CAAC,GAAG,CAAC,CAAC,CAACqJ,OAAO,CAAC,MAAM,EAAEzY,CAAC,CAACsM,CAAC,GAAG,CAAC,CAAC,CAACmM,OAAO,CAAC,MAAM,EAAEzY,CAAC,CAACoP,CAAC,IAAIpP,CAAC,CAACqD,OAAO,GAAGrD,CAAC,CAACqD,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAACoV,OAAO,CAAC,MAAM,EAAEzY,CAAC,CAACsM,CAAC,IAAItM,CAAC,CAACqD,OAAO,GAAGrD,CAAC,CAACqD,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,IAAItD,CAAC,CAACyC,cAAc,IAAIxC,CAAC,CAACihC,OAAO,IAAIhhC,CAAC,KAAKH,UAAU,CAAC0D,MAAM,CAACiH,SAAS,IAAI3K,UAAU,CAACgS,KAAK,CAACxQ,CAAC,CAACinB,oBAAoB,CAAC,KAAKle,CAAC,IAAI,uDAAuD,GAAG/I,CAAC,CAACinB,oBAAoB,CAAC5Y,CAAC,GAAG,GAAG,GAAGrO,CAAC,CAACinB,oBAAoB,CAAClb,CAAC,GAAG,KAAK,GAAGvN,UAAU,CAAC2Q,IAAI,CAACmO,2BAA2B,GAAG,IAAI,GAAG5e,CAAC,CAAC0L,EAAE,GAAG,gCAAgC,GAAGpK,CAAC,CAACinB,oBAAoB,CAAC1Y,KAAK,GAAG,OAAO,GAAGvO,CAAC,CAACinB,oBAAoB,CAAC3Y,MAAM,GAAG,6BAA6B,GAAGtO,CAAC,CAACinB,oBAAoB,CAACG,MAAM,GAAG,wBAAwB,GAAGpnB,CAAC,CAACinB,oBAAoB,CAAC3Y,MAAM,GAAG,CAAC,GAAG,gBAAgB,GAAGtO,CAAC,CAACinB,oBAAoB,CAAC3Y,MAAM,GAAG,CAAC,GAAG,qCAAqC,GAAGtO,CAAC,CAACinB,oBAAoB,CAACG,MAAM,GAAG,sBAAsB,GAAGpnB,CAAC,CAACinB,oBAAoB,CAAC3Y,MAAM,GAAG,CAAC,GAAG,eAAe,GAAGtO,CAAC,CAACinB,oBAAoB,CAAC3Y,MAAM,GAAG,CAAC,GAAG,oCAAoC,GAAGtO,CAAC,CAACinB,oBAAoB,CAACG,MAAM,GAAG,sBAAsB,GAAGpnB,CAAC,CAACinB,oBAAoB,CAAC3Y,MAAM,GAAG,CAAC,GAAG,eAAe,GAAGtO,CAAC,CAACinB,oBAAoB,CAAC3Y,MAAM,GAAG,CAAC,GAAG,oCAAoC,GAAGtO,CAAC,CAACinB,oBAAoB,CAACG,MAAM,GAAG,eAAe,CAAC,EAAEre,CAAC;EAC30C,CAAC;EAAE2B,iBAAiB,EAAE,SAAAA,CAAUjM,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;IAC3C,IAAI8I,CAAC,GAAG,EAAE;IACV,IAAI/I,CAAC,KAAKxB,UAAU,CAAC0D,MAAM,CAACiH,SAAS,IAAI,CAACzK,CAAC,CAACihC,OAAO,EAAE;MACjD,IAAIn2B,CAAC,GAAG7K,CAAC,CAACD,CAAC,CAACghC,GAAG,GAAGhhC,CAAC,CAACghC,GAAG,GAAG,MAAM,CAAC;QAAEj2B,CAAC,GAAG,CAAC;QAAEE,CAAC,GAAG,CAAC;QAAEC,CAAC,GAAGpL,UAAU,CAACE,CAAC,CAACA,CAAC,CAACyP,YAAY,EAAEzP,CAAC,CAACkG,GAAG,EAAE3E,CAAC,CAAC;MAC3F,IAAIvB,CAAC,CAACiT,WAAW,CAAC3H,MAAM,GAAG,CAAC,EAAE;QAC1B,IAAItL,CAAC,CAAC+W,WAAW,EAAE;UACf,KAAK,IAAI1L,CAAC,GAAG,CAAC,CAAC,EAAEE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGvL,CAAC,CAACiT,WAAW,CAAC3H,MAAM,EAAEC,CAAC,EAAE,EAAE;YACnD,IAAIC,CAAC,GAAGzL,CAAC,CAACoP,OAAO,CAACnP,CAAC,CAACiT,WAAW,CAAC1H,CAAC,CAAC,CAAC;YACnC,CAACC,CAAC,IAAIA,CAAC,CAACg2B,aAAa,IAAIh2B,CAAC,CAAC+J,SAAS,KAAKlK,CAAC,GAAG,CAAC,CAAC,CAAC;UACpD;UACA,IAAI,CAACA,CAAC,EAAE,OAAO,EAAE;QACrB;QACA,QAAQP,CAAC,CAACnK,WAAW;UACjB,KAAKb,UAAU,CAACa,WAAW,CAACqG,GAAG;UAC/B,KAAKlH,UAAU,CAACa,WAAW,CAAC0T,QAAQ;YAChCtJ,CAAC,GAAG/K,CAAC,CAAC2P,CAAC,GAAG3P,CAAC,CAACoP,CAAC,GAAG,CAAC,EAAEnE,CAAC,GAAGjL,CAAC,CAACqN,CAAC,GAAGrN,CAAC,CAACsM,CAAC;YAChC;UACJ,KAAKxM,UAAU,CAACa,WAAW,CAAC4T,MAAM;UAClC,KAAKzU,UAAU,CAACa,WAAW,CAACyT,WAAW;YACnCrJ,CAAC,GAAG/K,CAAC,CAAC2P,CAAC,GAAG3P,CAAC,CAACoP,CAAC,GAAG,CAAC,EAAEnE,CAAC,GAAGjL,CAAC,CAACqN,CAAC;YAC1B;UACJ,KAAKvN,UAAU,CAACa,WAAW,CAACuT,KAAK;UACjC,KAAKpU,UAAU,CAACa,WAAW,CAACwT,SAAS;YACjCpJ,CAAC,GAAG/K,CAAC,CAAC2P,CAAC,EAAE1E,CAAC,GAAGjL,CAAC,CAACqN,CAAC,GAAGrN,CAAC,CAACsM,CAAC,GAAG,CAAC;YAC1B;UACJ,KAAKxM,UAAU,CAACa,WAAW,CAAC2O,IAAI;UAChC,KAAKxP,UAAU,CAACa,WAAW,CAAC2T,QAAQ;YAChCvJ,CAAC,GAAG/K,CAAC,CAAC2P,CAAC,GAAG3P,CAAC,CAACoP,CAAC,EAAEnE,CAAC,GAAGjL,CAAC,CAACqN,CAAC,GAAGrN,CAAC,CAACsM,CAAC,GAAG,CAAC;QACxC;QACA,IAAIvB,CAAC,IAAIG,CAAC,CAACq6B,kBAAkB,GAAG,CAAC,EAAEt6B,CAAC,IAAIC,CAAC,CAACq6B,kBAAkB,GAAG,CAAC,EAAExlC,CAAC,CAACiT,eAAe,CAAChT,CAAC,CAAC,CAACsL,MAAM,IAAIjB,CAAC,IAAIvK,UAAU,CAAC4gB,cAAc,CAACjI,OAAO,CAAC,MAAM,EAAEzY,CAAC,CAAC0L,EAAE,CAAC,CAAC+M,OAAO,CAAC,KAAK,EAAE1N,CAAC,CAAC,CAAC0N,OAAO,CAAC,KAAK,EAAExN,CAAC,CAAC,EAAEZ,CAAC,IAAIa,CAAC,CAAC67B,IAAI,EAAE18B,CAAC,IAAIvK,UAAU,CAAC+gB,UAAU,KAAKxW,CAAC,IAAIvK,UAAU,CAAC4gB,cAAc,CAACjI,OAAO,CAAC,MAAM,EAAEzY,CAAC,CAAC0L,EAAE,CAAC,CAAC+M,OAAO,CAAC,KAAK,EAAE1N,CAAC,CAAC,CAAC0N,OAAO,CAAC,KAAK,EAAExN,CAAC,CAAC,EAAEZ,CAAC,IAAIa,CAAC,CAAC87B,KAAK,EAAE38B,CAAC,IAAIvK,UAAU,CAAC+gB,UAAU,CAAC,EAAE,CAAC,CAAC,IAAIxW,CAAC,CAACiL,OAAO,CAAC,4BAA4B,CAAC,EAAE;UACvZ,IAAIhJ,CAAC,GAAGxM,UAAU,CAACuzB,sBAAsB,CAACtzB,CAAC,EAAEC,CAAC,CAAC;UAC/CqK,CAAC,GAAGA,CAAC,CAACoO,OAAO,CAAC,4BAA4B,EAAEnM,CAAC,CAAC;QAClD;QACA,IAAI,CAAC,CAAC,IAAIjC,CAAC,CAACiL,OAAO,CAAC,kCAAkC,CAAC,EAAE;UACrD,IAAI9I,CAAC,GAAG1M,UAAU,CAACwzB,2BAA2B,CAACvzB,CAAC,EAAEC,CAAC,CAAC;UACpDqK,CAAC,GAAGA,CAAC,CAACoO,OAAO,CAAC,kCAAkC,EAAEjM,CAAC,CAAC;QACxD;QACA,IAAI,CAAC,CAAC,IAAInC,CAAC,CAACiL,OAAO,CAAC,kBAAkB,CAAC,EAAE;UACrC,IAAIlI,CAAC,GAAGtN,UAAU,CAACqzB,aAAa,CAACpzB,CAAC,EAAEC,CAAC,CAAC;UACtCqK,CAAC,GAAGA,CAAC,CAACoO,OAAO,CAAC,kBAAkB,EAAErL,CAAC,CAAC;QACxC;QACA,IAAI,CAAC,CAAC,IAAI/C,CAAC,CAACiL,OAAO,CAAC,wBAAwB,CAAC,EAAE;UAC3C,IAAIjI,CAAC,GAAGvN,UAAU,CAACszB,kBAAkB,CAACrzB,CAAC,EAAEC,CAAC,CAAC;UAC3CqK,CAAC,GAAGA,CAAC,CAACoO,OAAO,CAAC,wBAAwB,EAAEpL,CAAC,CAAC;QAC9C;MACJ;MACAtN,CAAC,CAACyU,oBAAoB,CAACxU,CAAC,CAAC,KAAKqK,CAAC,IAAIvK,UAAU,CAAC6gB,SAAS,CAAClI,OAAO,CAAC,MAAM,EAAEzY,CAAC,CAAC0L,EAAE,CAAC,CAAC+M,OAAO,CAAC,KAAK,EAAEzY,CAAC,CAAC2P,CAAC,CAAC,CAAC8I,OAAO,CAAC,KAAK,EAAEzY,CAAC,CAACqN,CAAC,CAAC,EAAEhD,CAAC,IAAIa,CAAC,CAAC2vB,EAAE,EAAExwB,CAAC,IAAIvK,UAAU,CAAC+gB,UAAU,CAAC;IACjK;IACA,IAAI7S,CAAC,GAAG;MAACqX,IAAI,EAAEhb,CAAC;MAAEyB,IAAI,EAAE9L;IAAC,CAAC;IAC1B,OAAOF,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,eAAe,EAAE,CAAC3E,CAAC,EAAEiO,CAAC,CAAC,CAAC,EAAEA,CAAC,CAACqX,IAAI;EACrE,CAAC;EAAEzZ,IAAI,EAAE,SAAAA,CAAU7L,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAES,CAAC,EAAE;IACpC,IAAIC,CAAC,GAAGhL,CAAC,CAACihC,GAAG,GAAGjhC,CAAC,CAACihC,GAAG,GAAG,MAAM;MAAE/1B,CAAC,GAAGjL,CAAC,CAACS,cAAc,CAACsK,CAAC,CAAC;MAAEG,CAAC,GAAGpL,UAAU,CAACE,CAAC,CAACD,CAAC,CAAC0P,YAAY,EAAE1P,CAAC,CAACmG,GAAG,EAAEjG,CAAC,CAAC;MAAEoL,CAAC,GAAG,EAAE;MACvGE,CAAC,GAAG,EAAE;MAAEC,CAAC,GAAGP,CAAC,CAACrK,eAAe,GAAG,CAAC;IACrCb,CAAC,CAACkB,MAAM,GAAG,CAAC,KAAKuK,CAAC,GAAGP,CAAC,CAACpK,6BAA6B,GAAG,CAAC,CAAC;IACzD,IAAIyL,CAAC,GAAG,CAAC;MAAEE,CAAC,GAAG1M,UAAU,CAAC2zB,SAAS,CAAC1zB,CAAC,CAAC,CAAC2L,EAAE;MAAE0B,CAAC,GAAG9L,CAAC,CAACkL,CAAC,CAAC,CAACzM,CAAC,CAACge,EAAE,CAAC;MAAE1Q,CAAC,GAAG,KAAK,CAAC;IACrE,IAAItN,CAAC,CAACgX,WAAW,EAAE;MACf1J,CAAC,GAAG;QACAusB,GAAG,EAAE,EAAE;QACPqN,OAAO,EAAE,CAAC,CAAC;QACXC,OAAO,EAAE,CAAC,CAAC;QACXC,QAAQ,EAAE,IAAI;QACdC,UAAU,EAAE,IAAI;QAChBC,2BAA2B,EAAE,CAAC;QAC9BC,QAAQ,EAAE,EAAE;QACZC,OAAO,EAAE,EAAE;QACXxgC,8BAA8B,EAAE/G,CAAC,CAACM,MAAM,CAACyG;MAC7C,CAAC;MACD,KAAK,IAAIiH,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGjO,CAAC,CAACywB,QAAQ,CAACllB,MAAM,EAAE0C,CAAC,EAAE,EAAE;QACxC,CAACI,CAAC,GAAGrO,CAAC,CAACywB,QAAQ,CAACxiB,CAAC,CAAC,EAAEwzB,aAAa,IAAIn0B,CAAC,CAAC65B,OAAO,CAAC94B,CAAC,CAAC1C,EAAE,CAAC,GAAG0C,CAAC,CAACozB,aAAa,EAAEn0B,CAAC,CAACusB,GAAG,CAACzmB,IAAI,CAAC/E,CAAC,CAAC1C,EAAE,CAAC,EAAE,CAAC,IAAI0C,CAAC,CAACozB,aAAa,CAACjsB,SAAS,IAAI,CAAC,CAAC,IAAIlI,CAAC,CAACi6B,QAAQ,CAAChyB,OAAO,CAAClH,CAAC,CAACozB,aAAa,CAAC91B,EAAE,CAAC,IAAI2B,CAAC,CAACi6B,QAAQ,CAACn0B,IAAI,CAAC/E,CAAC,CAACozB,aAAa,CAAC91B,EAAE,CAAC,EAAE2B,CAAC,CAAC45B,OAAO,CAAC74B,CAAC,CAAC1C,EAAE,CAAC,GAAG2B,CAAC,CAACi6B,QAAQ,CAAChyB,OAAO,CAAClH,CAAC,CAACozB,aAAa,CAAC91B,EAAE,CAAC,EAAE2B,CAAC,CAAC+5B,UAAU,KAAK/5B,CAAC,CAAC+5B,UAAU,GAAGh5B,CAAC,CAAC,IAAI,CAAC,IAAIA,CAAC,CAACozB,aAAa,CAACjsB,SAAS,KAAK,CAAC,CAAC,IAAIlI,CAAC,CAACk6B,OAAO,CAACjyB,OAAO,CAAClH,CAAC,CAACozB,aAAa,CAAC91B,EAAE,CAAC,IAAI2B,CAAC,CAACk6B,OAAO,CAACp0B,IAAI,CAAC/E,CAAC,CAACozB,aAAa,CAAC91B,EAAE,CAAC,EAAE2B,CAAC,CAAC45B,OAAO,CAAC74B,CAAC,CAAC1C,EAAE,CAAC,GAAG2B,CAAC,CAACk6B,OAAO,CAACjyB,OAAO,CAAClH,CAAC,CAACozB,aAAa,CAAC91B,EAAE,CAAC,EAAE2B,CAAC,CAAC85B,QAAQ,GAAG/4B,CAAC,CAAC,IAAIA,CAAC,CAACmH,SAAS,KAAKlI,CAAC,CAAC85B,QAAQ,GAAG/4B,CAAC,EAAEf,CAAC,CAAC+5B,UAAU,KAAK/5B,CAAC,CAAC+5B,UAAU,GAAGh5B,CAAC,CAAC,CAAC;MAC1jB;MACAf,CAAC,CAACg6B,2BAA2B,GAAG3zB,IAAI,CAAC0oB,GAAG,CAAC/uB,CAAC,CAACk6B,OAAO,CAACj8B,MAAM,EAAE+B,CAAC,CAACi6B,QAAQ,CAACh8B,MAAM,CAAC,EAAEgB,CAAC,GAAG,CAAC,IAAIe,CAAC,CAACg6B,2BAA2B,GAAGrnC,CAAC,CAACM,MAAM,CAACwG,oBAAoB,GAAG,CAAC,GAAG9G,CAAC,CAACM,MAAM,CAACwG,oBAAoB,GAAG,CAAC,GAAGuG,CAAC,CAACtG,8BAA8B,GAAGsG,CAAC,CAACg6B,2BAA2B,GAAGh6B,CAAC,CAACtG,8BAA8B,GAAG,CAAC;IAC3S;IACA,KAAKiH,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGjO,CAAC,CAACywB,QAAQ,CAACllB,MAAM,EAAE0C,CAAC,EAAE,EAAE;MACpC,IAAIC,CAAC;QAAEG,CAAC,GAAGrO,CAAC,CAACywB,QAAQ,CAACxiB,CAAC,CAAC;QAAE5B,CAAC,GAAG9K,CAAC,CAACkL,CAAC,CAAC,CAAC4B,CAAC,CAAC2P,EAAE,CAAC;QACpClD,CAAC,GAAG;UAAC2sB,EAAE,EAAE,CAAC;UAAEC,EAAE,EAAE,CAAC;UAAEC,EAAE,EAAE,CAAC;UAAEC,EAAE,EAAE,CAAC;UAAEC,EAAE,EAAE,CAAC;UAAEC,EAAE,EAAE,CAAC;UAAEC,EAAE,EAAE,CAAC;UAAEC,EAAE,EAAE,CAAC;UAAEp4B,CAAC,EAAE,CAAC;UAAEtC,CAAC,EAAE,CAAC;UAAE26B,MAAM,EAAE;QAAC,CAAC;QACnFr4B,CAAC,GAAG,CAACzE,CAAC,GAAGpL,UAAU,CAACE,CAAC,CAACoO,CAAC,CAACqB,YAAY,EAAErB,CAAC,CAAClI,GAAG,EAAEjG,CAAC,CAAC,EAAE2L,IAAI;MACzD,IAAIwC,CAAC,CAACk0B,gBAAgB,EAAE,QAAQr3B,CAAC,CAACtK,WAAW;QACzC,KAAKb,UAAU,CAACa,WAAW,CAACqG,GAAG;QAC/B,KAAKlH,UAAU,CAACa,WAAW,CAAC0T,QAAQ;UAChC,IAAIkS,CAAC,GAAG,CAAC,IAAInY,CAAC,CAACnN,MAAM,GAAG,KAAK,CAAC,GAAGmL,CAAC,CAACkC,IAAI,GAAG,CAAClC,CAAC,CAACkC,IAAI,GAAGlB,CAAC,CAACiB,IAAI,IAAI,CAAC;UAC/DwM,CAAC,GAAG/a,UAAU,CAAC+B,EAAE,CAAComC,gBAAgB,CAAC75B,CAAC,CAACozB,aAAa,EAAEpzB,CAAC,EAAElD,CAAC,EAAEM,CAAC,EAAE+a,CAAC,CAAC;UAC/D;QACJ,KAAKzmB,UAAU,CAACa,WAAW,CAAC4T,MAAM;QAClC,KAAKzU,UAAU,CAACa,WAAW,CAACyT,WAAW;UACnCmS,CAAC,GAAG,CAAC,IAAInY,CAAC,CAACnN,MAAM,GAAG,KAAK,CAAC,GAAGmL,CAAC,CAACiC,IAAI,GAAG,CAACjC,CAAC,CAACiC,IAAI,GAAGjB,CAAC,CAACkB,IAAI,IAAI,CAAC;UAC3DuM,CAAC,GAAG/a,UAAU,CAAC+B,EAAE,CAACqmC,gBAAgB,CAAC95B,CAAC,CAACozB,aAAa,EAAEpzB,CAAC,EAAElD,CAAC,EAAEM,CAAC,EAAE+a,CAAC,CAAC;UAC/D;QACJ,KAAKzmB,UAAU,CAACa,WAAW,CAACuT,KAAK;QACjC,KAAKpU,UAAU,CAACa,WAAW,CAACwT,SAAS;UACjCoS,CAAC,GAAG,CAAC,IAAInY,CAAC,CAACnN,MAAM,GAAG,KAAK,CAAC,GAAGmL,CAAC,CAAC8B,IAAI,GAAG,CAAC9B,CAAC,CAAC8B,IAAI,GAAGd,CAAC,CAACe,IAAI,IAAI,CAAC;UAC3D0M,CAAC,GAAG/a,UAAU,CAAC+B,EAAE,CAACsmC,gBAAgB,CAAC/5B,CAAC,CAACozB,aAAa,EAAEpzB,CAAC,EAAElD,CAAC,EAAEM,CAAC,EAAE+a,CAAC,CAAC;UAC/D;QACJ,KAAKzmB,UAAU,CAACa,WAAW,CAAC2O,IAAI;QAChC,KAAKxP,UAAU,CAACa,WAAW,CAAC2T,QAAQ;UAChCiS,CAAC,GAAG,CAAC,IAAInY,CAAC,CAACnN,MAAM,GAAG,KAAK,CAAC,GAAGmL,CAAC,CAAC+B,IAAI,GAAG,CAAC/B,CAAC,CAAC+B,IAAI,GAAGf,CAAC,CAACc,IAAI,IAAI,CAAC;UAC3D2M,CAAC,GAAG/a,UAAU,CAAC+B,EAAE,CAACumC,gBAAgB,CAACh6B,CAAC,CAACozB,aAAa,EAAEpzB,CAAC,EAAElD,CAAC,EAAEM,CAAC,EAAE+a,CAAC,CAAC;MACvE,CAAC,MAAM,IAAIlZ,CAAC,IAAI,CAAC,CAAC,IAAIA,CAAC,CAACusB,GAAG,CAACtkB,OAAO,CAAClH,CAAC,CAAC1C,EAAE,CAAC,EAAE,QAAQT,CAAC,CAACtK,WAAW;QAC5D,KAAKb,UAAU,CAACa,WAAW,CAACqG,GAAG;QAC/B,KAAKlH,UAAU,CAACa,WAAW,CAAC0T,QAAQ;UAChCwG,CAAC,GAAG/a,UAAU,CAAC+B,EAAE,CAACwmC,UAAU,CAACh7B,CAAC,EAAEtN,CAAC,EAAEqO,CAAC,EAAEhC,CAAC,EAAEgB,CAAC,EAAElC,CAAC,CAAC;UAC9C;QACJ,KAAKpL,UAAU,CAACa,WAAW,CAAC4T,MAAM;QAClC,KAAKzU,UAAU,CAACa,WAAW,CAACyT,WAAW;UACnCyG,CAAC,GAAG/a,UAAU,CAAC+B,EAAE,CAACymC,aAAa,CAACj7B,CAAC,EAAEtN,CAAC,EAAEqO,CAAC,EAAEhC,CAAC,EAAEgB,CAAC,EAAElC,CAAC,CAAC;UACjD;QACJ,KAAKpL,UAAU,CAACa,WAAW,CAACuT,KAAK;QACjC,KAAKpU,UAAU,CAACa,WAAW,CAACwT,SAAS;UACjC0G,CAAC,GAAG/a,UAAU,CAAC+B,EAAE,CAAC0mC,YAAY,CAACl7B,CAAC,EAAEtN,CAAC,EAAEqO,CAAC,EAAEhC,CAAC,EAAEgB,CAAC,EAAElC,CAAC,CAAC;UAChD;QACJ,KAAKpL,UAAU,CAACa,WAAW,CAAC2O,IAAI;QAChC,KAAKxP,UAAU,CAACa,WAAW,CAAC2T,QAAQ;UAChCuG,CAAC,GAAG/a,UAAU,CAAC+B,EAAE,CAAC2mC,WAAW,CAACn7B,CAAC,EAAEtN,CAAC,EAAEqO,CAAC,EAAEhC,CAAC,EAAEgB,CAAC,EAAElC,CAAC,CAAC;MACvD,CAAC,MAAM;QACH,IAAIkE,CAAC,GAAGhB,CAAC,CAAC4I,WAAW,IAAI5I,CAAC,CAACmW,aAAa,IAAInW,CAAC,CAACmW,aAAa,CAACvN,WAAW,IAAI5I,CAAC,CAAC0E,MAAM,IAAI1E,CAAC,CAACmW,aAAa,CAACzR,MAAM;UACzG0T,CAAC,GAAGpY,CAAC,CAAC4I,WAAW,IAAI5I,CAAC,CAACkW,YAAY,IAAIlW,CAAC,CAACkW,YAAY,CAACtN,WAAW,IAAI5I,CAAC,CAAC0E,MAAM,IAAI1E,CAAC,CAACkW,YAAY,CAACxR,MAAM;QAC1G,IAAI,CAAC1D,CAAC,IAAIhB,CAAC,CAACnN,MAAM,GAAG,CAAC,KAAKmN,CAAC,CAACmW,aAAa,IAAInW,CAAC,CAACmW,aAAa,CAAC0c,OAAO,EAAE,QAAQh2B,CAAC,CAACtK,WAAW;UACxF,KAAKb,UAAU,CAACa,WAAW,CAACqG,GAAG;UAC/B,KAAKlH,UAAU,CAACa,WAAW,CAAC0T,QAAQ;UACpC,KAAKvU,UAAU,CAACa,WAAW,CAAC4T,MAAM;UAClC,KAAKzU,UAAU,CAACa,WAAW,CAACyT,WAAW;YACnCyG,CAAC,GAAG/a,UAAU,CAAC+B,EAAE,CAACsmC,gBAAgB,CAAC/5B,CAAC,CAACmW,aAAa,EAAEnW,CAAC,EAAElD,CAAC,EAAEM,CAAC,CAAC;YAC5D;UACJ,KAAK1L,UAAU,CAACa,WAAW,CAACuT,KAAK;UACjC,KAAKpU,UAAU,CAACa,WAAW,CAACwT,SAAS;UACrC,KAAKrU,UAAU,CAACa,WAAW,CAAC2O,IAAI;UAChC,KAAKxP,UAAU,CAACa,WAAW,CAAC2T,QAAQ;YAChCuG,CAAC,GAAG/a,UAAU,CAAC+B,EAAE,CAACqmC,gBAAgB,CAAC95B,CAAC,CAACmW,aAAa,EAAEnW,CAAC,EAAElD,CAAC,EAAEM,CAAC,CAAC;QACpE,CAAC,MAAM,IAAI,CAACgb,CAAC,IAAIpY,CAAC,CAACnN,MAAM,GAAG,CAAC,KAAKmN,CAAC,CAACkW,YAAY,IAAIlW,CAAC,CAACkW,YAAY,CAAC2c,OAAO,EAAE,QAAQh2B,CAAC,CAACtK,WAAW;UAC7F,KAAKb,UAAU,CAACa,WAAW,CAACqG,GAAG;UAC/B,KAAKlH,UAAU,CAACa,WAAW,CAAC0T,QAAQ;UACpC,KAAKvU,UAAU,CAACa,WAAW,CAAC4T,MAAM;UAClC,KAAKzU,UAAU,CAACa,WAAW,CAACyT,WAAW;YACnCyG,CAAC,GAAG/a,UAAU,CAAC+B,EAAE,CAACumC,gBAAgB,CAACh6B,CAAC,CAACkW,YAAY,EAAElW,CAAC,EAAElD,CAAC,EAAEM,CAAC,CAAC;YAC3D;UACJ,KAAK1L,UAAU,CAACa,WAAW,CAACuT,KAAK;UACjC,KAAKpU,UAAU,CAACa,WAAW,CAACwT,SAAS;UACrC,KAAKrU,UAAU,CAACa,WAAW,CAAC2O,IAAI;UAChC,KAAKxP,UAAU,CAACa,WAAW,CAAC2T,QAAQ;YAChCuG,CAAC,GAAG/a,UAAU,CAAC+B,EAAE,CAAComC,gBAAgB,CAAC75B,CAAC,CAACkW,YAAY,EAAElW,CAAC,EAAElD,CAAC,EAAEM,CAAC,CAAC;QACnE,CAAC,MAAM,QAAQP,CAAC,CAACtK,WAAW;UACxB,KAAKb,UAAU,CAACa,WAAW,CAACqG,GAAG;UAC/B,KAAKlH,UAAU,CAACa,WAAW,CAAC0T,QAAQ;YAChC,IAAI,CAAC,IAAIjG,CAAC,CAACmH,SAAS,EAAEsF,CAAC,GAAG/a,UAAU,CAAC+B,EAAE,CAACumC,gBAAgB,CAACroC,CAAC,EAAEqO,CAAC,EAAElD,CAAC,EAAEoB,CAAC,CAAC,CAAC,KAAM,IAAI,CAAC,IAAI8B,CAAC,CAACmH,SAAS,EAAEsF,CAAC,GAAG/a,UAAU,CAAC+B,EAAE,CAACsmC,gBAAgB,CAACpoC,CAAC,EAAEqO,CAAC,EAAElD,CAAC,EAAEoB,CAAC,CAAC,CAAC,KAAM;cAClJia,CAAC,GAAG,CAAC,IAAInY,CAAC,CAACnN,MAAM,GAAG,KAAK,CAAC,GAAGmL,CAAC,CAACkC,IAAI,GAAG,CAAClC,CAAC,CAACkC,IAAI,GAAGlB,CAAC,CAACiB,IAAI,IAAI,CAAC;cAC3DwM,CAAC,GAAG/a,UAAU,CAAC+B,EAAE,CAAComC,gBAAgB,CAACloC,CAAC,EAAEqO,CAAC,EAAElD,CAAC,EAAEM,CAAC,EAAE+a,CAAC,CAAC;YACrD;YACA;UACJ,KAAKzmB,UAAU,CAACa,WAAW,CAAC4T,MAAM;UAClC,KAAKzU,UAAU,CAACa,WAAW,CAACyT,WAAW;YACnC,IAAI,CAAC,IAAIhG,CAAC,CAACmH,SAAS,EAAEsF,CAAC,GAAG/a,UAAU,CAAC+B,EAAE,CAACumC,gBAAgB,CAACroC,CAAC,EAAEqO,CAAC,EAAElD,CAAC,EAAEoB,CAAC,CAAC,CAAC,KAAM,IAAI,CAAC,IAAI8B,CAAC,CAACmH,SAAS,EAAEsF,CAAC,GAAG/a,UAAU,CAAC+B,EAAE,CAACsmC,gBAAgB,CAACpoC,CAAC,EAAEqO,CAAC,EAAElD,CAAC,EAAEoB,CAAC,CAAC,CAAC,KAAM;cAClJia,CAAC,GAAG,CAAC,IAAInY,CAAC,CAACnN,MAAM,GAAG,KAAK,CAAC,GAAGmL,CAAC,CAACiC,IAAI,GAAG,CAACjC,CAAC,CAACiC,IAAI,GAAGjB,CAAC,CAACkB,IAAI,IAAI,CAAC;cAC3DuM,CAAC,GAAG/a,UAAU,CAAC+B,EAAE,CAACqmC,gBAAgB,CAACnoC,CAAC,EAAEqO,CAAC,EAAElD,CAAC,EAAEM,CAAC,EAAE+a,CAAC,CAAC;YACrD;YACA;UACJ,KAAKzmB,UAAU,CAACa,WAAW,CAACuT,KAAK;UACjC,KAAKpU,UAAU,CAACa,WAAW,CAACwT,SAAS;YACjC,IAAI,CAAC,IAAI/F,CAAC,CAACmH,SAAS,EAAEsF,CAAC,GAAG/a,UAAU,CAAC+B,EAAE,CAAComC,gBAAgB,CAACloC,CAAC,EAAEqO,CAAC,EAAElD,CAAC,EAAEoB,CAAC,CAAC,CAAC,KAAM,IAAI,CAAC,IAAI8B,CAAC,CAACmH,SAAS,EAAEsF,CAAC,GAAG/a,UAAU,CAAC+B,EAAE,CAACqmC,gBAAgB,CAACnoC,CAAC,EAAEqO,CAAC,EAAElD,CAAC,EAAEoB,CAAC,CAAC,CAAC,KAAM;cAClJia,CAAC,GAAG,CAAC,IAAInY,CAAC,CAACnN,MAAM,GAAG,KAAK,CAAC,GAAGmL,CAAC,CAAC8B,IAAI,GAAG,CAAC9B,CAAC,CAAC8B,IAAI,GAAGd,CAAC,CAACe,IAAI,IAAI,CAAC;cAC3D0M,CAAC,GAAG/a,UAAU,CAAC+B,EAAE,CAACsmC,gBAAgB,CAACpoC,CAAC,EAAEqO,CAAC,EAAElD,CAAC,EAAEM,CAAC,EAAE+a,CAAC,CAAC;YACrD;YACA;UACJ,KAAKzmB,UAAU,CAACa,WAAW,CAAC2O,IAAI;UAChC,KAAKxP,UAAU,CAACa,WAAW,CAAC2T,QAAQ;YAChC,IAAI,CAAC,IAAIlG,CAAC,CAACmH,SAAS,EAAEsF,CAAC,GAAG/a,UAAU,CAAC+B,EAAE,CAAComC,gBAAgB,CAACloC,CAAC,EAAEqO,CAAC,EAAElD,CAAC,EAAEoB,CAAC,CAAC,CAAC,KAAM,IAAI,CAAC,IAAI8B,CAAC,CAACmH,SAAS,EAAEsF,CAAC,GAAG/a,UAAU,CAAC+B,EAAE,CAACqmC,gBAAgB,CAACnoC,CAAC,EAAEqO,CAAC,EAAElD,CAAC,EAAEoB,CAAC,CAAC,CAAC,KAAM;cAClJia,CAAC,GAAG,CAAC,IAAInY,CAAC,CAACnN,MAAM,GAAG,KAAK,CAAC,GAAGmL,CAAC,CAAC+B,IAAI,GAAG,CAAC/B,CAAC,CAAC+B,IAAI,GAAGf,CAAC,CAACc,IAAI,IAAI,CAAC;cAC3D2M,CAAC,GAAG/a,UAAU,CAAC+B,EAAE,CAACumC,gBAAgB,CAACroC,CAAC,EAAEqO,CAAC,EAAElD,CAAC,EAAEM,CAAC,EAAE+a,CAAC,CAAC;YACrD;QACR;MACJ;MACA,IAAIE,CAAC,GAAG3mB,UAAU,CAAC+B,EAAE,CAAC4mC,kBAAkB,CAACzoC,CAAC,EAAED,CAAC,EAAEqO,CAAC,EAAEyM,CAAC,EAAErP,CAAC,EAAEP,CAAC,CAACtK,WAAW,CAAC;MACtE,IAAI8lB,CAAC,EAAExY,CAAC,GAAGwY,CAAC,EAAE9W,CAAC,GAAGA,CAAC,CAAC8I,OAAO,CAAC,WAAW,EAAEgO,CAAC,CAAC,CAAChO,OAAO,CAAC,QAAQ,EAAEgO,CAAC,CAAC,CAAChO,OAAO,CAAC,SAAS,EAAExK,CAAC,CAAC,CAAC,KAAM,IAAI,CAAC,CAAC,IAAI0B,CAAC,CAAC2F,OAAO,CAAC,WAAW,CAAC;QAAE,IAAIuF,CAAC,CAAC2sB,EAAE,IAAI3sB,CAAC,CAAC6sB,EAAE,IAAI7sB,CAAC,CAAC2sB,EAAE,IAAI3sB,CAAC,CAAC+sB,EAAE,IAAI/sB,CAAC,CAAC2sB,EAAE,IAAI3sB,CAAC,CAACitB,EAAE,IAAIjtB,CAAC,CAAC4sB,EAAE,IAAI5sB,CAAC,CAAC8sB,EAAE,IAAI9sB,CAAC,CAAC4sB,EAAE,IAAI5sB,CAAC,CAACgtB,EAAE,IAAIhtB,CAAC,CAAC4sB,EAAE,IAAI5sB,CAAC,CAACktB,EAAE,EAAE95B,CAAC,GAAG,GAAG,GAAG4M,CAAC,CAAC2sB,EAAE,GAAG,GAAG,GAAG3sB,CAAC,CAAC4sB,EAAE,GAAG,IAAI,GAAG5sB,CAAC,CAACitB,EAAE,GAAG,GAAG,GAAGjtB,CAAC,CAACktB,EAAE,EAAEp4B,CAAC,GAAGA,CAAC,CAAC8I,OAAO,CAAC,WAAW,EAAExK,CAAC,CAAC,CAAC,KAAM,IAAIyF,IAAI,CAAC2mB,GAAG,CAACxf,CAAC,CAAC2sB,EAAE,GAAG3sB,CAAC,CAACitB,EAAE,CAAC,IAAIhoC,UAAU,CAACkjB,oBAAoB,IAAItP,IAAI,CAAC2mB,GAAG,CAACxf,CAAC,CAAC2sB,EAAE,GAAG3sB,CAAC,CAAC+sB,EAAE,CAAC,IAAI9nC,UAAU,CAACkjB,oBAAoB,IAAItP,IAAI,CAAC2mB,GAAG,CAACxf,CAAC,CAAC2sB,EAAE,GAAG3sB,CAAC,CAAC6sB,EAAE,CAAC,IAAI5nC,UAAU,CAACkjB,oBAAoB,EAAE/U,CAAC,GAAG,GAAG,GAAG4M,CAAC,CAAC2sB,EAAE,GAAG,GAAG,GAAG3sB,CAAC,CAAC4sB,EAAE,GAAG,IAAI,GAAG5sB,CAAC,CAAC2sB,EAAE,GAAG,GAAG,GAAG3sB,CAAC,CAACktB,EAAE,EAAEp4B,CAAC,GAAGA,CAAC,CAAC8I,OAAO,CAAC,WAAW,EAAExK,CAAC,CAAC,CAAC,KAAM,IAAIyF,IAAI,CAAC2mB,GAAG,CAACxf,CAAC,CAAC4sB,EAAE,GAAG5sB,CAAC,CAACktB,EAAE,CAAC,IAAIjoC,UAAU,CAACkjB,oBAAoB,IAAItP,IAAI,CAAC2mB,GAAG,CAACxf,CAAC,CAAC4sB,EAAE,GAAG5sB,CAAC,CAACgtB,EAAE,CAAC,IAAI/nC,UAAU,CAACkjB,oBAAoB,IAAItP,IAAI,CAAC2mB,GAAG,CAACxf,CAAC,CAAC4sB,EAAE,GAAG5sB,CAAC,CAAC8sB,EAAE,CAAC,IAAI7nC,UAAU,CAACkjB,oBAAoB,EAAE/U,CAAC,GAAG,GAAG,GAAG4M,CAAC,CAAC2sB,EAAE,GAAG,GAAG,GAAG3sB,CAAC,CAAC4sB,EAAE,GAAG,IAAI,GAAG5sB,CAAC,CAACitB,EAAE,GAAG,GAAG,GAAGjtB,CAAC,CAAC4sB,EAAE,EAAE93B,CAAC,GAAGA,CAAC,CAAC8I,OAAO,CAAC,WAAW,EAAExK,CAAC,CAAC,CAAC,KAAM;UAC71B,IAAIyY,CAAC,GAAG5mB,UAAU,CAAC+B,EAAE,CAAC6mC,YAAY,CAAC7tB,CAAC,CAAC2sB,EAAE,EAAE3sB,CAAC,CAAC4sB,EAAE,EAAE5sB,CAAC,CAAC6sB,EAAE,EAAE7sB,CAAC,CAAC8sB,EAAE,EAAE9sB,CAAC,CAAC+sB,EAAE,EAAE/sB,CAAC,CAACgtB,EAAE,CAAC;YAClEjhB,CAAC,GAAG9mB,UAAU,CAAC+B,EAAE,CAAC6mC,YAAY,CAAC7tB,CAAC,CAAC6sB,EAAE,EAAE7sB,CAAC,CAAC8sB,EAAE,EAAE9sB,CAAC,CAAC+sB,EAAE,EAAE/sB,CAAC,CAACgtB,EAAE,EAAEhtB,CAAC,CAACitB,EAAE,EAAEjtB,CAAC,CAACktB,EAAE,CAAC;UACtE95B,CAAC,GAAG,GAAG,GAAGyY,CAAC,CAACsC,EAAE,GAAG,GAAG,GAAGtC,CAAC,CAACuC,EAAE,GAAG,GAAG,GAAGvC,CAAC,CAACwC,EAAE,GAAG,GAAG,GAAGxC,CAAC,CAACyC,EAAE,GAAG,IAAI,GAAGzC,CAAC,CAACiiB,GAAG,GAAG,GAAG,GAAGjiB,CAAC,CAACkiB,GAAG,GAAG,GAAG,GAAGliB,CAAC,CAACmiB,GAAG,GAAG,GAAG,GAAGniB,CAAC,CAACoiB,GAAG,GAAG,IAAI,GAAGliB,CAAC,CAACsC,EAAE,GAAG,GAAG,GAAGtC,CAAC,CAACuC,EAAE,GAAG,IAAI,GAAGvC,CAAC,CAAC+hB,GAAG,GAAG,GAAG,GAAG/hB,CAAC,CAACgiB,GAAG,GAAG,GAAG,GAAGhiB,CAAC,CAACiiB,GAAG,GAAG,GAAG,GAAGjiB,CAAC,CAACkiB,GAAG,GAAG,IAAI,GAAGliB,CAAC,CAACmiB,EAAE,GAAG,GAAG,GAAGniB,CAAC,CAACoiB,EAAE,EAAEr5B,CAAC,GAAGA,CAAC,CAAC8I,OAAO,CAAC,WAAW,EAAExK,CAAC,CAAC;QAChQ;MAAC,OAAM,CAAC,CAAC,IAAI0B,CAAC,CAAC2F,OAAO,CAAC,QAAQ,CAAC,IAAIrH,CAAC,GAAG,GAAG,GAAG4M,CAAC,CAAC2sB,EAAE,GAAG,GAAG,GAAG3sB,CAAC,CAAC4sB,EAAE,GAAG,GAAG,GAAG5sB,CAAC,CAAC6sB,EAAE,GAAG,GAAG,GAAG7sB,CAAC,CAAC8sB,EAAE,GAAG,GAAG,GAAG9sB,CAAC,CAAC+sB,EAAE,GAAG,GAAG,GAAG/sB,CAAC,CAACgtB,EAAE,GAAG,IAAI,GAAGhtB,CAAC,CAACitB,EAAE,GAAG,GAAG,GAAGjtB,CAAC,CAACktB,EAAE,EAAEp4B,CAAC,GAAGA,CAAC,CAAC8I,OAAO,CAAC,QAAQ,EAAExK,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI0B,CAAC,CAAC2F,OAAO,CAAC,SAAS,CAAC,IAAIrH,CAAC,GAAG,GAAG,GAAG4M,CAAC,CAAC2sB,EAAE,GAAG,GAAG,GAAG3sB,CAAC,CAAC4sB,EAAE,GAAG,IAAI,GAAG5sB,CAAC,CAAC6sB,EAAE,GAAG,GAAG,GAAG7sB,CAAC,CAAC8sB,EAAE,GAAG,GAAG,GAAG9sB,CAAC,CAAC+sB,EAAE,GAAG,GAAG,GAAG/sB,CAAC,CAACgtB,EAAE,GAAG,GAAG,GAAGhtB,CAAC,CAACitB,EAAE,GAAG,GAAG,GAAGjtB,CAAC,CAACktB,EAAE,EAAEp4B,CAAC,GAAGA,CAAC,CAAC8I,OAAO,CAAC,SAAS,EAAExK,CAAC,CAAC,KAAKA,CAAC,GAAG0B,CAAC,CAACsgB,UAAU,CAAC,MAAM,EAAEpV,CAAC,CAAC2sB,EAAE,CAAC,CAACvX,UAAU,CAAC,MAAM,EAAEpV,CAAC,CAAC4sB,EAAE,CAAC,CAACxX,UAAU,CAAC,MAAM,EAAEpV,CAAC,CAAC6sB,EAAE,CAAC,CAACzX,UAAU,CAAC,MAAM,EAAEpV,CAAC,CAAC8sB,EAAE,CAAC,CAAC1X,UAAU,CAAC,MAAM,EAAEpV,CAAC,CAAC+sB,EAAE,CAAC,CAAC3X,UAAU,CAAC,MAAM,EAAEpV,CAAC,CAACgtB,EAAE,CAAC,CAAC5X,UAAU,CAAC,MAAM,EAAEpV,CAAC,CAACitB,EAAE,CAAC,CAAC7X,UAAU,CAAC,MAAM,EAAEpV,CAAC,CAACktB,EAAE,CAAC,EAAEp4B,CAAC,GAAG1B,CAAC,CAAC;MAC7iB5C,CAAC,CAAC8H,IAAI,CAACrT,UAAU,CAAC2gB,WAAW,CAAChI,OAAO,CAAC,MAAM,EAAE1Y,CAAC,CAAC2L,EAAE,CAAC,CAAC+M,OAAO,CAAC,SAAS,EAAE,OAAO,GAAGrK,CAAC,CAAC/M,IAAI,CAACiS,IAAI,CAAC,GAAG,CAAC,CAAC,CAACmF,OAAO,CAAC,YAAY,EAAErK,CAAC,CAAC1C,EAAE,CAAC,CAAC;MAC/H,IAAIqb,CAAC,GAAG;QAACjb,IAAI,EAAE/L,CAAC;QAAEkpC,KAAK,EAAE76B,CAAC;QAAE5C,CAAC,EAAEqP,CAAC;QAAEwK,IAAI,EAAE1V,CAAC;QAAEnM,MAAM,EAAE6G;MAAC,CAAC;MACrDvK,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,aAAa,EAAE,CAAC1E,CAAC,EAAE+mB,CAAC,CAAC,CAAC,EAAE1b,CAAC,CAAC8H,IAAI,CAAC4T,CAAC,CAAC1B,IAAI,CAAC,EAAEva,CAAC,IAAIS,CAAC,CAAC4H,IAAI,CAAC;QAC1EzH,EAAE,EAAE3L,CAAC,CAAC2L,EAAE;QACRyxB,OAAO,EAAE/uB,CAAC,CAAC1C,EAAE;QACb2Z,IAAI,EAAE0B,CAAC,CAAC1B;MACZ,CAAC,CAAC;MACF,IAAI2B,CAAC,GAAG,EAAE;MACV,KAAK,IAAI2B,CAAC,IAAI3oB,CAAC,CAACM,MAAM,CAAC8F,WAAW,EAAE;QAChC,IAAIwiB,CAAC,GAAG5oB,CAAC,CAACM,MAAM,CAAC8F,WAAW,CAACuiB,CAAC,CAAC;UAAEE,CAAC,GAAG7oB,CAAC,CAACyL,IAAI,CAAC2C,CAAC,CAAC1C,EAAE,CAAC;QACjD,IAAImd,CAAC,EAAE;UACH,IAAIuU,CAAC,GAAGvU,CAAC,CAACD,CAAC,CAAC;UACZ7B,CAAC,CAACrB,KAAK,GAAG0X,CAAC,EAAErW,CAAC,CAAC1mB,OAAO,GAAG6K,CAAC,CAACyd,CAAC,CAAC,EAAE5B,CAAC,CAACjB,IAAI,GAAG8C,CAAC,EAAE,CAAC,CAAC,KAAK9oB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,OAAO,EAAE,CAAC1E,CAAC,EAAE+mB,CAAC,CAAC,CAAC,KAAKjnB,UAAU,CAACgS,KAAK,CAACiV,CAAC,CAACrB,KAAK,CAAC,IAAI5lB,UAAU,CAACgS,KAAK,CAACiV,CAAC,CAAC1mB,OAAO,CAAC,KAAK2mB,CAAC,IAAID,CAAC,CAAC1mB,OAAO,CAACoY,OAAO,CAAC,OAAO,EAAEsO,CAAC,CAACrB,KAAK,CAAC,CAAC,CAAC;QAC5M;MACJ;MACA,EAAE,IAAIsB,CAAC,KAAKA,CAAC,GAAGlnB,UAAU,CAAC8gB,iBAAiB,CAACnI,OAAO,CAAC,KAAK,EAAEoC,CAAC,CAAClL,CAAC,CAAC,CAAC8I,OAAO,CAAC,KAAK,EAAEoC,CAAC,CAACxN,CAAC,CAAC,CAACoL,OAAO,CAAC,UAAU,EAAE,CAAC,CAAC,GAAGuO,CAAC,GAAGlnB,UAAU,CAAC+gB,UAAU,EAAExV,CAAC,CAAC8H,IAAI,CAAC6T,CAAC,CAAC,CAAC,EAAE3b,CAAC,CAAC8H,IAAI,CAACrT,UAAU,CAAC+gB,UAAU,CAAC;IACtL;IACA,OAAO/V,CAAC,GAAGS,CAAC,GAAGF,CAAC,CAACiI,IAAI,CAAC,EAAE,CAAC;EAC7B,CAAC;EAAEjH,GAAG,EAAE,SAAAA,CAAUtM,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAE;IAChC,OAAOvK,UAAU,CAACE,CAAC,CAACsB,CAAC,CAAC2E,QAAQ,EAAE,CAAC,CAAC,EAAEoE,CAAC,CAAC,CAACgC,GAAG,CAACoM,OAAO,CAAC,KAAK,EAAE1Y,CAAC,CAAC,CAAC0Y,OAAO,CAAC,KAAK,EAAEzY,CAAC,CAAC,CAACyY,OAAO,CAAC,WAAW,EAAExY,CAAC,CAAC,CAACwY,OAAO,CAAC,UAAU,EAAE3Y,UAAU,CAAC+B,EAAE,CAACilB,QAAQ,CAACxlB,CAAC,CAAC2E,QAAQ,CAAC,CAAC,CAACwS,OAAO,CAAC,QAAQ,EAAEnX,CAAC,CAACwC,IAAI,CAAC,CAAC2U,OAAO,CAAC,YAAY,EAAEnX,CAAC,CAAC2E,QAAQ,CAAC,CAACwS,OAAO,CAAC,WAAW,EAAG,YAAY;MACzP,OAAOlX,CAAC;IACZ,CAAE,CAAC;EACP,CAAC;EAAE0L,UAAU,EAAE,SAAAA,CAAUlN,CAAC,EAAE;IACxB,OAAO,IAAI,IAAIA,CAAC,CAAC8C,IAAI,GAAG,EAAE,GAAG/C,UAAU,CAACE,CAAC,CAACD,CAAC,CAACkG,QAAQ,EAAE,CAAC,CAAC,CAAC,CAACgH,UAAU,CAACgjB,UAAU,CAAC,KAAK,EAAElwB,CAAC,CAACsD,OAAO,CAAC;EACrG,CAAC;EAAEqlC,YAAY,EAAE,SAAAA,CAAU3oC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAE;IACzC,IAAIS,CAAC;MAAEC,CAAC;MAAEE,CAAC;MAAEC,CAAC,GAAGpL,UAAU,CAACkjB,oBAAoB;MAAE3X,CAAC,GAAG,CAAC;IACvD,OAAOtL,CAAC,IAAIE,CAAC,IAAIF,CAAC,IAAIwB,CAAC,IAAIvB,CAAC,IAAIsB,CAAC,IAAItB,CAAC,IAAIqK,CAAC,IAAIS,CAAC,GAAGG,CAAC,GAAGhL,CAAC,EAAE8K,CAAC,GAAGM,CAAC,GAAG/J,CAAC,KAAKvB,CAAC,IAAIwB,CAAC,IAAItB,CAAC,IAAIsB,CAAC,KAAKuJ,CAAC,GAAGG,CAAC,GAAGhL,CAAC,EAAE8K,CAAC,GAAGzJ,CAAC,EAAEtB,CAAC,GAAGqK,CAAC,GAAGgB,CAAC,GAAG/J,CAAC,GAAG4J,CAAC,GAAGlL,CAAC,GAAGqK,CAAC,KAAKgB,CAAC,GAAG/J,CAAC,GAAG4J,CAAC,CAAC,CAAC,EAAEnL,CAAC,GAAGwB,CAAC,IAAItB,CAAC,IAAIsB,CAAC,GAAGtB,CAAC,IAAIiL,CAAC,GAAGnL,CAAC,GAAGwB,CAAC,IAAItB,CAAC,IAAIsB,CAAC,KAAKtB,CAAC,IAAIiL,CAAC,CAAC,EAAElL,CAAC,IAAIqK,CAAC,IAAI/I,CAAC,IAAI+I,CAAC,KAAKS,CAAC,GAAG7K,CAAC,EAAE8K,CAAC,GAAGM,CAAC,GAAG/J,CAAC,EAAEvB,CAAC,GAAGwB,CAAC,GAAG0J,CAAC,GAAGhL,CAAC,GAAGiL,CAAC,GAAGnL,CAAC,GAAGwB,CAAC,KAAK0J,CAAC,GAAGhL,CAAC,GAAGiL,CAAC,CAAC,CAAC,EAAElL,CAAC,GAAGqK,CAAC,IAAI/I,CAAC,IAAI+I,CAAC,GAAG/I,CAAC,IAAI4J,CAAC,GAAGlL,CAAC,GAAGqK,CAAC,IAAI/I,CAAC,IAAI+I,CAAC,KAAK/I,CAAC,IAAI4J,CAAC,CAAC,CAAC,EAAE;MACzV8d,EAAE,EAAEjpB,CAAC;MACLkpB,EAAE,EAAEjpB,CAAC;MACLkpB,EAAE,EAAEjpB,CAAC;MACLkpB,EAAE,EAAE7nB,CAAC;MACLynC,EAAE,EAAExnC,CAAC;MACLynC,EAAE,EAAE3+B,CAAC;MACLs+B,GAAG,EAAE79B,CAAC;MACN89B,GAAG,EAAE79B,CAAC;MACN89B,GAAG,EAAE59B,CAAC;MACN69B,GAAG,EAAEz9B;IACT,CAAC;EACL,CAAC;EAAE48B,gBAAgB,EAAE,SAAAA,CAAUloC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;IAC1C,IAAI8I,CAAC;MAAES,CAAC;MAAEC,CAAC;MAAEE,CAAC;MAAEC,CAAC;MAAEG,CAAC,GAAG,CAAC;IACxB,OAAOhB,CAAC,GAAGtK,CAAC,CAAC4P,CAAC,GAAG5P,CAAC,CAACqP,CAAC,GAAG,CAAC,GAAGnP,CAAC,CAACilC,YAAY,CAACG,GAAG,EAAEv6B,CAAC,GAAG/K,CAAC,CAACsN,CAAC,GAAGtN,CAAC,CAACuM,CAAC,GAAGrM,CAAC,CAACilC,YAAY,CAACI,GAAG,EAAEr6B,CAAC,GAAGF,CAAC,GAAG/K,CAAC,CAAC2P,CAAC,GAAG3P,CAAC,CAACoP,CAAC,GAAG,CAAC,GAAGnP,CAAC,CAACilC,YAAY,CAACC,KAAK,EAAEj6B,CAAC,GAAGlL,CAAC,CAACqN,CAAC,GAAGpN,CAAC,CAACilC,YAAY,CAACE,KAAK,EAAE;MAC7JoC,EAAE,EAAEn9B,CAAC;MACLo9B,EAAE,EAAE38B,CAAC;MACL48B,EAAE,EAAEr9B,CAAC;MACLs9B,EAAE,EAAEt8B,CAAC,GAAGtL,CAAC,CAACwkB,aAAa,IAAIxkB,CAAC,CAACwkB,aAAa,CAACvN,WAAW,IAAI,OAAO,IAAIhX,CAAC,CAACyP,YAAY,GAAG1P,CAAC,CAACwkB,aAAa,CAAClX,CAAC,GAAGtN,CAAC,CAACwkB,aAAa,CAACjY,CAAC,GAAGhL,CAAC,GAAG,OAAO,IAAIvB,CAAC,CAAC0P,YAAY,KAAKzP,CAAC,CAACgX,WAAW,IAAIhX,CAAC,CAACiB,MAAM,GAAG,CAAC,CAAC,GAAGiK,CAAC,GAAG,OAAO,IAAIlL,CAAC,CAACyP,YAAY,GAAG3E,CAAC,GAAGxJ,CAAC,GAAG,IAAI,IAAIC,CAAC,GAAGA,CAAC,GAAG2J,CAAC,GAAG5J,CAAC;MAC9PsmC,EAAE,EAAE78B,CAAC;MACL88B,EAAE,EAAEx8B,CAAC;MACLy8B,EAAE,EAAE78B,CAAC;MACL88B,EAAE,EAAE78B,CAAC;MACLyE,CAAC,EAAE5E,CAAC;MACJsC,CAAC,EAAEvN,UAAU,CAACgS,KAAK,CAAC9R,CAAC,CAACwhC,aAAa,CAAC,GAAGn2B,CAAC,GAAG,EAAE,GAAGA,CAAC;MACjD28B,MAAM,EAAE;IACZ,CAAC;EACL,CAAC;EAAEE,gBAAgB,EAAE,SAAAA,CAAUnoC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;IAC1C,IAAI8I,CAAC;MAAES,CAAC;MAAEC,CAAC;MAAEE,CAAC;MAAEC,CAAC;MAAEG,CAAC,GAAG,CAAC;IACxB,OAAOhB,CAAC,GAAGtK,CAAC,CAAC4P,CAAC,GAAG5P,CAAC,CAACqP,CAAC,GAAG,CAAC,GAAGnP,CAAC,CAACilC,YAAY,CAACG,GAAG,EAAEv6B,CAAC,GAAG/K,CAAC,CAACsN,CAAC,GAAGpN,CAAC,CAACilC,YAAY,CAACI,GAAG,EAAEr6B,CAAC,GAAGF,CAAC,GAAG/K,CAAC,CAAC2P,CAAC,GAAG3P,CAAC,CAACoP,CAAC,GAAG,CAAC,GAAGnP,CAAC,CAACilC,YAAY,CAACC,KAAK,EAAEj6B,CAAC,GAAGlL,CAAC,CAACqN,CAAC,GAAGrN,CAAC,CAACsM,CAAC,GAAGrM,CAAC,CAACilC,YAAY,CAACE,KAAK,EAAE;MAC7JoC,EAAE,EAAEn9B,CAAC;MACLo9B,EAAE,EAAE38B,CAAC;MACL48B,EAAE,EAAEr9B,CAAC;MACLs9B,EAAE,EAAEt8B,CAAC,GAAGtL,CAAC,CAACwkB,aAAa,IAAIxkB,CAAC,CAACwkB,aAAa,CAACvN,WAAW,IAAI,OAAO,IAAIhX,CAAC,CAACyP,YAAY,GAAG1P,CAAC,CAACwkB,aAAa,CAAClX,CAAC,GAAG/L,CAAC,GAAG,OAAO,IAAIvB,CAAC,CAAC0P,YAAY,KAAKzP,CAAC,CAACgX,WAAW,IAAIhX,CAAC,CAACiB,MAAM,GAAG,CAAC,CAAC,GAAGiK,CAAC,GAAG,OAAO,IAAIlL,CAAC,CAACyP,YAAY,GAAG3E,CAAC,GAAGxJ,CAAC,GAAG,IAAI,IAAIC,CAAC,GAAGA,CAAC,GAAG2J,CAAC,GAAG5J,CAAC;MAC1OsmC,EAAE,EAAE78B,CAAC;MACL88B,EAAE,EAAEx8B,CAAC;MACLy8B,EAAE,EAAE78B,CAAC;MACL88B,EAAE,EAAE78B,CAAC;MACLyE,CAAC,EAAE5E,CAAC;MACJsC,CAAC,EAAEhC,CAAC,GAAG,EAAE;MACT28B,MAAM,EAAE;IACZ,CAAC;EACL,CAAC;EAAEG,gBAAgB,EAAE,SAAAA,CAAUpoC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;IAC1C,IAAI8I,CAAC;MAAES,CAAC;MAAEC,CAAC;MAAEE,CAAC;MAAEC,CAAC;MAAEG,CAAC;MAAEE,CAAC,GAAG,CAAC;IAC3B,OAAOlB,CAAC,GAAGtK,CAAC,CAAC4P,CAAC,GAAG1P,CAAC,CAACilC,YAAY,CAACG,GAAG,EAAEv6B,CAAC,GAAG/K,CAAC,CAACsN,CAAC,GAAGtN,CAAC,CAACuM,CAAC,GAAG,CAAC,GAAGrM,CAAC,CAACilC,YAAY,CAACI,GAAG,EAAEp6B,CAAC,GAAGlL,CAAC,CAAC2P,CAAC,GAAG3P,CAAC,CAACoP,CAAC,GAAGnP,CAAC,CAACilC,YAAY,CAACC,KAAK,EAAE95B,CAAC,GAAGJ,CAAC,GAAGjL,CAAC,CAACqN,CAAC,GAAGrN,CAAC,CAACsM,CAAC,GAAG,CAAC,GAAGrM,CAAC,CAACilC,YAAY,CAACE,KAAK,EAAEr6B,CAAC,GAAGD,CAAC,EAAE,EAAE,EAAE;MACxK08B,EAAE,EAAEn9B,CAAC;MACLo9B,EAAE,EAAE38B,CAAC;MACL48B,EAAE,EAAEn8B,CAAC,GAAGxL,CAAC,CAACwkB,aAAa,IAAIxkB,CAAC,CAACwkB,aAAa,CAACvN,WAAW,IAAI,OAAO,IAAIhX,CAAC,CAACyP,YAAY,GAAG1P,CAAC,CAACwkB,aAAa,CAAC5U,CAAC,GAAGrO,CAAC,GAAG,OAAO,IAAIvB,CAAC,CAAC0P,YAAY,KAAKzP,CAAC,CAACgX,WAAW,IAAIhX,CAAC,CAACiB,MAAM,GAAG,CAAC,CAAC,GAAGiK,CAAC,GAAG,OAAO,IAAIlL,CAAC,CAACyP,YAAY,GAAGpF,CAAC,GAAG/I,CAAC,GAAG,IAAI,IAAIC,CAAC,GAAGA,CAAC,GAAG2J,CAAC,GAAG5J,CAAC;MAC1OqmC,EAAE,EAAE58B,CAAC;MACL68B,EAAE,EAAEr8B,CAAC;MACLs8B,EAAE,EAAE58B,CAAC;MACL68B,EAAE,EAAE58B,CAAC;MACL68B,EAAE,EAAE18B,CAAC;MACLsE,CAAC,EAAEpE,CAAC,GAAG,EAAE;MACT8B,CAAC,EAAEpC,CAAC;MACJ+8B,MAAM,EAAE;IACZ,CAAC;EACL,CAAC;EAAEI,gBAAgB,EAAE,SAAAA,CAAUroC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;IAC1C,IAAI8I,CAAC;MAAES,CAAC;MAAEC,CAAC;MAAEE,CAAC;MAAEC,CAAC;MAAEG,CAAC;MAAEE,CAAC,GAAG,CAAC;IAC3B,OAAOlB,CAAC,GAAGtK,CAAC,CAAC4P,CAAC,GAAG5P,CAAC,CAACqP,CAAC,GAAGnP,CAAC,CAACilC,YAAY,CAACG,GAAG,EAAEv6B,CAAC,GAAG/K,CAAC,CAACsN,CAAC,GAAGtN,CAAC,CAACuM,CAAC,GAAG,CAAC,GAAGrM,CAAC,CAACilC,YAAY,CAACI,GAAG,EAAEp6B,CAAC,GAAGlL,CAAC,CAAC2P,CAAC,GAAG1P,CAAC,CAACilC,YAAY,CAACC,KAAK,EAAE95B,CAAC,GAAGJ,CAAC,GAAGjL,CAAC,CAACqN,CAAC,GAAGrN,CAAC,CAACsM,CAAC,GAAG,CAAC,GAAGrM,CAAC,CAACilC,YAAY,CAACE,KAAK,EAAEr6B,CAAC,GAAGD,CAAC,EAAE,GAAG,EAAE;MACzK08B,EAAE,EAAEn9B,CAAC;MACLo9B,EAAE,EAAE38B,CAAC;MACL48B,EAAE,EAAEn8B,CAAC,GAAGxL,CAAC,CAACwkB,aAAa,IAAIxkB,CAAC,CAACwkB,aAAa,CAACvN,WAAW,IAAI,OAAO,IAAIhX,CAAC,CAACyP,YAAY,GAAG1P,CAAC,CAACwkB,aAAa,CAAC5U,CAAC,GAAG5P,CAAC,CAACwkB,aAAa,CAACnV,CAAC,GAAG9N,CAAC,GAAG,OAAO,IAAIvB,CAAC,CAAC0P,YAAY,KAAKzP,CAAC,CAACgX,WAAW,IAAIhX,CAAC,CAACiB,MAAM,GAAG,CAAC,CAAC,GAAGiK,CAAC,GAAG,OAAO,IAAIlL,CAAC,CAACyP,YAAY,GAAGpF,CAAC,GAAG/I,CAAC,GAAG,IAAI,IAAIC,CAAC,GAAGA,CAAC,GAAG2J,CAAC,GAAG5J,CAAC;MAC9PqmC,EAAE,EAAE58B,CAAC;MACL68B,EAAE,EAAEr8B,CAAC;MACLs8B,EAAE,EAAE58B,CAAC;MACL68B,EAAE,EAAE58B,CAAC;MACL68B,EAAE,EAAE18B,CAAC;MACLsE,CAAC,EAAEpE,CAAC,GAAG,EAAE;MACT8B,CAAC,EAAEpC,CAAC;MACJ+8B,MAAM,EAAE;IACZ,CAAC;EACL,CAAC;EAAEK,UAAU,EAAE,SAAAA,CAAUtoC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAE;IACvC,IAAIS,CAAC,GAAG/K,CAAC,CAACmnC,OAAO,CAACjnC,CAAC,CAACyL,EAAE,CAAC;MAAEX,CAAC,GAAGD,CAAC,CAACuC,CAAC,GAAGvC,CAAC,CAACwB,CAAC,GAAG,CAAC;MAAErB,CAAC,GAAG3J,CAAC,CAACgN,IAAI,GAAG,CAAChN,CAAC,CAACgN,IAAI,GAAG/M,CAAC,CAAC8M,IAAI,IAAI,CAAC;MAC1EnD,CAAC,GAAG,CAAC5J,CAAC,CAACgN,IAAI,GAAG/M,CAAC,CAAC8M,IAAI,IAAItO,CAAC,CAACsnC,2BAA2B,GAAG,CAAC;MACzDh8B,CAAC,GAAGvL,UAAU,CAAC+B,EAAE,CAACqnC,iBAAiB,CAACnpC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEgL,CAAC,EAAEC,CAAC,EAAEJ,CAAC,CAAC;MAAES,CAAC,GAAGF,CAAC,CAACsE,CAAC;IAClE,OAAO1E,CAAC,GAAGI,CAAC,CAACmK,GAAG,EAAE1V,UAAU,CAAC+B,EAAE,CAAComC,gBAAgB,CAAC;MAACt4B,CAAC,EAAEpE,CAAC;MAAE8B,CAAC,EAAEtC,CAAC;MAAEqE,CAAC,EAAE,CAAC;MAAE9C,CAAC,EAAE;IAAC,CAAC,EAAErM,CAAC,EAAEoK,CAAC,EAAE,CAAC,EAAEY,CAAC,CAAC;EAC1F,CAAC;EAAEq9B,aAAa,EAAE,SAAAA,CAAUvoC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAE;IAC1C,IAAIS,CAAC,GAAG/K,CAAC,CAACmnC,OAAO,CAACjnC,CAAC,CAACyL,EAAE,CAAC;MAAEX,CAAC,GAAGD,CAAC,CAACuC,CAAC,GAAGvC,CAAC,CAACwB,CAAC,GAAG,CAAC;MAAErB,CAAC,GAAG3J,CAAC,CAAC+M,IAAI,GAAG,CAAC/M,CAAC,CAAC+M,IAAI,GAAG9M,CAAC,CAAC+M,IAAI,IAAI,CAAC;MAC1EpD,CAAC,GAAG,CAAC5J,CAAC,CAAC+M,IAAI,GAAG9M,CAAC,CAAC+M,IAAI,IAAIvO,CAAC,CAACsnC,2BAA2B,GAAG,CAAC;MACzDh8B,CAAC,GAAGvL,UAAU,CAAC+B,EAAE,CAACqnC,iBAAiB,CAACnpC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEgL,CAAC,EAAEC,CAAC,EAAEJ,CAAC,CAAC;MAAES,CAAC,GAAGF,CAAC,CAACsE,CAAC;IAClE,OAAO1E,CAAC,GAAGI,CAAC,CAACmK,GAAG,EAAE1V,UAAU,CAAC+B,EAAE,CAACqmC,gBAAgB,CAAC;MAACv4B,CAAC,EAAEpE,CAAC;MAAE8B,CAAC,EAAEtC,CAAC;MAAEqE,CAAC,EAAE,CAAC;MAAE9C,CAAC,EAAE;IAAC,CAAC,EAAErM,CAAC,EAAEoK,CAAC,EAAE,CAAC,EAAEY,CAAC,CAAC;EAC1F,CAAC;EAAEu9B,WAAW,EAAE,SAAAA,CAAUzoC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAE;IACxC,IAAIS,CAAC,GAAG/K,CAAC,CAACmnC,OAAO,CAACjnC,CAAC,CAACyL,EAAE,CAAC;MAAEX,CAAC,GAAGzJ,CAAC,CAAC6M,IAAI,GAAG,CAAC7M,CAAC,CAAC6M,IAAI,GAAG5M,CAAC,CAAC2M,IAAI,IAAI,CAAC;MACvDjD,CAAC,GAAG,CAAC3J,CAAC,CAAC6M,IAAI,GAAG5M,CAAC,CAAC2M,IAAI,IAAInO,CAAC,CAACsnC,2BAA2B,GAAG,CAAC;MAAEn8B,CAAC,GAAGJ,CAAC,CAAC6E,CAAC,GAAG7E,CAAC,CAACsE,CAAC,GAAG,CAAC;MAC5E/D,CAAC,GAAGvL,UAAU,CAAC+B,EAAE,CAACsnC,iBAAiB,CAACppC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE8K,CAAC,EAAEE,CAAC,EAAEH,CAAC,CAAC;MAAES,CAAC,GAAGF,CAAC,CAACgC,CAAC;IAClE,OAAOtC,CAAC,GAAGM,CAAC,CAACmK,GAAG,EAAE1V,UAAU,CAAC+B,EAAE,CAACumC,gBAAgB,CAAC;MAACz4B,CAAC,EAAEzE,CAAC;MAAEmC,CAAC,EAAE9B,CAAC;MAAE6D,CAAC,EAAE,CAAC;MAAE9C,CAAC,EAAE;IAAC,CAAC,EAAErM,CAAC,EAAEoK,CAAC,EAAE,CAAC,EAAEU,CAAC,CAAC;EAC1F,CAAC;EAAEw9B,YAAY,EAAE,SAAAA,CAAUxoC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAE;IACzC,IAAIS,CAAC,GAAG/K,CAAC,CAACmnC,OAAO,CAACjnC,CAAC,CAACyL,EAAE,CAAC;MAAEX,CAAC,GAAGzJ,CAAC,CAAC4M,IAAI,GAAG,CAAC5M,CAAC,CAAC4M,IAAI,GAAG3M,CAAC,CAAC4M,IAAI,IAAI,CAAC;MACvDlD,CAAC,GAAG,CAAC3J,CAAC,CAAC4M,IAAI,GAAG3M,CAAC,CAAC4M,IAAI,IAAIpO,CAAC,CAACsnC,2BAA2B,GAAG,CAAC;MAAEn8B,CAAC,GAAGJ,CAAC,CAAC6E,CAAC,GAAG7E,CAAC,CAACsE,CAAC,GAAG,CAAC;MAC5E/D,CAAC,GAAGvL,UAAU,CAAC+B,EAAE,CAACsnC,iBAAiB,CAACppC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE8K,CAAC,EAAEE,CAAC,EAAEH,CAAC,CAAC;MAAES,CAAC,GAAGF,CAAC,CAACgC,CAAC;IAClE,OAAOtC,CAAC,GAAGM,CAAC,CAACmK,GAAG,EAAE1V,UAAU,CAAC+B,EAAE,CAACsmC,gBAAgB,CAAC;MAACx4B,CAAC,EAAEzE,CAAC;MAAEmC,CAAC,EAAE9B,CAAC;MAAE6D,CAAC,EAAE,CAAC;MAAE9C,CAAC,EAAE;IAAC,CAAC,EAAErM,CAAC,EAAEoK,CAAC,EAAE,CAAC,EAAEU,CAAC,CAAC;EAC1F,CAAC;EAAEm+B,iBAAiB,EAAE,SAAAA,CAAUnpC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAE;IAC9C,IAAIS,CAAC,GAAG,CAAC;IACT,OAAO,CAAC,IAAIT,CAAC,CAACkL,SAAS,IAAIzK,CAAC,GAAGT,CAAC,CAACsF,CAAC,GAAG3P,CAAC,CAACuiC,iBAAiB,GAAG,CAAC,GAAGxiC,CAAC,CAACknC,OAAO,CAAChnC,CAAC,CAACyL,EAAE,CAAC,GAAG3L,CAAC,CAACgH,8BAA8B,GAAG,CAAChH,CAAC,CAACunC,QAAQ,CAACh8B,MAAM,GAAG,CAAC,IAAIvL,CAAC,CAACgH,8BAA8B,GAAG,CAAC,EAAEhH,CAAC,CAAConC,QAAQ,IAAIr8B,CAAC,GAAG/K,CAAC,CAAConC,QAAQ,CAACx3B,CAAC,GAAG5P,CAAC,CAAConC,QAAQ,CAAC/3B,CAAC,GAAG,CAAC,GAAGtE,CAAC,GAAG7K,CAAC,CAAC0P,CAAC,GAAG1P,CAAC,CAACmP,CAAC,GAAG,CAAC,GAAG9N,CAAC,IAAI,CAACvB,CAAC,CAACknC,OAAO,CAAChnC,CAAC,CAACyL,EAAE,CAAC,GAAG,CAAC,IAAInK,CAAC,GAAGD,CAAC,IAAI,CAACvB,CAAC,CAACunC,QAAQ,CAACh8B,MAAM,GAAGvL,CAAC,CAACknC,OAAO,CAAChnC,CAAC,CAACyL,EAAE,CAAC,IAAInK,CAAC,GAAGuJ,CAAC,GAAG7K,CAAC,CAAC0P,CAAC,GAAG1P,CAAC,CAACmP,CAAC,GAAG,CAAC,GAAG9N,CAAC,IAAI,CAACvB,CAAC,CAACunC,QAAQ,CAACh8B,MAAM,GAAGvL,CAAC,CAACknC,OAAO,CAAChnC,CAAC,CAACyL,EAAE,CAAC,IAAInK,CAAC,GAAGD,CAAC,IAAI,CAACvB,CAAC,CAACknC,OAAO,CAAChnC,CAAC,CAACyL,EAAE,CAAC,GAAG,CAAC,IAAInK,CAAC,IAAI,CAAC,IAAI8I,CAAC,CAACkL,SAAS,KAAKzK,CAAC,GAAGT,CAAC,CAACsF,CAAC,GAAGtF,CAAC,CAAC+E,CAAC,GAAGpP,CAAC,CAACuiC,iBAAiB,GAAG,CAAC,GAAGxiC,CAAC,CAACknC,OAAO,CAAChnC,CAAC,CAACyL,EAAE,CAAC,GAAG3L,CAAC,CAACgH,8BAA8B,GAAG,CAAChH,CAAC,CAACwnC,OAAO,CAACj8B,MAAM,GAAG,CAAC,IAAIvL,CAAC,CAACgH,8BAA8B,GAAG,CAAC,EAAEhH,CAAC,CAACqnC,UAAU,IAAIt8B,CAAC,GAAG/K,CAAC,CAACqnC,UAAU,CAACz3B,CAAC,GAAG5P,CAAC,CAACqnC,UAAU,CAACh4B,CAAC,GAAG,CAAC,GAAGtE,CAAC,GAAG7K,CAAC,CAAC0P,CAAC,GAAG1P,CAAC,CAACmP,CAAC,GAAG,CAAC,GAAG9N,CAAC,IAAI,CAACvB,CAAC,CAACknC,OAAO,CAAChnC,CAAC,CAACyL,EAAE,CAAC,GAAG,CAAC,IAAInK,CAAC,GAAGD,CAAC,IAAI,CAACvB,CAAC,CAACwnC,OAAO,CAACj8B,MAAM,GAAGvL,CAAC,CAACknC,OAAO,CAAChnC,CAAC,CAACyL,EAAE,CAAC,IAAInK,CAAC,GAAGuJ,CAAC,GAAG7K,CAAC,CAAC0P,CAAC,GAAG1P,CAAC,CAACmP,CAAC,GAAG,CAAC,GAAG9N,CAAC,IAAI,CAACvB,CAAC,CAACwnC,OAAO,CAACj8B,MAAM,GAAGvL,CAAC,CAACknC,OAAO,CAAChnC,CAAC,CAACyL,EAAE,CAAC,IAAInK,CAAC,GAAGD,CAAC,IAAI,CAACvB,CAAC,CAACknC,OAAO,CAAChnC,CAAC,CAACyL,EAAE,CAAC,GAAG,CAAC,IAAInK,CAAC,CAAC,EAAE;MACx2BoO,CAAC,EAAE7E,CAAC;MACJ0K,GAAG,EAAElU;IACT,CAAC;EACL,CAAC;EAAE6nC,iBAAiB,EAAE,SAAAA,CAAUppC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAE;IAC9C,IAAIS,CAAC,GAAG,CAAC;IACT,OAAO,CAAC,IAAIT,CAAC,CAACkL,SAAS,IAAIzK,CAAC,GAAGT,CAAC,CAACgD,CAAC,GAAGrN,CAAC,CAACuiC,iBAAiB,GAAG,CAAC,GAAGxiC,CAAC,CAACknC,OAAO,CAAChnC,CAAC,CAACyL,EAAE,CAAC,GAAG3L,CAAC,CAACgH,8BAA8B,GAAG,CAAChH,CAAC,CAACunC,QAAQ,CAACh8B,MAAM,GAAG,CAAC,IAAIvL,CAAC,CAACgH,8BAA8B,GAAG,CAAC,EAAEhH,CAAC,CAAConC,QAAQ,IAAIr8B,CAAC,GAAG/K,CAAC,CAAConC,QAAQ,CAAC95B,CAAC,GAAGtN,CAAC,CAAConC,QAAQ,CAAC76B,CAAC,GAAG,CAAC,GAAGxB,CAAC,GAAG7K,CAAC,CAACoN,CAAC,GAAGpN,CAAC,CAACqM,CAAC,GAAG,CAAC,GAAGhL,CAAC,IAAI,CAACvB,CAAC,CAACknC,OAAO,CAAChnC,CAAC,CAACyL,EAAE,CAAC,GAAG,CAAC,IAAInK,CAAC,GAAGD,CAAC,IAAI,CAACvB,CAAC,CAACunC,QAAQ,CAACh8B,MAAM,GAAGvL,CAAC,CAACknC,OAAO,CAAChnC,CAAC,CAACyL,EAAE,CAAC,IAAInK,CAAC,GAAGuJ,CAAC,GAAG7K,CAAC,CAACoN,CAAC,GAAGpN,CAAC,CAACqM,CAAC,GAAG,CAAC,GAAGhL,CAAC,IAAI,CAACvB,CAAC,CAACunC,QAAQ,CAACh8B,MAAM,GAAGvL,CAAC,CAACknC,OAAO,CAAChnC,CAAC,CAACyL,EAAE,CAAC,IAAInK,CAAC,GAAGD,CAAC,IAAI,CAACvB,CAAC,CAACknC,OAAO,CAAChnC,CAAC,CAACyL,EAAE,CAAC,GAAG,CAAC,IAAInK,CAAC,IAAI,CAAC,IAAI8I,CAAC,CAACkL,SAAS,KAAKzK,CAAC,GAAGT,CAAC,CAACgD,CAAC,GAAGhD,CAAC,CAACiC,CAAC,GAAGtM,CAAC,CAACuiC,iBAAiB,GAAG,CAAC,GAAGxiC,CAAC,CAACknC,OAAO,CAAChnC,CAAC,CAACyL,EAAE,CAAC,GAAG3L,CAAC,CAACgH,8BAA8B,GAAG,CAAChH,CAAC,CAACwnC,OAAO,CAACj8B,MAAM,GAAG,CAAC,IAAIvL,CAAC,CAACgH,8BAA8B,GAAG,CAAC,EAAEhH,CAAC,CAACqnC,UAAU,IAAIt8B,CAAC,GAAG/K,CAAC,CAACqnC,UAAU,CAAC/5B,CAAC,GAAGtN,CAAC,CAACqnC,UAAU,CAAC96B,CAAC,GAAG,CAAC,GAAGxB,CAAC,GAAG7K,CAAC,CAACoN,CAAC,GAAGpN,CAAC,CAACqM,CAAC,GAAG,CAAC,GAAGhL,CAAC,IAAI,CAACvB,CAAC,CAACknC,OAAO,CAAChnC,CAAC,CAACyL,EAAE,CAAC,GAAG,CAAC,IAAInK,CAAC,GAAGD,CAAC,IAAI,CAACvB,CAAC,CAACwnC,OAAO,CAACj8B,MAAM,GAAGvL,CAAC,CAACknC,OAAO,CAAChnC,CAAC,CAACyL,EAAE,CAAC,IAAInK,CAAC,GAAGuJ,CAAC,GAAG7K,CAAC,CAACoN,CAAC,GAAGpN,CAAC,CAACqM,CAAC,GAAG,CAAC,GAAGhL,CAAC,IAAI,CAACvB,CAAC,CAACwnC,OAAO,CAACj8B,MAAM,GAAGvL,CAAC,CAACknC,OAAO,CAAChnC,CAAC,CAACyL,EAAE,CAAC,IAAInK,CAAC,GAAGD,CAAC,IAAI,CAACvB,CAAC,CAACknC,OAAO,CAAChnC,CAAC,CAACyL,EAAE,CAAC,GAAG,CAAC,IAAInK,CAAC,CAAC,EAAE;MACx2B8L,CAAC,EAAEvC,CAAC;MACJ0K,GAAG,EAAElU;IACT,CAAC;EACL,CAAC;EAAEmnC,kBAAkB,EAAE,SAAAA,CAAU1oC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAE;IAC/C,IAAIpK,CAAC,CAACsV,SAAS,EAAE,OAAO,IAAI;IAC5B,IAAItV,CAAC,CAAC+W,WAAW,EAAE,OAAO,IAAI;IAC9B,IAAIlX,UAAU,CAACu0B,QAAQ,CAACp0B,CAAC,CAAC,IAAI,CAACH,UAAU,CAACu0B,QAAQ,CAACr0B,CAAC,CAAC,EAAE;MACnD,IAAI8K,CAAC,GAAG,EAAE;MACV,QAAQT,CAAC;QACL,KAAKvK,UAAU,CAACa,WAAW,CAACqG,GAAG;QAC/B,KAAKlH,UAAU,CAACa,WAAW,CAAC0T,QAAQ;UAChC,IAAI/S,CAAC,CAACqmC,EAAE,GAAGpmC,CAAC,GAAG,CAAC,GAAGD,CAAC,CAACymC,EAAE,EAAE,OAAO,IAAI;UACpC98B,CAAC,GAAG3J,CAAC,CAACkmC,EAAE,GAAGlmC,CAAC,CAACwmC,EAAE,GAAG7nC,CAAC,CAAC0P,CAAC,GAAGpO,CAAC,GAAG,CAAC,GAAGtB,CAAC,CAAC0P,CAAC,GAAG1P,CAAC,CAACmP,CAAC,GAAG7N,CAAC,GAAG,CAAC,EAAE2J,CAAC,GAAGjL,CAAC,CAACoN,CAAC,GAAG9L,CAAC,GAAG,CAAC;UAClE;QACJ,KAAKzB,UAAU,CAACa,WAAW,CAAC4T,MAAM;QAClC,KAAKzU,UAAU,CAACa,WAAW,CAACyT,WAAW;UACnC,IAAI9S,CAAC,CAACqmC,EAAE,GAAGpmC,CAAC,GAAG,CAAC,GAAGD,CAAC,CAACymC,EAAE,EAAE,OAAO,IAAI;UACpC98B,CAAC,GAAG3J,CAAC,CAACkmC,EAAE,GAAGlmC,CAAC,CAACwmC,EAAE,GAAG7nC,CAAC,CAAC0P,CAAC,GAAGpO,CAAC,GAAG,CAAC,GAAGtB,CAAC,CAAC0P,CAAC,GAAG1P,CAAC,CAACmP,CAAC,GAAG7N,CAAC,GAAG,CAAC,EAAE2J,CAAC,GAAGjL,CAAC,CAACoN,CAAC,GAAGpN,CAAC,CAACqM,CAAC,GAAG/K,CAAC,GAAG,CAAC;UACxE;QACJ,KAAKzB,UAAU,CAACa,WAAW,CAACuT,KAAK;QACjC,KAAKpU,UAAU,CAACa,WAAW,CAACwT,SAAS;UACjC,IAAI7S,CAAC,CAAComC,EAAE,GAAGnmC,CAAC,GAAG,CAAC,GAAGD,CAAC,CAACwmC,EAAE,EAAE,OAAO,IAAI;UACpC58B,CAAC,GAAG5J,CAAC,CAACmmC,EAAE,GAAGnmC,CAAC,CAACymC,EAAE,GAAG9nC,CAAC,CAACoN,CAAC,GAAG9L,CAAC,GAAG,CAAC,GAAGtB,CAAC,CAACoN,CAAC,GAAGpN,CAAC,CAACqM,CAAC,GAAG/K,CAAC,GAAG,CAAC,EAAE0J,CAAC,GAAGhL,CAAC,CAAC0P,CAAC,GAAG1P,CAAC,CAACmP,CAAC,GAAG7N,CAAC,GAAG,CAAC;UACxE;QACJ,KAAKzB,UAAU,CAACa,WAAW,CAAC2O,IAAI;QAChC,KAAKxP,UAAU,CAACa,WAAW,CAAC2T,QAAQ;UAChC,IAAIhT,CAAC,CAAComC,EAAE,GAAGnmC,CAAC,GAAG,CAAC,GAAGD,CAAC,CAACwmC,EAAE,EAAE,OAAO,IAAI;UACpC58B,CAAC,GAAG5J,CAAC,CAACmmC,EAAE,GAAGnmC,CAAC,CAACymC,EAAE,GAAG9nC,CAAC,CAACoN,CAAC,GAAG9L,CAAC,GAAG,CAAC,GAAGtB,CAAC,CAACoN,CAAC,GAAGpN,CAAC,CAACqM,CAAC,GAAG/K,CAAC,GAAG,CAAC,EAAE0J,CAAC,GAAGhL,CAAC,CAAC0P,CAAC,GAAGpO,CAAC,GAAG,CAAC;MAC1E;MACA,QAAQ8I,CAAC;QACL,KAAKvK,UAAU,CAACa,WAAW,CAACqG,GAAG;QAC/B,KAAKlH,UAAU,CAACa,WAAW,CAAC0T,QAAQ;QACpC,KAAKvU,UAAU,CAACa,WAAW,CAAC4T,MAAM;QAClC,KAAKzU,UAAU,CAACa,WAAW,CAACyT,WAAW;UACnCtJ,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACkmC,EAAE,EAAElmC,CAAC,CAACmmC,EAAE,CAAC,CAAC,EAAE38B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAAComC,EAAE,EAAEpmC,CAAC,CAACqmC,EAAE,CAAC,CAAC,EAAE78B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAElI,CAAC,EAAE3J,CAAC,CAACqmC,EAAE,CAAC,CAAC,EAAE78B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAElI,CAAC,EAAEC,CAAC,CAAC,CAAC,EAAEJ,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACwmC,EAAE,EAAE58B,CAAC,CAAC,CAAC,EAAEJ,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACwmC,EAAE,EAAExmC,CAAC,CAACymC,EAAE,CAAC,CAAC;UACpJ;QACJ,KAAKjoC,UAAU,CAACa,WAAW,CAACuT,KAAK;QACjC,KAAKpU,UAAU,CAACa,WAAW,CAACwT,SAAS;QACrC,KAAKrU,UAAU,CAACa,WAAW,CAAC2O,IAAI;QAChC,KAAKxP,UAAU,CAACa,WAAW,CAAC2T,QAAQ;UAChC,CAACxJ,CAAC,GAAG,EAAE,EAAEqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACkmC,EAAE,EAAElmC,CAAC,CAACmmC,EAAE,CAAC,CAAC,EAAE38B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAAComC,EAAE,EAAEpmC,CAAC,CAACqmC,EAAE,CAAC,CAAC,EAAE78B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAAComC,EAAE,EAAEx8B,CAAC,CAAC,CAAC,EAAEJ,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAElI,CAAC,EAAEC,CAAC,CAAC,CAAC,EAAEJ,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAElI,CAAC,EAAE3J,CAAC,CAACymC,EAAE,CAAC,CAAC,EAAEj9B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACwmC,EAAE,EAAExmC,CAAC,CAACymC,EAAE,CAAC,CAAC;MACnK;MACA,OAAOjoC,UAAU,CAACo0B,gBAAgB,CAACppB,CAAC,EAAEhL,UAAU,CAACkjB,oBAAoB,EAAE,CAAC,CAAC,CAAC;IAC9E;IACA,IAAI,CAACljB,UAAU,CAACu0B,QAAQ,CAACp0B,CAAC,CAAC,IAAIH,UAAU,CAACu0B,QAAQ,CAACr0B,CAAC,CAAC,EAAE;MACnD,IAAI+K,CAAC,GAAG,CAAC,CAAC;MACVD,CAAC,GAAG,EAAE;MACN,QAAQT,CAAC;QACL,KAAKvK,UAAU,CAACa,WAAW,CAACqG,GAAG;QAC/B,KAAKlH,UAAU,CAACa,WAAW,CAAC0T,QAAQ;UAChC,IAAI/S,CAAC,CAACmmC,EAAE,GAAGlmC,CAAC,GAAG,CAAC,GAAGD,CAAC,CAACqmC,EAAE,EAAE58B,CAAC,GAAG,CAAC,CAAC,EAAEE,CAAC,GAAG3J,CAAC,CAACkmC,EAAE,GAAGlmC,CAAC,CAACwmC,EAAE,GAAG9nC,CAAC,CAAC2P,CAAC,GAAG3P,CAAC,CAACoP,CAAC,GAAG7N,CAAC,GAAG,CAAC,GAAGvB,CAAC,CAAC2P,CAAC,GAAGpO,CAAC,GAAG,CAAC,EAAE2J,CAAC,GAAGlL,CAAC,CAACqN,CAAC,GAAGrN,CAAC,CAACsM,CAAC,GAAG/K,CAAC,CAAC,KAAM;YACxG,IAAID,CAAC,CAACqmC,EAAE,GAAGpmC,CAAC,GAAG,CAAC,GAAGD,CAAC,CAACymC,EAAE,EAAE,OAAO,IAAI;YACpC98B,CAAC,GAAG3J,CAAC,CAACkmC,EAAE,GAAGlmC,CAAC,CAACwmC,EAAE,GAAG7nC,CAAC,CAAC0P,CAAC,GAAGpO,CAAC,GAAG,CAAC,GAAGtB,CAAC,CAAC0P,CAAC,GAAG1P,CAAC,CAACmP,CAAC,GAAG7N,CAAC,GAAG,CAAC,EAAE2J,CAAC,GAAGjL,CAAC,CAACoN,CAAC,GAAG9L,CAAC,GAAG,CAAC;UACtE;UACA;QACJ,KAAKzB,UAAU,CAACa,WAAW,CAAC4T,MAAM;QAClC,KAAKzU,UAAU,CAACa,WAAW,CAACyT,WAAW;UACnC,IAAI9S,CAAC,CAACmmC,EAAE,GAAGlmC,CAAC,GAAG,CAAC,GAAGD,CAAC,CAACqmC,EAAE,EAAE58B,CAAC,GAAG,CAAC,CAAC,EAAEE,CAAC,GAAG3J,CAAC,CAACkmC,EAAE,GAAGlmC,CAAC,CAACwmC,EAAE,GAAG9nC,CAAC,CAAC2P,CAAC,GAAG3P,CAAC,CAACoP,CAAC,GAAG7N,CAAC,GAAG,CAAC,GAAGvB,CAAC,CAAC2P,CAAC,GAAGpO,CAAC,GAAG,CAAC,EAAE2J,CAAC,GAAGlL,CAAC,CAACqN,CAAC,GAAG9L,CAAC,CAAC,KAAM;YAClG,IAAID,CAAC,CAACqmC,EAAE,GAAGpmC,CAAC,GAAG,CAAC,GAAGD,CAAC,CAACymC,EAAE,EAAE,OAAO,IAAI;YACpC98B,CAAC,GAAG3J,CAAC,CAACkmC,EAAE,GAAGlmC,CAAC,CAACwmC,EAAE,GAAG7nC,CAAC,CAAC0P,CAAC,GAAGpO,CAAC,GAAG,CAAC,GAAGtB,CAAC,CAAC0P,CAAC,GAAG1P,CAAC,CAACmP,CAAC,GAAG7N,CAAC,GAAG,CAAC,EAAE2J,CAAC,GAAGjL,CAAC,CAACoN,CAAC,GAAGpN,CAAC,CAACqM,CAAC,GAAG/K,CAAC,GAAG,CAAC;UAC5E;UACA;QACJ,KAAKzB,UAAU,CAACa,WAAW,CAACuT,KAAK;QACjC,KAAKpU,UAAU,CAACa,WAAW,CAACwT,SAAS;UACjC,IAAI7S,CAAC,CAACkmC,EAAE,GAAGjmC,CAAC,GAAG,CAAC,GAAGD,CAAC,CAAComC,EAAE,EAAE38B,CAAC,GAAG,CAAC,CAAC,EAAEG,CAAC,GAAG5J,CAAC,CAACmmC,EAAE,GAAGnmC,CAAC,CAACymC,EAAE,GAAG/nC,CAAC,CAACqN,CAAC,GAAGrN,CAAC,CAACsM,CAAC,GAAG/K,CAAC,GAAG,CAAC,GAAGvB,CAAC,CAACqN,CAAC,GAAG9L,CAAC,GAAG,CAAC,EAAE0J,CAAC,GAAGjL,CAAC,CAAC2P,CAAC,GAAGpO,CAAC,CAAC,KAAM;YAClG,IAAID,CAAC,CAAComC,EAAE,GAAGnmC,CAAC,GAAG,CAAC,GAAGD,CAAC,CAACwmC,EAAE,EAAE,OAAO,IAAI;YACpC58B,CAAC,GAAG5J,CAAC,CAACmmC,EAAE,GAAGnmC,CAAC,CAACymC,EAAE,GAAG9nC,CAAC,CAACoN,CAAC,GAAG9L,CAAC,GAAG,CAAC,GAAGtB,CAAC,CAACoN,CAAC,GAAGpN,CAAC,CAACqM,CAAC,GAAG/K,CAAC,GAAG,CAAC,EAAE0J,CAAC,GAAGhL,CAAC,CAAC0P,CAAC,GAAG1P,CAAC,CAACmP,CAAC,GAAG7N,CAAC,GAAG,CAAC;UAC5E;UACA;QACJ,KAAKzB,UAAU,CAACa,WAAW,CAAC2O,IAAI;QAChC,KAAKxP,UAAU,CAACa,WAAW,CAAC2T,QAAQ;UAChC,IAAIhT,CAAC,CAACkmC,EAAE,GAAGjmC,CAAC,GAAG,CAAC,GAAGD,CAAC,CAAComC,EAAE,EAAE38B,CAAC,GAAG,CAAC,CAAC,EAAEG,CAAC,GAAG5J,CAAC,CAACmmC,EAAE,GAAGnmC,CAAC,CAACymC,EAAE,GAAG/nC,CAAC,CAACqN,CAAC,GAAGrN,CAAC,CAACsM,CAAC,GAAG/K,CAAC,GAAG,CAAC,GAAGvB,CAAC,CAACqN,CAAC,GAAG9L,CAAC,GAAG,CAAC,EAAE0J,CAAC,GAAGjL,CAAC,CAAC2P,CAAC,GAAG3P,CAAC,CAACoP,CAAC,GAAG7N,CAAC,CAAC,KAAM;YACxG,IAAID,CAAC,CAAComC,EAAE,GAAGnmC,CAAC,GAAG,CAAC,GAAGD,CAAC,CAACwmC,EAAE,EAAE,OAAO,IAAI;YACpC58B,CAAC,GAAG5J,CAAC,CAACmmC,EAAE,GAAGnmC,CAAC,CAACymC,EAAE,GAAG9nC,CAAC,CAACoN,CAAC,GAAG9L,CAAC,GAAG,CAAC,GAAGtB,CAAC,CAACoN,CAAC,GAAGpN,CAAC,CAACqM,CAAC,GAAG/K,CAAC,GAAG,CAAC,EAAE0J,CAAC,GAAGhL,CAAC,CAAC0P,CAAC,GAAGpO,CAAC,GAAG,CAAC;UACtE;MACR;MACA,IAAIwJ,CAAC,EAAE,QAAQV,CAAC;QACZ,KAAKvK,UAAU,CAACa,WAAW,CAACqG,GAAG;QAC/B,KAAKlH,UAAU,CAACa,WAAW,CAAC0T,QAAQ;QACpC,KAAKvU,UAAU,CAACa,WAAW,CAAC4T,MAAM;QAClC,KAAKzU,UAAU,CAACa,WAAW,CAACyT,WAAW;UACnCtJ,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACkmC,EAAE,EAAElmC,CAAC,CAACmmC,EAAE,CAAC,CAAC,EAAE38B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACkmC,EAAE,EAAEt8B,CAAC,CAAC,CAAC,EAAEJ,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAElI,CAAC,EAAEC,CAAC,CAAC,CAAC,EAAEJ,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAElI,CAAC,EAAE3J,CAAC,CAACumC,EAAE,CAAC,CAAC,EAAE/8B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACsmC,EAAE,EAAEtmC,CAAC,CAACumC,EAAE,CAAC,CAAC,EAAE/8B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACwmC,EAAE,EAAExmC,CAAC,CAACymC,EAAE,CAAC,CAAC;UACpJ;QACJ,KAAKjoC,UAAU,CAACa,WAAW,CAACuT,KAAK;QACjC,KAAKpU,UAAU,CAACa,WAAW,CAACwT,SAAS;QACrC,KAAKrU,UAAU,CAACa,WAAW,CAAC2O,IAAI;QAChC,KAAKxP,UAAU,CAACa,WAAW,CAAC2T,QAAQ;UAChCxJ,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACkmC,EAAE,EAAElmC,CAAC,CAACmmC,EAAE,CAAC,CAAC,EAAE38B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAElI,CAAC,EAAE3J,CAAC,CAACmmC,EAAE,CAAC,CAAC,EAAE38B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAElI,CAAC,EAAEC,CAAC,CAAC,CAAC,EAAEJ,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACsmC,EAAE,EAAE18B,CAAC,CAAC,CAAC,EAAEJ,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACsmC,EAAE,EAAEtmC,CAAC,CAACumC,EAAE,CAAC,CAAC,EAAE/8B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACwmC,EAAE,EAAExmC,CAAC,CAACymC,EAAE,CAAC,CAAC;MAC5J,CAAC,MAAM,QAAQ19B,CAAC;QACZ,KAAKvK,UAAU,CAACa,WAAW,CAACqG,GAAG;QAC/B,KAAKlH,UAAU,CAACa,WAAW,CAAC0T,QAAQ;QACpC,KAAKvU,UAAU,CAACa,WAAW,CAAC4T,MAAM;QAClC,KAAKzU,UAAU,CAACa,WAAW,CAACyT,WAAW;UACnCtJ,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACkmC,EAAE,EAAElmC,CAAC,CAACmmC,EAAE,CAAC,CAAC,EAAE38B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAAComC,EAAE,EAAEpmC,CAAC,CAACqmC,EAAE,CAAC,CAAC,EAAE78B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAElI,CAAC,EAAE3J,CAAC,CAACqmC,EAAE,CAAC,CAAC,EAAE78B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAElI,CAAC,EAAEC,CAAC,CAAC,CAAC,EAAEJ,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACwmC,EAAE,EAAE58B,CAAC,CAAC,CAAC,EAAEJ,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACwmC,EAAE,EAAExmC,CAAC,CAACymC,EAAE,CAAC,CAAC;UACpJ;QACJ,KAAKjoC,UAAU,CAACa,WAAW,CAACuT,KAAK;QACjC,KAAKpU,UAAU,CAACa,WAAW,CAACwT,SAAS;QACrC,KAAKrU,UAAU,CAACa,WAAW,CAAC2O,IAAI;QAChC,KAAKxP,UAAU,CAACa,WAAW,CAAC2T,QAAQ;UAChCxJ,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACkmC,EAAE,EAAElmC,CAAC,CAACmmC,EAAE,CAAC,CAAC,EAAE38B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAAComC,EAAE,EAAEpmC,CAAC,CAACqmC,EAAE,CAAC,CAAC,EAAE78B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAAComC,EAAE,EAAEx8B,CAAC,CAAC,CAAC,EAAEJ,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAElI,CAAC,EAAEC,CAAC,CAAC,CAAC,EAAEJ,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAElI,CAAC,EAAE3J,CAAC,CAACymC,EAAE,CAAC,CAAC,EAAEj9B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACwmC,EAAE,EAAExmC,CAAC,CAACymC,EAAE,CAAC,CAAC;MAC5J;MACA,OAAOjoC,UAAU,CAACo0B,gBAAgB,CAACppB,CAAC,EAAEhL,UAAU,CAACkjB,oBAAoB,EAAE,CAAC,CAAC,CAAC;IAC9E;IACA,IAAIljB,UAAU,CAACu0B,QAAQ,CAACp0B,CAAC,CAAC,IAAIH,UAAU,CAACu0B,QAAQ,CAACr0B,CAAC,CAAC,EAAE;MAClD8K,CAAC,GAAG,EAAE;MACN,QAAQT,CAAC;QACL,KAAKvK,UAAU,CAACa,WAAW,CAACqG,GAAG;QAC/B,KAAKlH,UAAU,CAACa,WAAW,CAAC0T,QAAQ;UAChC,IAAI/S,CAAC,CAACmmC,EAAE,GAAGlmC,CAAC,GAAGD,CAAC,CAACymC,EAAE,EAAE;YACjB,IAAI98B,CAAC,GAAG3J,CAAC,CAACkmC,EAAE,GAAGlmC,CAAC,CAACwmC,EAAE,GAAG9nC,CAAC,CAAC2P,CAAC,GAAG3P,CAAC,CAACoP,CAAC,GAAG7N,CAAC,GAAG,CAAC,GAAGvB,CAAC,CAAC2P,CAAC,GAAGpO,CAAC,GAAG,CAAC;cAAE2J,CAAC,GAAGlL,CAAC,CAACqN,CAAC,GAAGrN,CAAC,CAACsM,CAAC,GAAG/K,CAAC;cAAE8J,CAAC,GAAGpL,CAAC,CAACoN,CAAC,GAAG9L,CAAC;YACrFuJ,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACkmC,EAAE,EAAElmC,CAAC,CAACmmC,EAAE,CAAC,CAAC,EAAE38B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACkmC,EAAE,EAAEt8B,CAAC,CAAC,CAAC,EAAEJ,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAElI,CAAC,EAAEC,CAAC,CAAC,CAAC,EAAEJ,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAElI,CAAC,EAAEI,CAAC,CAAC,CAAC,EAAEP,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACsmC,EAAE,EAAEv8B,CAAC,CAAC,CAAC,EAAEP,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACwmC,EAAE,EAAExmC,CAAC,CAACymC,EAAE,CAAC,CAAC;UAClJ,CAAC,MAAMj9B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACkmC,EAAE,EAAElmC,CAAC,CAACmmC,EAAE,CAAC,CAAC,EAAE38B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACkmC,EAAE,EAAExnC,CAAC,CAACqN,CAAC,GAAGrN,CAAC,CAACsM,CAAC,GAAG/K,CAAC,CAAC,CAAC,EAAEuJ,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACsmC,EAAE,EAAE5nC,CAAC,CAACqN,CAAC,GAAGrN,CAAC,CAACsM,CAAC,GAAG/K,CAAC,CAAC,CAAC,EAAEuJ,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACwmC,EAAE,EAAExmC,CAAC,CAACymC,EAAE,CAAC,CAAC;UACnI;QACJ,KAAKjoC,UAAU,CAACa,WAAW,CAAC4T,MAAM;QAClC,KAAKzU,UAAU,CAACa,WAAW,CAACyT,WAAW;UACnC,IAAI9S,CAAC,CAACmmC,EAAE,GAAGlmC,CAAC,GAAGD,CAAC,CAACymC,EAAE,EAAE;YACjB98B,CAAC,GAAG3J,CAAC,CAACkmC,EAAE,GAAGlmC,CAAC,CAACwmC,EAAE,GAAG9nC,CAAC,CAAC2P,CAAC,GAAG3P,CAAC,CAACoP,CAAC,GAAG7N,CAAC,GAAG,CAAC,GAAGvB,CAAC,CAAC2P,CAAC,GAAGpO,CAAC,GAAG,CAAC,EAAE2J,CAAC,GAAGlL,CAAC,CAACqN,CAAC,GAAG9L,CAAC,EAAE8J,CAAC,GAAGpL,CAAC,CAACoN,CAAC,GAAGpN,CAAC,CAACqM,CAAC,GAAG/K,CAAC;YACjFuJ,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACkmC,EAAE,EAAElmC,CAAC,CAACmmC,EAAE,CAAC,CAAC,EAAE38B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACkmC,EAAE,EAAEt8B,CAAC,CAAC,CAAC,EAAEJ,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAElI,CAAC,EAAEC,CAAC,CAAC,CAAC,EAAEJ,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAElI,CAAC,EAAEI,CAAC,CAAC,CAAC,EAAEP,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACsmC,EAAE,EAAEv8B,CAAC,CAAC,CAAC,EAAEP,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACwmC,EAAE,EAAExmC,CAAC,CAACymC,EAAE,CAAC,CAAC;UAClJ,CAAC,MAAMj9B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACkmC,EAAE,EAAElmC,CAAC,CAACmmC,EAAE,CAAC,CAAC,EAAE38B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACkmC,EAAE,EAAExnC,CAAC,CAACqN,CAAC,GAAG9L,CAAC,CAAC,CAAC,EAAEuJ,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACsmC,EAAE,EAAE5nC,CAAC,CAACqN,CAAC,GAAG9L,CAAC,CAAC,CAAC,EAAEuJ,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACwmC,EAAE,EAAExmC,CAAC,CAACymC,EAAE,CAAC,CAAC;UACvH;QACJ,KAAKjoC,UAAU,CAACa,WAAW,CAACuT,KAAK;QACjC,KAAKpU,UAAU,CAACa,WAAW,CAACwT,SAAS;UACjC,IAAI7S,CAAC,CAACkmC,EAAE,GAAGjmC,CAAC,GAAGD,CAAC,CAACwmC,EAAE,EAAE;YACjB58B,CAAC,GAAG5J,CAAC,CAACmmC,EAAE,GAAGnmC,CAAC,CAACymC,EAAE,GAAG/nC,CAAC,CAACqN,CAAC,GAAGrN,CAAC,CAACsM,CAAC,GAAG/K,CAAC,GAAG,CAAC,GAAGvB,CAAC,CAACqN,CAAC,GAAG9L,CAAC,GAAG,CAAC,EAAE0J,CAAC,GAAGjL,CAAC,CAAC2P,CAAC,GAAGpO,CAAC;YAC9D,IAAIgK,CAAC,GAAGtL,CAAC,CAAC0P,CAAC,GAAG1P,CAAC,CAACmP,CAAC,GAAG7N,CAAC;YACrBuJ,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACkmC,EAAE,EAAElmC,CAAC,CAACmmC,EAAE,CAAC,CAAC,EAAE38B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAElI,CAAC,EAAE3J,CAAC,CAACmmC,EAAE,CAAC,CAAC,EAAE38B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAElI,CAAC,EAAEC,CAAC,CAAC,CAAC,EAAEJ,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE5H,CAAC,EAAEL,CAAC,CAAC,CAAC,EAAEJ,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE5H,CAAC,EAAEjK,CAAC,CAACumC,EAAE,CAAC,CAAC,EAAE/8B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACwmC,EAAE,EAAExmC,CAAC,CAACymC,EAAE,CAAC,CAAC;UAClJ,CAAC,MAAMj9B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACkmC,EAAE,EAAElmC,CAAC,CAACmmC,EAAE,CAAC,CAAC,EAAE38B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAEnT,CAAC,CAAC2P,CAAC,GAAGpO,CAAC,EAAED,CAAC,CAACmmC,EAAE,CAAC,CAAC,EAAE38B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAEnT,CAAC,CAAC2P,CAAC,GAAGpO,CAAC,EAAED,CAAC,CAACumC,EAAE,CAAC,CAAC,EAAE/8B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACwmC,EAAE,EAAExmC,CAAC,CAACymC,EAAE,CAAC,CAAC;UACvH;QACJ,KAAKjoC,UAAU,CAACa,WAAW,CAAC2O,IAAI;QAChC,KAAKxP,UAAU,CAACa,WAAW,CAAC2T,QAAQ;UAChC,IAAIhT,CAAC,CAACkmC,EAAE,GAAGjmC,CAAC,GAAGD,CAAC,CAACwmC,EAAE,EAAE;YACjB58B,CAAC,GAAG5J,CAAC,CAACmmC,EAAE,GAAGnmC,CAAC,CAACymC,EAAE,GAAG/nC,CAAC,CAACqN,CAAC,GAAGrN,CAAC,CAACsM,CAAC,GAAG/K,CAAC,GAAG,CAAC,GAAGvB,CAAC,CAACqN,CAAC,GAAG9L,CAAC,GAAG,CAAC,EAAE0J,CAAC,GAAGjL,CAAC,CAAC2P,CAAC,GAAG3P,CAAC,CAACoP,CAAC,GAAG7N,CAAC,EAAEgK,CAAC,GAAGtL,CAAC,CAAC0P,CAAC,GAAGpO,CAAC;YACjFuJ,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACkmC,EAAE,EAAElmC,CAAC,CAACmmC,EAAE,CAAC,CAAC,EAAE38B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAElI,CAAC,EAAE3J,CAAC,CAACmmC,EAAE,CAAC,CAAC,EAAE38B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAElI,CAAC,EAAEC,CAAC,CAAC,CAAC,EAAEJ,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE5H,CAAC,EAAEL,CAAC,CAAC,CAAC,EAAEJ,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE5H,CAAC,EAAEjK,CAAC,CAACumC,EAAE,CAAC,CAAC,EAAE/8B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACwmC,EAAE,EAAExmC,CAAC,CAACymC,EAAE,CAAC,CAAC;UAClJ,CAAC,MAAMj9B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACkmC,EAAE,EAAElmC,CAAC,CAACmmC,EAAE,CAAC,CAAC,EAAE38B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAEnT,CAAC,CAAC2P,CAAC,GAAG3P,CAAC,CAACoP,CAAC,GAAG7N,CAAC,EAAED,CAAC,CAACmmC,EAAE,CAAC,CAAC,EAAE38B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAEnT,CAAC,CAAC2P,CAAC,GAAG3P,CAAC,CAACoP,CAAC,GAAG7N,CAAC,EAAED,CAAC,CAACumC,EAAE,CAAC,CAAC,EAAE/8B,CAAC,CAACqI,IAAI,CAAC,CAAC,GAAG,EAAE7R,CAAC,CAACwmC,EAAE,EAAExmC,CAAC,CAACymC,EAAE,CAAC,CAAC;MAC3I;MACA,OAAOjoC,UAAU,CAACo0B,gBAAgB,CAACppB,CAAC,EAAEhL,UAAU,CAACkjB,oBAAoB,EAAE,CAAC,CAAC,CAAC;IAC9E;IACA,OAAO,IAAI;EACf;AACJ,CAAC,EAACljB,UAAU,CAAC+B,EAAE,CAACunC,cAAc,GAAGtpC,UAAU,CAAC+B,EAAE,CAACilC,QAAQ,EAAChnC,UAAU,CAAC+B,EAAE,CAACilC,QAAQ,GAAG,UAAU/mC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;EACtG,IAAI8I,CAAC,GAAG,EAAE;EACV,IAAI9I,CAAC,CAAC8nC,eAAe,EAAE,CAACrpC,CAAC,CAACihC,OAAO,IAAIhhC,CAAC,KAAKH,UAAU,CAAC0D,MAAM,CAACiH,SAAS,IAAInJ,CAAC,CAACqkC,uBAAuB,IAAIpkC,CAAC,CAAC8nC,eAAe,CAAC39B,EAAE,IAAI1L,CAAC,CAAC0L,EAAE,KAAKrB,CAAC,IAAI/I,CAAC,CAACqkC,uBAAuB,CAAC,CAAC,KAAM;IAC1Kt7B,CAAC,GAAGvK,UAAU,CAAC+B,EAAE,CAACunC,cAAc,CAACrpC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,CAAC;IAC/C,IAAI,IAAIxB,CAAC,CAACgV,YAAY,IAAI,CAAC/U,CAAC,CAACihC,OAAO,IAAIhhC,CAAC,KAAKH,UAAU,CAAC0D,MAAM,CAACiH,SAAS,IAAInJ,CAAC,CAACokC,kBAAkB,KAAKr7B,CAAC,IAAI/I,CAAC,CAACokC,kBAAkB,CAACjtB,OAAO,CAAC,MAAM,EAAEzY,CAAC,CAAC0L,EAAE,CAAC,CAAC;EAC1J;EACA,OAAOrB,CAAC;AACZ,CAAC,EAACvK,UAAU,CAAC+B,EAAE,CAACynC,uBAAuB,GAAGxpC,UAAU,CAAC+B,EAAE,CAACmK,iBAAiB,EAAClM,UAAU,CAAC+B,EAAE,CAACmK,iBAAiB,GAAG,UAAUjM,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;EACjI,OAAOxB,CAAC,CAACspC,eAAe,GAAG,EAAE,GAAGvpC,UAAU,CAAC+B,EAAE,CAACynC,uBAAuB,CAACvpC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,CAAC;AACxF,CAAC,EAACzB,UAAU,CAACgD,SAAS,GAAG,UAAU/C,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;EAC9C,IAAI,CAAClB,OAAO,GAAGN,CAAC,EAAE,IAAI,CAACwpC,aAAa,GAAGtpC,CAAC,EAAE,IAAI,CAACK,MAAM,GAAGN,CAAC,EAAE,IAAI,CAACwpC,oBAAoB,GAAGloC,CAAC,EAAE,IAAI,CAACmoC,cAAc,GAAGloC,CAAC,EAAE,IAAI,CAACoN,QAAQ,GAAG,CAAC,EAAE,IAAI,CAAC+6B,GAAG,GAAG,IAAI,EAAE,IAAI,CAACjoC,SAAS,GAAG3B,UAAU,CAAC4B,KAAK,CAAC,CAAC;AAC9L,CAAC,EAAC5B,UAAU,CAACgD,SAAS,CAAC2G,SAAS,CAACoD,WAAW,GAAG,UAAU9M,CAAC,EAAE;EACxD,IAAIC,CAAC,GAAG,IAAI;EACZ,IAAI,CAAC,IAAI,CAACM,MAAM,CAACuF,WAAW,IAAI/F,UAAU,CAAC0D,MAAM,CAACC,OAAO,IAAI,IAAI,CAACnD,MAAM,CAACuF,WAAW,IAAI/F,UAAU,CAAC0D,MAAM,CAACmc,MAAM,KAAK,IAAI,CAAC+pB,GAAG,EAAE;IAC3H,IAAIzpC,CAAC,GAAG,CAAC,CAAC,KAAK6pB,SAAS,CAACC,SAAS,CAACzU,OAAO,CAAC,QAAQ,CAAC;MAAEhU,CAAC,GAAGxB,UAAU,CAACizB,qBAAqB,CAAC,CAAC;IAC5F,CAAC,UAAUhzB,CAAC,EAAEuB,CAAC,EAAEC,CAAC,EAAE;MAChB,IAAI8I,CAAC,GAAG,CAAC,CAAC;MAEV,SAASS,CAACA,CAAA,EAAG;QACTT,CAAC,GAAG,CAAC,CAAC;QACN,IAAItK,CAAC,GAAG,CAACC,CAAC,CAAC2O,QAAQ,GAAG3O,CAAC,CAAC0pC,GAAG,CAACC,UAAU,IAAIpoC,CAAC;QAC3C,IAAIxB,CAAC,GAAG,CAAC,EAAEA,CAAC,EAAE,CAAC,KAAM;UACjB,IAAI,CAAC,IAAIA,CAAC,EAAE,OAAO,MAAMsK,CAAC,GAAG,CAAC,CAAC,CAAC;UAChCtK,CAAC,EAAE;QACP;QACA2T,IAAI,CAACK,IAAI,CAAC/T,CAAC,CAAC0pC,GAAG,CAACC,UAAU,CAAC,IAAIj2B,IAAI,CAACK,IAAI,CAAC/T,CAAC,CAAC2O,QAAQ,CAAC,GAAGtE,CAAC,GAAG,CAAC,CAAC,IAAIrK,CAAC,CAAC0pC,GAAG,CAACC,UAAU,IAAI5pC,CAAC,EAAEgL,CAAC,CAACD,CAAC,CAAC,CAAC;MACjG;MAEA/K,CAAC,CAACod,gBAAgB,CAAC,OAAO,EAAG,UAAUpd,CAAC,EAAE;QACtC,IAAIA,CAAC,CAAC47B,OAAO,EAAE;QACf,IAAIp6B,CAAC,GAAG,CAAC;QACT,IAAIvB,CAAC,CAACM,MAAM,CAACuF,WAAW,IAAI/F,UAAU,CAAC0D,MAAM,CAACC,OAAO,EAAE,CAAClC,CAAC,GAAGxB,CAAC,CAAC6pC,MAAM,IAAI7pC,CAAC,CAAC8pC,WAAW,MAAMtoC,CAAC,GAAGxB,CAAC,CAAC+pC,MAAM,IAAI/pC,CAAC,CAACgqC,WAAW,CAAC,CAAC,KAAM,IAAI/pC,CAAC,CAACM,MAAM,CAACuF,WAAW,IAAI/F,UAAU,CAAC0D,MAAM,CAACmc,MAAM,IAAI,EAAEpe,CAAC,GAAGtB,CAAC,IAAI,CAACF,CAAC,CAACiqC,QAAQ,GAAGjqC,CAAC,CAAC6pC,MAAM,IAAI7pC,CAAC,CAAC8pC,WAAW,GAAG9pC,CAAC,CAAC+pC,MAAM,IAAI/pC,CAAC,CAACgqC,WAAW,CAAC,EAAE;QACzQxoC,CAAC,GAAG,CAACA,CAAC,EAAEA,CAAC,GAAGmS,IAAI,CAAC0oB,GAAG,CAAC,CAAC,CAAC,EAAE1oB,IAAI,CAACxN,GAAG,CAAC,CAAC,EAAE3E,CAAC,CAAC,CAAC,EAAEvB,CAAC,CAAC2O,QAAQ,IAAI,CAACpN,CAAC,GAAGD,CAAC;QAC9D,IAAIyJ,CAAC,GAAGmlB,UAAU,CAAClwB,CAAC,CAACiqC,QAAQ,CAACC,WAAW,CAAC,GAAGha,UAAU,CAAClwB,CAAC,CAAC0pC,GAAG,CAACQ,WAAW,CAAC;QAC1ElqC,CAAC,CAAC2O,QAAQ,GAAG,CAAC,KAAK3O,CAAC,CAAC2O,QAAQ,GAAG,CAAC,CAAC;QAClC3O,CAAC,CAAC2O,QAAQ,GAAG5D,CAAC,KAAK/K,CAAC,CAAC2O,QAAQ,GAAG5D,CAAC,CAAC;QAClCV,CAAC,IAAIS,CAAC,CAAC,CAAC;MACZ,CAAC,EAAG;QAACsS,OAAO,EAAE,CAAC;MAAC,CAAC,CAAC;MAClB,IAAIrS,CAAC,GAAG6J,MAAM,CAACgnB,qBAAqB,IAAIhnB,MAAM,CAACinB,2BAA2B,IAAIjnB,MAAM,CAACknB,wBAAwB,IAAIlnB,MAAM,CAACmnB,sBAAsB,IAAInnB,MAAM,CAAConB,uBAAuB,IAAI,UAAUj8B,CAAC,EAAE;QAC7LmtB,UAAU,CAACntB,CAAC,EAAE,EAAE,CAAC;MACrB,CAAC;IACL,CAAC,CAACA,CAAC,EAAEuB,CAAC,CAAC0G,KAAK,EAAE1G,CAAC,CAAC2G,MAAM,CAAC;EAC3B;AACJ,CAAC,EAACnI,UAAU,CAACgD,SAAS,CAAC2G,SAAS,CAAC0D,MAAM,GAAG,UAAUpN,CAAC,EAAE;EACnD,IAAI,IAAI,CAACO,MAAM,CAACyF,WAAW,KAAKjG,UAAU,CAAC6f,MAAM,CAACK,OAAO,IAAI,IAAI,CAAC1f,MAAM,CAACuF,WAAW,KAAK/F,UAAU,CAAC0D,MAAM,CAACmc,MAAM,IAAI,IAAI,CAACrf,MAAM,CAACuF,WAAW,KAAK/F,UAAU,CAAC0D,MAAM,CAACC,OAAO,EAAE;IACxK,IAAIzD,CAAC,GAAG,IAAI;IACZ,IAAI,CAAC0pC,GAAG,IAAI,IAAI,CAACA,GAAG,CAACj9B,UAAU,IAAI,IAAI,CAACi9B,GAAG,CAACj9B,UAAU,CAACC,WAAW,CAAC,IAAI,CAACg9B,GAAG,CAAC,EAAE,IAAI,CAACA,GAAG,GAAGvpC,QAAQ,CAAC0mB,aAAa,CAAC,KAAK,CAAC,EAAE,IAAI,CAACojB,QAAQ,GAAG9pC,QAAQ,CAAC0mB,aAAa,CAAC,KAAK,CAAC;IACrK,IAAI,CAAC0iB,aAAa,CAAC,CAAC;IACpB,IAAI,CAACU,QAAQ,CAACl9B,SAAS,GAAG,OAAO,EAAEe,MAAM,CAACud,MAAM,CAAC,IAAI,CAACqe,GAAG,CAACj7B,KAAK,EAAE;MAC7DE,QAAQ,EAAE,UAAU;MACpBW,IAAI,EAAE,CAAC;MACPiF,MAAM,EAAE,CAAC;MACTrK,KAAK,EAAEnK,CAAC,GAAG,IAAI;MACf,YAAY,EAAE,QAAQ;MACtBoK,MAAM,EAAE;IACZ,CAAC,CAAC,EAAE,IAAI,CAAC9J,OAAO,CAACyP,WAAW,CAAC,IAAI,CAAC45B,GAAG,CAAC,EAAE,IAAI,CAACA,GAAG,CAAC55B,WAAW,CAAC,IAAI,CAACm6B,QAAQ,CAAC,EAAE,IAAI,CAACP,GAAG,CAACvsB,gBAAgB,CAAC,QAAQ,EAAG,YAAY;MAC1H,IAAI,IAAI,CAACgtB,MAAM,EAAE,IAAI,CAACA,MAAM,GAAG,CAAC,CAAC,CAAC,KAAM;QACpC,IAAIpqC,CAAC,GAAGC,CAAC,CAACupC,aAAa,CAAC,CAAC;UACrBtpC,CAAC,GAAG,CAACiwB,UAAU,CAAClwB,CAAC,CAACiqC,QAAQ,CAACC,WAAW,CAAC,GAAGha,UAAU,CAAClwB,CAAC,CAAC0pC,GAAG,CAACQ,WAAW,CAAC,IAAI,GAAG;UAC9E5oC,CAAC,GAAG,IAAI,CAACqoC,UAAU,GAAG1pC,CAAC;UAAEsB,CAAC,GAAG,CAACxB,CAAC,CAACgD,QAAQ,CAACmR,KAAK,GAAGnU,CAAC,CAACgD,QAAQ,CAACuM,IAAI,IAAI,GAAG;QAC3EvP,CAAC,CAACoD,OAAO,CAAC,CAAC,CAAC,GAAG7B,CAAC,GAAGC,CAAC,GAAGxB,CAAC,CAACgD,QAAQ,CAACuM,IAAI,EAAEtP,CAAC,CAACwpC,oBAAoB,CAACzpC,CAAC,CAACoD,OAAO,CAAC,EAAE8pB,YAAY,CAAC,IAAI,CAACjpB,QAAQ,CAAC,EAAE,IAAI,CAACA,QAAQ,GAAGkpB,UAAU,CAAE,YAAY;UAC5IltB,CAAC,CAACypC,cAAc,CAAC,CAAC;QACtB,CAAC,EAAG,GAAG,CAAC;MACZ;IACJ,CAAE,CAAC;EACP;AACJ,CAAC,EAAC3pC,UAAU,CAACgD,SAAS,CAAC2G,SAAS,CAACqD,WAAW,GAAG,YAAY;EACvD,IAAI,IAAI,CAAC48B,GAAG,EAAE;IACV,IAAI3pC,CAAC,GAAG,IAAI,CAACwpC,aAAa,CAAC,CAAC;MACxBvpC,CAAC,GAAG,CAAC0T,IAAI,CAAC2mB,GAAG,CAACt6B,CAAC,CAACgD,QAAQ,CAACmL,IAAI,GAAGnO,CAAC,CAACgD,QAAQ,CAACoL,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC7N,MAAM,CAAC+C,OAAO,IAAItD,CAAC,CAACkD,KAAK;IACzF,QAAQ,IAAI,CAAC3C,MAAM,CAACK,WAAW;MAC3B,KAAKb,UAAU,CAACa,WAAW,CAACuT,KAAK;MACjC,KAAKpU,UAAU,CAACa,WAAW,CAACwT,SAAS;QACjCnU,CAAC,GAAG0T,IAAI,CAAC2mB,GAAG,CAACt6B,CAAC,CAACgD,QAAQ,CAACoL,IAAI,GAAGpO,CAAC,CAACkD,KAAK,CAAC;IAC/C;IACA,IAAI,CAACgnC,QAAQ,CAACx7B,KAAK,CAACvE,KAAK,GAAGlK,CAAC,GAAG,IAAI;IACpC,IAAIC,CAAC,GAAG,CAACF,CAAC,CAACgD,QAAQ,CAACmR,KAAK,GAAGnU,CAAC,CAACgD,QAAQ,CAACuM,IAAI,IAAI,GAAG;MAAEhO,CAAC,GAAG,CAACvB,CAAC,CAACoD,OAAO,CAAC,CAAC,CAAC,GAAGpD,CAAC,CAACgD,QAAQ,CAACuM,IAAI,IAAIrP,CAAC;IAC5FqB,CAAC,GAAG,CAAC,GAAGA,CAAC,GAAG,CAAC,GAAGA,CAAC,GAAG,GAAG,KAAKA,CAAC,GAAG,GAAG,CAAC;IACpC,IAAIC,CAAC,GAAG,CAAC2uB,UAAU,CAAC,IAAI,CAAC+Z,QAAQ,CAACC,WAAW,CAAC,GAAGha,UAAU,CAAC,IAAI,CAACwZ,GAAG,CAACQ,WAAW,CAAC,IAAI,GAAG;MAAE7/B,CAAC,GAAG/I,CAAC,GAAGC,CAAC;IACnG,IAAI,CAACmoC,GAAG,CAACS,MAAM,GAAG,CAAC,CAAC,EAAE,IAAI,CAACT,GAAG,CAACC,UAAU,GAAGt/B,CAAC,EAAE,IAAI,CAACsE,QAAQ,GAAG,IAAI,CAAC+6B,GAAG,CAACC,UAAU,EAAE,IAAI,CAACD,GAAG,CAACj7B,KAAK,CAACyiB,UAAU,GAAG3vB,CAAC,IAAI,CAAC,GAAG,QAAQ,GAAG,EAAE,EAAE,IAAI,CAACjB,MAAM,CAACyF,WAAW,KAAKjG,UAAU,CAAC6f,MAAM,CAACK,OAAO,KAAK,IAAI,CAAC0pB,GAAG,CAACj7B,KAAK,CAACyiB,UAAU,GAAG,QAAQ,CAAC,EAAEpxB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,QAAQ,EAAE,CAAC,IAAI,EAAE;MAAC0lC,kBAAkB,EAAE,QAAQ,IAAI,IAAI,CAACV,GAAG,CAACj7B,KAAK,CAACyiB;IAAU,CAAC,CAAC,CAAC;EACrV;AACJ,CAAC,EAACpxB,UAAU,CAACgD,SAAS,CAAC2G,SAAS,CAACM,EAAE,GAAG,UAAUhK,CAAC,EAAEC,CAAC,EAAE;EAClD,OAAOF,UAAU,CAAC2E,MAAM,CAACsF,EAAE,CAAChK,CAAC,EAAEC,CAAC,EAAE,IAAI,CAACyB,SAAS,CAAC,EAAE,IAAI;AAC3D,CAAC,EAAC3B,UAAU,CAAC4D,SAAS,GAAG,UAAU3D,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;EAC9C,IAAI,CAAClB,OAAO,GAAGN,CAAC,EAAE,IAAI,CAACwpC,aAAa,GAAGtpC,CAAC,EAAE,IAAI,CAACK,MAAM,GAAGN,CAAC,EAAE,IAAI,CAACwpC,oBAAoB,GAAGloC,CAAC,EAAE,IAAI,CAACmoC,cAAc,GAAGloC,CAAC,EAAE,IAAI,CAACoN,QAAQ,GAAG,CAAC,EAAE,IAAI,CAAC+6B,GAAG,GAAG,IAAI,EAAE,IAAI,CAACjoC,SAAS,GAAG3B,UAAU,CAAC4B,KAAK,CAAC,CAAC;AAC9L,CAAC,EAAC5B,UAAU,CAAC4D,SAAS,CAAC+F,SAAS,CAACoD,WAAW,GAAG,UAAU9M,CAAC,EAAE;EACxD,IAAIC,CAAC,GAAG,IAAI;EACZ,IAAI,CAAC,IAAI,CAACM,MAAM,CAACuF,WAAW,IAAI/F,UAAU,CAAC0D,MAAM,CAACoc,OAAO,IAAI,IAAI,CAACtf,MAAM,CAACuF,WAAW,IAAI/F,UAAU,CAAC0D,MAAM,CAACmc,MAAM,KAAK,IAAI,CAAC+pB,GAAG,EAAE;IAC3H,IAAIzpC,CAAC,GAAG,CAAC,CAAC,KAAK6pB,SAAS,CAACC,SAAS,CAACzU,OAAO,CAAC,QAAQ,CAAC;MAAEhU,CAAC,GAAGxB,UAAU,CAACizB,qBAAqB,CAAC,CAAC;IAC5F,CAAC,UAAUhzB,CAAC,EAAEuB,CAAC,EAAEC,CAAC,EAAE;MAChB,IAAI8I,CAAC,GAAG,CAAC,CAAC;MAEV,SAASS,CAACA,CAAA,EAAG;QACTT,CAAC,GAAG,CAAC,CAAC;QACN,IAAItK,CAAC,GAAG,CAACC,CAAC,CAAC2O,QAAQ,GAAG3O,CAAC,CAAC0pC,GAAG,CAACW,SAAS,IAAI9oC,CAAC;QAC1C,IAAIxB,CAAC,GAAG,CAAC,EAAEA,CAAC,EAAE,CAAC,KAAM;UACjB,IAAI,CAAC,IAAIA,CAAC,EAAE,OAAO,MAAMsK,CAAC,GAAG,CAAC,CAAC,CAAC;UAChCtK,CAAC,EAAE;QACP;QACA2T,IAAI,CAACK,IAAI,CAAC/T,CAAC,CAAC0pC,GAAG,CAACW,SAAS,CAAC,IAAI32B,IAAI,CAACK,IAAI,CAAC/T,CAAC,CAAC2O,QAAQ,CAAC,GAAGtE,CAAC,GAAG,CAAC,CAAC,IAAIrK,CAAC,CAAC0pC,GAAG,CAACW,SAAS,IAAItqC,CAAC,EAAEgL,CAAC,CAACD,CAAC,CAAC,CAAC;MAC/F;MAEA/K,CAAC,CAACod,gBAAgB,CAAC,OAAO,EAAG,UAAUpd,CAAC,EAAE;QACtC,IAAIA,CAAC,CAAC47B,OAAO,EAAE;QACf,IAAIp6B,CAAC,GAAG,CAAC;QACT,IAAIvB,CAAC,CAACM,MAAM,CAACuF,WAAW,IAAI/F,UAAU,CAAC0D,MAAM,CAACoc,OAAO,EAAE,CAACre,CAAC,GAAGxB,CAAC,CAAC+pC,MAAM,IAAI/pC,CAAC,CAACgqC,WAAW,MAAMxoC,CAAC,GAAGxB,CAAC,CAAC6pC,MAAM,IAAI7pC,CAAC,CAAC8pC,WAAW,CAAC,CAAC,KAAM,IAAI7pC,CAAC,CAACM,MAAM,CAACuF,WAAW,IAAI/F,UAAU,CAAC0D,MAAM,CAACmc,MAAM,IAAI,EAAEpe,CAAC,GAAGtB,CAAC,IAAI,CAACF,CAAC,CAACiqC,QAAQ,GAAGjqC,CAAC,CAAC+pC,MAAM,IAAI/pC,CAAC,CAACgqC,WAAW,GAAGhqC,CAAC,CAAC6pC,MAAM,IAAI7pC,CAAC,CAAC8pC,WAAW,CAAC,EAAE;QACzQtoC,CAAC,GAAG,CAACA,CAAC,EAAEA,CAAC,GAAGmS,IAAI,CAAC0oB,GAAG,CAAC,CAAC,CAAC,EAAE1oB,IAAI,CAACxN,GAAG,CAAC,CAAC,EAAE3E,CAAC,CAAC,CAAC,EAAEvB,CAAC,CAAC2O,QAAQ,IAAI,CAACpN,CAAC,GAAGD,CAAC;QAC9D,IAAIyJ,CAAC,GAAGmlB,UAAU,CAAClwB,CAAC,CAACiqC,QAAQ,CAACK,YAAY,CAAC,GAAGpa,UAAU,CAAClwB,CAAC,CAAC0pC,GAAG,CAACY,YAAY,CAAC;QAC5EtqC,CAAC,CAAC2O,QAAQ,GAAG,CAAC,KAAK3O,CAAC,CAAC2O,QAAQ,GAAG,CAAC,CAAC;QAClC3O,CAAC,CAAC2O,QAAQ,GAAG5D,CAAC,KAAK/K,CAAC,CAAC2O,QAAQ,GAAG5D,CAAC,CAAC;QAClCV,CAAC,IAAIS,CAAC,CAAC,CAAC;MACZ,CAAC,EAAG;QAACsS,OAAO,EAAE,CAAC;MAAC,CAAC,CAAC;MAClB,IAAIrS,CAAC,GAAG6J,MAAM,CAACgnB,qBAAqB,IAAIhnB,MAAM,CAACinB,2BAA2B,IAAIjnB,MAAM,CAACknB,wBAAwB,IAAIlnB,MAAM,CAACmnB,sBAAsB,IAAInnB,MAAM,CAAConB,uBAAuB,IAAI,UAAUj8B,CAAC,EAAE;QAC7LmtB,UAAU,CAACntB,CAAC,EAAE,EAAE,CAAC;MACrB,CAAC;IACL,CAAC,CAACA,CAAC,EAAEuB,CAAC,CAAC0G,KAAK,EAAE1G,CAAC,CAAC2G,MAAM,CAAC;EAC3B;AACJ,CAAC,EAACnI,UAAU,CAAC4D,SAAS,CAAC+F,SAAS,CAAC0D,MAAM,GAAG,UAAUpN,CAAC,EAAE;EACnD,IAAI,IAAI,CAACO,MAAM,CAAC0F,WAAW,KAAKlG,UAAU,CAAC6f,MAAM,CAACK,OAAO,IAAI,IAAI,CAAC1f,MAAM,CAACuF,WAAW,KAAK/F,UAAU,CAAC0D,MAAM,CAACmc,MAAM,IAAI,IAAI,CAACrf,MAAM,CAACuF,WAAW,KAAK/F,UAAU,CAAC0D,MAAM,CAACoc,OAAO,EAAE;IACxK,IAAI5f,CAAC,GAAG,IAAI;IACZ,IAAI,CAAC0pC,GAAG,IAAI,IAAI,CAACA,GAAG,CAACj9B,UAAU,IAAI,IAAI,CAACi9B,GAAG,CAACj9B,UAAU,CAACC,WAAW,CAAC,IAAI,CAACg9B,GAAG,CAAC,EAAE,IAAI,CAACA,GAAG,GAAGvpC,QAAQ,CAAC0mB,aAAa,CAAC,KAAK,CAAC,EAAE,IAAI,CAACojB,QAAQ,GAAG9pC,QAAQ,CAAC0mB,aAAa,CAAC,KAAK,CAAC,EAAE,IAAI,CAACojB,QAAQ,CAACl9B,SAAS,GAAG,OAAO,EAAEe,MAAM,CAACud,MAAM,CAAC,IAAI,CAACqe,GAAG,CAACj7B,KAAK,EAAE;MACpOE,QAAQ,EAAE,UAAU;MACpBuF,KAAK,EAAE,CAAC;MACRK,MAAM,EAAE,CAAC;MACTpK,MAAM,EAAEpK,CAAC,GAAG,IAAI;MAChB,YAAY,EAAE,QAAQ;MACtBmK,KAAK,EAAE;IACX,CAAC,CAAC,EAAE,IAAI,CAAC7J,OAAO,CAACyP,WAAW,CAAC,IAAI,CAAC45B,GAAG,CAAC,EAAE,IAAI,CAACA,GAAG,CAAC55B,WAAW,CAAC,IAAI,CAACm6B,QAAQ,CAAC,EAAE,IAAI,CAACP,GAAG,CAACvsB,gBAAgB,CAAC,QAAQ,EAAG,YAAY;MAC1H,IAAI,IAAI,CAACgtB,MAAM,EAAE,IAAI,CAACA,MAAM,GAAG,CAAC,CAAC,CAAC,KAAM;QACpC,IAAIpqC,CAAC,GAAGC,CAAC,CAACupC,aAAa,CAAC,CAAC;UACrBtpC,CAAC,GAAG,CAACiwB,UAAU,CAAClwB,CAAC,CAACiqC,QAAQ,CAACK,YAAY,CAAC,GAAGpa,UAAU,CAAClwB,CAAC,CAAC0pC,GAAG,CAACY,YAAY,CAAC,IAAI,GAAG;UAChFhpC,CAAC,GAAG,IAAI,CAAC+oC,SAAS,GAAGpqC,CAAC;UAAEsB,CAAC,GAAG,CAACxB,CAAC,CAACgD,QAAQ,CAACwR,MAAM,GAAGxU,CAAC,CAACgD,QAAQ,CAACiE,GAAG,IAAI,GAAG;QAC1EjH,CAAC,CAACoD,OAAO,CAAC,CAAC,CAAC,GAAG7B,CAAC,GAAGC,CAAC,GAAGxB,CAAC,CAACgD,QAAQ,CAACiE,GAAG,EAAEhH,CAAC,CAACwpC,oBAAoB,CAACzpC,CAAC,CAACoD,OAAO,CAAC,EAAE8pB,YAAY,CAAC,IAAI,CAACjpB,QAAQ,CAAC,EAAE,IAAI,CAACA,QAAQ,GAAGkpB,UAAU,CAAE,YAAY;UAC3IltB,CAAC,CAACypC,cAAc,CAAC,CAAC;QACtB,CAAC,EAAG,GAAG,CAAC;MACZ;IACJ,CAAE,CAAC;EACP;AACJ,CAAC,EAAC3pC,UAAU,CAAC4D,SAAS,CAAC+F,SAAS,CAACqD,WAAW,GAAG,YAAY;EACvD,IAAI,IAAI,CAAC48B,GAAG,EAAE;IACV,IAAI3pC,CAAC,GAAG,IAAI,CAACwpC,aAAa,CAAC,CAAC;MACxBvpC,CAAC,GAAG,CAAC0T,IAAI,CAAC2mB,GAAG,CAACt6B,CAAC,CAACgD,QAAQ,CAACsL,IAAI,GAAGtO,CAAC,CAACgD,QAAQ,CAACuL,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAChO,MAAM,CAAC+C,OAAO,IAAItD,CAAC,CAACkD,KAAK;IACzF,QAAQ,IAAI,CAAC3C,MAAM,CAACK,WAAW;MAC3B,KAAKb,UAAU,CAACa,WAAW,CAAC4T,MAAM;MAClC,KAAKzU,UAAU,CAACa,WAAW,CAACyT,WAAW;QACnCpU,CAAC,GAAG0T,IAAI,CAAC2mB,GAAG,CAACt6B,CAAC,CAACgD,QAAQ,CAACuL,IAAI,GAAGvO,CAAC,CAACkD,KAAK,CAAC;IAC/C;IACA,IAAI,CAACgnC,QAAQ,CAACx7B,KAAK,CAACtE,MAAM,GAAGnK,CAAC,GAAG,IAAI;IACrC,IAAIC,CAAC,GAAG,CAACF,CAAC,CAACgD,QAAQ,CAACwR,MAAM,GAAGxU,CAAC,CAACgD,QAAQ,CAACiE,GAAG,IAAI,GAAG;MAAE1F,CAAC,GAAG,CAACvB,CAAC,CAACoD,OAAO,CAAC,CAAC,CAAC,GAAGpD,CAAC,CAACgD,QAAQ,CAACiE,GAAG,IAAI0M,IAAI,CAAC2mB,GAAG,CAACp6B,CAAC,CAAC;IACrGqB,CAAC,GAAG,CAAC,GAAGA,CAAC,GAAG,CAAC,GAAGA,CAAC,GAAG,GAAG,KAAKA,CAAC,GAAG,GAAG,CAAC;IACpC,IAAIC,CAAC,GAAG,CAAC2uB,UAAU,CAAC,IAAI,CAAC+Z,QAAQ,CAACK,YAAY,CAAC,GAAGpa,UAAU,CAAC,IAAI,CAACwZ,GAAG,CAACY,YAAY,CAAC,IAAI,GAAG;MAAEjgC,CAAC,GAAG/I,CAAC,GAAGC,CAAC;IACrG,IAAI,CAACmoC,GAAG,CAACS,MAAM,GAAG,CAAC,CAAC,EAAE,IAAI,CAACT,GAAG,CAACW,SAAS,GAAGhgC,CAAC,EAAE,IAAI,CAACsE,QAAQ,GAAG,IAAI,CAAC+6B,GAAG,CAACW,SAAS,EAAE,IAAI,CAACX,GAAG,CAACj7B,KAAK,CAACyiB,UAAU,GAAG3vB,CAAC,IAAI,CAAC,GAAG,QAAQ,GAAG,EAAE,EAAE,IAAI,CAACjB,MAAM,CAAC0F,WAAW,KAAKlG,UAAU,CAAC6f,MAAM,CAACK,OAAO,KAAK,IAAI,CAAC0pB,GAAG,CAACj7B,KAAK,CAACyiB,UAAU,GAAG,QAAQ,CAAC,EAAEpxB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,QAAQ,EAAE,CAAC,IAAI,EAAE;MAAC0lC,kBAAkB,EAAE,QAAQ,IAAI,IAAI,CAACV,GAAG,CAACj7B,KAAK,CAACyiB;IAAU,CAAC,CAAC,CAAC;EACnV;AACJ,CAAC,EAACpxB,UAAU,CAAC4D,SAAS,CAAC+F,SAAS,CAACM,EAAE,GAAG,UAAUhK,CAAC,EAAEC,CAAC,EAAE;EAClD,OAAOF,UAAU,CAAC2E,MAAM,CAACsF,EAAE,CAAChK,CAAC,EAAEC,CAAC,EAAE,IAAI,CAACyB,SAAS,CAAC,EAAE,IAAI;AAC3D,CAAC,EAAC3B,UAAU,CAAC2J,SAAS,CAAC3D,IAAI,GAAG,UAAU/F,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;EAChD,IAAIC,CAAC,GAAG,IAAI,CAAC6B,UAAU,CAAC,CAAC,CAAC8L,KAAK,CAAC,CAAC,CAAC;IAAE7E,CAAC,GAAG9I,CAAC;IAAEuJ,CAAC,GAAGvJ,CAAC,CAAC,CAAC,CAAC;IAAEwJ,CAAC,GAAGxJ,CAAC,CAAC,CAAC,CAAC;EAC7D,CAAC,CAAC,KAAKxB,CAAC,IAAIwB,CAAC,CAAC,CAAC,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAC,GAAGzB,UAAU,CAACsjB,YAAY,EAAE7hB,CAAC,CAAC,CAAC,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAC,GAAGzB,UAAU,CAACsjB,YAAY,IAAI,CAAC,CAAC,KAAKrjB,CAAC,IAAIwB,CAAC,CAAC,CAAC,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAC,GAAGzB,UAAU,CAACsjB,YAAY,EAAE7hB,CAAC,CAAC,CAAC,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAC,GAAGzB,UAAU,CAACsjB,YAAY,KAAK7hB,CAAC,CAAC,CAAC,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAC,GAAGxB,CAAC,EAAEwB,CAAC,CAAC,CAAC,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAC,GAAGxB,CAAC,CAAC,EAAEC,CAAC,KAAKA,CAAC,GAAG,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAEuB,CAAC,CAAC,CAAC,CAAC,GAAG8I,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC9I,CAAC,CAAC,CAAC,CAAC,GAAGuJ,CAAC,KAAK,GAAG,GAAG9K,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEuB,CAAC,CAAC,CAAC,CAAC,GAAG8I,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC9I,CAAC,CAAC,CAAC,CAAC,GAAGwJ,CAAC,KAAK,GAAG,GAAG/K,CAAC,CAAC,CAAC,CAAC,CAAC;EACjU,IAAIiL,CAAC,GAAG,IAAI,CAAC/H,QAAQ,CAAC3B,CAAC,CAAC;EACxB,IAAIA,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC2I,KAAK,CAAC,CAAC,GAAGe,CAAC,EAAE1J,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC4I,MAAM,CAAC,CAAC,GAAGc,CAAC,EAAE,CAAC,CAAC,KAAKlL,CAAC,IAAIkL,CAAC,GAAG,IAAI,CAAC3K,MAAM,CAAC+G,QAAQ,IAAI,CAAC,CAAC,KAAKtH,CAAC,IAAIkL,CAAC,GAAG,IAAI,CAAC3K,MAAM,CAAC8G,QAAQ,IAAI,CAAC,IAAIrH,CAAC,IAAI,CAAC,IAAIA,CAAC,IAAIkL,CAAC,GAAG,IAAI,CAAC3K,MAAM,CAAC+G,QAAQ,IAAI4D,CAAC,GAAG,IAAI,CAAC3K,MAAM,CAAC8G,QAAQ,EAAE;IAC7M,IAAI,CAACkG,oBAAoB,CAAC,CAAC;IAC3B,IAAIpC,CAAC,GAAG,IAAI;IACZjL,CAAC,IAAIgtB,YAAY,CAAC/hB,CAAC,CAAClH,QAAQ,CAAC,EAAElE,UAAU,CAAC0N,OAAO,CAAC,IAAI,CAACjB,MAAM,CAAC,CAAC,EAAE;MAACmB,OAAO,EAAE,IAAI,CAACtK,UAAU,CAAC;IAAC,CAAC,EAAE;MAACsK,OAAO,EAAEnM;IAAC,CAAC,EAAE,IAAI,CAACjB,MAAM,CAACsH,IAAI,CAACG,QAAQ,EAAE,IAAI,CAACzH,MAAM,CAACsH,IAAI,CAACC,IAAI,EAAG,YAAY;MACxKolB,YAAY,CAAC/hB,CAAC,CAAClH,QAAQ,CAAC,EAAEkH,CAAC,CAAClH,QAAQ,GAAGkpB,UAAU,CAAE,YAAY;QAC3DhiB,CAAC,CAAC3H,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAACsC,IAAI,EAAE,IAAI,EAAExE,CAAC,CAAC;MAChD,CAAC,EAAG,GAAG,CAAC;IACZ,CAAE,CAAC,KAAK,IAAI,CAACgC,UAAU,CAAC/B,CAAC,CAAC,EAAE0rB,YAAY,CAAC/hB,CAAC,CAAClH,QAAQ,CAAC,EAAEkH,CAAC,CAAClH,QAAQ,GAAGkpB,UAAU,CAAE,YAAY;MACvFhiB,CAAC,CAAC3H,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAACsC,IAAI,EAAE,IAAI,EAAExE,CAAC,CAAC;IAChD,CAAC,EAAG,GAAG,CAAC,CAAC;EACb;AACJ,CAAC,EAACxB,UAAU,CAACk3B,OAAO,GAAG,CAAC,CAAC,EAACl3B,UAAU,CAACk3B,OAAO,CAACzsB,IAAI,GAAG,UAAUxK,CAAC,EAAE;EAC7D,IAAIC,CAAC,GAAGG,QAAQ,CAAC0mB,aAAa,CAAC,KAAK,CAAC;EACrC7mB,CAAC,CAAC0L,EAAE,GAAG,aAAa,EAAE1L,CAAC,CAAC+M,SAAS,GAAG,i0CAAi0C,EAAEhN,CAAC,CAACM,OAAO,CAACyP,WAAW,CAAC9P,CAAC,CAAC;AACn4C,CAAC,EAACF,UAAU,CAACk3B,OAAO,CAACvS,IAAI,GAAG,UAAU1kB,CAAC,EAAE;EACrC,IAAIC,CAAC,GAAGD,CAAC,CAACM,OAAO,CAACD,aAAa,CAAC,cAAc,CAAC;EAC/CJ,CAAC,IAAIA,CAAC,CAACyM,UAAU,CAACC,WAAW,CAAC1M,CAAC,CAAC;AACpC,CAAC,EAACF,UAAU,CAAC+1B,SAAS,GAAG,CAAC,CAAC,EAAC/1B,UAAU,CAACyqC,GAAG,KAAKzqC,UAAU,CAACyqC,GAAG,GAAG,CAAC,CAAC,CAAC,EAACzqC,UAAU,CAACyqC,GAAG,CAACC,YAAY,GAAG,aAAa,EAAC1qC,UAAU,CAACyqC,GAAG,CAACE,QAAQ,GAAG,MAAM,EAAC3qC,UAAU,CAACyqC,GAAG,CAACG,UAAU,GAAG,QAAQ,EAAC5qC,UAAU,CAACyqC,GAAG,CAACI,UAAU,GAAG,QAAQ,EAAC7qC,UAAU,CAACyqC,GAAG,CAACK,gBAAgB,GAAG,KAAK,EAAC9qC,UAAU,CAACyqC,GAAG,CAACM,MAAM,GAAG,IAAI,EAAC/qC,UAAU,CAACyqC,GAAG,CAACO,MAAM,GAAG,IAAI,EAAChrC,UAAU,CAACyqC,GAAG,CAACQ,MAAM,GAAG,IAAI,EAACjrC,UAAU,CAACyqC,GAAG,CAACS,MAAM,GAAG,IAAI,EAAClrC,UAAU,CAACyqC,GAAG,CAACU,UAAU,GAAG,QAAQ,EAACnrC,UAAU,CAACyqC,GAAG,CAACW,SAAS,GAAG,OAAO,EAACprC,UAAU,CAACyqC,GAAG,CAACY,UAAU,GAAG,QAAQ,EAACrrC,UAAU,CAACyqC,GAAG,CAACa,YAAY,GAAG,UAAU,EAACtrC,UAAU,CAACyqC,GAAG,CAACc,aAAa,GAAG,WAAW,EAACvrC,UAAU,CAACyqC,GAAG,CAACe,kBAAkB,GAAG,mBAAmB,EAACxrC,UAAU,CAACyqC,GAAG,CAACgB,UAAU,GAAG,QAAQ,EAACzrC,UAAU,CAACyqC,GAAG,CAACiB,UAAU,GAAG,QAAQ,EAAC1rC,UAAU,CAACyqC,GAAG,CAACkB,UAAU,GAAG,QAAQ,EAAC3rC,UAAU,CAACyqC,GAAG,CAACmB,SAAS,GAAG,OAAO,EAAC5rC,UAAU,CAAC+1B,SAAS,CAACtrB,IAAI,GAAG,UAAUxK,CAAC,EAAEC,CAAC,EAAE;EAC1yBF,UAAU,CAAC+1B,SAAS,CAACpR,IAAI,CAAC1kB,CAAC,CAAC,EAAEC,CAAC,GAAGD,CAAC,CAACm2B,qBAAqB,CAACl2B,CAAC,EAAE,KAAK,CAAC;EACnE,IAAIC,CAAC,GAAGE,QAAQ,CAAC0mB,aAAa,CAAC,KAAK,CAAC;EACrC5mB,CAAC,CAAC2D,SAAS,CAACC,GAAG,CAAC9D,CAAC,CAACO,MAAM,CAACwD,IAAI,CAAC,EAAE7D,CAAC,CAACyL,EAAE,GAAG,eAAe,EAAEoC,MAAM,CAACud,MAAM,CAACprB,CAAC,CAACwO,KAAK,EAAE;IAC3EE,QAAQ,EAAE,UAAU;IACpB3H,GAAG,EAAE,CAAC;IACNsI,IAAI,EAAE,CAAC;IACP,kBAAkB,EAAE,MAAM;IAC1B,SAAS,EAAE,CAAC;IACZgnB,MAAM,EAAE,cAAc;IACtB,YAAY,EAAE,kEAAkE;IAChFpsB,KAAK,EAAE,OAAO;IACdC,MAAM,EAAE,MAAM;IACd,aAAa,EAAE,kBAAkB;IACjC0F,KAAK,EAAE,SAAS;IAChB,YAAY,EAAE,OAAO;IACrBxM,OAAO,EAAE;EACb,CAAC,CAAC,EAAEtD,CAAC,CAACM,OAAO,CAACyP,WAAW,CAAC7P,CAAC,CAAC,EAAEA,CAAC,CAAC8M,SAAS,GAAG,MAAM,GAAGjN,UAAU,CAACyqC,GAAG,CAACC,YAAY,GAAG,2FAA2F,GAAG1qC,UAAU,CAACyqC,GAAG,CAACE,QAAQ,GAAG,iGAAiG,GAAG3qC,UAAU,CAACyqC,GAAG,CAACG,UAAU,GAAG,uJAAuJ,GAAG5qC,UAAU,CAACyqC,GAAG,CAACI,UAAU,GAAG,gIAAgI,GAAG7qC,UAAU,CAACyqC,GAAG,CAACK,gBAAgB,GAAG,8BAA8B,GAAG9qC,UAAU,CAACyqC,GAAG,CAACM,MAAM,GAAG,8BAA8B,GAAG/qC,UAAU,CAACyqC,GAAG,CAACO,MAAM,GAAG,8BAA8B,GAAGhrC,UAAU,CAACyqC,GAAG,CAACQ,MAAM,GAAG,8BAA8B,GAAGjrC,UAAU,CAACyqC,GAAG,CAACS,MAAM,GAAG,kCAAkC,GAAGlrC,UAAU,CAACyqC,GAAG,CAACU,UAAU,GAAG,iCAAiC,GAAGnrC,UAAU,CAACyqC,GAAG,CAACW,SAAS,GAAG,sFAAsF,GAAGprC,UAAU,CAACyqC,GAAG,CAACY,UAAU,GAAG,sHAAsH,GAAGrrC,UAAU,CAACyqC,GAAG,CAACa,YAAY,GAAG,gCAAgC,GAAGtrC,UAAU,CAACyqC,GAAG,CAACc,aAAa,GAAG,gFAAgF,GAAGvrC,UAAU,CAACyqC,GAAG,CAACmB,SAAS,GAAG,iIAAiI,GAAG5rC,UAAU,CAACyqC,GAAG,CAACe,kBAAkB,GAAG,4zBAA4zB,GAAGxrC,UAAU,CAACyqC,GAAG,CAACiB,UAAU,GAAG,6KAA6K,GAAG1rC,UAAU,CAACyqC,GAAG,CAACkB,UAAU,GAAG,6KAA6K,GAAG3rC,UAAU,CAACyqC,GAAG,CAACgB,UAAU,GAAG,iHAAiH;EACl9F,IAAIjqC,CAAC,GAAGnB,QAAQ,CAAC0mB,aAAa,CAAC,KAAK,CAAC;EACrCvlB,CAAC,CAACoK,EAAE,GAAG,kBAAkB,EAAEoC,MAAM,CAACud,MAAM,CAAC/pB,CAAC,CAACmN,KAAK,EAAE;IAC9C,YAAY,EAAE,QAAQ;IACtB,SAAS,EAAE,EAAE;IACbE,QAAQ,EAAE,UAAU;IACpB3H,GAAG,EAAE,CAAC;IACNsI,IAAI,EAAE,OAAO;IACb,kBAAkB,EAAE,MAAM;IAC1BpF,KAAK,EAAEnK,CAAC,CAACmK,KAAK,CAAC,CAAC,GAAG,GAAG,GAAG,IAAI;IAC7BC,MAAM,EAAE;EACZ,CAAC,CAAC,EAAEpK,CAAC,CAACM,OAAO,CAACyP,WAAW,CAACxO,CAAC,CAAC,EAAEA,CAAC,CAACyL,SAAS,GAAG,qGAAqG;EACjJ,IAAIxL,CAAC;IAAE8I,CAAC;IAAES,CAAC;IAAEC,CAAC,GAAGhL,CAAC,CAACM,OAAO,CAACD,aAAa,CAAC,gBAAgB,CAAC;IAAE6K,CAAC,GAAGlL,CAAC,CAACM,OAAO,CAACD,aAAa,CAAC,kBAAkB,CAAC;IACvG8K,CAAC,GAAGnL,CAAC,CAACM,OAAO,CAACD,aAAa,CAAC,iBAAiB,CAAC;IAAEiL,CAAC,GAAGtL,CAAC,CAACM,OAAO,CAACD,aAAa,CAAC,kBAAkB,CAAC;IAC/FmL,CAAC,GAAGxL,CAAC,CAACM,OAAO,CAACD,aAAa,CAAC,kBAAkB,CAAC;IAAEoL,CAAC,GAAGzL,CAAC,CAACM,OAAO,CAACD,aAAa,CAAC,kBAAkB,CAAC;EACpG2K,CAAC,CAAC2a,KAAK,GAAG1lB,CAAC,CAACw2B,MAAM,EAAEvrB,CAAC,CAACya,KAAK,GAAG1lB,CAAC,CAACu2B,SAAS,EAAErrB,CAAC,CAACwa,KAAK,GAAG1lB,CAAC,CAACiD,KAAK,EAAEoI,CAAC,CAACqa,KAAK,GAAG1lB,CAAC,CAACs2B,MAAM,EAAE/qB,CAAC,CAACma,KAAK,GAAG1lB,CAAC,CAACy2B,MAAM,EAAEjrB,CAAC,CAACka,KAAK,GAAG1lB,CAAC,CAAC02B,MAAM,EAAE52B,UAAU,CAAC0N,OAAO,CAACzN,CAAC,CAACM,OAAO,CAACD,aAAa,CAAC,gBAAgB,CAAC,EAAE;IAACk2B,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG;EAAC,CAAC,EAAE;IAACA,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;EAAC,CAAC,EAAE,GAAG,EAAEx2B,UAAU,CAAC8H,IAAI,CAAC0T,MAAM,EAAG,YAAY;IACjRvb,CAAC,CAACgoB,SAAS,CAAC/nB,CAAC,EAAEF,UAAU,CAAC+1B,SAAS,CAAC8V,QAAQ,CAAC;EACjD,CAAE,CAAC,EAAE5rC,CAAC,CAACM,OAAO,CAACD,aAAa,CAAC,kBAAkB,CAAC,CAAC+c,gBAAgB,CAAC,OAAO,EAAG,YAAY;IACpFrd,UAAU,CAAC+1B,SAAS,CAACpR,IAAI,CAAC1kB,CAAC,CAAC;EAChC,CAAE,CAAC,EAAEA,CAAC,CAACM,OAAO,CAACD,aAAa,CAAC,gBAAgB,CAAC,CAAC+c,gBAAgB,CAAC,OAAO,EAAG,YAAY;IAClFpd,CAAC,CAACgoB,SAAS,CAAC/nB,CAAC,CAAC,EAAEF,UAAU,CAAC+1B,SAAS,CAACpR,IAAI,CAAC1kB,CAAC,CAAC;EAChD,CAAE,CAAC,EAAED,UAAU,CAAC+1B,SAAS,CAAC+V,SAAS,CAAC7gC,CAAC,EAAEE,CAAC,EAAEC,CAAC,CAAC,EAAEH,CAAC,CAACoS,gBAAgB,CAAC,QAAQ,EAAG,YAAY;IACpFrd,UAAU,CAAC0N,OAAO,CAACzN,CAAC,CAACM,OAAO,CAACD,aAAa,CAAC,mBAAmB,CAAC,EAAE;MAAC2P,OAAO,EAAE;IAAC,CAAC,EAAE;MAACA,OAAO,EAAE;IAAC,CAAC,EAAE,GAAG,EAAEjQ,UAAU,CAAC8H,IAAI,CAACuT,KAAK,EAAG,YAAY;MAClIpb,CAAC,CAACM,OAAO,CAACD,aAAa,CAAC,mBAAmB,CAAC,CAAC2M,SAAS,GAAG,EAAE,EAAE/M,CAAC,CAACw2B,MAAM,GAAGzrB,CAAC,CAAC2a,KAAK,EAAE3lB,CAAC,CAACgoB,SAAS,CAAC/nB,CAAC,EAAEF,UAAU,CAAC+1B,SAAS,CAAC8V,QAAQ,CAAC,EAAE7rC,UAAU,CAAC+1B,SAAS,CAAC+V,SAAS,CAAC7gC,CAAC,EAAEE,CAAC,EAAEC,CAAC,CAAC;IAC3K,CAAE,CAAC;EACP,CAAE,CAAC,EAAED,CAAC,CAACkS,gBAAgB,CAAC,QAAQ,EAAG,YAAY;IAC3Crd,UAAU,CAAC0N,OAAO,CAACzN,CAAC,CAACM,OAAO,CAACD,aAAa,CAAC,mBAAmB,CAAC,EAAE;MAAC2P,OAAO,EAAE;IAAC,CAAC,EAAE;MAACA,OAAO,EAAE;IAAC,CAAC,EAAE,GAAG,EAAEjQ,UAAU,CAAC8H,IAAI,CAACuT,KAAK,EAAG,YAAY;MAClIpb,CAAC,CAACM,OAAO,CAACD,aAAa,CAAC,mBAAmB,CAAC,CAAC2M,SAAS,GAAG,EAAE,EAAE/M,CAAC,CAACu2B,SAAS,GAAG,MAAM,IAAItrB,CAAC,CAACya,KAAK,EAAE3lB,CAAC,CAACgoB,SAAS,CAAC/nB,CAAC,EAAEF,UAAU,CAAC+1B,SAAS,CAAC8V,QAAQ,CAAC,EAAE7rC,UAAU,CAAC+1B,SAAS,CAAC+V,SAAS,CAAC7gC,CAAC,EAAEE,CAAC,EAAEC,CAAC,CAAC;IACxL,CAAE,CAAC;EACP,CAAE,CAAC,EAAEA,CAAC,CAACiS,gBAAgB,CAAC,QAAQ,EAAG,YAAY;IAC3Crd,UAAU,CAAC0N,OAAO,CAACzN,CAAC,CAACM,OAAO,CAACD,aAAa,CAAC,mBAAmB,CAAC,EAAE;MAAC2P,OAAO,EAAE;IAAC,CAAC,EAAE;MAACA,OAAO,EAAE;IAAC,CAAC,EAAE,GAAG,EAAEjQ,UAAU,CAAC8H,IAAI,CAACuT,KAAK,EAAG,YAAY;MAClIpb,CAAC,CAACM,OAAO,CAACD,aAAa,CAAC,mBAAmB,CAAC,CAAC2M,SAAS,GAAG,EAAE,EAAE/M,CAAC,CAACiD,KAAK,GAAGiI,CAAC,CAACwa,KAAK,EAAE3lB,CAAC,CAACgoB,SAAS,CAAC/nB,CAAC,EAAEF,UAAU,CAAC+1B,SAAS,CAAC8V,QAAQ,CAAC,EAAE7rC,UAAU,CAAC+1B,SAAS,CAAC+V,SAAS,CAAC7gC,CAAC,EAAEE,CAAC,EAAEC,CAAC,CAAC;IAC1K,CAAE,CAAC;EACP,CAAE,CAAC,EAAEG,CAAC,CAAC8R,gBAAgB,CAAC,OAAO,EAAG,YAAY;IAC1C8P,YAAY,CAAC1rB,CAAC,CAAC,EAAEA,CAAC,GAAG2rB,UAAU,CAAE,YAAY;MACzCptB,UAAU,CAAC0N,OAAO,CAACzN,CAAC,CAACM,OAAO,CAACD,aAAa,CAAC,mBAAmB,CAAC,EAAE;QAAC2P,OAAO,EAAE;MAAC,CAAC,EAAE;QAACA,OAAO,EAAE;MAAC,CAAC,EAAE,GAAG,EAAEjQ,UAAU,CAAC8H,IAAI,CAACuT,KAAK,EAAG,YAAY;QAClIpb,CAAC,CAACM,OAAO,CAACD,aAAa,CAAC,mBAAmB,CAAC,CAAC2M,SAAS,GAAG,EAAE;QAC3D,IAAI9M,CAAC,GAAGoL,CAAC,CAACqa,KAAK,CAACoG,KAAK,CAAC,GAAG,CAAC;QAC1B,IAAI,CAAC,IAAI7rB,CAAC,CAACqL,MAAM,EAAE;UACf,KAAK,IAAIhK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGrB,CAAC,CAACqL,MAAM,EAAEhK,CAAC,EAAE,EAAErB,CAAC,CAACqB,CAAC,CAAC,GAAGwZ,QAAQ,CAAC7a,CAAC,CAACqB,CAAC,CAAC,CAAC;UACxDtB,CAAC,CAACs2B,MAAM,GAAGr2B,CAAC,EAAEF,CAAC,CAACgoB,SAAS,CAAC/nB,CAAC,EAAEF,UAAU,CAAC+1B,SAAS,CAAC8V,QAAQ,CAAC;QAC/D;MACJ,CAAE,CAAC;IACP,CAAC,EAAG,GAAG,CAAC;EACZ,CAAE,CAAC,EAAEpgC,CAAC,CAAC4R,gBAAgB,CAAC,OAAO,EAAG,YAAY;IAC1C8P,YAAY,CAAC5iB,CAAC,CAAC,EAAEA,CAAC,GAAG6iB,UAAU,CAAE,YAAY;MACzCptB,UAAU,CAAC0N,OAAO,CAACzN,CAAC,CAACM,OAAO,CAACD,aAAa,CAAC,mBAAmB,CAAC,EAAE;QAAC2P,OAAO,EAAE;MAAC,CAAC,EAAE;QAACA,OAAO,EAAE;MAAC,CAAC,EAAE,GAAG,EAAEjQ,UAAU,CAAC8H,IAAI,CAACuT,KAAK,EAAG,YAAY;QAClIpb,CAAC,CAACM,OAAO,CAACD,aAAa,CAAC,mBAAmB,CAAC,CAAC2M,SAAS,GAAG,EAAE,EAAE/M,CAAC,CAACy2B,MAAM,GAAGlrB,CAAC,CAACma,KAAK,EAAE3lB,CAAC,CAACgoB,SAAS,CAAC/nB,CAAC,EAAEF,UAAU,CAAC+1B,SAAS,CAAC8V,QAAQ,CAAC;MAClI,CAAE,CAAC;IACP,CAAC,EAAG,GAAG,CAAC;EACZ,CAAE,CAAC,EAAEngC,CAAC,CAAC2R,gBAAgB,CAAC,OAAO,EAAG,YAAY;IAC1C8P,YAAY,CAACniB,CAAC,CAAC,EAAEA,CAAC,GAAGoiB,UAAU,CAAE,YAAY;MACzCptB,UAAU,CAAC0N,OAAO,CAACzN,CAAC,CAACM,OAAO,CAACD,aAAa,CAAC,mBAAmB,CAAC,EAAE;QAAC2P,OAAO,EAAE;MAAC,CAAC,EAAE;QAACA,OAAO,EAAE;MAAC,CAAC,EAAE,GAAG,EAAEjQ,UAAU,CAAC8H,IAAI,CAACuT,KAAK,EAAG,YAAY;QAClIpb,CAAC,CAACM,OAAO,CAACD,aAAa,CAAC,mBAAmB,CAAC,CAAC2M,SAAS,GAAG,EAAE,EAAE/M,CAAC,CAAC02B,MAAM,GAAGlrB,CAAC,CAACka,KAAK,EAAE3lB,CAAC,CAACgoB,SAAS,CAAC/nB,CAAC,EAAEF,UAAU,CAAC+1B,SAAS,CAAC8V,QAAQ,CAAC;MAClI,CAAE,CAAC;IACP,CAAC,EAAG,GAAG,CAAC;EACZ,CAAE,CAAC;AACP,CAAC,EAAC7rC,UAAU,CAAC+1B,SAAS,CAAC+V,SAAS,GAAG,UAAU7rC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EAClD,IAAI,IAAIF,CAAC,CAAC2lB,KAAK,IAAI,IAAI,IAAI3lB,CAAC,CAAC2lB,KAAK,IAAI,IAAI,IAAI3lB,CAAC,CAAC2lB,KAAK,IAAI,IAAI,IAAI3lB,CAAC,CAAC2lB,KAAK,IAAI,QAAQ,IAAI3lB,CAAC,CAAC2lB,KAAK,IAAI,OAAO,IAAI3lB,CAAC,CAAC2lB,KAAK,IAAI1lB,CAAC,CAACyM,UAAU,CAACgC,KAAK,CAAC4D,OAAO,GAAG,OAAO,EAAEpS,CAAC,CAACwM,UAAU,CAACgC,KAAK,CAAC4D,OAAO,GAAG,OAAO,KAAKrS,CAAC,CAACyM,UAAU,CAACgC,KAAK,CAAC4D,OAAO,GAAG,MAAM,EAAEpS,CAAC,CAACwM,UAAU,CAACgC,KAAK,CAAC4D,OAAO,GAAG,MAAM,CAAC;AACrR,CAAC,EAACvS,UAAU,CAAC+1B,SAAS,CAAC8V,QAAQ,GAAG,UAAU5rC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACjD,IAAIqB,CAAC,GAAGtB,CAAC,CAAC4N,OAAO;IAAErM,CAAC,GAAGvB,CAAC,CAAC+2B,KAAK;IAAE1sB,CAAC,GAAG/I,CAAC,CAACg1B,MAAM,CAAC,CAAC,CAAC;IAAExrB,CAAC,GAAGxJ,CAAC,CAACg1B,MAAM,CAAC,CAAC,CAAC;IAAEvrB,CAAC,GAAG5K,QAAQ,CAAC0mB,aAAa,CAAC,KAAK,CAAC;EACnG9b,CAAC,CAACnH,SAAS,CAACC,GAAG,CAAC9D,CAAC,CAACO,MAAM,CAACwD,IAAI,CAAC,EAAEiH,CAAC,CAACgC,SAAS,GAAG9M,CAAC,CAAC42B,SAAS,EAAE/2B,UAAU,CAAC8pB,QAAQ,CAAC,CAAC,CAACC,IAAI,KAAK9e,CAAC,CAACgC,SAAS,GAAI,IAAI0jB,aAAa,CAAD,CAAC,CAAEC,iBAAiB,CAACzwB,CAAC,CAAC,CAAC;EACjJ,KAAK,IAAIgL,CAAC,GAAGF,CAAC,CAAC3K,aAAa,CAAC,KAAK,CAAC,EAAE8K,CAAC,GAAGnL,CAAC,CAACM,OAAO,CAACD,aAAa,CAAC,mBAAmB,CAAC,EAAEiL,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG9J,CAAC,CAAC+J,MAAM,EAAED,CAAC,EAAE,EAAE;IAC7G,IAAIE,CAAC,GAAGpL,QAAQ,CAAC0mB,aAAa,CAAC,QAAQ,CAAC;IACxC/Y,MAAM,CAACud,MAAM,CAAC9f,CAAC,CAACkD,KAAK,EAAE;MACnB4D,OAAO,EAAE,OAAO;MAChBikB,MAAM,EAAE,WAAW;MACnB6B,MAAM,EAAE,mBAAmB;MAC3B,YAAY,EAAE;IAClB,CAAC,CAAC,EAAEjtB,CAAC,CAAC4E,WAAW,CAACvE,CAAC,CAAC,EAAEN,CAAC,IAAIA,CAAC,CAACwD,KAAK,CAAC4pB,eAAe,GAAG9sB,CAAC,CAACkD,KAAK,CAAC4pB,eAAe,GAAGptB,CAAC,CAACwD,KAAK,CAAC4pB,eAAe,GAAG9sB,CAAC,CAACkD,KAAK,CAAC4pB,eAAe,GAAG,MAAM;IACzI,IAAI7sB,CAAC,GAAGD,CAAC,CAACsgC,aAAa,CAAC1rC,QAAQ;IAChCqL,CAAC,CAAC2O,IAAI,CAAC,CAAC,EAAE5O,CAAC,CAACkD,KAAK,CAACvE,KAAK,GAAG3I,CAAC,CAAC8J,CAAC,CAAC,CAACmmB,IAAI,CAACpiB,CAAC,GAAG,IAAI,EAAE7D,CAAC,CAACkD,KAAK,CAACtE,MAAM,GAAG5I,CAAC,CAAC8J,CAAC,CAAC,CAACmmB,IAAI,CAACllB,CAAC,GAAG,IAAI,EAAEf,CAAC,CAACkD,KAAK,CAAC6nB,MAAM,GAAG,SAAS,EAAE/0B,CAAC,CAAC8J,CAAC,CAAC,CAACgtB,eAAe,KAAK9sB,CAAC,CAACkD,KAAK,CAAC4pB,eAAe,GAAG92B,CAAC,CAAC8J,CAAC,CAAC,CAACgtB,eAAe,CAAC;IACvL,IAAI/rB,CAAC,GAAGhL,CAAC,CAACm1B,MAAM;IAChBl1B,CAAC,CAAC8J,CAAC,CAAC,CAACorB,MAAM,KAAKnqB,CAAC,GAAG/K,CAAC,CAAC8J,CAAC,CAAC,CAACorB,MAAM,CAAC,EAAEnqB,CAAC,KAAKA,CAAC,GAAGA,CAAC,CAACmM,OAAO,CAAC,gBAAgB,EAAEpN,CAAC,GAAG,CAAC,CAAC,CAACoN,OAAO,CAAC,eAAe,EAAElX,CAAC,CAAC+J,MAAM,CAAC,CAAC;IAClH,IAAIkB,CAAC,GAAGlL,CAAC,CAACo1B,MAAM;IAChBn1B,CAAC,CAAC8J,CAAC,CAAC,CAACqrB,MAAM,KAAKlqB,CAAC,GAAGjL,CAAC,CAAC8J,CAAC,CAAC,CAACqrB,MAAM,CAAC,EAAElqB,CAAC,KAAKA,CAAC,GAAGA,CAAC,CAACiM,OAAO,CAAC,gBAAgB,EAAEpN,CAAC,GAAG,CAAC,CAAC,CAACoN,OAAO,CAAC,eAAe,EAAElX,CAAC,CAAC+J,MAAM,CAAC,CAAC,EAAE/J,CAAC,CAAC8J,CAAC,CAAC,CAACga,IAAI,GAAG7Z,CAAC,CAACmf,KAAK,CAAC7qB,UAAU,CAACgsC,WAAW,CAACvqC,CAAC,CAAC8J,CAAC,CAAC,CAACga,IAAI,EAAErlB,CAAC,CAAC42B,MAAM,EAAEt1B,CAAC,EAAEC,CAAC,CAAC8J,CAAC,CAAC,CAACosB,SAAS,CAACroB,CAAC,EAAE7N,CAAC,CAAC8J,CAAC,CAAC,CAACosB,SAAS,CAACnrB,CAAC,EAAEA,CAAC,EAAEE,CAAC,EAAEzM,CAAC,CAACO,MAAM,CAACwD,IAAI,CAAC,CAAC,IAAImH,CAAC,CAAC8D,YAAY,CAAC,SAAS,EAAExN,CAAC,CAAC8J,CAAC,CAAC,CAACmsB,EAAE,CAAC,EAAEhsB,CAAC,CAACmf,KAAK,CAAC7qB,UAAU,CAACgsC,WAAW,CAAC/gC,CAAC,CAACgC,SAAS,EAAE/M,CAAC,CAAC42B,MAAM,EAAEt1B,CAAC,EAAEC,CAAC,CAAC8J,CAAC,CAAC,CAACosB,SAAS,CAACroB,CAAC,EAAE7N,CAAC,CAAC8J,CAAC,CAAC,CAACosB,SAAS,CAACnrB,CAAC,EAAEA,CAAC,EAAEE,CAAC,EAAEzM,CAAC,CAACO,MAAM,CAACwD,IAAI,CAAC,CAAC,CAAC;IAC3Y,IAAIsJ,CAAC,GAAG5B,CAAC,CAAC+Z,cAAc,CAAC,YAAY,CAAC;MAAElY,CAAC,GAAG7B,CAAC,CAAC+Z,cAAc,CAAC,YAAY,CAAC;IAC1E,IAAInY,CAAC,EAAE;MACH,IAAIY,CAAC,GAAG3D,CAAC,GAAG+C,CAAC,CAACwB,YAAY,GAAG,CAAC;MAC9BxB,CAAC,CAACqB,KAAK,CAACzH,GAAG,GAAGgH,CAAC,GAAG,IAAI;IAC1B;IACA,IAAIX,CAAC,EAAE;MACH,IAAIY,CAAC,GAAGnD,CAAC,GAAGuC,CAAC,CAACuB,YAAY,GAAG,CAAC;MAC9BvB,CAAC,CAACoB,KAAK,CAAC8F,MAAM,GAAGtG,CAAC,GAAG,IAAI;IAC7B;IACAzC,CAAC,CAACspB,KAAK,CAAC,CAAC;EACb;EACA,IAAI1mB,CAAC,GAAGrO,CAAC,CAACM,OAAO,CAACD,aAAa,CAAC,mBAAmB,CAAC;EACpDN,UAAU,CAAC0N,OAAO,CAACY,CAAC,EAAE;IAAC2B,OAAO,EAAE;EAAC,CAAC,EAAE;IAACA,OAAO,EAAE;EAAC,CAAC,EAAE,GAAG,EAAEjQ,UAAU,CAAC8H,IAAI,CAAC0T,MAAM,CAAC;AAClF,CAAC,EAACxb,UAAU,CAAC+1B,SAAS,CAAC/mB,WAAW,GAAG,UAAU/O,CAAC,EAAE;EAC9C,IAAIC,CAAC,GAAG,IAAI;EACZ,OAAOD,CAAC,IAAIC,CAAC,GAAG,CAACA,CAAC,GAAG,GAAG,IAAIA,CAAC,GAAGD,CAAC,CAAC2a,YAAY,CAAC,SAAS,CAAC,CAAC,GAAG,GAAG,EAAEjC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,EAAEzY,CAAC,GAAG2Y,IAAI,CAACC,KAAK,CAAC5Y,CAAC,CAAC,IAAI,IAAI;AACpH,CAAC,EAACF,UAAU,CAACgsC,WAAW,GAAG,UAAU/rC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAES,CAAC,EAAEC,CAAC,EAAE;EACzD,KAAK,IAAIE,CAAC,GAAG,EAAE,EAAEC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGjL,CAAC,CAACq2B,MAAM,CAAChrB,MAAM,EAAEJ,CAAC,EAAE,EAAED,CAAC,IAAIhL,CAAC,CAACq2B,MAAM,CAACprB,CAAC,CAAC,GAAG,KAAK;EAC1E,IAAIG,CAAC,GAAG,gEAAgE,GAAGrL,CAAC,GAAG,mBAAmB,GAAG+K,CAAC,GAAG,qDAAqD,GAAGE,CAAC,GAAG,yBAAyB,GAAG3J,CAAC,GAAG,YAAY,GAAGC,CAAC,GAAG,MAAM;EAC9N,OAAO8I,CAAC,KAAKgB,CAAC,IAAI,oCAAoC,GAAG/J,CAAC,GAAG,0CAA0C,GAAGrB,CAAC,CAACq2B,MAAM,CAAC,CAAC,CAAC,GAAG,aAAa,GAAGjsB,CAAC,GAAG,QAAQ,CAAC,EAAEgB,CAAC,IAAItL,CAAC,EAAE+K,CAAC,KAAKO,CAAC,IAAI,oCAAoC,GAAG/J,CAAC,GAAG,0CAA0C,GAAGrB,CAAC,CAACq2B,MAAM,CAAC,CAAC,CAAC,GAAG,gBAAgB,GAAGxrB,CAAC,GAAG,QAAQ,CAAC,EAAEO,CAAC,IAAI,QAAQ,EAAEA,CAAC,IAAI,gBAAgB;AAC1V,CAAC,EAACvL,UAAU,CAAC+1B,SAAS,CAACpR,IAAI,GAAG,UAAU1kB,CAAC,EAAE;EACvC,IAAIC,CAAC,GAAGD,CAAC,CAACM,OAAO,CAACD,aAAa,CAAC,mBAAmB,CAAC;EACpD,IAAIJ,CAAC,EAAE;IACHA,CAAC,CAACyM,UAAU,CAACC,WAAW,CAAC1M,CAAC,CAAC,EAAEA,CAAC,CAACyO,KAAK,CAACsB,OAAO,GAAG,CAAC;IAChD,IAAI9P,CAAC,GAAGF,CAAC,CAACM,OAAO,CAACD,aAAa,CAAC,gBAAgB,CAAC;IACjDH,CAAC,CAACwM,UAAU,CAACC,WAAW,CAACzM,CAAC,CAAC;EAC/B;AACJ,CAAC,EAAC,KAAK,CAAC,KAAKH,UAAU,KAAKA,UAAU,GAAG,CAAC,CAAC,CAAC,EAACA,UAAU,CAAC2E,MAAM,CAACsF,EAAE,CAAC,YAAY,EAAG,UAAUhK,CAAC,EAAEC,CAAC,EAAE;EAC7F,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,CAAC,CAACO,MAAM,CAACmG,MAAM,CAAC6E,MAAM,EAAErL,CAAC,EAAE,EAAE;IAC7C,IAAIqB,CAAC,GAAGvB,CAAC,CAACO,MAAM,CAACmG,MAAM,CAACxG,CAAC,CAAC,CAACgG,QAAQ;IACnC3E,CAAC,KAAKA,CAAC,GAAG,QAAQ,CAAC;IACnB,IAAIC,CAAC,GAAGzB,UAAU,CAACisC,cAAc,CAACzqC,CAAC,CAAC;IACpCtB,CAAC,CAAC6K,IAAI,IAAItJ,CAAC,CAACsJ,IAAI;EACpB;AACJ,CAAE,CAAC,EAAC/K,UAAU,CAAC2E,MAAM,CAACsF,EAAE,CAAC,WAAW,EAAG,UAAUhK,CAAC,EAAEC,CAAC,EAAE;EACnDF,UAAU,CAAC8iB,0BAA0B,IAAI7iB,CAAC,CAACisC,MAAM,CAACjsC,CAAC,EAAEC,CAAC,CAAC;AAC3D,CAAE,CAAC,EAACF,UAAU,CAAC2E,MAAM,CAACsF,EAAE,CAAC,QAAQ,EAAG,UAAUhK,CAAC,EAAEC,CAAC,EAAE;EAChDF,UAAU,CAAC8iB,0BAA0B,IAAI7iB,CAAC,CAACisC,MAAM,CAACjsC,CAAC,EAAEC,CAAC,CAAC;AAC3D,CAAE,CAAC,EAACF,UAAU,CAAC2E,MAAM,CAACsF,EAAE,CAAC,MAAM,EAAG,UAAUhK,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;EACpD,IAAIvB,CAAC,YAAYD,UAAU,IAAIC,CAAC,CAACO,MAAM,CAAC6G,SAAS,EAAE,KAAK,IAAI5F,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,CAAC,CAACgK,MAAM,EAAE/J,CAAC,EAAE,EAAE;IAClF,KAAK,IAAI8I,CAAC,GAAG/I,CAAC,CAACC,CAAC,CAAC,EAAEuJ,CAAC,GAAG/K,CAAC,CAACM,OAAO,CAACkS,gBAAgB,CAAE,mBAAkBlI,CAAE,IAAG,CAAC,EAAEU,CAAC,GAAGhL,CAAC,CAACM,OAAO,CAACkS,gBAAgB,CAAE,iBAAgBlI,CAAE,IAAG,CAAC,EAAEY,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,CAAC,CAACQ,MAAM,EAAEL,CAAC,EAAE,EAAEH,CAAC,CAACG,CAAC,CAAC,CAACwB,UAAU,CAACC,WAAW,CAAC5B,CAAC,CAACG,CAAC,CAAC,CAAC;IAChM,KAAKA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,CAAC,CAACO,MAAM,EAAEL,CAAC,EAAE,EAAEF,CAAC,CAACE,CAAC,CAAC,CAACwB,UAAU,CAACC,WAAW,CAAC3B,CAAC,CAACE,CAAC,CAAC,CAAC;EACpE;AACJ,CAAE,CAAC,EAACnL,UAAU,CAAC2J,SAAS,CAACuiC,MAAM,GAAG,UAAUjsC,CAAC,EAAEC,CAAC,EAAE;EAC9C,KAAK,IAAIC,CAAC,GAAG,EAAE,EAAEqB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAChB,MAAM,CAACmG,MAAM,CAAC6E,MAAM,EAAEhK,CAAC,EAAE,EAAE;IACxD,IAAIC,CAAC,GAAG,IAAI,CAACjB,MAAM,CAACmG,MAAM,CAACnF,CAAC,CAAC;MAAE+I,CAAC,GAAGtK,CAAC,CAACoP,OAAO,CAAC5N,CAAC,CAAC6W,IAAI,CAAC;MAAEtN,CAAC,GAAG/K,CAAC,CAACoP,OAAO,CAAC5N,CAAC,CAAC8W,EAAE,CAAC;IACzE,IAAIhO,CAAC,IAAI,CAAC,CAAC,IAAIrK,CAAC,CAACoL,GAAG,CAACV,cAAc,CAAC4K,OAAO,CAACjL,CAAC,CAACqB,EAAE,CAAC,IAAKZ,CAAC,IAAI,CAAC,CAAC,IAAI9K,CAAC,CAACoL,GAAG,CAACV,cAAc,CAAC4K,OAAO,CAACxK,CAAC,CAACY,EAAE,CAAE,EAAE;MAClG,IAAIX,CAAC,GAAGV,CAAC,CAACsF,CAAC;QAAE1E,CAAC,GAAGZ,CAAC,CAACgD,CAAC;QAAEnC,CAAC,GAAGJ,CAAC,CAAC6E,CAAC;QAAEtE,CAAC,GAAGP,CAAC,CAACuC,CAAC;QAAE9B,CAAC,GAAG,CAAC,CAAC;QAAEC,CAAC,GAAG,CAAC,CAAC;QAAEc,CAAC,GAAGvB,CAAC,GAAGV,CAAC,CAAC+E,CAAC,GAAG,CAAC;QAAE5C,CAAC,GAAGtB,CAAC,GAAGJ,CAAC,CAACsE,CAAC,GAAG,CAAC;QAAEhC,CAAC,GAAGnC,CAAC,GAAGZ,CAAC,CAACiC,CAAC,GAAG,CAAC;QACrGe,CAAC,GAAGhC,CAAC,GAAGP,CAAC,CAACwB,CAAC,GAAG,CAAC;QAAE0B,CAAC,GAAG,CAAC;MAC1B,QAAQ,IAAI,CAAC1N,MAAM,CAACK,WAAW;QAC3B,KAAKb,UAAU,CAACa,WAAW,CAACqG,GAAG;QAC/B,KAAKlH,UAAU,CAACa,WAAW,CAAC0T,QAAQ;UAChC/H,CAAC,IAAIE,CAAC,IAAIwB,CAAC,GAAG,CAAC,EAAEzC,CAAC,CAACoE,CAAC,GAAGrD,CAAC,GAAGjC,CAAC,CAAC+E,CAAC,GAAG,EAAE,EAAE5D,CAAC,CAACmE,CAAC,GAAGnD,CAAC,GAAG1B,CAAC,CAACsE,CAAC,GAAG,EAAE,KAAKpB,CAAC,GAAG,CAAC,CAAC,EAAEzC,CAAC,CAACoE,CAAC,GAAGrD,CAAC,GAAGjC,CAAC,CAAC+E,CAAC,GAAG,EAAE,EAAE5D,CAAC,CAACmE,CAAC,GAAGnD,CAAC,GAAG1B,CAAC,CAACsE,CAAC,GAAG,EAAE,CAAC,EAAEnE,CAAC,IAAII,CAAC,IAAI2C,CAAC,GAAG,CAAC,EAAEzC,CAAC,CAAC8B,CAAC,GAAGpC,CAAC,EAAEO,CAAC,CAAC6B,CAAC,GAAGhC,CAAC,IAAIJ,CAAC,GAAGI,CAAC,IAAIE,CAAC,CAAC8B,CAAC,GAAGpC,CAAC,EAAEO,CAAC,CAAC6B,CAAC,GAAGhC,CAAC,GAAGP,CAAC,CAACwB,CAAC,KAAKf,CAAC,CAAC8B,CAAC,GAAGpC,CAAC,GAAGZ,CAAC,CAACiC,CAAC,EAAEd,CAAC,CAAC6B,CAAC,GAAGhC,CAAC,CAAC;UAC7M;QACJ,KAAKvL,UAAU,CAACa,WAAW,CAAC4T,MAAM;QAClC,KAAKzU,UAAU,CAACa,WAAW,CAACyT,WAAW;UACnC9H,CAAC,IAAIE,CAAC,IAAIwB,CAAC,GAAG,CAAC,CAAC,EAAEzC,CAAC,CAACoE,CAAC,GAAGrD,CAAC,GAAGjC,CAAC,CAAC+E,CAAC,GAAG,EAAE,EAAE5D,CAAC,CAACmE,CAAC,GAAGnD,CAAC,GAAG1B,CAAC,CAACsE,CAAC,GAAG,EAAE,KAAKpB,CAAC,GAAG,CAAC,EAAEzC,CAAC,CAACoE,CAAC,GAAGrD,CAAC,GAAGjC,CAAC,CAAC+E,CAAC,GAAG,EAAE,EAAE5D,CAAC,CAACmE,CAAC,GAAGnD,CAAC,GAAG1B,CAAC,CAACsE,CAAC,GAAG,EAAE,CAAC,EAAEnE,CAAC,IAAII,CAAC,IAAI2C,CAAC,GAAG,CAAC,CAAC,EAAEzC,CAAC,CAAC8B,CAAC,GAAGpC,CAAC,GAAGZ,CAAC,CAACiC,CAAC,EAAEd,CAAC,CAAC6B,CAAC,GAAGhC,CAAC,GAAGP,CAAC,CAACwB,CAAC,IAAIrB,CAAC,GAAGI,CAAC,IAAIE,CAAC,CAAC8B,CAAC,GAAGpC,CAAC,EAAEO,CAAC,CAAC6B,CAAC,GAAGhC,CAAC,GAAGP,CAAC,CAACwB,CAAC,KAAKf,CAAC,CAAC8B,CAAC,GAAGpC,CAAC,GAAGZ,CAAC,CAACiC,CAAC,EAAEd,CAAC,CAAC6B,CAAC,GAAGhC,CAAC,CAAC;UAC1N;QACJ,KAAKvL,UAAU,CAACa,WAAW,CAAC2O,IAAI;QAChC,KAAKxP,UAAU,CAACa,WAAW,CAAC2T,QAAQ;UAChClH,CAAC,IAAIC,CAAC,IAAIW,CAAC,GAAG,CAAC,CAAC,EAAEzC,CAAC,CAAC8B,CAAC,GAAGD,CAAC,GAAG/C,CAAC,CAACiC,CAAC,GAAG,CAAC,EAAEd,CAAC,CAAC6B,CAAC,GAAGA,CAAC,GAAGvC,CAAC,CAACwB,CAAC,GAAG,CAAC,KAAK0B,CAAC,GAAG,CAAC,EAAEzC,CAAC,CAAC8B,CAAC,GAAGD,CAAC,GAAG/C,CAAC,CAACiC,CAAC,GAAG,CAAC,EAAEd,CAAC,CAAC6B,CAAC,GAAGA,CAAC,GAAGvC,CAAC,CAACwB,CAAC,GAAG,CAAC,CAAC,EAAEvB,CAAC,IAAIG,CAAC,IAAI8C,CAAC,GAAG,CAAC,CAAC,EAAEzC,CAAC,CAACoE,CAAC,GAAG5E,CAAC,EAAES,CAAC,CAACmE,CAAC,GAAGzE,CAAC,IAAIH,CAAC,GAAGG,CAAC,IAAIK,CAAC,CAACoE,CAAC,GAAG5E,CAAC,EAAES,CAAC,CAACmE,CAAC,GAAGzE,CAAC,GAAGJ,CAAC,CAACsE,CAAC,KAAK7D,CAAC,CAACoE,CAAC,GAAG5E,CAAC,GAAGV,CAAC,CAAC+E,CAAC,EAAE5D,CAAC,CAACmE,CAAC,GAAGzE,CAAC,CAAC;UAC1M;QACJ,KAAKpL,UAAU,CAACa,WAAW,CAACuT,KAAK;QACjC,KAAKpU,UAAU,CAACa,WAAW,CAACwT,SAAS;UACjC/G,CAAC,IAAIC,CAAC,IAAIW,CAAC,GAAG,CAAC,EAAEzC,CAAC,CAAC8B,CAAC,GAAGD,CAAC,GAAG/C,CAAC,CAACiC,CAAC,GAAG,CAAC,EAAEd,CAAC,CAAC6B,CAAC,GAAGA,CAAC,GAAGvC,CAAC,CAACwB,CAAC,GAAG,CAAC,KAAK0B,CAAC,GAAG,CAAC,CAAC,EAAEzC,CAAC,CAAC8B,CAAC,GAAGD,CAAC,GAAG/C,CAAC,CAACiC,CAAC,GAAG,CAAC,EAAEd,CAAC,CAAC6B,CAAC,GAAGA,CAAC,GAAGvC,CAAC,CAACwB,CAAC,GAAG,CAAC,CAAC,EAAEvB,CAAC,IAAIG,CAAC,IAAI8C,CAAC,GAAG,CAAC,EAAEzC,CAAC,CAACoE,CAAC,GAAG5E,CAAC,GAAGV,CAAC,CAAC+E,CAAC,EAAE5D,CAAC,CAACmE,CAAC,GAAGzE,CAAC,GAAGJ,CAAC,CAACsE,CAAC,IAAIrE,CAAC,GAAGG,CAAC,IAAIK,CAAC,CAACoE,CAAC,GAAG5E,CAAC,EAAES,CAAC,CAACmE,CAAC,GAAGzE,CAAC,GAAGJ,CAAC,CAACsE,CAAC,KAAK7D,CAAC,CAACoE,CAAC,GAAG5E,CAAC,GAAGV,CAAC,CAAC+E,CAAC,EAAE5D,CAAC,CAACmE,CAAC,GAAGzE,CAAC,CAAC;MAC7N;MACA,IAAI+C,CAAC,GAAGsY,CAAC,CAAChb,CAAC,EAAEC,CAAC,EAAEwC,CAAC,CAAC;QAAEI,CAAC,GAAG7M,CAAC,CAAC0E,QAAQ;MAClCmI,CAAC,KAAKA,CAAC,GAAG,QAAQ,CAAC;MACnB,IAAIhC,CAAC,GAAGtM,UAAU,CAACisC,cAAc,CAAC39B,CAAC,CAAC;MACpC,IAAI7M,CAAC,CAAC4jB,KAAK,EAAE;QACT,IAAItK,CAAC,GAAG/a,UAAU,CAACmsC,kBAAkB,CAAC1qC,CAAC,EAAEgK,CAAC,EAAEC,CAAC,EAAEyC,CAAC,CAAC;QACjDhO,CAAC,IAAImM,CAAC,CAAC+Y,KAAK,CAAC1M,OAAO,CAAC,KAAK,EAAEoC,CAAC,CAAClL,CAAC,CAAC,CAAC8I,OAAO,CAAC,KAAK,EAAEoC,CAAC,CAACxN,CAAC,CAAC,CAACoL,OAAO,CAAC,OAAO,EAAElX,CAAC,CAAC4jB,KAAK,CAAC;MAClF;MACA,IAAIxV,CAAC,GAAG,GAAG,GAAGpE,CAAC,CAACoE,CAAC,GAAG,GAAG,GAAGpE,CAAC,CAAC8B,CAAC,GAAG,GAAG,GAAG9B,CAAC,CAACoE,CAAC,GAAG,GAAG,GAAGpE,CAAC,CAAC8B,CAAC,GAAG,GAAG,GAAGY,CAAC,CAAC0B,CAAC,GAAG,GAAG,GAAG1B,CAAC,CAACZ,CAAC,GAAG,GAAG,GAAG7B,CAAC,CAACmE,CAAC,GAAG,GAAG,GAAGnE,CAAC,CAAC6B,CAAC;MACrGpN,CAAC,IAAI,CAAC,KAAK,GAAGH,UAAU,CAAC2Q,IAAI,CAAC6N,WAAW,GAAG,YAAY,GAAGxe,UAAU,CAAC2Q,IAAI,CAAC4N,SAAS,GAAG,UAAU,EAAE5F,OAAO,CAAC,QAAQ,EAAEpO,CAAC,CAACqB,EAAE,CAAC,CAAC+M,OAAO,CAAC,MAAM,EAAE3N,CAAC,CAACY,EAAE,CAAC,GAAGU,CAAC,CAACR,IAAI,CAACqkB,UAAU,CAAC,KAAK,EAAEtgB,CAAC,CAAC,GAAG,8DAA8D,GAAGA,CAAC,GAAG,MAAM,EAAE1P,CAAC,IAAIH,UAAU,CAAC+gB,UAAU;IAC5R;IAEA,SAAS0F,CAACA,CAACxmB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;MAChB,IAAI,IAAIA,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC;MACpB,IAAIqB,CAAC,GAAGtB,CAAC,CAAC2P,CAAC,GAAG5P,CAAC,CAAC4P,CAAC;QAAEtF,CAAC,GAAGrK,CAAC,CAACqN,CAAC,GAAGtN,CAAC,CAACsN,CAAC;QAAEvC,CAAC,GAAG4I,IAAI,CAACmI,IAAI,CAACnI,IAAI,CAACE,GAAG,CAAC5T,CAAC,CAAC2P,CAAC,GAAG5P,CAAC,CAAC4P,CAAC,EAAE,CAAC,CAAC,GAAG+D,IAAI,CAACE,GAAG,CAAC5T,CAAC,CAACqN,CAAC,GAAGtN,CAAC,CAACsN,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;MACpG,OAAOvC,CAAC,GAAGA,CAAC,IAAI4I,IAAI,CAACmI,IAAI,CAACva,CAAC,GAAGA,CAAC,GAAG+I,CAAC,GAAGA,CAAC,CAAC,GAAGpK,CAAC,CAAC,GAAGH,UAAU,CAACosC,UAAU,CAAC3qC,CAAC,CAAC,EAAE;QACtEoO,CAAC,EAAE5P,CAAC,CAAC4P,CAAC,GAAGrO,CAAC,GAAG,CAAC,GAAG+I,CAAC,GAAGS,CAAC;QACtBuC,CAAC,EAAEtN,CAAC,CAACsN,CAAC,GAAGhD,CAAC,GAAG,CAAC,GAAG/I,CAAC,GAAGwJ;MACzB,CAAC;IACL;EACJ;EACA9K,CAAC,CAACmL,OAAO,IAAIlL,CAAC;AAClB,CAAC,EAACH,UAAU,CAACmsC,kBAAkB,GAAG,UAAUlsC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;EACpD,IAAIC,CAAC,GAAG,CAACtB,CAAC,CAAC0P,CAAC,GAAG3P,CAAC,CAAC2P,CAAC,IAAI,CAAC,GAAG3P,CAAC,CAAC2P,CAAC;IAAEtF,CAAC,GAAG,CAACpK,CAAC,CAACoN,CAAC,GAAGrN,CAAC,CAACqN,CAAC,IAAI,CAAC,GAAGrN,CAAC,CAACqN,CAAC;EACxD,OAAO;IAACsC,CAAC,EAAE,CAACpO,CAAC,GAAGD,CAAC,CAACqO,CAAC,IAAI,CAAC,GAAGrO,CAAC,CAACqO,CAAC;IAAEtC,CAAC,EAAE,CAAChD,CAAC,GAAG/I,CAAC,CAAC+L,CAAC,IAAI,CAAC,GAAG/L,CAAC,CAAC+L;EAAC,CAAC;AAC3D,CAAC,EAACvN,UAAU,CAACosC,UAAU,GAAG,UAAUnsC,CAAC,EAAE;EACnC,OAAOD,UAAU,CAACojB,WAAW;AACjC,CAAC,EAACpjB,UAAU,CAAC2J,SAAS,CAAC0iC,QAAQ,GAAG,UAAUpsC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;EACpD,IAAI,CAACgW,eAAe,CAAC,CAAC,EAAE,IAAI,CAACC,SAAS,CAAC,CAAC;EACxC,KAAK,IAAIhW,CAAC,GAAG,IAAI,CAACjB,MAAM,CAACmG,MAAM,CAAC6E,MAAM,GAAG,CAAC,EAAE/J,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;IACrD,IAAI8I,CAAC,GAAG,IAAI,CAAC/J,MAAM,CAACmG,MAAM,CAAClF,CAAC,CAAC;IAC7B8I,CAAC,CAAC+N,IAAI,IAAIrY,CAAC,IAAIsK,CAAC,CAACgO,EAAE,IAAIrY,CAAC,IAAI,IAAI,CAACM,MAAM,CAACmG,MAAM,CAACkR,MAAM,CAACpW,CAAC,EAAE,CAAC,CAAC;EAC/D;EACA,OAAO,IAAI,CAACjB,MAAM,CAACmG,MAAM,CAAC0M,IAAI,CAAC;IAC3BiF,IAAI,EAAErY,CAAC;IACPsY,EAAE,EAAErY,CAAC;IACLmlB,KAAK,EAAEllB,CAAC;IACRgG,QAAQ,EAAE3E;EACd,CAAC,CAAC,EAAExB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI;AAC1D,CAAC,EAAC5E,UAAU,CAAC2J,SAAS,CAAC2iC,WAAW,GAAG,UAAUrsC,CAAC,EAAEC,CAAC,EAAE;EACjD,IAAI,CAACsX,eAAe,CAAC,CAAC,EAAE,IAAI,CAACC,SAAS,CAAC,CAAC;EACxC,KAAK,IAAItX,CAAC,GAAG,IAAI,CAACK,MAAM,CAACmG,MAAM,CAAC6E,MAAM,GAAG,CAAC,EAAErL,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;IACrD,IAAIqB,CAAC,GAAG,IAAI,CAAChB,MAAM,CAACmG,MAAM,CAACxG,CAAC,CAAC;IAC7BqB,CAAC,CAAC8W,IAAI,IAAIrY,CAAC,IAAIuB,CAAC,CAAC+W,EAAE,IAAIrY,CAAC,IAAI,IAAI,CAACM,MAAM,CAACmG,MAAM,CAACkR,MAAM,CAAC1X,CAAC,EAAE,CAAC,CAAC;EAC/D;EACA,OAAOH,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI;AAC7D,CAAC,EAAC5E,UAAU,CAACisC,cAAc,GAAG,CAAC,CAAC,EAACjsC,UAAU,CAACisC,cAAc,CAACM,MAAM,GAAG;EAChExhC,IAAI,EAAE,6UAA6U;EACnVe,IAAI,EAAE,8HAA8H;EACpIuZ,KAAK,EAAE;AACX,CAAC,EAACrlB,UAAU,CAACisC,cAAc,CAACO,IAAI,GAAG;EAC/BzhC,IAAI,EAAE,yUAAyU;EAC/Ue,IAAI,EAAE,0HAA0H;EAChIuZ,KAAK,EAAE;AACX,CAAC,EAACrlB,UAAU,CAACisC,cAAc,CAACQ,MAAM,GAAG;EACjC1hC,IAAI,EAAE,6UAA6U;EACnVe,IAAI,EAAE,8HAA8H;EACpIuZ,KAAK,EAAE;AACX,CAAC,EAAC,KAAK,CAAC,KAAKrlB,UAAU,KAAKA,UAAU,GAAG,CAAC,CAAC,CAAC,EAACA,UAAU,CAAC2E,MAAM,CAACsF,EAAE,CAAC,YAAY,EAAG,UAAUhK,CAAC,EAAEC,CAAC,EAAE;EAC7F,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,CAAC,CAACO,MAAM,CAACoG,MAAM,CAAC4E,MAAM,EAAErL,CAAC,EAAE,EAAE;IAC7C,IAAIqB,CAAC,GAAGvB,CAAC,CAACO,MAAM,CAACoG,MAAM,CAACzG,CAAC,CAAC,CAACgG,QAAQ;IACnC3E,CAAC,KAAKA,CAAC,GAAG,QAAQ,CAAC;IACnB,IAAIC,CAAC,GAAGzB,UAAU,CAAC0sC,cAAc,CAAClrC,CAAC,CAAC;IACpCtB,CAAC,CAAC6K,IAAI,IAAItJ,CAAC,CAACsJ,IAAI;EACpB;AACJ,CAAE,CAAC,EAAC/K,UAAU,CAAC2E,MAAM,CAACsF,EAAE,CAAC,QAAQ,EAAG,UAAUhK,CAAC,EAAEC,CAAC,EAAE;EAChDD,CAAC,CAAC0sC,OAAO,CAAC1sC,CAAC,EAAEC,CAAC,CAAC;AACnB,CAAE,CAAC,EAACF,UAAU,CAAC2E,MAAM,CAACsF,EAAE,CAAC,MAAM,EAAG,UAAUhK,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;EACpD,IAAIvB,CAAC,YAAYD,UAAU,IAAIC,CAAC,CAACO,MAAM,CAAC6G,SAAS,EAAE,KAAK,IAAI5F,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,CAAC,CAACgK,MAAM,EAAE/J,CAAC,EAAE,EAAE;IAClF,KAAK,IAAI8I,CAAC,GAAG/I,CAAC,CAACC,CAAC,CAAC,EAAEuJ,CAAC,GAAG/K,CAAC,CAACM,OAAO,CAACkS,gBAAgB,CAAE,mBAAkBlI,CAAE,IAAG,CAAC,EAAEU,CAAC,GAAGhL,CAAC,CAACM,OAAO,CAACkS,gBAAgB,CAAE,iBAAgBlI,CAAE,IAAG,CAAC,EAAEY,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,CAAC,CAACQ,MAAM,EAAEL,CAAC,EAAE,EAAEH,CAAC,CAACG,CAAC,CAAC,CAACwB,UAAU,CAACC,WAAW,CAAC5B,CAAC,CAACG,CAAC,CAAC,CAAC;IAChM,KAAKA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,CAAC,CAACO,MAAM,EAAEL,CAAC,EAAE,EAAEF,CAAC,CAACE,CAAC,CAAC,CAACwB,UAAU,CAACC,WAAW,CAAC3B,CAAC,CAACE,CAAC,CAAC,CAAC;EACpE;AACJ,CAAE,CAAC,EAACnL,UAAU,CAAC2J,SAAS,CAACgjC,OAAO,GAAG,UAAU1sC,CAAC,EAAEC,CAAC,EAAE;EAC/C,IAAIC,CAAC,GAAG,EAAE;IAAEqB,CAAC,GAAG,IAAI,CAAC4B,QAAQ,CAAC,CAAC;IAAE3B,CAAC,GAAGvB,CAAC,CAACoL,GAAG,CAACrI,QAAQ;EAEnD,SAASsH,CAACA,CAACrK,CAAC,EAAEqK,CAAC,EAAES,CAAC,EAAE;IAChB,IAAIG,CAAC,GAAG,EAAE;MAAEC,CAAC,GAAG,IAAI;MAAEG,CAAC,GAAG,MAAM;MAAEE,CAAC,GAAGvL,CAAC,CAACghC,GAAG,GAAGhhC,CAAC,CAACghC,GAAG,GAAG,MAAM;MAAEx1B,CAAC,GAAGzL,CAAC,CAACU,cAAc,CAAC8K,CAAC,CAAC;IACrF,QAAQC,CAAC,CAAC7K,WAAW;MACjB,KAAKb,UAAU,CAACa,WAAW,CAACqG,GAAG;MAC/B,KAAKlH,UAAU,CAACa,WAAW,CAAC0T,QAAQ;MACpC,KAAKvU,UAAU,CAACa,WAAW,CAAC4T,MAAM;MAClC,KAAKzU,UAAU,CAACa,WAAW,CAACyT,WAAW;QACnC/J,CAAC,CAACsF,CAAC,GAAG3P,CAAC,CAAC2P,CAAC,KAAKtE,CAAC,GAAG,OAAO,CAAC;QAC1B;MACJ,KAAKvL,UAAU,CAACa,WAAW,CAAC2O,IAAI;MAChC,KAAKxP,UAAU,CAACa,WAAW,CAAC2T,QAAQ;MACpC,KAAKxU,UAAU,CAACa,WAAW,CAACuT,KAAK;MACjC,KAAKpU,UAAU,CAACa,WAAW,CAACwT,SAAS;QACjC9I,CAAC,GAAG,KAAK,EAAEhB,CAAC,CAACgD,CAAC,GAAGrN,CAAC,CAACqN,CAAC,KAAKhC,CAAC,GAAG,QAAQ,CAAC;IAC9C;IACA,IAAIiB,CAAC,GAAGxM,UAAU,CAACE,CAAC,CAACA,CAAC,CAACyP,YAAY,EAAEzP,CAAC,CAACkG,GAAG,EAAE5E,CAAC,CAAC;MAAEkL,CAAC,GAAGhB,CAAC,CAAC5K,eAAe;IACrEZ,CAAC,CAAC8S,MAAM,IAAI9S,CAAC,CAAC8S,MAAM,CAAC7R,MAAM,KAAKuL,CAAC,GAAGhB,CAAC,CAAC3K,6BAA6B,CAAC;IACpE,IAAIuM,CAAC,GAAG;MACJ5B,CAAC,EAAExL,CAAC,CAAC2P,CAAC,GAAG3P,CAAC,CAACoP,CAAC,GAAG,CAAC,GAAG9C,CAAC,CAACi5B,kBAAkB;MACvCvhB,CAAC,EAAEhkB,CAAC,CAACqN,CAAC;MACN/L,CAAC,EAAEtB,CAAC,CAAC2P,CAAC,GAAG3P,CAAC,CAACoP,CAAC,GAAG,CAAC,GAAG9C,CAAC,CAACi5B,kBAAkB;MACvCt6B,CAAC,EAAE1J,CAAC,CAAC+M,IAAI,GAAG9B;IAChB,CAAC;IACD,IAAIxM,CAAC,CAAC+d,EAAE,IAAI1T,CAAC,CAAC0T,EAAE,EAAE,QAAQ7S,CAAC,GAAGb,CAAC,EAAEmB,CAAC,CAAC7K,WAAW;MAC1C,KAAKb,UAAU,CAACa,WAAW,CAACqG,GAAG;MAC/B,KAAKlH,UAAU,CAACa,WAAW,CAAC0T,QAAQ;QAChCpJ,CAAC,CAACkI,IAAI,CAAC,CAAC/F,CAAC,CAAC5B,CAAC,EAAE4B,CAAC,CAAC4W,CAAC,CAAC,CAAC,EAAE/Y,CAAC,CAACkI,IAAI,CAAC,CAAC/F,CAAC,CAAC5B,CAAC,EAAE4B,CAAC,CAAC4W,CAAC,GAAGxX,CAAC,GAAG,CAAC,CAAC,CAAC,EAAEF,CAAC,GAAGxM,UAAU,CAACE,CAAC,CAACkL,CAAC,CAACuE,YAAY,EAAEvE,CAAC,CAAChF,GAAG,EAAE5E,CAAC,CAAC,EAAE2J,CAAC,CAACkI,IAAI,CAAC,CAACjI,CAAC,CAACyE,CAAC,GAAGzE,CAAC,CAACkE,CAAC,GAAG,CAAC,GAAG9C,CAAC,CAACi5B,kBAAkB,EAAEt6B,CAAC,CAACA,CAAC,CAACK,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEL,CAAC,CAACkI,IAAI,CAAC,CAAClI,CAAC,CAACA,CAAC,CAACK,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEJ,CAAC,CAACmC,CAAC,CAAC,CAAC;QACjM;MACJ,KAAKvN,UAAU,CAACa,WAAW,CAAC4T,MAAM;MAClC,KAAKzU,UAAU,CAACa,WAAW,CAACyT,WAAW;QACnChH,CAAC,CAAC4W,CAAC,GAAGhkB,CAAC,CAACqN,CAAC,GAAGrN,CAAC,CAACsM,CAAC,EAAEc,CAAC,CAACnC,CAAC,GAAG1J,CAAC,CAAC8M,IAAI,GAAG7B,CAAC,EAAEvB,CAAC,CAACkI,IAAI,CAAC,CAAC/F,CAAC,CAAC5B,CAAC,EAAE4B,CAAC,CAAC4W,CAAC,CAAC,CAAC,EAAE/Y,CAAC,CAACkI,IAAI,CAAC,CAAC/F,CAAC,CAAC9L,CAAC,EAAEtB,CAAC,CAACqN,CAAC,GAAGrN,CAAC,CAACsM,CAAC,GAAGE,CAAC,GAAG,CAAC,CAAC,CAAC,EAAEF,CAAC,GAAGxM,UAAU,CAACE,CAAC,CAACkL,CAAC,CAACuE,YAAY,EAAEvE,CAAC,CAAChF,GAAG,EAAE5E,CAAC,CAAC,EAAE2J,CAAC,CAACkI,IAAI,CAAC,CAACjI,CAAC,CAACyE,CAAC,GAAGzE,CAAC,CAACkE,CAAC,GAAG,CAAC,GAAG9C,CAAC,CAACi5B,kBAAkB,EAAEt6B,CAAC,CAACA,CAAC,CAACK,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEL,CAAC,CAACkI,IAAI,CAAC,CAAClI,CAAC,CAACA,CAAC,CAACK,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEJ,CAAC,CAACmC,CAAC,GAAGnC,CAAC,CAACoB,CAAC,CAAC,CAAC;QAChP;MACJ,KAAKxM,UAAU,CAACa,WAAW,CAAC2O,IAAI;MAChC,KAAKxP,UAAU,CAACa,WAAW,CAAC2T,QAAQ;QAChClH,CAAC,CAAC5B,CAAC,GAAGxL,CAAC,CAAC2P,CAAC,EAAEvC,CAAC,CAAC4W,CAAC,GAAGhkB,CAAC,CAACqN,CAAC,GAAGrN,CAAC,CAACsM,CAAC,GAAG,CAAC,GAAGA,CAAC,CAACi5B,kBAAkB,EAAEn4B,CAAC,CAAC9L,CAAC,GAAGC,CAAC,CAAC4M,IAAI,GAAG3B,CAAC,EAAEY,CAAC,CAACnC,CAAC,GAAGjL,CAAC,CAACqN,CAAC,GAAGrN,CAAC,CAACsM,CAAC,GAAG,CAAC,GAAGA,CAAC,CAACi5B,kBAAkB,EAAEt6B,CAAC,CAACkI,IAAI,CAAC,CAAC/F,CAAC,CAAC5B,CAAC,EAAE4B,CAAC,CAAC4W,CAAC,CAAC,CAAC,EAAE/Y,CAAC,CAACkI,IAAI,CAAC,CAACnT,CAAC,CAAC2P,CAAC,GAAGnD,CAAC,GAAG,CAAC,EAAEY,CAAC,CAAC4W,CAAC,CAAC,CAAC,EAAE1X,CAAC,GAAGxM,UAAU,CAACE,CAAC,CAACkL,CAAC,CAACuE,YAAY,EAAEvE,CAAC,CAAChF,GAAG,EAAE5E,CAAC,CAAC,EAAE2J,CAAC,CAACkI,IAAI,CAAC,CAAClI,CAAC,CAACA,CAAC,CAACK,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEJ,CAAC,CAACmC,CAAC,GAAGnC,CAAC,CAACoB,CAAC,GAAG,CAAC,GAAGA,CAAC,CAACi5B,kBAAkB,CAAC,CAAC,EAAEt6B,CAAC,CAACkI,IAAI,CAAC,CAACjI,CAAC,CAACyE,CAAC,EAAE1E,CAAC,CAACA,CAAC,CAACK,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACtT;MACJ,KAAKxL,UAAU,CAACa,WAAW,CAACuT,KAAK;MACjC,KAAKpU,UAAU,CAACa,WAAW,CAACwT,SAAS;QACjC/G,CAAC,CAAC5B,CAAC,GAAGxL,CAAC,CAAC2P,CAAC,GAAG3P,CAAC,CAACoP,CAAC,EAAEhC,CAAC,CAAC4W,CAAC,GAAGhkB,CAAC,CAACqN,CAAC,GAAGrN,CAAC,CAACsM,CAAC,GAAG,CAAC,GAAGA,CAAC,CAACi5B,kBAAkB,EAAEn4B,CAAC,CAAC9L,CAAC,GAAGC,CAAC,CAAC2M,IAAI,GAAG1B,CAAC,EAAEY,CAAC,CAACnC,CAAC,GAAGjL,CAAC,CAACqN,CAAC,GAAGrN,CAAC,CAACsM,CAAC,GAAG,CAAC,GAAGA,CAAC,CAACi5B,kBAAkB,EAAEt6B,CAAC,CAACkI,IAAI,CAAC,CAAC/F,CAAC,CAAC5B,CAAC,EAAE4B,CAAC,CAAC4W,CAAC,CAAC,CAAC,EAAE/Y,CAAC,CAACkI,IAAI,CAAC,CAACnT,CAAC,CAAC2P,CAAC,GAAG3P,CAAC,CAACoP,CAAC,GAAG5C,CAAC,GAAG,CAAC,EAAEY,CAAC,CAAC4W,CAAC,CAAC,CAAC,EAAE1X,CAAC,GAAGxM,UAAU,CAACE,CAAC,CAACkL,CAAC,CAACuE,YAAY,EAAEvE,CAAC,CAAChF,GAAG,EAAE5E,CAAC,CAAC,EAAE2J,CAAC,CAACkI,IAAI,CAAC,CAAClI,CAAC,CAACA,CAAC,CAACK,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEJ,CAAC,CAACmC,CAAC,GAAGnC,CAAC,CAACoB,CAAC,GAAG,CAAC,GAAGA,CAAC,CAACi5B,kBAAkB,CAAC,CAAC,EAAEt6B,CAAC,CAACkI,IAAI,CAAC,CAACjI,CAAC,CAACyE,CAAC,GAAGzE,CAAC,CAACkE,CAAC,EAAEnE,CAAC,CAACA,CAAC,CAACK,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAChV,CAAC,MAAM;MACH,QAAQE,CAAC,CAAC7K,WAAW;QACjB,KAAKb,UAAU,CAACa,WAAW,CAACqG,GAAG;QAC/B,KAAKlH,UAAU,CAACa,WAAW,CAAC0T,QAAQ;UAChCpJ,CAAC,CAACkI,IAAI,CAAC,CAAC/F,CAAC,CAAC5B,CAAC,EAAE4B,CAAC,CAAC4W,CAAC,CAAC,CAAC,EAAE/Y,CAAC,CAACkI,IAAI,CAAC,CAAC/F,CAAC,CAAC9L,CAAC,EAAEtB,CAAC,CAACqN,CAAC,GAAGb,CAAC,GAAG,CAAC,CAAC,CAAC;UAC9C;QACJ,KAAK1M,UAAU,CAACa,WAAW,CAAC4T,MAAM;QAClC,KAAKzU,UAAU,CAACa,WAAW,CAACyT,WAAW;UACnChH,CAAC,CAAC4W,CAAC,GAAGhkB,CAAC,CAACqN,CAAC,GAAGrN,CAAC,CAACsM,CAAC,EAAEc,CAAC,CAACnC,CAAC,GAAG1J,CAAC,CAAC8M,IAAI,GAAG7B,CAAC,EAAEvB,CAAC,CAACkI,IAAI,CAAC,CAAC/F,CAAC,CAAC5B,CAAC,EAAE4B,CAAC,CAAC4W,CAAC,CAAC,CAAC,EAAE/Y,CAAC,CAACkI,IAAI,CAAC,CAAC/F,CAAC,CAAC9L,CAAC,EAAEtB,CAAC,CAACqN,CAAC,GAAGrN,CAAC,CAACsM,CAAC,GAAGE,CAAC,GAAG,CAAC,CAAC,CAAC;UACvF;QACJ,KAAK1M,UAAU,CAACa,WAAW,CAAC2O,IAAI;QAChC,KAAKxP,UAAU,CAACa,WAAW,CAAC2T,QAAQ;UAChClH,CAAC,CAAC5B,CAAC,GAAGxL,CAAC,CAAC2P,CAAC,EAAEvC,CAAC,CAAC4W,CAAC,GAAGhkB,CAAC,CAACqN,CAAC,GAAGrN,CAAC,CAACsM,CAAC,GAAG,CAAC,GAAGA,CAAC,CAACi5B,kBAAkB,EAAEn4B,CAAC,CAAC9L,CAAC,GAAGC,CAAC,CAAC4M,IAAI,GAAG3B,CAAC,EAAEY,CAAC,CAACnC,CAAC,GAAGjL,CAAC,CAACqN,CAAC,GAAGrN,CAAC,CAACsM,CAAC,GAAG,CAAC,GAAGA,CAAC,CAACi5B,kBAAkB,EAAEt6B,CAAC,CAACkI,IAAI,CAAC,CAAC/F,CAAC,CAAC5B,CAAC,EAAE4B,CAAC,CAAC4W,CAAC,CAAC,CAAC,EAAE/Y,CAAC,CAACkI,IAAI,CAAC,CAACnT,CAAC,CAAC2P,CAAC,GAAGnD,CAAC,GAAG,CAAC,EAAEY,CAAC,CAAC4W,CAAC,CAAC,CAAC;UACnK;QACJ,KAAKlkB,UAAU,CAACa,WAAW,CAACuT,KAAK;QACjC,KAAKpU,UAAU,CAACa,WAAW,CAACwT,SAAS;UACjC/G,CAAC,CAAC5B,CAAC,GAAGxL,CAAC,CAAC2P,CAAC,GAAG3P,CAAC,CAACoP,CAAC,EAAEhC,CAAC,CAAC4W,CAAC,GAAGhkB,CAAC,CAACqN,CAAC,GAAGrN,CAAC,CAACsM,CAAC,GAAG,CAAC,GAAGA,CAAC,CAACi5B,kBAAkB,EAAEn4B,CAAC,CAAC9L,CAAC,GAAGC,CAAC,CAAC2M,IAAI,GAAG1B,CAAC,EAAEY,CAAC,CAACnC,CAAC,GAAGjL,CAAC,CAACqN,CAAC,GAAGrN,CAAC,CAACsM,CAAC,GAAG,CAAC,GAAGA,CAAC,CAACi5B,kBAAkB,EAAEt6B,CAAC,CAACkI,IAAI,CAAC,CAAC/F,CAAC,CAAC5B,CAAC,EAAE4B,CAAC,CAAC4W,CAAC,CAAC,CAAC,EAAE/Y,CAAC,CAACkI,IAAI,CAAC,CAACnT,CAAC,CAAC2P,CAAC,GAAG3P,CAAC,CAACoP,CAAC,GAAG5C,CAAC,GAAG,CAAC,EAAEY,CAAC,CAAC4W,CAAC,CAAC,CAAC;MACvL;MACA,KAAK,IAAI3W,CAAC,GAAGrN,CAAC,EAAEgO,CAAC,GAAGhO,CAAC,EAAEgO,CAAC,CAAC8E,MAAM,GAAG9E,CAAC,GAAGA,CAAC,CAAC8E,MAAM;MAC9C,OAAO,IAAI,IAAI5H,CAAC,GAAG;QACf,IAAI+C,CAAC,GAAG,CAAC,CAAC;UAAEG,CAAC,GAAGf,CAAC,CAACyF,MAAM;UAAE1G,CAAC,GAAGgC,CAAC,CAACkW,YAAY;UAAEzJ,CAAC,GAAGzM,CAAC,CAACmW,aAAa;QACjE,IAAInW,CAAC,CAAC1C,EAAE,IAAIrB,CAAC,CAACqB,EAAE,GAAGR,CAAC,GAAGkD,CAAC,GAAGtO,UAAU,CAACikB,WAAW,CAAC3V,CAAC,EAAEhB,CAAC,EAAE5B,CAAC,CAAC,KAAK4B,CAAC,GAAGtN,UAAU,CAACmkB,SAAS,CAAC7V,CAAC,EAAEnD,CAAC,EAAEO,CAAC,EAAE4B,CAAC,EAAE/B,CAAC,CAAC,EAAE4C,CAAC,GAAG,CAAC,CAAC,CAAC,EAAEG,CAAC,CAAC1C,EAAE,IAAIrB,CAAC,CAACqB,EAAE,EAAE;UAC3H,OAAOU,CAAC,GAAG;YACP,IAAIA,CAAC,CAACV,EAAE,IAAIrB,CAAC,CAACqB,EAAE,EAAE;cACdR,CAAC,GAAGkB,CAAC;cACL;YACJ;YACAtM,UAAU,CAACikB,WAAW,CAAC3X,CAAC,EAAEgB,CAAC,EAAE5B,CAAC,CAAC,KAAK4B,CAAC,GAAGtN,UAAU,CAACmkB,SAAS,CAAC7X,CAAC,EAAEnB,CAAC,EAAEO,CAAC,EAAE4B,CAAC,EAAE/B,CAAC,CAAC,EAAE4C,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE7B,CAAC,GAAGA,CAAC,CAACkY,YAAY;UAC5G;UACA,OAAOzJ,CAAC,GAAG;YACP,IAAIA,CAAC,CAACnP,EAAE,IAAIrB,CAAC,CAACqB,EAAE,EAAE;cACdR,CAAC,GAAG2P,CAAC;cACL;YACJ;YACA/a,UAAU,CAACikB,WAAW,CAAClJ,CAAC,EAAEzN,CAAC,EAAE5B,CAAC,CAAC,KAAK4B,CAAC,GAAGtN,UAAU,CAACmkB,SAAS,CAACpJ,CAAC,EAAE5P,CAAC,EAAEO,CAAC,EAAE4B,CAAC,EAAE/B,CAAC,CAAC,EAAE4C,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE4M,CAAC,GAAGA,CAAC,CAAC0J,aAAa;UAC7G;QACJ;QACA,IAAI,CAACtW,CAAC,EAAE;UACJ,IAAI0B,CAAC,GAAG1E,CAAC,CAACA,CAAC,CAACK,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAAEib,CAAC,GAAG,CAAC;UACjC,IAAInY,CAAC,CAAC0E,MAAM,EAAE;YACVtG,CAAC,GAAGhB,CAAC,CAAC5K,eAAe,EAAEwN,CAAC,CAAC0E,MAAM,CAAC7R,MAAM,KAAKuL,CAAC,GAAGhB,CAAC,CAAC3K,6BAA6B,CAAC;YAC/E,IAAIuO,CAAC,GAAGrP,CAAC,CAACkC,OAAO,CAAC4J,uBAAuB,CAACmC,CAAC,CAACtC,EAAE,CAAC,CAAC0C,CAAC,CAAC0E,MAAM,CAACiL,EAAE,CAAC;YAC5D,QAAQvS,CAAC,CAAC7K,WAAW;cACjB,KAAKb,UAAU,CAACa,WAAW,CAACqG,GAAG;cAC/B,KAAKlH,UAAU,CAACa,WAAW,CAAC0T,QAAQ;gBAChCkS,CAAC,GAAGnX,CAAC,CAACf,IAAI,GAAG7B,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBACxB;cACJ,KAAK1M,UAAU,CAACa,WAAW,CAAC4T,MAAM;cAClC,KAAKzU,UAAU,CAACa,WAAW,CAACyT,WAAW;gBACnCmS,CAAC,GAAGnX,CAAC,CAACd,IAAI,GAAG9B,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBACxB;cACJ,KAAK1M,UAAU,CAACa,WAAW,CAAC2O,IAAI;cAChC,KAAKxP,UAAU,CAACa,WAAW,CAAC2T,QAAQ;gBAChC3E,CAAC,GAAGP,CAAC,CAAClB,IAAI,GAAG1B,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE+Z,CAAC,GAAGtb,CAAC,CAACA,CAAC,CAACK,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gBAChD;cACJ,KAAKxL,UAAU,CAACa,WAAW,CAACuT,KAAK;cACjC,KAAKpU,UAAU,CAACa,WAAW,CAACwT,SAAS;gBACjCxE,CAAC,GAAGP,CAAC,CAACjB,IAAI,GAAG3B,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE+Z,CAAC,GAAGtb,CAAC,CAACA,CAAC,CAACK,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YACxD;UACJ;UACAL,CAAC,CAACkI,IAAI,CAAC,CAACxD,CAAC,EAAE4W,CAAC,CAAC,CAAC;QAClB;QACAlZ,CAAC,GAAGe,CAAC;MACT;MACA,QAAQ9B,CAAC,GAAGxM,UAAU,CAACE,CAAC,CAACkL,CAAC,CAACuE,YAAY,EAAEvE,CAAC,CAAChF,GAAG,EAAE5E,CAAC,CAAC,EAAE2J,CAAC,CAAC0M,MAAM,CAAC1M,CAAC,CAACK,MAAM,GAAG,CAAC,EAAE,CAAC,CAAC,EAAEE,CAAC,CAAC7K,WAAW;QACxF,KAAKb,UAAU,CAACa,WAAW,CAACqG,GAAG;QAC/B,KAAKlH,UAAU,CAACa,WAAW,CAAC0T,QAAQ;UAChCpJ,CAAC,CAACkI,IAAI,CAAC,CAACjI,CAAC,CAACyE,CAAC,GAAGzE,CAAC,CAACkE,CAAC,GAAG,CAAC,GAAG9C,CAAC,CAACi5B,kBAAkB,EAAEt6B,CAAC,CAACA,CAAC,CAACK,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEL,CAAC,CAACkI,IAAI,CAAC,CAAClI,CAAC,CAACA,CAAC,CAACK,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEJ,CAAC,CAACmC,CAAC,GAAGnC,CAAC,CAACoB,CAAC,CAAC,CAAC;UAC3G;QACJ,KAAKxM,UAAU,CAACa,WAAW,CAAC4T,MAAM;QAClC,KAAKzU,UAAU,CAACa,WAAW,CAACyT,WAAW;UACnCnJ,CAAC,CAACkI,IAAI,CAAC,CAACjI,CAAC,CAACyE,CAAC,GAAGzE,CAAC,CAACkE,CAAC,GAAG,CAAC,GAAG9C,CAAC,CAACi5B,kBAAkB,EAAEt6B,CAAC,CAACA,CAAC,CAACK,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEL,CAAC,CAACkI,IAAI,CAAC,CAAClI,CAAC,CAACA,CAAC,CAACK,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEJ,CAAC,CAACmC,CAAC,CAAC,CAAC;UACrG;QACJ,KAAKvN,UAAU,CAACa,WAAW,CAAC2O,IAAI;QAChC,KAAKxP,UAAU,CAACa,WAAW,CAAC2T,QAAQ;UAChCrJ,CAAC,CAACkI,IAAI,CAAC,CAAClI,CAAC,CAACA,CAAC,CAACK,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEJ,CAAC,CAACmC,CAAC,GAAGnC,CAAC,CAACoB,CAAC,GAAG,CAAC,GAAGA,CAAC,CAACi5B,kBAAkB,CAAC,CAAC,EAAEt6B,CAAC,CAACkI,IAAI,CAAC,CAACjI,CAAC,CAACyE,CAAC,GAAGzE,CAAC,CAACkE,CAAC,EAAEnE,CAAC,CAACA,CAAC,CAACK,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC3G;QACJ,KAAKxL,UAAU,CAACa,WAAW,CAACuT,KAAK;QACjC,KAAKpU,UAAU,CAACa,WAAW,CAACwT,SAAS;UACjClJ,CAAC,CAACkI,IAAI,CAAC,CAAClI,CAAC,CAACA,CAAC,CAACK,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEJ,CAAC,CAACmC,CAAC,GAAGnC,CAAC,CAACoB,CAAC,GAAG,CAAC,GAAGA,CAAC,CAACi5B,kBAAkB,CAAC,CAAC,EAAEt6B,CAAC,CAACkI,IAAI,CAAC,CAACjI,CAAC,CAACyE,CAAC,EAAE1E,CAAC,CAACA,CAAC,CAACK,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC7G;IACJ;IACA,IAAIkb,CAAC,GAAGzb,CAAC,CAAC9E,QAAQ;IAClBugB,CAAC,KAAKA,CAAC,GAAG,QAAQ,CAAC;IACnB,IAAIC,CAAC;MAAEC,CAAC;MAAEE,CAAC,GAAG,IAAI;IAClB,QAAQ,CAACta,CAAC,GAAGxM,UAAU,CAAC0sC,cAAc,CAAChmB,CAAC,CAAC,EAAEkmB,aAAa;MACpD,KAAI,OAAO;QACP9lB,CAAC,GAAG;UAACjX,CAAC,EAAE1E,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAAEoC,CAAC,EAAEpC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAAC,CAAC;QAC5B;MACJ,KAAI,QAAQ;QACR,IAAI8b,CAAC,GAAGrT,IAAI,CAACK,IAAI,CAAC9I,CAAC,CAACK,MAAM,GAAG,CAAC,CAAC;QAC/Bmb,CAAC,GAAGxb,CAAC,CAAC8b,CAAC,CAAC,EAAEL,CAAC,GAAGzb,CAAC,CAAC8b,CAAC,GAAG,CAAC,CAAC,EAAEH,CAAC,GAAG;UAACjX,CAAC,EAAE,CAAC8W,CAAC,CAAC,CAAC,CAAC,GAAGC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;UAAErZ,CAAC,EAAE,CAACoZ,CAAC,CAAC,CAAC,CAAC,GAAGC,CAAC,CAAC,CAAC,CAAC,IAAI;QAAC,CAAC;QACxE;MACJ,KAAI,KAAK;QACLE,CAAC,GAAG;UAACjX,CAAC,EAAE1E,CAAC,CAACA,CAAC,CAACK,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;UAAE+B,CAAC,EAAEpC,CAAC,CAACA,CAAC,CAACK,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;QAAC,CAAC;IAC1D;IACAR,CAAC,KAAKG,CAAC,GAAGA,CAAC,CAAC0hC,OAAO,CAAC,CAAC,CAAC,EAAE1hC,CAAC,CAAC,CAAC,CAAC,CAAC62B,OAAO,CAAC,GAAG,CAAC;IACzC,KAAK,IAAI9a,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG/b,CAAC,CAACK,MAAM,EAAE0b,CAAC,EAAE,EAAE/b,CAAC,CAAC+b,CAAC,CAAC,CAAC8a,OAAO,CAAC,GAAG,CAAC;IACpD,IAAInZ,CAAC,GAAG7oB,UAAU,CAACo0B,gBAAgB,CAACjpB,CAAC,EAAEnL,UAAU,CAACkjB,oBAAoB,EAAE,CAAC,CAAC,CAAC;IAC3E,IAAIjY,CAAC,CAACoa,KAAK,EAAE;MACT,IAAIyD,CAAC,GAAGtc,CAAC,CAAC6Y,KAAK,CAAC1M,OAAO,CAAC,KAAK,EAAEmO,CAAC,CAACjX,CAAC,CAAC,CAAC8I,OAAO,CAAC,KAAK,EAAEmO,CAAC,CAACvZ,CAAC,CAAC,CAACoL,OAAO,CAAC,OAAO,EAAE1N,CAAC,CAACoa,KAAK,CAAC;QAC7E0D,CAAC,GAAG/oB,UAAU,CAAC+vB,aAAa,CAACjH,CAAC,CAAC;QAAEwU,CAAC,GAAG,CAACvU,CAAC,CAAC1e,MAAM,GAAG,CAAC;MACtD,QAAQqB,CAAC,CAAC7K,WAAW;QACjB,KAAKb,UAAU,CAACa,WAAW,CAAC4T,MAAM;QAClC,KAAKzU,UAAU,CAACa,WAAW,CAACyT,WAAW;UACnCgpB,CAAC,GAAGvU,CAAC,CAAC1e,MAAM;MACpB;MACAlK,CAAC,IAAIqM,CAAC,CAAC6Y,KAAK,CAAC1M,OAAO,CAAC,KAAK,EAAEmO,CAAC,CAACjX,CAAC,CAAC,CAAC8I,OAAO,CAAC,KAAK,EAAEmO,CAAC,CAACvZ,CAAC,GAAG+vB,CAAC,CAAC,CAAC3kB,OAAO,CAAC,OAAO,EAAE1N,CAAC,CAACoa,KAAK,CAAC;IACtF;IACA,IAAIkY,CAAC,GAAGr9B,CAAC,CAAC0L,EAAE;MAAE4xB,CAAC,GAAGjzB,CAAC,CAACqB,EAAE;IACtBZ,CAAC,KAAKuyB,CAAC,GAAGhzB,CAAC,CAACqB,EAAE,EAAE4xB,CAAC,GAAGt9B,CAAC,CAAC0L,EAAE,CAAC,EAAEzL,CAAC,IAAI,CAAC,KAAK,GAAGH,UAAU,CAAC2Q,IAAI,CAAC+N,WAAW,GAAG,YAAY,GAAG1e,UAAU,CAAC2Q,IAAI,CAAC8N,SAAS,GAAG,UAAU,EAAE9F,OAAO,CAAC,QAAQ,EAAE4kB,CAAC,CAAC,CAAC5kB,OAAO,CAAC,MAAM,EAAE6kB,CAAC,CAAC,GAAGhxB,CAAC,CAACV,IAAI,CAACqkB,UAAU,CAAC,KAAK,EAAEtH,CAAC,CAAC,GAAG,8DAA8D,GAAGA,CAAC,GAAG,MAAM,EAAE1oB,CAAC,IAAIH,UAAU,CAAC+gB,UAAU;EACjT;EAEA,KAAK,IAAI/V,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACxK,MAAM,CAACoG,MAAM,CAAC4E,MAAM,EAAER,CAAC,EAAE,EAAE;IAChD,IAAIC,CAAC,GAAG,IAAI,CAACzK,MAAM,CAACoG,MAAM,CAACoE,CAAC,CAAC;MAAEG,CAAC,GAAGlL,CAAC,CAACoP,OAAO,CAACpE,CAAC,CAACqN,IAAI,CAAC;MAAElN,CAAC,GAAGnL,CAAC,CAACoP,OAAO,CAACpE,CAAC,CAACsN,EAAE,CAAC;IACzEpN,CAAC,IAAIC,CAAC,IAAI,CAAC,CAAC,IAAIlL,CAAC,CAACoL,GAAG,CAACV,cAAc,CAAC4K,OAAO,CAACpK,CAAC,CAACQ,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI1L,CAAC,CAACoL,GAAG,CAACV,cAAc,CAAC4K,OAAO,CAACrK,CAAC,CAACS,EAAE,CAAC,KAAKT,CAAC,CAAC8S,EAAE,IAAI7S,CAAC,CAAC6S,EAAE,GAAG1T,CAAC,CAACY,CAAC,EAAEC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAGb,CAAC,CAACa,CAAC,EAAED,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EAChJ;EACAjL,CAAC,CAACmL,OAAO,IAAIlL,CAAC;AAClB,CAAC,EAACH,UAAU,CAAC2J,SAAS,CAACmjC,QAAQ,GAAG,UAAU7sC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;EACpD,IAAI,CAACgW,eAAe,CAAC,CAAC,EAAE,IAAI,CAACC,SAAS,CAAC,CAAC;EACxC,KAAK,IAAIhW,CAAC,GAAG,IAAI,CAACjB,MAAM,CAACoG,MAAM,CAAC4E,MAAM,GAAG,CAAC,EAAE/J,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;IACrD,IAAI8I,CAAC,GAAG,IAAI,CAAC/J,MAAM,CAACoG,MAAM,CAACnF,CAAC,CAAC;IAC7B8I,CAAC,CAAC+N,IAAI,IAAIrY,CAAC,IAAIsK,CAAC,CAACgO,EAAE,IAAIrY,CAAC,IAAI,IAAI,CAACM,MAAM,CAACoG,MAAM,CAACiR,MAAM,CAACpW,CAAC,EAAE,CAAC,CAAC;EAC/D;EACA,OAAO,IAAI,CAACjB,MAAM,CAACoG,MAAM,CAACyM,IAAI,CAAC;IAC3BiF,IAAI,EAAErY,CAAC;IACPsY,EAAE,EAAErY,CAAC;IACLmlB,KAAK,EAAEllB,CAAC;IACRgG,QAAQ,EAAE3E;EACd,CAAC,CAAC,EAAExB,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI;AAC1D,CAAC,EAAC5E,UAAU,CAAC2J,SAAS,CAACojC,WAAW,GAAG,UAAU9sC,CAAC,EAAEC,CAAC,EAAE;EACjD,IAAI,CAACsX,eAAe,CAAC,CAAC,EAAE,IAAI,CAACC,SAAS,CAAC,CAAC;EACxC,KAAK,IAAItX,CAAC,GAAG,IAAI,CAACK,MAAM,CAACoG,MAAM,CAAC4E,MAAM,GAAG,CAAC,EAAErL,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;IACrD,IAAIqB,CAAC,GAAG,IAAI,CAAChB,MAAM,CAACoG,MAAM,CAACzG,CAAC,CAAC;IAC7BqB,CAAC,CAAC8W,IAAI,IAAIrY,CAAC,IAAIuB,CAAC,CAAC+W,EAAE,IAAIrY,CAAC,IAAI,IAAI,CAACM,MAAM,CAACoG,MAAM,CAACiR,MAAM,CAAC1X,CAAC,EAAE,CAAC,CAAC;EAC/D;EACA,OAAOH,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI;AAC7D,CAAC,EAAC5E,UAAU,CAAC0sC,cAAc,GAAG,CAAC,CAAC,EAAC1sC,UAAU,CAAC0sC,cAAc,CAACH,MAAM,GAAG;EAChExhC,IAAI,EAAE,uVAAuV;EAC7Ve,IAAI,EAAE,wLAAwL;EAC9LuZ,KAAK,EAAE,+HAA+H;EACtIunB,aAAa,EAAE;AACnB,CAAC,EAAC5sC,UAAU,CAAC0sC,cAAc,CAACF,IAAI,GAAG;EAC/BzhC,IAAI,EAAE,mVAAmV;EACzVe,IAAI,EAAE,oLAAoL;EAC1LuZ,KAAK,EAAE,wEAAwE;EAC/EunB,aAAa,EAAE;AACnB,CAAC,EAAC5sC,UAAU,CAAC0sC,cAAc,CAACD,MAAM,GAAG;EACjC1hC,IAAI,EAAE,uVAAuV;EAC7Ve,IAAI,EAAE,wLAAwL;EAC9LuZ,KAAK,EAAE,yEAAyE;EAChFunB,aAAa,EAAE;AACnB,CAAC,EAAC5sC,UAAU,CAAC2E,MAAM,CAACsF,EAAE,CAAC,eAAe,EAAG,UAAUhK,CAAC,EAAEC,CAAC,EAAE;EACrD,IAAIA,CAAC,CAAC8L,IAAI,IAAI9L,CAAC,CAAC8L,IAAI,CAACzK,IAAI,IAAIrB,CAAC,CAAC8L,IAAI,CAACzK,IAAI,CAACmY,GAAG,CAAC,oBAAoB,CAAC,EAAE;IAChE,IAAIvZ,CAAC,GAAGF,CAAC,CAACmD,QAAQ,CAAC,CAAC;MAAE5B,CAAC,GAAGxB,UAAU,CAACE,CAAC,CAACA,CAAC,CAAC8L,IAAI,CAAC2D,YAAY,EAAEzP,CAAC,CAAC8L,IAAI,CAAC5F,GAAG,EAAEjG,CAAC,CAAC;MAAEsB,CAAC,GAAG,EAAE;IAClFvB,CAAC,CAAC8L,IAAI,CAAC5F,GAAG,IAAI5E,CAAC,CAACwrC,yBAAyB,IAAIv+B,OAAO,CAACC,KAAK,CAAE,IAAGxO,CAAC,CAAC8L,IAAI,CAAC2D,YAAa,4CAA2C,CAAC,EAAElO,CAAC,IAAK,wDAAuDvB,CAAC,CAAC8L,IAAI,CAACJ,EAAG,+BAA8B1L,CAAC,CAAC8L,IAAI,CAAC6D,CAAE,IAAG3P,CAAC,CAAC8L,IAAI,CAACuB,CAAE,KAAI,EAAE9L,CAAC,IAAID,CAAC,CAACwrC,yBAAyB,KAAKxrC,CAAC,CAACyrC,0BAA0B,IAAIx+B,OAAO,CAACC,KAAK,CAAE,IAAGxO,CAAC,CAAC8L,IAAI,CAAC2D,YAAa,6CAA4C,CAAC,EAAElO,CAAC,IAAK,wDAAuDvB,CAAC,CAAC8L,IAAI,CAAC6D,CAAE,IAAG3P,CAAC,CAAC8L,IAAI,CAACuB,CAAE,gCAA+BrN,CAAC,CAAC8L,IAAI,CAACJ,EAAG,IAAG,EAAEnK,CAAC,IAAID,CAAC,CAACyrC,0BAA0B,CAAC,EAAExrC,CAAC,GAAG,CAACA,CAAC,IAAI,MAAM,EAAE0uB,UAAU,CAAC,MAAM,EAAEjwB,CAAC,CAAC8L,IAAI,CAACsD,CAAC,GAAG,CAAC,CAAC,CAAC6gB,UAAU,CAAC,MAAM,EAAEjwB,CAAC,CAAC8L,IAAI,CAACQ,CAAC,GAAG,CAAC,CAAC,CAAC2jB,UAAU,CAAC,MAAM,EAAEjwB,CAAC,CAAC8L,IAAI,CAACsD,CAAC,IAAIpP,CAAC,CAAC8L,IAAI,CAACzI,OAAO,GAAGrD,CAAC,CAAC8L,IAAI,CAACzI,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC4sB,UAAU,CAAC,MAAM,EAAEjwB,CAAC,CAAC8L,IAAI,CAACQ,CAAC,IAAItM,CAAC,CAAC8L,IAAI,CAACzI,OAAO,GAAGrD,CAAC,CAAC8L,IAAI,CAACzI,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IAClyB,IAAIgH,CAAC,GAAGtK,CAAC,CAACoP,OAAO,CAACnP,CAAC,CAAC8L,IAAI,CAACqrB,aAAa,CAAC,CAAC,CAAC,CAAC;IAC1C,IAAI,CAAC,CAAC,IAAI51B,CAAC,CAAC+T,OAAO,CAAC,4BAA4B,CAAC,EAAE;MAC/C,IAAIxK,CAAC,GAAGhL,UAAU,CAACuzB,sBAAsB,CAACtzB,CAAC,EAAEsK,CAAC,CAAC;MAC/C9I,CAAC,GAAGA,CAAC,CAACkX,OAAO,CAAC,4BAA4B,EAAE3N,CAAC,CAAC;IAClD;IACA,IAAI,CAAC,CAAC,IAAIvJ,CAAC,CAAC+T,OAAO,CAAC,kCAAkC,CAAC,EAAE;MACrD,IAAIvK,CAAC,GAAGjL,UAAU,CAACwzB,2BAA2B,CAACvzB,CAAC,EAAEsK,CAAC,CAAC;MACpD9I,CAAC,GAAGA,CAAC,CAACkX,OAAO,CAAC,kCAAkC,EAAE1N,CAAC,CAAC;IACxD;IACA,IAAI,CAAC,CAAC,IAAIxJ,CAAC,CAAC+T,OAAO,CAAC,kBAAkB,CAAC,EAAE;MACrC,IAAIrK,CAAC,GAAGnL,UAAU,CAACqzB,aAAa,CAACpzB,CAAC,EAAEsK,CAAC,CAAC;MACtC9I,CAAC,GAAGA,CAAC,CAACkX,OAAO,CAAC,kBAAkB,EAAExN,CAAC,CAAC;IACxC;IACA,IAAI,CAAC,CAAC,IAAI1J,CAAC,CAAC+T,OAAO,CAAC,wBAAwB,CAAC,EAAE;MAC3C,IAAIpK,CAAC,GAAGpL,UAAU,CAACszB,kBAAkB,CAACrzB,CAAC,EAAEsK,CAAC,CAAC;MAC3C9I,CAAC,GAAGA,CAAC,CAACkX,OAAO,CAAC,wBAAwB,EAAEvN,CAAC,CAAC;IAC9C;IACAlL,CAAC,CAACqlB,IAAI,IAAI9jB,CAAC;EACf;AACJ,CAAE,CAAC,EAACzB,UAAU,CAAC2E,MAAM,CAACsF,EAAE,CAAC,QAAQ,EAAG,UAAUhK,CAAC,EAAEC,CAAC,EAAE;EAChD,IAAID,CAAC,CAACO,MAAM,CAACqG,gBAAgB,CAAC2E,MAAM,EAAE;IAClC,KAAK,IAAIrL,CAAC,GAAGF,CAAC,CAACM,OAAO,CAACkS,gBAAgB,CAAC,4BAA4B,CAAC,EAAEjR,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGrB,CAAC,CAACqL,MAAM,EAAEhK,CAAC,EAAE,EAAErB,CAAC,CAACqB,CAAC,CAAC,CAAC6b,gBAAgB,CAAC,OAAO,EAAG,YAAY;MACzI,IAAInd,CAAC,GAAG,IAAI,CAAC0a,YAAY,CAAC,0BAA0B,CAAC;MACrD3a,CAAC,CAACyf,QAAQ,CAACxf,CAAC,CAAC;IACjB,CAAE,CAAC;IACH,IAAIuB,CAAC,GAAGxB,CAAC,CAACM,OAAO,CAACkS,gBAAgB,CAAC,2BAA2B,CAAC;IAC/D,KAAKjR,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGC,CAAC,CAAC+J,MAAM,EAAEhK,CAAC,EAAE,EAAEC,CAAC,CAACD,CAAC,CAAC,CAAC6b,gBAAgB,CAAC,OAAO,EAAG,YAAY;MACvE,IAAInd,CAAC,GAAG,IAAI,CAAC0a,YAAY,CAAC,yBAAyB,CAAC;MACpD3a,CAAC,CAACwf,QAAQ,CAACvf,CAAC,CAAC;IACjB,CAAE,CAAC;EACP;AACJ,CAAE,CAAC,EAAC,KAAK,CAAC,KAAKF,UAAU,KAAKA,UAAU,GAAG,CAAC,CAAC,CAAC,EAACA,UAAU,CAAC2J,SAAS,CAACsrB,IAAI,GAAG,UAAUh1B,CAAC,EAAE;EACpF,IAAI,IAAI,CAACO,MAAM,CAACuG,mBAAmB,EAAE;IACjC,IAAI7G,CAAC,GAAG,IAAI,CAACgtC,cAAc,CAAC,CAAC;IAC7B,IAAI,CAAC,IAAIhtC,CAAC,EAAE;MACR,IAAI,CAACitC,eAAe,CAAC,CAAC;MACtB,IAAIhtC,CAAC,GAAI,GAAE,IAAI,CAACK,MAAM,CAACuG,mBAAoB,QAAO,IAAI7G,CAAC,GAAG,CAAC,CAAC;QAAEsB,CAAC,GAAG4rC,cAAc,CAACj3B,OAAO,CAAChW,CAAC,CAAC;MAC3FitC,cAAc,CAAC72B,UAAU,CAACpW,CAAC,CAAC;MAC5B,IAAIsB,CAAC,GAAGoX,IAAI,CAACC,KAAK,CAACtX,CAAC,CAAC;MACrB,IAAI,CAAChB,MAAM,CAACgE,KAAK,GAAG/C,CAAC,CAAC+C,KAAK,EAAE,IAAI,CAAChE,MAAM,CAACmG,MAAM,GAAGlF,CAAC,CAACkF,MAAM,EAAE,IAAI,CAACnG,MAAM,CAACoG,MAAM,GAAGnF,CAAC,CAACmF,MAAM,EAAE,IAAI,CAACpG,MAAM,CAACqG,gBAAgB,GAAGpF,CAAC,CAACoF,gBAAgB,EAAE,IAAI,CAACrG,MAAM,CAACsG,WAAW,GAAGrF,CAAC,CAACqF,WAAW,EAAE9G,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC1C,QAAQ,CAAC4C,MAAM,CAAC,CAAC,EAAE,IAAI,CAACqF,IAAI,CAACnK,UAAU,CAAC0D,MAAM,CAACoB,MAAM,EAAE,KAAK,CAAC,EAAE7E,CAAC,CAAC,EAAE,IAAI,CAAC4D,UAAU,CAACwpC,OAAO,CAAC,CAAC;IAC1U;EACJ;AACJ,CAAC,EAACrtC,UAAU,CAAC2J,SAAS,CAACurB,IAAI,GAAG,UAAUj1B,CAAC,EAAE;EACvC,IAAI,IAAI,CAACO,MAAM,CAACuG,mBAAmB,EAAE;IACjC,IAAI7G,CAAC,GAAG,IAAI,CAACotC,cAAc,CAAC,CAAC;IAC7B,IAAI,CAAC,IAAIptC,CAAC,EAAE;MACR,IAAI,CAACsX,eAAe,CAAC,CAAC;MACtB,IAAIrX,CAAC,GAAI,GAAE,IAAI,CAACK,MAAM,CAACuG,mBAAoB,QAAO,IAAI7G,CAAC,GAAG,CAAC,CAAC;QAAEsB,CAAC,GAAG4rC,cAAc,CAACj3B,OAAO,CAAChW,CAAC,CAAC;MAC3FitC,cAAc,CAAC72B,UAAU,CAACpW,CAAC,CAAC;MAC5B,IAAIsB,CAAC,GAAGoX,IAAI,CAACC,KAAK,CAACtX,CAAC,CAAC;MACrB,IAAI,CAAChB,MAAM,CAACgE,KAAK,GAAG/C,CAAC,CAAC+C,KAAK,EAAE,IAAI,CAAChE,MAAM,CAACmG,MAAM,GAAGlF,CAAC,CAACkF,MAAM,EAAE,IAAI,CAACnG,MAAM,CAACoG,MAAM,GAAGnF,CAAC,CAACmF,MAAM,EAAE,IAAI,CAACpG,MAAM,CAACqG,gBAAgB,GAAGpF,CAAC,CAACoF,gBAAgB,EAAE,IAAI,CAACrG,MAAM,CAACsG,WAAW,GAAGrF,CAAC,CAACqF,WAAW,EAAE9G,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC1C,QAAQ,CAAC4C,MAAM,CAAC,CAAC,EAAE,IAAI,CAACqF,IAAI,CAACnK,UAAU,CAAC0D,MAAM,CAACoB,MAAM,EAAE,KAAK,CAAC,EAAE7E,CAAC,CAAC,EAAE,IAAI,CAAC4D,UAAU,CAACwpC,OAAO,CAAC,CAAC;IAC1U;EACJ;AACJ,CAAC,EAACrtC,UAAU,CAAC2J,SAAS,CAAC8N,SAAS,GAAG,YAAY;EAC3C,IAAI,IAAI,CAACjX,MAAM,CAACuG,mBAAmB,EAAE;IACjC,KAAK,IAAI9G,CAAC,GAAI,GAAE,IAAI,CAACO,MAAM,CAACuG,mBAAoB,QAAO,EAAE7G,CAAC,GAAG8N,MAAM,CAACC,IAAI,CAACm/B,cAAc,CAAC,EAAEjtC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,IAAID,CAAC,CAACsV,OAAO,CAACvV,CAAC,GAAGE,CAAC,CAAC,GAAGitC,cAAc,CAAC72B,UAAU,CAACtW,CAAC,GAAGE,CAAC,CAAC,EAAEA,CAAC,EAAE;IAC/J,IAAI,CAAC0D,UAAU,CAACwpC,OAAO,CAAC,CAAC;EAC7B;AACJ,CAAC,EAACrtC,UAAU,CAAC2J,SAAS,CAAC4jC,SAAS,GAAG,YAAY;EAC3C,IAAI,IAAI,CAAC/sC,MAAM,CAACuG,mBAAmB,EAAE;IACjC,KAAK,IAAI9G,CAAC,GAAI,GAAE,IAAI,CAACO,MAAM,CAACuG,mBAAoB,QAAO,EAAE7G,CAAC,GAAG8N,MAAM,CAACC,IAAI,CAACm/B,cAAc,CAAC,EAAEjtC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,IAAID,CAAC,CAACsV,OAAO,CAACvV,CAAC,GAAGE,CAAC,CAAC,GAAGitC,cAAc,CAAC72B,UAAU,CAACtW,CAAC,GAAGE,CAAC,CAAC,EAAEA,CAAC,EAAE;IAC/J,IAAI,CAAC0D,UAAU,CAACwpC,OAAO,CAAC,CAAC;EAC7B;AACJ,CAAC,EAACrtC,UAAU,CAAC2J,SAAS,CAACujC,cAAc,GAAG,YAAY;EAChD,KAAK,IAAIjtC,CAAC,GAAI,GAAE,IAAI,CAACO,MAAM,CAACuG,mBAAoB,QAAO,EAAE7G,CAAC,GAAG8N,MAAM,CAACC,IAAI,CAACm/B,cAAc,CAAC,EAAEjtC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,IAAID,CAAC,CAACsV,OAAO,CAACvV,CAAC,GAAGE,CAAC,CAAC,GAAGA,CAAC,EAAE;EAC7H,OAAOA,CAAC;AACZ,CAAC,EAACH,UAAU,CAAC2J,SAAS,CAAC2jC,cAAc,GAAG,YAAY;EAChD,KAAK,IAAIrtC,CAAC,GAAI,GAAE,IAAI,CAACO,MAAM,CAACuG,mBAAoB,QAAO,EAAE7G,CAAC,GAAG8N,MAAM,CAACC,IAAI,CAACm/B,cAAc,CAAC,EAAEjtC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,IAAID,CAAC,CAACsV,OAAO,CAACvV,CAAC,GAAGE,CAAC,CAAC,GAAGA,CAAC,EAAE;EAC7H,OAAOA,CAAC;AACZ,CAAC,EAACH,UAAU,CAAC2J,SAAS,CAAC6N,eAAe,GAAG,YAAY;EACjD,IAAI,IAAI,CAAChX,MAAM,CAACuG,mBAAmB,EAAE;IACjC,IAAI9G,CAAC,GAAI,GAAE,IAAI,CAACO,MAAM,CAACuG,mBAAoB,QAAO,GAAG,IAAI,CAACmmC,cAAc,CAAC,CAAC;IAC1EE,cAAc,CAACz2B,OAAO,CAAC1W,CAAC,EAAE4Y,IAAI,CAACE,SAAS,CAAC;MACrCvU,KAAK,EAAE,IAAI,CAAChE,MAAM,CAACgE,KAAK;MACxBmC,MAAM,EAAE,IAAI,CAACnG,MAAM,CAACmG,MAAM;MAC1BC,MAAM,EAAE,IAAI,CAACpG,MAAM,CAACoG,MAAM;MAC1BC,gBAAgB,EAAE,IAAI,CAACrG,MAAM,CAACqG,gBAAgB;MAC9CC,WAAW,EAAE,IAAI,CAACtG,MAAM,CAACsG;IAC7B,CAAC,CAAC,CAAC;EACP;AACJ,CAAC,EAAC9G,UAAU,CAAC2J,SAAS,CAACwjC,eAAe,GAAG,YAAY;EACjD,IAAI,IAAI,CAAC3sC,MAAM,CAACuG,mBAAmB,EAAE;IACjC,IAAI9G,CAAC,GAAI,GAAE,IAAI,CAACO,MAAM,CAACuG,mBAAoB,QAAO,GAAG,IAAI,CAACumC,cAAc,CAAC,CAAC;IAC1EF,cAAc,CAACz2B,OAAO,CAAC1W,CAAC,EAAE4Y,IAAI,CAACE,SAAS,CAAC;MACrCvU,KAAK,EAAE,IAAI,CAAChE,MAAM,CAACgE,KAAK;MACxBmC,MAAM,EAAE,IAAI,CAACnG,MAAM,CAACmG,MAAM;MAC1BC,MAAM,EAAE,IAAI,CAACpG,MAAM,CAACoG,MAAM;MAC1BC,gBAAgB,EAAE,IAAI,CAACrG,MAAM,CAACqG,gBAAgB;MAC9CC,WAAW,EAAE,IAAI,CAACtG,MAAM,CAACsG;IAC7B,CAAC,CAAC,CAAC;EACP;AACJ,CAAC,EAAC,KAAK,CAAC,KAAK9G,UAAU,KAAKA,UAAU,GAAG,CAAC,CAAC,CAAC,EAACA,UAAU,CAAC6D,UAAU,GAAG,YAAY;EAC7E,IAAI,CAACm7B,QAAQ,GAAG,IAAI,EAAE,IAAI,CAACr9B,SAAS,GAAG3B,UAAU,CAAC4B,KAAK,CAAC,CAAC;AAC7D,CAAC,EAAC5B,UAAU,CAAC6D,UAAU,CAAC8F,SAAS,CAAC1H,IAAI,GAAG,UAAUhC,CAAC,EAAE;EAClDA,CAAC,CAACO,MAAM,CAACuG,mBAAmB,KAAK,IAAI,CAACi4B,QAAQ,GAAG/+B,CAAC,EAAE,IAAI,CAACotC,OAAO,CAAC,CAAC,CAAC;AACvE,CAAC,EAACrtC,UAAU,CAAC6D,UAAU,CAAC8F,SAAS,CAAC0jC,OAAO,GAAG,YAAY;EACpD,IAAIptC,CAAC,GAAG,IAAI;EACZ,IAAI,IAAI,CAAC++B,QAAQ,CAACx+B,MAAM,CAACuG,mBAAmB,EAAE;IAC1C,IAAI7G,CAAC,GAAG;MAACgtC,cAAc,EAAE,IAAI,CAAClO,QAAQ,CAACkO,cAAc,CAAC,CAAC;MAAEI,cAAc,EAAE,IAAI,CAACtO,QAAQ,CAACsO,cAAc,CAAC;IAAC,CAAC;IACxG,IAAI,CAAC,CAAC,KAAKttC,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,QAAQ,EAAE,CAAC,IAAI,EAAE1E,CAAC,CAAC,CAAC,EAAE;MACvD,IAAIC,CAAC,GAAG,IAAI,CAAC6+B,QAAQ,CAACz+B,OAAO,CAACD,aAAa,CAAC,aAAa,CAAC;QACtDkB,CAAC,GAAG,IAAI,CAACw9B,QAAQ,CAACz+B,OAAO,CAACD,aAAa,CAAC,aAAa,CAAC;MAC1D,IAAI,CAACH,CAAC,IAAI,CAACqB,CAAC,EAAE;QACV,IAAIC,CAAC,GAAGpB,QAAQ,CAAC0mB,aAAa,CAAC,KAAK,CAAC;QACrCtlB,CAAC,CAACqC,SAAS,CAACC,GAAG,CAAC,eAAe,CAAC,EAAEtC,CAAC,CAACwL,SAAS,GAAI,mBAAkBjN,UAAU,CAACmJ,IAAI,CAAC8rB,IAAI,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAE,wFAAuFj1B,UAAU,CAACmJ,IAAI,CAAC+rB,IAAI,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAE,yCAAwC,EAAE,IAAI,CAAC8J,QAAQ,CAACz+B,OAAO,CAACyP,WAAW,CAACvO,CAAC,CAAC,EAAEtB,CAAC,GAAG,IAAI,CAAC6+B,QAAQ,CAACz+B,OAAO,CAACD,aAAa,CAAC,aAAa,CAAC,EAAEkB,CAAC,GAAG,IAAI,CAACw9B,QAAQ,CAACz+B,OAAO,CAACD,aAAa,CAAC,aAAa,CAAC,EAAEH,CAAC,CAACkd,gBAAgB,CAAC,OAAO,EAAG,YAAY;UACjcpd,CAAC,CAAC++B,QAAQ,CAAC/J,IAAI,CAAC,CAAC;QACrB,CAAE,CAAC,EAAEzzB,CAAC,CAAC6b,gBAAgB,CAAC,OAAO,EAAG,YAAY;UAC1Cpd,CAAC,CAAC++B,QAAQ,CAAC9J,IAAI,CAAC,CAAC;QACrB,CAAE,CAAC;MACP;MACAh1B,CAAC,CAACgtC,cAAc,GAAG,CAAC,IAAI/sC,CAAC,CAAC2D,SAAS,CAACC,GAAG,CAAC,kBAAkB,CAAC,EAAE5D,CAAC,CAACG,aAAa,CAAC,aAAa,CAAC,CAAC2M,SAAS,GAAG/M,CAAC,CAACgtC,cAAc,EAAE/sC,CAAC,CAACG,aAAa,CAAC,aAAa,CAAC,CAACqO,KAAK,CAAC4D,OAAO,GAAG,cAAc,KAAKpS,CAAC,CAAC2D,SAAS,CAAC2F,MAAM,CAAC,kBAAkB,CAAC,EAAEtJ,CAAC,CAACG,aAAa,CAAC,aAAa,CAAC,CAACqO,KAAK,CAAC4D,OAAO,GAAG,MAAM,CAAC,EAAErS,CAAC,CAACotC,cAAc,GAAG,CAAC,IAAI9rC,CAAC,CAACsC,SAAS,CAACC,GAAG,CAAC,kBAAkB,CAAC,EAAEvC,CAAC,CAAClB,aAAa,CAAC,aAAa,CAAC,CAAC2M,SAAS,GAAG/M,CAAC,CAACotC,cAAc,EAAE9rC,CAAC,CAAClB,aAAa,CAAC,aAAa,CAAC,CAACqO,KAAK,CAAC4D,OAAO,GAAG,cAAc,KAAK/Q,CAAC,CAACsC,SAAS,CAAC2F,MAAM,CAAC,kBAAkB,CAAC,EAAEjI,CAAC,CAAClB,aAAa,CAAC,aAAa,CAAC,CAACqO,KAAK,CAAC4D,OAAO,GAAG,MAAM,CAAC;IAC1jB;EACJ;AACJ,CAAC,EAACvS,UAAU,CAAC6D,UAAU,CAAC8F,SAAS,CAACM,EAAE,GAAG,UAAUhK,CAAC,EAAEC,CAAC,EAAE;EACnD,OAAOF,UAAU,CAAC2E,MAAM,CAACsF,EAAE,CAAChK,CAAC,EAAEC,CAAC,EAAE,IAAI,CAACyB,SAAS,CAAC,EAAE,IAAI;AAC3D,CAAC,EAAC3B,UAAU,CAAC6D,UAAU,CAAC8F,SAAS,CAAC6jC,QAAQ,GAAG,UAAUvtC,CAAC,EAAE;EACtD,OAAO,IAAI,CAACgK,EAAE,CAAC,QAAQ,EAAG,UAAU/J,CAAC,EAAEC,CAAC,EAAE;IACtC,OAAOF,CAAC,CAACud,IAAI,CAACtd,CAAC,EAAEC,CAAC,CAAC;EACvB,CAAE,CAAC;AACP,CAAC,EAACH,UAAU,CAAC2E,MAAM,CAACsF,EAAE,CAAC,QAAQ,EAAG,UAAUhK,CAAC,EAAEC,CAAC,EAAE;EAC9C,IAAID,CAAC,CAACO,MAAM,CAACgF,OAAO,EAAE;IAClB,IAAIvF,CAAC,CAACkC,OAAO,CAACuB,MAAM,IAAI1D,UAAU,CAAC0D,MAAM,CAACqc,IAAI,EAAE;MAC5C/f,UAAU,CAACwF,OAAO,CAACioC,SAAS,CAACC,MAAM,GAAG95B,IAAI,CAACxN,GAAG,CAACpG,UAAU,CAACwF,OAAO,CAAC4E,KAAK,IAAInK,CAAC,CAACiD,QAAQ,CAACD,QAAQ,CAACmL,IAAI,GAAGnO,CAAC,CAACiD,QAAQ,CAACD,QAAQ,CAACoL,IAAI,CAAC,EAAErO,UAAU,CAACwF,OAAO,CAAC6E,MAAM,IAAIpK,CAAC,CAACiD,QAAQ,CAACD,QAAQ,CAACsL,IAAI,GAAGtO,CAAC,CAACiD,QAAQ,CAACD,QAAQ,CAACuL,IAAI,CAAC,CAAC,EAAExO,UAAU,CAACwF,OAAO,CAACioC,SAAS,CAACE,WAAW,GAAG,CAAC1tC,CAAC,CAACiD,QAAQ,CAACD,QAAQ,CAACoL,IAAI,GAAGrO,UAAU,CAACwF,OAAO,CAACioC,SAAS,CAACC,MAAM,GAAG,CAAC1tC,UAAU,CAACwF,OAAO,CAAC4E,KAAK,GAAG,CAACnK,CAAC,CAACiD,QAAQ,CAACD,QAAQ,CAACmL,IAAI,GAAGnO,CAAC,CAACiD,QAAQ,CAACD,QAAQ,CAACoL,IAAI,IAAIrO,UAAU,CAACwF,OAAO,CAACioC,SAAS,CAACC,MAAM,IAAI,CAAC,EAAE1tC,UAAU,CAACwF,OAAO,CAACioC,SAAS,CAACG,WAAW,GAAG,CAAC3tC,CAAC,CAACiD,QAAQ,CAACD,QAAQ,CAACuL,IAAI,GAAGxO,UAAU,CAACwF,OAAO,CAACioC,SAAS,CAACC,MAAM,GAAG,CAAC1tC,UAAU,CAACwF,OAAO,CAAC6E,MAAM,GAAG,CAACpK,CAAC,CAACiD,QAAQ,CAACD,QAAQ,CAACsL,IAAI,GAAGtO,CAAC,CAACiD,QAAQ,CAACD,QAAQ,CAACuL,IAAI,IAAIxO,UAAU,CAACwF,OAAO,CAACioC,SAAS,CAACC,MAAM,IAAI,CAAC;MAC1qB,IAAIvtC,CAAC,GAAGF,CAAC,CAACqD,UAAU,CAAC,CAAC;MACtBtD,UAAU,CAACwF,OAAO,CAACqoC,KAAK,CAAC5tC,CAAC,CAAC,EAAED,UAAU,CAACwF,OAAO,CAACsoC,eAAe,CAAC7tC,CAAC,CAAC,EAAED,UAAU,CAACwF,OAAO,CAACuoC,uBAAuB,CAAC9tC,CAAC,EAAEE,CAAC,CAAC;MACpH,IAAIqB,CAAC;QAAEC,CAAC;QAAE8I,CAAC;QAAES,CAAC;QAAEC,CAAC,GAAGhL,CAAC,CAACM,OAAO,CAACD,aAAa,CAAC,4BAA4B,CAAC;QAAE6K,CAAC,GAAG,CAAC,CAAC;QAAEC,CAAC,GAAG,IAAI;MAC3FH,CAAC,CAAC8tB,WAAW,GAAG,UAAU94B,CAAC,EAAE;QACzB,IAAIC,CAAC;UAAEqK,CAAC;UAAES,CAAC;UAAEI,CAAC,GAAGH,CAAC,CAACsE,qBAAqB,CAAC,CAAC;UAAEhE,CAAC,GAAGH,CAAC,CAACoE,IAAI;UAAE/D,CAAC,GAAGL,CAAC,CAAClE,GAAG;QACjE,IAAI1F,CAAC,GAAGwZ,QAAQ,CAAC/a,CAAC,CAACqtB,OAAO,GAAG/hB,CAAC,CAAC,EAAE9J,CAAC,GAAGuZ,QAAQ,CAAC/a,CAAC,CAACstB,OAAO,GAAG9hB,CAAC,CAAC,EAAEvL,CAAC,GAAGuB,CAAC,EAAE8I,CAAC,GAAG,CAAC/I,CAAC,GAAGxB,UAAU,CAACwF,OAAO,CAACioC,SAAS,CAACE,WAAW,IAAI3tC,UAAU,CAACwF,OAAO,CAACioC,SAAS,CAACC,MAAM,EAAE1iC,CAAC,GAAG,CAAC9K,CAAC,GAAGF,UAAU,CAACwF,OAAO,CAACioC,SAAS,CAACG,WAAW,IAAI5tC,UAAU,CAACwF,OAAO,CAACioC,SAAS,CAACC,MAAM,EAAEnjC,CAAC,GAAGpK,CAAC,CAAC,CAAC,CAAC,IAAIoK,CAAC,GAAGpK,CAAC,CAAC,CAAC,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAC,IAAI6K,CAAC,GAAG7K,CAAC,CAAC,CAAC,CAAC,IAAI6K,CAAC,GAAG7K,CAAC,CAAC,CAAC,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAC,EAAE,OAAOF,CAAC,CAAC4d,cAAc,CAAC,CAAC,EAAE5d,CAAC,CAAC2d,eAAe,CAAC,CAAC,EAAE,MAAMzS,CAAC,GAAG,CAAC,CAAC,CAAC;MACtX,CAAC,EAAEF,CAAC,CAACouB,WAAW,GAAG,UAAUn5B,CAAC,EAAE;QAC5B,IAAIiL,CAAC,EAAE;UACHjL,CAAC,CAAC2d,cAAc,CAAC,CAAC,EAAE3d,CAAC,CAAC0d,eAAe,CAAC,CAAC;UACvC,IAAIrS,CAAC,GAAGN,CAAC,CAACsE,qBAAqB,CAAC,CAAC;YAAE9D,CAAC,GAAGF,CAAC,CAACiE,IAAI;YAAE9D,CAAC,GAAGH,CAAC,CAACrE,GAAG;UACxDqD,CAAC,GAAGyQ,QAAQ,CAAC9a,CAAC,CAACotB,OAAO,GAAG7hB,CAAC,CAAC,EAAET,CAAC,GAAGgQ,QAAQ,CAAC9a,CAAC,CAACqtB,OAAO,GAAG7hB,CAAC,CAAC;UACxD,IAAIc,CAAC,GAAG,CAACjC,CAAC,GAAG/I,CAAC,IAAIxB,UAAU,CAACwF,OAAO,CAACioC,SAAS,CAACC,MAAM;YACjDhhC,CAAC,GAAG,CAAC1B,CAAC,GAAGvJ,CAAC,IAAIzB,UAAU,CAACwF,OAAO,CAACioC,SAAS,CAACC,MAAM;UACrDvtC,CAAC,CAAC,CAAC,CAAC,GAAGqM,CAAC,GAAGrM,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,GAAGuM,CAAC,GAAGvM,CAAC,CAAC,CAAC,CAAC,EAAEF,CAAC,CAACuD,UAAU,CAACrD,CAAC,CAAC,EAAEiL,CAAC,KAAK+hB,YAAY,CAAC/hB,CAAC,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAC,EAAEA,CAAC,GAAGgiB,UAAU,CAAE,YAAY;YAC7GntB,CAAC,CAACwD,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAACqc,IAAI,CAAC;UACvC,CAAC,EAAG,GAAG,CAAC,EAAE/f,UAAU,CAACwF,OAAO,CAACuoC,uBAAuB,CAAC9tC,CAAC,EAAEE,CAAC,CAAC,EAAEqB,CAAC,GAAG+I,CAAC,EAAE9I,CAAC,GAAGuJ,CAAC;QAC5E;MACJ,CAAC,EAAEC,CAAC,CAACquB,SAAS,GAAG,UAAUr5B,CAAC,EAAE;QAC1BkL,CAAC,KAAKlL,CAAC,CAAC4d,cAAc,CAAC,CAAC,EAAE5d,CAAC,CAAC2d,eAAe,CAAC,CAAC,EAAEzS,CAAC,GAAG,CAAC,CAAC,CAAC;MAC1D,CAAC,EAAEF,CAAC,CAAC+iC,UAAU,GAAG,UAAU/tC,CAAC,EAAE;QAC3BkL,CAAC,KAAKlL,CAAC,CAAC4d,cAAc,CAAC,CAAC,EAAE5d,CAAC,CAAC2d,eAAe,CAAC,CAAC,EAAEzS,CAAC,GAAG,CAAC,CAAC,CAAC;MAC1D,CAAC;IACL;EACJ,CAAC,MAAM;IACH,IAAII,CAAC,GAAGtL,CAAC,CAACM,OAAO,CAACD,aAAa,CAAC,sBAAsB,CAAC;IACvDiL,CAAC,IAAIA,CAAC,CAACoB,UAAU,CAACC,WAAW,CAACrB,CAAC,CAAC;EACpC;AACJ,CAAE,CAAC,EAACvL,UAAU,CAACwF,OAAO,GAAG,CAAC,CAAC,EAACxF,UAAU,CAACwF,OAAO,CAACioC,SAAS,GAAG;EACvDE,WAAW,EAAE,CAAC;EACdC,WAAW,EAAE,CAAC;EACdF,MAAM,EAAE;AACZ,CAAC,EAAC1tC,UAAU,CAACwF,OAAO,CAACsoC,eAAe,GAAG,UAAU7tC,CAAC,EAAE;EAChD,IAAIC,CAAC,GAAGD,CAAC,CAACM,OAAO,CAACD,aAAa,CAAC,2BAA2B,CAAC;IAAEH,CAAC,GAAGD,CAAC,CAAC+tC,UAAU,CAAC,IAAI,CAAC;EACpFjuC,UAAU,CAACwF,OAAO,CAAC0oC,QAAQ,CAACjuC,CAAC,EAAEC,CAAC,EAAE,CAAC,CAAC;EACpC,IAAIsB,CAAC,GAAG,CAAC;IAAEC,CAAC,GAAG,EAAE;EACjB,CAAC,SAASxB,CAACA,CAACC,CAAC,EAAEqK,CAAC,EAAE;IACd,IAAIuL,KAAK,CAACC,OAAO,CAACxL,CAAC,CAAC,EAAE,KAAK,IAAIS,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGT,CAAC,CAACiB,MAAM,EAAER,CAAC,EAAE,EAAE/K,CAAC,CAACC,CAAC,EAAEqK,CAAC,CAACS,CAAC,CAAC,CAAC,CAAC,KAAM;MACtE7K,CAAC,CAACguC,SAAS,GAAGnuC,UAAU,CAACwF,OAAO,CAAC4oC,MAAM,CAAC,CAAC,CAAC,EAAEjuC,CAAC,CAACkuC,SAAS,CAAC,CAAC,EAAEluC,CAAC,CAACmuC,SAAS,GAAG,KAAK,EAAEnuC,CAAC,CAACouC,QAAQ,CAAChkC,CAAC,CAACsF,CAAC,EAAEtF,CAAC,CAACgD,CAAC,EAAEhD,CAAC,CAAC+E,CAAC,EAAE/E,CAAC,CAACiC,CAAC,CAAC,EAAErM,CAAC,CAACquC,UAAU,CAACjkC,CAAC,CAACsF,CAAC,EAAEtF,CAAC,CAACgD,CAAC,EAAEhD,CAAC,CAAC+E,CAAC,EAAE/E,CAAC,CAACiC,CAAC,CAAC;MAChJ,KAAKxB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGT,CAAC,CAAC8sB,aAAa,CAAC7rB,MAAM,EAAER,CAAC,EAAE,EAAExJ,CAAC,EAAE,EAAEC,CAAC,CAACgtC,QAAQ,CAAClkC,CAAC,CAACqB,EAAE,CAAC,KAAK,CAAC,IAAIpK,CAAC,GAAGrB,CAAC,CAACguC,SAAS,GAAGnuC,UAAU,CAACwF,OAAO,CAAC4oC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI5sC,CAAC,GAAGrB,CAAC,CAACguC,SAAS,GAAGnuC,UAAU,CAACwF,OAAO,CAAC4oC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI5sC,CAAC,KAAKrB,CAAC,CAACguC,SAAS,GAAGnuC,UAAU,CAACwF,OAAO,CAAC4oC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAEjuC,CAAC,CAACkuC,SAAS,CAAC,CAAC,EAAEluC,CAAC,CAACouC,QAAQ,CAAChkC,CAAC,CAACsF,CAAC,EAAEtF,CAAC,CAACgD,CAAC,EAAEhD,CAAC,CAAC+E,CAAC,EAAE/E,CAAC,CAACiC,CAAC,CAAC,EAAErM,CAAC,CAACquC,UAAU,CAACjkC,CAAC,CAACsF,CAAC,EAAEtF,CAAC,CAACgD,CAAC,EAAEhD,CAAC,CAAC+E,CAAC,EAAE/E,CAAC,CAACiC,CAAC,CAAC,EAAE/K,CAAC,CAAC4R,IAAI,CAAC9I,CAAC,CAACqB,EAAE,CAAC,CAAC,EAAE3L,CAAC,CAACC,CAAC,EAAEA,CAAC,CAACmP,OAAO,CAAC9E,CAAC,CAAC8sB,aAAa,CAACrsB,CAAC,CAAC,CAAC,CAAC,EAAExJ,CAAC,EAAE;MACnX,KAAKwJ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGT,CAAC,CAAC4I,WAAW,CAAC3H,MAAM,EAAER,CAAC,EAAE,EAAE/K,CAAC,CAACC,CAAC,EAAEA,CAAC,CAACmP,OAAO,CAAC9E,CAAC,CAAC4I,WAAW,CAACnI,CAAC,CAAC,CAAC,CAAC;IAChF;EACJ,CAAC,CAAC/K,CAAC,EAAEA,CAAC,CAACmI,KAAK,CAAC;AACjB,CAAC,EAACpI,UAAU,CAACwF,OAAO,CAACuoC,uBAAuB,GAAG,UAAU9tC,CAAC,EAAEC,CAAC,EAAE;EAC3D,IAAIC,CAAC,GAAGF,CAAC,CAACM,OAAO,CAACD,aAAa,CAAC,4BAA4B,CAAC;IAAEkB,CAAC,GAAGrB,CAAC,CAAC8tC,UAAU,CAAC,IAAI,CAAC;EACrFjuC,UAAU,CAACwF,OAAO,CAAC0oC,QAAQ,CAACjuC,CAAC,EAAEE,CAAC,EAAEH,UAAU,CAACwF,OAAO,CAACyK,OAAO,CAAC;EAC7D,IAAIxO,CAAC,GAAGvB,CAAC,CAAC,CAAC,CAAC;IAAEqK,CAAC,GAAGrK,CAAC,CAAC,CAAC,CAAC;IAAE8K,CAAC,GAAG9K,CAAC,CAAC,CAAC,CAAC;IAAE+K,CAAC,GAAG/K,CAAC,CAAC,CAAC,CAAC;EAC1CsB,CAAC,CAAC8sC,SAAS,GAAG,EAAE,GAAGtuC,UAAU,CAACwF,OAAO,CAACioC,SAAS,CAACC,MAAM,EAAElsC,CAAC,CAACktC,WAAW,GAAG1uC,UAAU,CAACwF,OAAO,CAACmpC,WAAW,EAAEntC,CAAC,CAACotC,WAAW,GAAG,CAAC,EAAEptC,CAAC,CAACqtC,SAAS,CAACptC,CAAC,EAAE8I,CAAC,EAAES,CAAC,EAAEC,CAAC,CAAC,EAAEzJ,CAAC,CAACgtC,UAAU,CAAC/sC,CAAC,EAAE8I,CAAC,EAAES,CAAC,EAAEC,CAAC,CAAC;AAChL,CAAC,EAACjL,UAAU,CAACwF,OAAO,CAAC0oC,QAAQ,GAAG,UAAUjuC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EAC/C,IAAIqB,CAAC,GAAGtB,CAAC,CAAC+tC,UAAU,CAAC,IAAI,CAAC;EAC1B/tC,CAAC,CAACkK,KAAK,GAAGlK,CAAC,CAACkK,KAAK,EAAElK,CAAC,CAACmK,MAAM,GAAGnK,CAAC,CAACmK,MAAM,EAAE7I,CAAC,CAACqtC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE7uC,UAAU,CAACwF,OAAO,CAAC4E,KAAK,EAAEpK,UAAU,CAACwF,OAAO,CAAC6E,MAAM,CAAC,EAAE7I,CAAC,CAACotC,WAAW,GAAGzuC,CAAC,EAAE,CAAC,IAAIA,CAAC,KAAKqB,CAAC,CAAC2sC,SAAS,GAAGnuC,UAAU,CAACwF,OAAO,CAACspC,uBAAuB,EAAEttC,CAAC,CAAC+sC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAEvuC,UAAU,CAACwF,OAAO,CAAC4E,KAAK,EAAEpK,UAAU,CAACwF,OAAO,CAAC6E,MAAM,CAAC,CAAC,EAAE7I,CAAC,CAACutC,SAAS,CAAC/uC,UAAU,CAACwF,OAAO,CAACioC,SAAS,CAACE,WAAW,EAAE3tC,UAAU,CAACwF,OAAO,CAACioC,SAAS,CAACG,WAAW,CAAC,EAAEpsC,CAAC,CAAC2B,KAAK,CAACnD,UAAU,CAACwF,OAAO,CAACioC,SAAS,CAACC,MAAM,EAAE1tC,UAAU,CAACwF,OAAO,CAACioC,SAAS,CAACC,MAAM,CAAC;AACtc,CAAC,EAAC1tC,UAAU,CAACwF,OAAO,CAACqoC,KAAK,GAAG,UAAU5tC,CAAC,EAAE;EACtC,IAAI,CAACA,CAAC,CAACM,OAAO,CAACD,aAAa,CAAC,sBAAsB,CAAC,EAAE;IAClD,IAAIJ,CAAC,GAAGG,QAAQ,CAAC0mB,aAAa,CAAC,QAAQ,CAAC;IACxC7mB,CAAC,CAACkK,KAAK,GAAGpK,UAAU,CAACwF,OAAO,CAAC4E,KAAK,EAAElK,CAAC,CAACmK,MAAM,GAAGrK,UAAU,CAACwF,OAAO,CAAC6E,MAAM,EAAEnK,CAAC,CAAC+O,YAAY,CAAC,SAAS,EAAE,eAAe,CAAC,EAAE/O,CAAC,CAACyO,KAAK,CAAC4D,OAAO,GAAG,cAAc,EAAErS,CAAC,CAACyO,KAAK,CAAC4pB,eAAe,GAAGv4B,UAAU,CAACwF,OAAO,CAAC+yB,eAAe,EAAEr4B,CAAC,CAACyO,KAAK,CAACE,QAAQ,GAAG,UAAU,EAAE3O,CAAC,CAACyO,KAAK,CAACzH,GAAG,GAAG,CAAC,EAAEhH,CAAC,CAACyO,KAAK,CAACa,IAAI,GAAG,CAAC;IACtR,IAAIrP,CAAC,GAAGE,QAAQ,CAAC0mB,aAAa,CAAC,QAAQ,CAAC;IACxC5mB,CAAC,CAACiK,KAAK,GAAGpK,UAAU,CAACwF,OAAO,CAAC4E,KAAK,EAAEjK,CAAC,CAACkK,MAAM,GAAGrK,UAAU,CAACwF,OAAO,CAAC6E,MAAM,EAAElK,CAAC,CAAC8O,YAAY,CAAC,SAAS,EAAE,gBAAgB,CAAC,EAAE9O,CAAC,CAACwO,KAAK,CAAC4D,OAAO,GAAG,cAAc,EAAEpS,CAAC,CAACwO,KAAK,CAACE,QAAQ,GAAG,UAAU,EAAE1O,CAAC,CAACwO,KAAK,CAACzH,GAAG,GAAG,CAAC,EAAE/G,CAAC,CAACwO,KAAK,CAACa,IAAI,GAAG,CAAC;IACzN,IAAIhO,CAAC,GAAGnB,QAAQ,CAAC0mB,aAAa,CAAC,KAAK,CAAC;IACrCvlB,CAAC,CAACyN,YAAY,CAAC,SAAS,EAAE,UAAU,CAAC,EAAEzN,CAAC,CAACmN,KAAK,CAACE,QAAQ,GAAG,UAAU;IACpE,KAAK,IAAIpN,CAAC,GAAG,CAAC,KAAK,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,CAAC,EAAE8I,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG9I,CAAC,CAAC+J,MAAM,EAAEjB,CAAC,EAAE,EAAE;MACvE,IAAIS,CAAC,GAAGvJ,CAAC,CAAC8I,CAAC,CAAC;MACZvK,UAAU,CAACgS,KAAK,CAAChS,UAAU,CAACwF,OAAO,CAACqJ,QAAQ,CAAC7D,CAAC,CAAC,CAAC,KAAK,SAAS,IAAIhL,UAAU,CAACwF,OAAO,CAACqJ,QAAQ,CAAC7D,CAAC,CAAC,GAAGxJ,CAAC,CAACmN,KAAK,CAAC3D,CAAC,CAAC,GAAG/K,CAAC,CAACO,MAAM,CAAC+C,OAAO,GAAG,IAAI,GAAG/B,CAAC,CAACmN,KAAK,CAAC3D,CAAC,CAAC,GAAGhL,UAAU,CAACwF,OAAO,CAACqJ,QAAQ,CAAC7D,CAAC,CAAC,GAAG,IAAI,CAAC;IACjM;IACAxJ,CAAC,CAACmN,KAAK,CAAC0pB,MAAM,GAAGr4B,UAAU,CAACwF,OAAO,CAAC6yB,MAAM,EAAE72B,CAAC,CAACmN,KAAK,CAACpL,OAAO,GAAGvD,UAAU,CAACwF,OAAO,CAACjC,OAAO,GAAG,IAAI,EAAE/B,CAAC,CAACmN,KAAK,CAAC4pB,eAAe,GAAGv4B,UAAU,CAACwF,OAAO,CAAC+yB,eAAe;IAC7J,IAAIttB,CAAC,GAAG5K,QAAQ,CAAC0mB,aAAa,CAAC,KAAK,CAAC;IACrC9b,CAAC,CAAC0D,KAAK,CAACE,QAAQ,GAAG,UAAU,EAAE5D,CAAC,CAAC0D,KAAK,CAACvE,KAAK,GAAGpK,UAAU,CAACwF,OAAO,CAAC4E,KAAK,GAAG,IAAI,EAAEa,CAAC,CAAC0D,KAAK,CAACtE,MAAM,GAAGrK,UAAU,CAACwF,OAAO,CAAC6E,MAAM,GAAG,IAAI,EAAEY,CAAC,CAAC+E,WAAW,CAAC9P,CAAC,CAAC,EAAE+K,CAAC,CAAC+E,WAAW,CAAC7P,CAAC,CAAC,EAAEqB,CAAC,CAACwO,WAAW,CAAC/E,CAAC,CAAC,EAAEhL,CAAC,CAACM,OAAO,CAACyP,WAAW,CAACxO,CAAC,CAAC;IACjN,IAAI2J,CAAC,GAAG,SAAAA,CAAUjL,CAAC,EAAEC,CAAC,EAAE;MACpBF,CAAC,CAAC27B,oBAAoB,CAACp6B,CAAC,EAAErB,CAAC,CAAC;IAChC,CAAC;IACDF,CAAC,CAACuc,SAAS,CAAChb,CAAC,EAAE,gBAAgB,EAAE2J,CAAC,CAAC,EAAElL,CAAC,CAACuc,SAAS,CAAChb,CAAC,EAAE,YAAY,EAAE2J,CAAC,CAAC;IACpE,IAAIC,CAAC,GAAG,CAAC;MAAEG,CAAC,GAAG,CAAC;MAAEE,CAAC,GAAG,SAAAA,CAAUxL,CAAC,EAAE;QAC/B,IAAIC,CAAC,GAAGD,CAAC,CAACqtB,OAAO,GAAGliB,CAAC;UAAEjL,CAAC,GAAGF,CAAC,CAACstB,OAAO,GAAGhiB,CAAC;QACxC,IAAI,CAACvL,UAAU,CAACgS,KAAK,CAACxQ,CAAC,CAACmN,KAAK,CAACa,IAAI,CAAC,EAAE;UACjC,IAAI/N,CAAC,GAAG2uB,UAAU,CAAC5uB,CAAC,CAACmN,KAAK,CAACa,IAAI,CAAC,GAAGtP,CAAC;UACpCsB,CAAC,CAACmN,KAAK,CAACa,IAAI,GAAI,GAAE/N,CAAE,IAAG;QAC3B;QACA,IAAI,CAACzB,UAAU,CAACgS,KAAK,CAACxQ,CAAC,CAACmN,KAAK,CAACyF,KAAK,CAAC,EAAE;UAClC,IAAI7J,CAAC,GAAG6lB,UAAU,CAAC5uB,CAAC,CAACmN,KAAK,CAACyF,KAAK,CAAC,GAAGlU,CAAC;UACrCsB,CAAC,CAACmN,KAAK,CAACyF,KAAK,GAAI,GAAE7J,CAAE,IAAG;QAC5B;QACA,IAAI,CAACvK,UAAU,CAACgS,KAAK,CAACxQ,CAAC,CAACmN,KAAK,CAAC8F,MAAM,CAAC,EAAE;UACnC,IAAIzJ,CAAC,GAAGolB,UAAU,CAAC5uB,CAAC,CAACmN,KAAK,CAAC8F,MAAM,CAAC,GAAGtU,CAAC;UACtCqB,CAAC,CAACmN,KAAK,CAAC8F,MAAM,GAAI,GAAEzJ,CAAE,IAAG;QAC7B;QACA,IAAI,CAAChL,UAAU,CAACgS,KAAK,CAACxQ,CAAC,CAACmN,KAAK,CAACzH,GAAG,CAAC,EAAE;UAChC,IAAI+D,CAAC,GAAGmlB,UAAU,CAAC5uB,CAAC,CAACmN,KAAK,CAACzH,GAAG,CAAC,GAAG/G,CAAC;UACnCqB,CAAC,CAACmN,KAAK,CAACzH,GAAG,GAAI,GAAE+D,CAAE,IAAG;QAC1B;QACAG,CAAC,GAAGnL,CAAC,CAACqtB,OAAO,EAAE/hB,CAAC,GAAGtL,CAAC,CAACstB,OAAO;MAChC,CAAC;MAAE7hB,CAAC,GAAG,SAAAA,CAAA,EAAY;QACfrL,QAAQ,CAACyd,mBAAmB,CAAC,WAAW,EAAErS,CAAC,CAAC,EAAEpL,QAAQ,CAACyd,mBAAmB,CAAC,SAAS,EAAEpS,CAAC,CAAC;MAC5F,CAAC;IACD1L,UAAU,CAACwF,OAAO,CAAC6B,SAAS,IAAI7F,CAAC,CAAC6b,gBAAgB,CAAC,WAAW,EAAG,UAAUpd,CAAC,EAAE;MAC1EmL,CAAC,GAAGnL,CAAC,CAACqtB,OAAO,EAAE/hB,CAAC,GAAGtL,CAAC,CAACstB,OAAO,EAAEltB,QAAQ,CAACgd,gBAAgB,CAAC,WAAW,EAAE5R,CAAC,CAAC,EAAEpL,QAAQ,CAACgd,gBAAgB,CAAC,SAAS,EAAE3R,CAAC,CAAC;IACpH,CAAE,CAAC;EACP;AACJ,CAAC,EAAC1L,UAAU,CAACwF,OAAO,CAAC4oC,MAAM,GAAG,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC,EAACpuC,UAAU,CAACwF,OAAO,CAACspC,uBAAuB,GAAG,OAAO,EAAC9uC,UAAU,CAACwF,OAAO,CAAC+yB,eAAe,GAAG,OAAO,EAACv4B,UAAU,CAACwF,OAAO,CAACmpC,WAAW,GAAG,SAAS,EAAC3uC,UAAU,CAACwF,OAAO,CAACyK,OAAO,GAAG,EAAE,EAACjQ,UAAU,CAACwF,OAAO,CAAC6yB,MAAM,GAAG,mBAAmB,EAACr4B,UAAU,CAACwF,OAAO,CAAC4E,KAAK,GAAG,GAAG,EAACpK,UAAU,CAACwF,OAAO,CAAC6E,MAAM,GAAG,GAAG,EAACrK,UAAU,CAACwF,OAAO,CAACjC,OAAO,GAAG,CAAC,EAACvD,UAAU,CAACwF,OAAO,CAACqJ,QAAQ,GAAG;EACha3H,GAAG,EAAE,KAAK,CAAC;EACXsI,IAAI,EAAE,SAAS;EACf4E,KAAK,EAAE,KAAK,CAAC;EACbK,MAAM,EAAE;AACZ,CAAC,EAACzU,UAAU,CAACwF,OAAO,CAAC6B,SAAS,GAAG,CAAC,CAAC,EAACrH,UAAU,CAACkS,OAAO,GAAG,CAAC,CAAC,EAAClS,UAAU,CAACkS,OAAO,CAACH,MAAM,GAAG,UAAU9R,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAES,CAAC,EAAE;EACnH,IAAIC,CAAC,GAAG,EAAE;IAAEE,CAAC,GAAGjL,CAAC,CAACya,WAAW,CAAC,CAAC;IAAEvP,CAAC,GAAGD,CAAC,CAAC6gB,KAAK,CAAC,GAAG,CAAC;EACjD,IAAIhhB,CAAC,IAAII,CAAC,CAACI,MAAM,GAAG,CAAC,EAAE;IACnB,IAAID,CAAC,GAAGH,CAAC,CAAC,CAAC,CAAC;IACZJ,CAAC,CAACO,CAAC,CAAC,KAAKpL,CAAC,GAAG,CAAC6K,CAAC,CAACO,CAAC,CAAC,CAAC,EAAEH,CAAC,GAAG,CAACD,CAAC,GAAGA,CAAC,CAACwN,OAAO,CAACpN,CAAC,EAAE,EAAE,CAAC,CAAC4oB,IAAI,CAAC,CAAC,EAAEnI,KAAK,CAAC,GAAG,CAAC,CAAC;EACtE;EACA5gB,CAAC,GAAGA,CAAC,CAAC4jC,MAAM,CAAE,UAAU/uC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;IAC7B,OAAOA,CAAC,CAACqV,OAAO,CAACvV,CAAC,CAAC,KAAKC,CAAC;EAC7B,CAAE,CAAC;EACH,KAAK,IAAIuL,CAAC,GAAG,CAAC,CAAC,EAAEC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGzL,CAAC,CAACuL,MAAM,EAAEE,CAAC,EAAE,EAAE,KAAK,IAAIc,CAAC,GAAGvM,CAAC,CAACyL,CAAC,CAAC,EAAEgB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGvM,CAAC,CAACqL,MAAM,EAAEkB,CAAC,EAAE,EAAE;IACpF,IAAIY,CAAC,GAAGnN,CAAC,CAACuM,CAAC,CAAC;IACZ,IAAI,CAAC1M,UAAU,CAACgS,KAAK,CAACxF,CAAC,CAACc,CAAC,CAAC,CAAC,EAAE;MACzB,IAAIC,CAAC,GAAGf,CAAC,CAACc,CAAC,CAAC;MACZ,IAAI,IAAI,KAAKpN,CAAC,GAAGF,UAAU,CAACkS,OAAO,CAAC+8B,qBAAqB,CAAC7jC,CAAC,EAAEmC,CAAC,EAAED,CAAC,EAAE/C,CAAC,CAAC,CAAC,EAAE;QACpE,IAAI2D,CAAC,GAAG1B,CAAC,CAACZ,EAAE;QACZ,IAAIH,CAAC,CAACyC,CAAC,CAAC,EAAE;UACN,IAAIzC,CAAC,CAACyC,CAAC,CAAC,IAAIzC,CAAC,CAACyC,CAAC,CAAC,GAAGhO,CAAC,CAACgvC,OAAO,EAAE;YAC1BzjC,CAAC,CAACyC,CAAC,CAAC,GAAGhO,CAAC,CAACgvC,OAAO;YAChB,KAAK,IAAI/gC,CAAC,GAAGlD,CAAC,CAACO,MAAM,GAAG,CAAC,EAAE2C,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAElD,CAAC,CAACkD,CAAC,CAAC,CAACvC,EAAE,IAAIsC,CAAC,IAAIjD,CAAC,CAAC4M,MAAM,CAAC1J,CAAC,EAAE,CAAC,CAAC;YACtEnO,UAAU,CAACkS,OAAO,CAACi9B,eAAe,CAAClkC,CAAC,EAAEzJ,CAAC,EAAEgL,CAAC,EAAEtM,CAAC,EAAEoN,CAAC,EAAE7L,CAAC,CAAC;UACxD;QACJ,CAAC,MAAMgK,CAAC,CAACyC,CAAC,CAAC,GAAGhO,CAAC,CAACgvC,OAAO,EAAElvC,UAAU,CAACkS,OAAO,CAACi9B,eAAe,CAAClkC,CAAC,EAAEzJ,CAAC,EAAEgL,CAAC,EAAEtM,CAAC,EAAEoN,CAAC,EAAE7L,CAAC,CAAC;MACjF;IACJ;EACJ;EACA,OAAOwJ,CAAC,CAACsK,IAAI,CAAE,UAAUtV,CAAC,EAAEC,CAAC,EAAE;IAC3B,OAAOD,CAAC,CAACivC,OAAO,GAAGhvC,CAAC,CAACgvC,OAAO,GAAG,CAAC,GAAGjvC,CAAC,CAACivC,OAAO,GAAGhvC,CAAC,CAACgvC,OAAO,GAAG,CAAC,CAAC,GAAG,CAAC;EACrE,CAAE,CAAC,EAAEjkC,CAAC;AACV,CAAC,EAACjL,UAAU,CAACkS,OAAO,CAACi9B,eAAe,GAAG,UAAUlvC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAE;EAC/D,IAAIS,CAAC,GAAG,CAAC,CAAC;EACVA,CAAC,CAACY,EAAE,GAAGzL,CAAC,CAACyL,EAAE,EAAE5L,UAAU,CAACgS,KAAK,CAAC7R,CAAC,CAACoK,CAAC,CAAC,CAAC,KAAKS,CAAC,CAACT,CAAC,CAAC,GAAGpK,CAAC,CAACoK,CAAC,CAAC,CAAC;EACpD,KAAK,IAAIU,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG/K,CAAC,CAACsL,MAAM,EAAEP,CAAC,EAAE,EAAE;IAC/B,IAAIE,CAAC,GAAGjL,CAAC,CAAC+K,CAAC,CAAC;IACZjL,UAAU,CAACgS,KAAK,CAAC7R,CAAC,CAACgL,CAAC,CAAC,CAAC,IAAInL,UAAU,CAACgS,KAAK,CAAChH,CAAC,CAACG,CAAC,CAAC,CAAC,KAAKH,CAAC,CAACG,CAAC,CAAC,GAAGhL,CAAC,CAACgL,CAAC,CAAC,CAAC;EACrE;EACA,IAAI,IAAI3J,CAAC,KAAKxB,UAAU,CAACgS,KAAK,CAAChH,CAAC,CAACkkC,OAAO,CAAC,KAAKlkC,CAAC,CAACkkC,OAAO,GAAG1tC,CAAC,CAAC0tC,OAAO,CAAC,EAAElvC,UAAU,CAACgS,KAAK,CAAChH,CAAC,CAAC40B,aAAa,CAAC,KAAK50B,CAAC,CAAC40B,aAAa,GAAGn+B,CAAC,CAAC,EAAEzB,UAAU,CAACgS,KAAK,CAAChH,CAAC,CAAC60B,aAAa,CAAC,KAAK70B,CAAC,CAAC60B,aAAa,GAAGr+B,CAAC,CAACq+B,aAAa,CAAC,CAAC,EAAE5/B,CAAC,CAACoT,IAAI,CAACrI,CAAC,CAAC;AAC1N,CAAC,EAAChL,UAAU,CAACkS,OAAO,CAAC+8B,qBAAqB,GAAG,UAAUhvC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;EAC/D,IAAIxB,UAAU,CAACgS,KAAK,CAAC9R,CAAC,CAAC,EAAE,OAAO,IAAI;EACpC,IAAIF,UAAU,CAACgS,KAAK,CAAC/R,CAAC,CAAC,EAAE,OAAO,IAAI;EACpC,IAAI,CAACA,CAAC,CAACuL,MAAM,EAAE,OAAO,IAAI;EAC1B,QAAQ,IAAI,OAAOtL,CAAC,KAAKA,CAAC,GAAGA,CAAC,CAACgP,QAAQ,CAAC,CAAC,CAAC;EAC1C,IAAIzN,CAAC,GAAGvB,CAAC,CAACya,WAAW,CAAC,CAAC;IAAEpQ,CAAC,GAAGvK,UAAU,CAACkS,OAAO,CAACk9B,eAAe,CAAC3tC,CAAC,EAAExB,CAAC,CAAC;EACrE,IAAI,CAACsK,CAAC,CAACiB,MAAM,EAAE,OAAO,IAAI;EAC1B,KAAK,IAAIR,CAAC,GAAGvJ,CAAC,CAAC+J,MAAM,GAAG,GAAG,EAAEP,CAAC,GAAG,CAAC,EAAEE,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAGH,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,EAAEM,CAAC,GAAG,CAAC,EAAEE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGxL,CAAC,CAACuL,MAAM,EAAEC,CAAC,EAAE,EAAE,KAAK,IAAIC,CAAC,GAAGzL,CAAC,CAACwL,CAAC,CAAC,EAAEe,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGjC,CAAC,CAACiB,MAAM,EAAEgB,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,IAAId,CAAC,CAAC8J,OAAO,CAACjL,CAAC,CAACiC,CAAC,CAAC,CAAC6iC,YAAY,CAAC,EAAE;IAClL9jC,CAAC,EAAE;IACH;EACJ;EACA,IAAImB,CAAC,GAAG,GAAG,IAAIzM,CAAC,CAACuL,MAAM,GAAGD,CAAC,CAAC;EAC5B,IAAIhB,CAAC,CAACiB,MAAM,EAAE;IACVL,CAAC,GAAGZ,CAAC,CAAC,CAAC,CAAC,CAAC+kC,KAAK;IACd,KAAK9iC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGjC,CAAC,CAACiB,MAAM,EAAEgB,CAAC,EAAE,EAAE,IAAIvB,CAAC,IAAIV,CAAC,CAACiC,CAAC,CAAC,CAAChB,MAAM,EAAEjB,CAAC,CAACiC,CAAC,CAAC,CAAC8iC,KAAK,GAAGnkC,CAAC,KAAKA,CAAC,GAAGZ,CAAC,CAACiC,CAAC,CAAC,CAAC8iC,KAAK,CAAC,EAAE9iC,CAAC,IAAI,CAAC,IAAIjC,CAAC,CAACiC,CAAC,GAAG,CAAC,CAAC,CAAC8iC,KAAK,GAAG/kC,CAAC,CAACiC,CAAC,CAAC,CAAC8iC,KAAK,EAAE;MAC5HlkC,CAAC,GAAG,CAAC;MACL;IACJ;EACJ;EACA,IAAIkC,CAAC,GAAG,CAAC;EACT,CAAC,IAAIrC,CAAC,KAAKqC,CAAC,GAAGrC,CAAC,GAAGD,CAAC,CAAC;EACrB,IAAIuC,CAAC,GAAGtC,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC;EACvB,CAAC,IAAIE,CAAC,KAAKoC,CAAC,GAAG,GAAG,GAAGpC,CAAC,GAAGH,CAAC,CAAC;EAC3B,IAAIkD,CAAC,GAAG,CAAC;EACT1M,CAAC,IAAIA,CAAC,CAACrB,CAAC,CAAC,KAAK+N,CAAC,GAAG1M,CAAC,CAACrB,CAAC,CAAC,CAAC,EAAEuM,CAAC,KAAKA,CAAC,GAAGA,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC,EAAEY,CAAC,GAAG,CAAC,KAAKA,CAAC,GAAGA,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC,EAAEC,CAAC,GAAG,CAAC,KAAKA,CAAC,GAAGA,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC,EAAEnC,CAAC,GAAG,CAAC,KAAKA,CAAC,GAAGA,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC,EAAE8C,CAAC,GAAG,CAAC,KAAKA,CAAC,GAAGA,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC;EACpK,IAAIC,CAAC,GAAGyF,IAAI,CAAC27B,KAAK,CAAC,GAAG,IAAI7iC,CAAC,GAAGY,CAAC,GAAGC,CAAC,GAAGnC,CAAC,GAAG8C,CAAC,CAAC,CAAC;EAC7C3D,CAAC,CAACgL,IAAI,CAAE,UAAUtV,CAAC,EAAEC,CAAC,EAAE;IACpB,OAAOD,CAAC,CAACqvC,KAAK,GAAGpvC,CAAC,CAACovC,KAAK,GAAG,CAAC,CAAC,GAAGrvC,CAAC,CAACqvC,KAAK,GAAGpvC,CAAC,CAACovC,KAAK,GAAG,CAAC,GAAG,CAAC;EAC7D,CAAE,CAAC;EACH,IAAIhhC,CAAC,GAAGpO,CAAC;EACT,KAAKsM,CAAC,GAAGjC,CAAC,CAACiB,MAAM,GAAG,CAAC,EAAEgB,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE8B,CAAC,GAAG,CAACA,CAAC,GAAGA,CAAC,CAACjC,MAAM,CAAC9B,CAAC,CAACiC,CAAC,CAAC,CAAC8iC,KAAK,GAAG/kC,CAAC,CAACiC,CAAC,CAAC,CAAChB,MAAM,EAAE,SAAS,CAAC,EAAEa,MAAM,CAAC9B,CAAC,CAACiC,CAAC,CAAC,CAAC8iC,KAAK,EAAE,QAAQ,CAAC;EACxH,OAAO;IAACzP,aAAa,EAAEvxB,CAAC;IAAE4gC,OAAO,EAAE/gC;EAAC,CAAC;AACzC,CAAC,EAACnO,UAAU,CAACkS,OAAO,CAACk9B,eAAe,GAAG,UAAUnvC,CAAC,EAAEC,CAAC,EAAE;EACnD,IAAIC,CAAC,GAAG,EAAE;EACV,IAAI,CAACH,UAAU,CAACgS,KAAK,CAAC/R,CAAC,CAAC,EAAE,KAAK,IAAIuB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGtB,CAAC,CAACsL,MAAM,EAAEhK,CAAC,EAAE,EAAE;IACzD,IAAIC,CAAC,GAAGvB,CAAC,CAACsB,CAAC,CAAC;IACZ,IAAI,CAACxB,UAAU,CAACgS,KAAK,CAACvQ,CAAC,CAAC,EAAE,KAAK,IAAI8I,CAAC,GAAG,CAAC,EAAE,CAACA,CAAC,GAAGtK,CAAC,CAACuV,OAAO,CAAC/T,CAAC,EAAE8I,CAAC,CAAC,IAAI,CAAC,CAAC,GAAGpK,CAAC,CAACkT,IAAI,CAAC;MAC1E7H,MAAM,EAAE/J,CAAC,CAAC+J,MAAM;MAChB8jC,KAAK,EAAE/kC,CAAC;MACR8kC,YAAY,EAAE5tC;IAClB,CAAC,CAAC,EAAE8I,CAAC,IAAI9I,CAAC,CAAC+J,MAAM;EACrB;EACA,OAAOrL,CAAC,CAACoV,IAAI,CAAE,UAAUtV,CAAC,EAAEC,CAAC,EAAE;IAC3B,OAAOD,CAAC,CAACuL,MAAM,GAAGtL,CAAC,CAACsL,MAAM,GAAG,CAAC,GAAGvL,CAAC,CAACuL,MAAM,GAAGtL,CAAC,CAACsL,MAAM,IAAIvL,CAAC,CAACqvC,KAAK,GAAGpvC,CAAC,CAACovC,KAAK,GAAG,CAAC,CAAC,GAAGrvC,CAAC,CAACqvC,KAAK,GAAGpvC,CAAC,CAACovC,KAAK,GAAG,CAAC,GAAG,CAAC;EAC9G,CAAE,CAAC,EAAEnvC,CAAC,GAAGA,CAAC,CAAC6uC,MAAM,CAAE,UAAU/uC,CAAC,EAAE;IAC5B,KAAK,IAAIC,CAAC,GAAG,CAAC,CAAC,EAAEsB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGrB,CAAC,CAACqL,MAAM,EAAEhK,CAAC,EAAE,EAAE;MACvC,IAAIC,CAAC,GAAGtB,CAAC,CAACqB,CAAC,CAAC,CAAC8tC,KAAK;QAAE/kC,CAAC,GAAGpK,CAAC,CAACqB,CAAC,CAAC,CAAC8tC,KAAK,GAAGnvC,CAAC,CAACqB,CAAC,CAAC,CAACgK,MAAM,GAAG,CAAC;QAAER,CAAC,GAAG/K,CAAC,CAACqvC,KAAK;QAAErkC,CAAC,GAAGhL,CAAC,CAACqvC,KAAK,GAAGrvC,CAAC,CAACuL,MAAM,GAAG,CAAC;MAC7F,IAAI/J,CAAC,IAAIuJ,CAAC,IAAIT,CAAC,IAAIU,CAAC,EAAE;QAClB/K,CAAC,GAAG,CAAC,CAAC;QACN;MACJ;MACA,IAAIuB,CAAC,IAAIuJ,CAAC,IAAIT,CAAC,IAAIU,CAAC,EAAE;QAClB/K,CAAC,GAAG,CAAC,CAAC;QACN;MACJ;MACA,IAAIuB,CAAC,IAAIuJ,CAAC,IAAIT,CAAC,IAAIU,CAAC,EAAE;QAClB/K,CAAC,GAAG,CAAC,CAAC;QACN;MACJ;IACJ;IACA,OAAO,CAACA,CAAC;EACb,CAAE,CAAC;AACP,CAAC,EAACF,UAAU,CAAC2E,MAAM,CAACsF,EAAE,CAAC,QAAQ,EAAG,UAAUhK,CAAC,EAAEC,CAAC,EAAE;EAC9C,IAAID,CAAC,CAACO,MAAM,CAAC6H,KAAK,EAAE;IAChB,IAAIlI,CAAC,GAAG,EAAE;MAAEqB,CAAC,GAAG,EAAE;IAClB,CAAC,SAASvB,CAACA,CAACC,CAAC,EAAE;MACX,IAAI4V,KAAK,CAACC,OAAO,CAAC7V,CAAC,CAAC,EAAE,KAAK,IAAIuB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGvB,CAAC,CAACsL,MAAM,EAAE/J,CAAC,EAAE,EAAExB,CAAC,CAACC,CAAC,CAACuB,CAAC,CAAC,CAAC,CAAC,KAAM;QACnE,CAAC,QAAQ,IAAI,OAAOvB,CAAC,CAAC0L,EAAE,IAAI,QAAQ,IAAI,OAAO1L,CAAC,CAAC0L,EAAE,IAAI,CAAC,CAAC,IAAI1L,CAAC,CAAC0L,EAAE,CAAC4J,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,IAAItV,CAAC,CAAC0L,EAAE,CAAC4J,OAAO,CAAC,QAAQ,CAAC,MAAMrV,CAAC,CAACkT,IAAI,CAACnT,CAAC,CAAC0L,EAAE,CAAC,EAAE,CAAC,IAAI1L,CAAC,CAACkG,GAAG,IAAI5E,CAAC,CAAC6R,IAAI,CAACnT,CAAC,CAAC0L,EAAE,CAAC,CAAC;QACjK,KAAKnK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGvB,CAAC,CAACo3B,UAAU,CAAC9rB,MAAM,EAAE/J,CAAC,EAAE,EAAExB,CAAC,CAACC,CAAC,CAACo3B,UAAU,CAAC71B,CAAC,CAAC,CAAC;QAC5D,KAAKA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGvB,CAAC,CAACwwB,QAAQ,CAACllB,MAAM,EAAE/J,CAAC,EAAE,EAAExB,CAAC,CAACC,CAAC,CAACwwB,QAAQ,CAACjvB,CAAC,CAAC,CAAC;MAC5D;IACJ,CAAC,CAACxB,CAAC,CAACmI,KAAK,CAAC,EAAEpI,UAAU,CAACqI,KAAK,CAACmnC,IAAI,CAACvvC,CAAC,CAACO,MAAM,CAAC4H,KAAK,EAAEnI,CAAC,CAACmK,KAAK,CAAC,CAAC,EAAEnK,CAAC,CAACoK,MAAM,CAAC,CAAC,EAAEpK,CAAC,CAACiD,QAAQ,CAACG,OAAO,EAAElD,CAAC,EAAEqB,CAAC,EAAEvB,CAAC,CAACiD,QAAQ,CAACuQ,SAAS,EAAExT,CAAC,CAACO,MAAM,CAAC6H,KAAK,CAAC;EAC5I;AACJ,CAAE,CAAC,EAACrI,UAAU,CAACqI,KAAK,GAAG,CAAC,CAAC,EAACrI,UAAU,CAACqI,KAAK,CAAConC,gBAAgB,GAAG,UAAUxvC,CAAC,EAAE;EACvE,OAAO;IACHyvC,UAAU,EAAEzvC,CAAC,GAAG,QAAQ;IACxB0vC,MAAM,EAAE1vC,CAAC,GAAG,IAAI;IAChB2vC,MAAM,EAAE3vC,CAAC,GAAG,IAAI;IAChB4vC,QAAQ,EAAE5vC,CAAC,GAAG,MAAM;IACpB6vC,QAAQ,EAAE7vC,CAAC,GAAG,MAAM;IACpB8vC,UAAU,EAAE9vC,CAAC,GAAG,QAAQ;IACxB+vC,cAAc,EAAE/vC,CAAC,GAAG;EACxB,CAAC;AACL,CAAC,EAACD,UAAU,CAACqI,KAAK,CAACmnC,IAAI,GAAG,UAAUvvC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAES,CAAC,EAAEC,CAAC,EAAE;EACxD,IAAIA,CAAC,IAAI,CAACjL,UAAU,CAACgS,KAAK,CAACvQ,CAAC,CAAC,IAAI,CAAC,IAAIA,CAAC,CAAC+J,MAAM,EAAE;IAC5C,IAAIL,CAAC,GAAGnL,UAAU,CAACqI,KAAK,CAAConC,gBAAgB,CAACxkC,CAAC,CAAC+a,IAAI,CAAC;MAC7C5a,CAAC,GAAG;QAAChD,KAAK,EAAEnI,CAAC;QAAEkD,KAAK,EAAEyQ,IAAI,CAACxN,GAAG,CAAClG,CAAC,GAAGsB,CAAC,CAAC,CAAC,CAAC,EAAErB,CAAC,GAAGqB,CAAC,CAAC,CAAC,CAAC,CAAC;QAAEqO,CAAC,EAAErO,CAAC,CAAC,CAAC,CAAC;QAAE+L,CAAC,EAAE/L,CAAC,CAAC,CAAC,CAAC;QAAE+R,GAAG,EAAE9R,CAAC;QAAE2E,GAAG,EAAEmE,CAAC;QAAEkJ,SAAS,EAAEzI;MAAC,CAAC;IACvG,IAAIC,CAAC,CAACglC,gBAAgB,EAAE;MACpB,IAAI1kC,CAAC,GAAG,IAAImI,eAAe,CAACoB,MAAM,CAACoV,QAAQ,CAACnY,MAAM,CAAC;MACnDxG,CAAC,CAACmO,GAAG,CAACvO,CAAC,CAACukC,UAAU,CAAC,GAAGnkC,CAAC,CAAC2kC,GAAG,CAAC/kC,CAAC,CAACukC,UAAU,EAAEtkC,CAAC,CAACjI,KAAK,CAAC,GAAGoI,CAAC,CAAC2qB,MAAM,CAAC/qB,CAAC,CAACukC,UAAU,EAAEtkC,CAAC,CAACjI,KAAK,CAAC,EAAEoI,CAAC,CAACmO,GAAG,CAACvO,CAAC,CAACwkC,MAAM,CAAC,GAAGpkC,CAAC,CAAC2kC,GAAG,CAAC/kC,CAAC,CAACwkC,MAAM,EAAEvkC,CAAC,CAACyE,CAAC,CAAC,GAAGtE,CAAC,CAAC2qB,MAAM,CAAC/qB,CAAC,CAACwkC,MAAM,EAAEvkC,CAAC,CAACyE,CAAC,CAAC,EAAEtE,CAAC,CAACmO,GAAG,CAACvO,CAAC,CAACykC,MAAM,CAAC,GAAGrkC,CAAC,CAAC2kC,GAAG,CAAC/kC,CAAC,CAACykC,MAAM,EAAExkC,CAAC,CAACmC,CAAC,CAAC,GAAGhC,CAAC,CAAC2qB,MAAM,CAAC/qB,CAAC,CAACykC,MAAM,EAAExkC,CAAC,CAACmC,CAAC,CAAC,EAAEhC,CAAC,CAACmO,GAAG,CAACvO,CAAC,CAAC0kC,QAAQ,CAAC,GAAGtkC,CAAC,CAAC2kC,GAAG,CAAC/kC,CAAC,CAAC0kC,QAAQ,EAAEzkC,CAAC,CAACmI,GAAG,CAACC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAGjI,CAAC,CAAC2qB,MAAM,CAAC/qB,CAAC,CAAC0kC,QAAQ,EAAEzkC,CAAC,CAACmI,GAAG,CAACC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAEjI,CAAC,CAACmO,GAAG,CAACvO,CAAC,CAAC4kC,UAAU,CAAC,IAAIj6B,KAAK,CAACC,OAAO,CAAC3K,CAAC,CAAChD,KAAK,CAAC,GAAGmD,CAAC,CAAC2kC,GAAG,CAAC/kC,CAAC,CAAC4kC,UAAU,EAAE3kC,CAAC,CAAChD,KAAK,CAACoL,IAAI,CAAC,GAAG,CAAC,CAAC,GAAGsC,KAAK,CAACC,OAAO,CAAC3K,CAAC,CAAChD,KAAK,CAAC,IAAImD,CAAC,CAAC2qB,MAAM,CAAC/qB,CAAC,CAAC4kC,UAAU,EAAE3kC,CAAC,CAAChD,KAAK,CAACoL,IAAI,CAAC,GAAG,CAAC,CAAC,EAAEjI,CAAC,CAACmO,GAAG,CAACvO,CAAC,CAAC2kC,QAAQ,CAAC,GAAGvkC,CAAC,CAAC2kC,GAAG,CAAC/kC,CAAC,CAAC2kC,QAAQ,EAAE1kC,CAAC,CAAChF,GAAG,CAACoN,IAAI,CAAC,GAAG,CAAC,CAAC,GAAGjI,CAAC,CAAC2qB,MAAM,CAAC/qB,CAAC,CAAC2kC,QAAQ,EAAE1kC,CAAC,CAAChF,GAAG,CAACoN,IAAI,CAAC,GAAG,CAAC,CAAC,EAAEjI,CAAC,CAACmO,GAAG,CAACvO,CAAC,CAAC6kC,cAAc,CAAC,GAAGzkC,CAAC,CAAC2kC,GAAG,CAAC/kC,CAAC,CAAC6kC,cAAc,EAAE5kC,CAAC,CAACqI,SAAS,CAAC5D,CAAC,GAAG,GAAG,GAAGzE,CAAC,CAACqI,SAAS,CAAClG,CAAC,CAAC,GAAGhC,CAAC,CAAC2qB,MAAM,CAAC/qB,CAAC,CAAC6kC,cAAc,EAAE5kC,CAAC,CAACqI,SAAS,CAAC5D,CAAC,GAAG,GAAG,GAAGzE,CAAC,CAACqI,SAAS,CAAClG,CAAC,CAAC,EAAEuH,MAAM,CAACq7B,OAAO,CAACC,YAAY,CAAC,IAAI,EAAE,IAAI,EAAE,GAAG,GAAG7kC,CAAC,CAAC;IACtwB;IACAN,CAAC,CAAColC,gBAAgB,KAAKjlC,CAAC,CAACQ,EAAE,GAAGX,CAAC,CAAC+a,IAAI,EAAEhmB,UAAU,CAACupB,GAAG,CAACuB,GAAG,CAAC1f,CAAC,EAAG,UAAUnL,CAAC,EAAE;MACtE,CAAC,IAAIA,CAAC,IAAIwO,OAAO,CAACC,KAAK,CAAC,qBAAqB,GAAGzD,CAAC,CAAC+a,IAAI,CAAC;IAC3D,CAAE,CAAC,CAAC,EAAE/a,CAAC,CAACqlC,mBAAmB,IAAItwC,UAAU,CAACkW,YAAY,CAACS,OAAO,CAAC1L,CAAC,CAAC+a,IAAI,EAAEnN,IAAI,CAACE,SAAS,CAAC3N,CAAC,CAAC,CAAC;EAC7F;AACJ,CAAC,EAACpL,UAAU,CAACqI,KAAK,CAACsD,IAAI,GAAG,UAAU1L,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;EAC5C,IAAIvB,CAAC,EAAE;IACH,IAAIwB,CAAC,GAAGzB,UAAU,CAACqI,KAAK,CAAConC,gBAAgB,CAACxvC,CAAC,CAAC+lB,IAAI,CAAC;IACjD,IAAI/lB,CAAC,CAACswC,iBAAiB,EAAE;MACrB,IAAIhmC,CAAC,GAAG,IAAImJ,eAAe,CAACoB,MAAM,CAACoV,QAAQ,CAACnY,MAAM,CAAC;MACnD,IAAIxH,CAAC,CAACmP,GAAG,CAACjY,CAAC,CAACiuC,UAAU,CAAC,IAAInlC,CAAC,CAACmP,GAAG,CAACjY,CAAC,CAACkuC,MAAM,CAAC,IAAIplC,CAAC,CAACmP,GAAG,CAACjY,CAAC,CAACmuC,MAAM,CAAC,IAAIrlC,CAAC,CAACmP,GAAG,CAACjY,CAAC,CAACouC,QAAQ,CAAC,IAAItlC,CAAC,CAACmP,GAAG,CAACjY,CAAC,CAACquC,QAAQ,CAAC,IAAIvlC,CAAC,CAACmP,GAAG,CAACjY,CAAC,CAACuuC,cAAc,CAAC,EAAE;QAChI,IAAIhlC,CAAC,GAAG,CAAC,CAAC;UAAEC,CAAC,GAAGmlB,UAAU,CAAC7lB,CAAC,CAAC+M,GAAG,CAAC7V,CAAC,CAACiuC,UAAU,CAAC,CAAC;UAAEvkC,CAAC,GAAGilB,UAAU,CAAC7lB,CAAC,CAAC+M,GAAG,CAAC7V,CAAC,CAACkuC,MAAM,CAAC,CAAC;UAC5EvkC,CAAC,GAAGglB,UAAU,CAAC7lB,CAAC,CAAC+M,GAAG,CAAC7V,CAAC,CAACmuC,MAAM,CAAC,CAAC;QACnC,CAACnkC,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,GAAGN,CAAC,EAAEM,CAAC,CAAC,CAAC,CAAC,GAAGL,CAAC,EAAEK,CAAC,CAAC,CAAC,CAAC,GAAGvL,CAAC,GAAG+K,CAAC,EAAEQ,CAAC,CAAC,CAAC,CAAC,GAAGtL,CAAC,GAAG8K,CAAC,EAAED,CAAC,CAAC0sB,EAAE,GAAGjsB,CAAC,EAAET,CAAC,CAAC7H,KAAK,GAAG8H,CAAC,EAAED,CAAC,CAAC6E,CAAC,GAAG1E,CAAC,EAAEH,CAAC,CAACuC,CAAC,GAAGnC,CAAC,EAAEJ,CAAC,CAAC5C,KAAK,GAAG,IAAI,EAAEmC,CAAC,CAACmP,GAAG,CAACjY,CAAC,CAACsuC,UAAU,CAAC,KAAK/kC,CAAC,CAAC5C,KAAK,GAAGmC,CAAC,CAAC+M,GAAG,CAAC7V,CAAC,CAACsuC,UAAU,CAAC,CAAC/jB,KAAK,CAAC,GAAG,CAAC,CAAC,EAAEhhB,CAAC,CAACuI,GAAG,GAAGhJ,CAAC,CAAC+M,GAAG,CAAC7V,CAAC,CAACouC,QAAQ,CAAC,CAAC7jB,KAAK,CAAC,GAAG,CAAC,EAAEhhB,CAAC,CAAC5E,GAAG,GAAGmE,CAAC,CAAC+M,GAAG,CAAC7V,CAAC,CAACquC,QAAQ,CAAC,CAAC9jB,KAAK,CAAC,GAAG,CAAC;QAC7P,IAAIzgB,CAAC,GAAGhB,CAAC,CAAC+M,GAAG,CAAC7V,CAAC,CAACuuC,cAAc,CAAC,CAAChkB,KAAK,CAAC,GAAG,CAAC;QAC1C,OAAOhhB,CAAC,CAACyI,SAAS,GAAG;UAAC5D,CAAC,EAAEugB,UAAU,CAAC7kB,CAAC,CAAC,CAAC,CAAC,CAAC;UAAEgC,CAAC,EAAE6iB,UAAU,CAAC7kB,CAAC,CAAC,CAAC,CAAC;QAAC,CAAC,EAAE,KAAK/J,CAAC,CAACwJ,CAAC,CAAC;MAC9E;MACA,IAAI,CAAC/K,CAAC,CAACuwC,iBAAiB,IAAI,CAACvwC,CAAC,CAACwwC,oBAAoB,EAAE,OAAO,KAAKjvC,CAAC,CAAC,IAAI,CAAC;IAC5E;IACA,IAAIvB,CAAC,CAACwwC,oBAAoB,EAAE;MACxB,IAAIhlC,CAAC;MACL,IAAI,IAAI,KAAKT,CAAC,GAAGhL,UAAU,CAACkW,YAAY,CAACC,OAAO,CAAClW,CAAC,CAAC+lB,IAAI,CAAC,CAAC,EAAE,OAAOhb,CAAC,GAAG6N,IAAI,CAACC,KAAK,CAAC9N,CAAC,CAAC,EAAE,CAACS,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,GAAGT,CAAC,CAAC6E,CAAC,EAAEpE,CAAC,CAAC,CAAC,CAAC,GAAGT,CAAC,CAACuC,CAAC,EAAE9B,CAAC,CAAC,CAAC,CAAC,GAAGvL,CAAC,GAAG8K,CAAC,CAAC7H,KAAK,EAAEsI,CAAC,CAAC,CAAC,CAAC,GAAGtL,CAAC,GAAG6K,CAAC,CAAC7H,KAAK,EAAE6H,CAAC,CAAC0sB,EAAE,GAAGjsB,CAAC,EAAE,KAAKjK,CAAC,CAACwJ,CAAC,CAAC;MAC/K,IAAI,CAAC/K,CAAC,CAACuwC,iBAAiB,EAAE,OAAO,KAAKhvC,CAAC,CAAC,IAAI,CAAC;IACjD;IACAvB,CAAC,CAACuwC,iBAAiB,IAAIxwC,UAAU,CAACupB,GAAG,CAAC/e,IAAI,CAACvK,CAAC,CAAC+lB,IAAI,EAAG,UAAUvkB,CAAC,EAAE8I,CAAC,EAAE;MAChE,IAAI,CAAC,IAAI9I,CAAC,EAAEgN,OAAO,CAACC,KAAK,CAAC,qBAAqB,GAAGzO,CAAC,CAAC+lB,IAAI,CAAC,EAAExkB,CAAC,CAAC,IAAI,CAAC,CAAC,KAAM,IAAI,IAAI,IAAIC,CAAC,EAAED,CAAC,CAAC,IAAI,CAAC,CAAC,KAAM;QAClG,IAAIwJ,CAAC,GAAG,EAAE;QACVA,CAAC,CAAC,CAAC,CAAC,GAAGT,CAAC,CAACsF,CAAC,EAAE7E,CAAC,CAAC,CAAC,CAAC,GAAGT,CAAC,CAACgD,CAAC,EAAEvC,CAAC,CAAC,CAAC,CAAC,GAAG9K,CAAC,GAAGqK,CAAC,CAACpH,KAAK,EAAE6H,CAAC,CAAC,CAAC,CAAC,GAAG7K,CAAC,GAAGoK,CAAC,CAACpH,KAAK,EAAEoH,CAAC,CAACmtB,EAAE,GAAG1sB,CAAC,EAAExJ,CAAC,CAAC+I,CAAC,CAAC;MAClF;IACJ,CAAE,CAAC;EACP,CAAC,MAAM/I,CAAC,CAAC,IAAI,CAAC;AAClB,CAAC,EAACxB,UAAU,CAACqI,KAAK,CAAC0O,KAAK,GAAG,UAAU9W,CAAC,EAAE;EACpC,IAAI,CAACA,CAAC,EAAE,OAAO,CAAC,CAAC;EACjB,IAAI;IACAiW,YAAY,CAACK,UAAU,CAACtW,CAAC,CAAC;IAC1B,IAAIC,CAAC,GAAGF,UAAU,CAACqI,KAAK,CAAConC,gBAAgB,CAACxvC,CAAC,CAAC;MAAEE,CAAC,GAAG,IAAIuT,eAAe,CAACoB,MAAM,CAACoV,QAAQ,CAACnY,MAAM,CAAC;IAC7F5R,CAAC,CAACuZ,GAAG,CAACxZ,CAAC,CAACwvC,UAAU,CAAC,IAAIvvC,CAAC,CAAC4qB,MAAM,CAAC7qB,CAAC,CAACwvC,UAAU,CAAC,EAAEvvC,CAAC,CAACuZ,GAAG,CAACxZ,CAAC,CAACyvC,MAAM,CAAC,IAAIxvC,CAAC,CAAC4qB,MAAM,CAAC7qB,CAAC,CAACyvC,MAAM,CAAC,EAAExvC,CAAC,CAACuZ,GAAG,CAACxZ,CAAC,CAAC0vC,MAAM,CAAC,IAAIzvC,CAAC,CAAC4qB,MAAM,CAAC7qB,CAAC,CAAC0vC,MAAM,CAAC,EAAEzvC,CAAC,CAACuZ,GAAG,CAACxZ,CAAC,CAAC2vC,QAAQ,CAAC,IAAI1vC,CAAC,CAAC4qB,MAAM,CAAC7qB,CAAC,CAAC2vC,QAAQ,CAAC,EAAE1vC,CAAC,CAACuZ,GAAG,CAACxZ,CAAC,CAAC6vC,UAAU,CAAC,IAAI5vC,CAAC,CAAC4qB,MAAM,CAAC7qB,CAAC,CAAC6vC,UAAU,CAAC,EAAE5vC,CAAC,CAACuZ,GAAG,CAACxZ,CAAC,CAAC4vC,QAAQ,CAAC,IAAI3vC,CAAC,CAAC4qB,MAAM,CAAC7qB,CAAC,CAAC4vC,QAAQ,CAAC,EAAE3vC,CAAC,CAACuZ,GAAG,CAACxZ,CAAC,CAAC8vC,cAAc,CAAC,IAAI7vC,CAAC,CAAC4qB,MAAM,CAAC7qB,CAAC,CAAC8vC,cAAc,CAAC,EAAEl7B,MAAM,CAACq7B,OAAO,CAACC,YAAY,CAAC,IAAI,EAAE,IAAI,EAAE,GAAG,GAAGjwC,CAAC,CAAC,EAAEH,UAAU,CAACupB,GAAG,CAACwB,MAAM,CAAC9qB,CAAC,EAAG,UAAUC,CAAC,EAAE;MAC9Y,CAAC,IAAIA,CAAC,IAAIuO,OAAO,CAACC,KAAK,CAAC,sBAAsB,GAAGzO,CAAC,CAAC;IACvD,CAAE,CAAC;EACP,CAAC,CAAC,MAAM,CACR;AACJ,CAAC,EAACD,UAAU,CAAC0wC,QAAQ,GAAG,CAAC,CAAC,EAAC1wC,UAAU,CAAC2J,SAAS,CAACgnC,OAAO,GAAG,UAAU1wC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;EAC/ED,CAAC,KAAKA,CAAC,GAAG,IAAI,CAAChB,MAAM,CAACsH,IAAI,CAAC;EAC3B,IAAIyC,CAAC,GAAG,IAAI,CAAC8E,OAAO,CAACpP,CAAC,CAAC;IAAE+K,CAAC,GAAG,IAAI,CAACyC,cAAc,CAACxN,CAAC,CAAC;EACnD,IAAIsK,CAAC,IAAIS,CAAC,EAAE;IACR,IAAIC,CAAC,GAAGjL,UAAU,CAAC0wC,QAAQ,CAACzwC,CAAC,CAAC;IAC9B,IAAIgL,CAAC,KAAK,IAAI,IAAIA,CAAC,CAAC2lC,KAAK,IAAI11B,aAAa,CAACjQ,CAAC,CAAC2lC,KAAK,CAAC,EAAE,IAAI,IAAI3lC,CAAC,CAAC4lC,SAAS,IAAI31B,aAAa,CAACjQ,CAAC,CAAC4lC,SAAS,CAAC,EAAE7lC,CAAC,CAACiE,YAAY,CAAC,WAAW,EAAE,SAAS,GAAGhE,CAAC,CAAC6lC,cAAc,CAAC5hC,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC,EAAElP,UAAU,CAAC0wC,QAAQ,CAACzwC,CAAC,CAAC,GAAG,IAAI,CAAC,EAAEE,CAAC,EAAE6K,CAAC,GAAGA,CAAC,CAAC2xB,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAClwB,MAAM,CAAC,CAAC,CAACuD,WAAW,CAAChF,CAAC,CAAC;IACxQ,IAAIG,CAAC,GAAGnL,UAAU,CAAC0oB,aAAa,CAAC1d,CAAC,CAAC;MAAEI,CAAC,GAAGyN,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAAC5N,CAAC,CAAC,CAAC;IACtEC,CAAC,CAAC,CAAC,CAAC,GAAGlL,CAAC,EAAEkL,CAAC,CAAC,CAAC,CAAC,GAAGlL,CAAC;IAClB,IAAIqL,CAAC,GAAGhB,CAAC,CAAC+E,CAAC,GAAG/E,CAAC,CAAC+E,CAAC,IAAIpP,CAAC,GAAG,CAAC,CAAC;MAAEuL,CAAC,GAAGlB,CAAC,CAACiC,CAAC,GAAGjC,CAAC,CAACiC,CAAC,IAAItM,CAAC,GAAG,CAAC,CAAC;IACpDkL,CAAC,CAAC,CAAC,CAAC,IAAI,CAACb,CAAC,CAAC+E,CAAC,GAAG/D,CAAC,IAAI,CAAC,EAAEH,CAAC,CAAC,CAAC,CAAC,IAAI,CAACb,CAAC,CAACiC,CAAC,GAAGf,CAAC,IAAI,CAAC;IAC5C,IAAIC,CAAC,GAAG1L,UAAU,CAAC0N,OAAO,CAAC1C,CAAC,EAAE;MAAC6P,SAAS,EAAE1P;IAAC,CAAC,EAAE;MAAC0P,SAAS,EAAEzP;IAAC,CAAC,EAAE5J,CAAC,CAACyG,QAAQ,EAAEzG,CAAC,CAACuG,IAAI,CAAC;IACjF/H,UAAU,CAAC0wC,QAAQ,CAACzwC,CAAC,CAAC,GAAG;MAAC2wC,KAAK,EAAEllC,CAAC;MAAEolC,cAAc,EAAE3lC,CAAC;MAAE4lC,WAAW,EAAE/lC,CAAC;MAAEgmC,KAAK,EAAE7wC;IAAC,CAAC,EAAEsB,CAAC,IAAIA,CAAC,CAACuJ,CAAC,CAAC;EAC/F;AACJ,CAAC,EAAChL,UAAU,CAAC2J,SAAS,CAACsnC,WAAW,GAAG,UAAUhxC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACpDD,CAAC,KAAKA,CAAC,GAAG,IAAI,CAACM,MAAM,CAACsH,IAAI,CAAC;EAC3B,IAAItG,CAAC,GAAGxB,UAAU,CAAC0wC,QAAQ,CAACzwC,CAAC,CAAC;EAC9B,IAAIuB,CAAC,EAAE;IACH,IAAI,IAAIA,CAAC,CAACovC,KAAK,IAAI11B,aAAa,CAAC1Z,CAAC,CAACovC,KAAK,CAAC,EAAE,IAAI,IAAIpvC,CAAC,CAACqvC,SAAS,IAAI31B,aAAa,CAAC1Z,CAAC,CAACqvC,SAAS,CAAC;IAC5F,IAAIpvC,CAAC,GAAGzB,UAAU,CAAC0oB,aAAa,CAAClnB,CAAC,CAACuvC,WAAW,CAAC;IAC/CvvC,CAAC,CAACqvC,SAAS,GAAG7wC,UAAU,CAAC0N,OAAO,CAAClM,CAAC,CAACuvC,WAAW,EAAE;MAACl2B,SAAS,EAAEpZ;IAAC,CAAC,EAAE;MAACoZ,SAAS,EAAErZ,CAAC,CAACsvC;IAAc,CAAC,EAAE5wC,CAAC,CAAC+H,QAAQ,EAAE/H,CAAC,CAAC6H,IAAI,EAAG,UAAU9H,CAAC,EAAE;MAC7H,IAAIC,CAAC,GAAGD,CAAC,CAAC,CAAC,CAAC,CAAC2a,YAAY,CAAC5a,UAAU,CAAC2Q,IAAI,CAAC0N,OAAO,CAAC;MAClDre,UAAU,CAAC0wC,QAAQ,CAACxwC,CAAC,CAAC,IAAIF,UAAU,CAAC0wC,QAAQ,CAACxwC,CAAC,CAAC,CAAC8wC,KAAK,KAAK/wC,CAAC,CAAC,CAAC,CAAC,CAAC0M,UAAU,CAACC,WAAW,CAAC3M,CAAC,CAAC,CAAC,CAAC,CAAC,EAAED,UAAU,CAAC0wC,QAAQ,CAACxwC,CAAC,CAAC,GAAG,IAAI,CAAC,EAAEC,CAAC,IAAIA,CAAC,CAACF,CAAC,CAAC,CAAC,CAAC,CAAC;IAC9I,CAAE,CAAC;EACP;AACJ,CAAC,EAAC,KAAK,CAAC,KAAKD,UAAU,KAAKA,UAAU,GAAG,CAAC,CAAC,CAAC,EAACA,UAAU,CAAC2E,MAAM,CAACsF,EAAE,CAAC,MAAM,EAAG,UAAUhK,CAAC,EAAEC,CAAC,EAAE;EACvF,IAAID,CAAC,CAACO,MAAM,CAAC+E,aAAa,KAAKtF,CAAC,CAACuc,SAAS,CAAC1H,MAAM,EAAE,SAAS,EAAE7U,CAAC,CAACixC,qBAAqB,CAAC,EAAElxC,UAAU,CAACgS,KAAK,CAAC/R,CAAC,CAACkxC,0BAA0B,CAAC,IAAIlxC,CAAC,CAACmI,KAAK,IAAInI,CAAC,CAACmI,KAAK,CAACoD,MAAM,CAAC,EAAE;IAClK,IAAIrL,CAAC,GAAGF,CAAC,CAACmI,KAAK,CAAC,CAAC,CAAC,CAACwD,EAAE;IACrB5L,UAAU,CAACgS,KAAK,CAAC/R,CAAC,CAACO,MAAM,CAAC+E,aAAa,CAACuf,OAAO,CAAC,KAAK3kB,CAAC,GAAGF,CAAC,CAACO,MAAM,CAAC+E,aAAa,CAACuf,OAAO,CAAC,EAAE7kB,CAAC,CAACkxC,0BAA0B,GAAGhxC,CAAC,EAAEF,CAAC,CAACiQ,MAAM,CAACjQ,CAAC,CAACkxC,0BAA0B,CAAC;EACtK;AACJ,CAAE,CAAC,EAACnxC,UAAU,CAAC2J,SAAS,CAACunC,qBAAqB,GAAG,UAAUjxC,CAAC,EAAEC,CAAC,EAAE;EAC7D,KAAK,IAAIC,CAAC,GAAGD,CAAC,CAACia,MAAM,EAAE3Y,CAAC,GAAG,IAAI,EAAErB,CAAC,IAAIA,CAAC,IAAI,IAAI,CAACI,OAAO,GAAG;IACtD,IAAIJ,CAAC,CAAC2a,YAAY,IAAI3a,CAAC,CAAC2a,YAAY,CAAC9a,UAAU,CAAC2Q,IAAI,CAAC0N,OAAO,CAAC,EAAE;MAC3D7c,CAAC,GAAGrB,CAAC,CAACya,YAAY,CAAC5a,UAAU,CAAC2Q,IAAI,CAAC0N,OAAO,CAAC;MAC3C;IACJ;IACAle,CAAC,GAAGA,CAAC,CAACwM,UAAU;EACpB;EACA,IAAIxM,CAAC,EAAE;IACH,IAAIsB,CAAC,GAAGD,CAAC,GAAG,IAAI,CAAC6N,OAAO,CAAC7N,CAAC,CAAC,GAAG,IAAI;MAAE+I,CAAC,GAAG;QAACyB,IAAI,EAAEvK,CAAC;QAAEwjB,IAAI,EAAEzjB,CAAC,GAAG,IAAI,CAAC8V,GAAG,CAAC9V,CAAC,CAAC,GAAG,IAAI;QAAEic,KAAK,EAAEvd;MAAC,CAAC;IACzF,IAAI,CAAC,CAAC,KAAKF,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,UAAU,EAAE,CAAC,IAAI,EAAE2F,CAAC,CAAC,CAAC,IAAI9I,CAAC,EAAE,IAAI,MAAM,IAAIvB,CAAC,CAAC0W,IAAI,EAAE,IAAI,CAACxU,QAAQ,CAACo9B,IAAI,CAAC,EAAE,CAAC,CAAC,KAAM,IAAI,YAAY,IAAIt/B,CAAC,CAAC0W,IAAI,IAAInV,CAAC,CAACyV,WAAW,IAAI,WAAW,IAAIhX,CAAC,CAAC0W,IAAI,IAAInV,CAAC,CAACgU,SAAS,IAAI,WAAW,IAAIvV,CAAC,CAAC0W,IAAI,EAAE;MAC/N,IAAIzL,CAAC,GAAG,IAAI,CAACkE,OAAO,CAAC5N,CAAC,CAACkT,GAAG,CAAC,EAAE;QACzB,IAAI3J,CAAC,GAAGG,CAAC,CAACgI,WAAW,CAACqC,OAAO,CAAC/T,CAAC,CAACmK,EAAE,CAAC;QACnC,IAAI,EAAEZ,CAAC,GAAGG,CAAC,CAACgI,WAAW,CAAC3H,MAAM,EAAE;UAC5B,IAAIP,CAAC,GAAGE,CAAC,CAACgI,WAAW,CAACnI,CAAC,CAAC;UACxB,IAAI,CAACmmC,0BAA0B,GAAGlmC,CAAC,EAAE,IAAI,CAACiF,MAAM,CAACjF,CAAC,CAAC;QACvD;MACJ;IACJ,CAAC,MAAM,IAAI,WAAW,IAAI/K,CAAC,CAAC0W,IAAI,EAAE;MAC9B,IAAIzL,CAAC,GAAG,IAAI,CAACkE,OAAO,CAAC5N,CAAC,CAACkT,GAAG,CAAC,EAAE;QACzB3J,CAAC,GAAGG,CAAC,CAACgI,WAAW,CAACqC,OAAO,CAAC/T,CAAC,CAACmK,EAAE,CAAC;QAC/B,IAAI,EAAEZ,CAAC,IAAI,CAAC,EAAE;UACVC,CAAC,GAAGE,CAAC,CAACgI,WAAW,CAACnI,CAAC,CAAC;UACpB,IAAI,CAACmmC,0BAA0B,GAAGlmC,CAAC,EAAE,IAAI,CAACiF,MAAM,CAACjF,CAAC,CAAC;QACvD;MACJ;IACJ,CAAC,MAAM,IAAI,SAAS,IAAI/K,CAAC,CAAC0W,IAAI,EAAE;MAC5B,IAAIzL,CAAC;MACL,IAAIA,CAAC,GAAG,IAAI,CAACkE,OAAO,CAAC5N,CAAC,CAACkT,GAAG,CAAC,EAAE;QACzB1J,CAAC,GAAGE,CAAC,CAACS,EAAE;QACR,IAAInK,CAAC,CAACyV,WAAW,IAAI/L,CAAC,CAACgM,aAAa,IAAI1V,CAAC,CAACgU,SAAS,IAAItK,CAAC,CAAC8L,WAAW,EAAE;UAClEjM,CAAC,GAAGG,CAAC,CAACgI,WAAW,CAACqC,OAAO,CAAC/T,CAAC,CAACmK,EAAE,CAAC;UAC/B,EAAEZ,CAAC,IAAI,CAAC,KAAKC,CAAC,GAAGE,CAAC,CAACgI,WAAW,CAACnI,CAAC,CAAC,CAAC;QACtC;QACA,IAAI,CAACmmC,0BAA0B,GAAGlmC,CAAC,EAAE,IAAI,CAACiF,MAAM,CAACjF,CAAC,CAAC;MACvD;IACJ,CAAC,MAAM,IAAI,WAAW,IAAI/K,CAAC,CAAC0W,IAAI,EAAEnV,CAAC,CAAC0R,WAAW,CAAC3H,MAAM,KAAK,IAAI,CAAC2lC,0BAA0B,GAAG1vC,CAAC,CAAC0R,WAAW,CAAC,CAAC,CAAC,EAAE,IAAI,CAACjD,MAAM,CAACzO,CAAC,CAAC0R,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAM,IAAI,OAAO,IAAIjT,CAAC,CAAC0W,IAAI,EAAE;MACvK,IAAIxL,CAAC,GAAGjL,CAAC,CAACya,YAAY,CAAC5a,UAAU,CAAC2Q,IAAI,CAAC0N,OAAO,CAAC;MAC/C,OAAO,KAAK,IAAI,CAAC6f,oBAAoB,CAAC9yB,CAAC,EAAElL,CAAC,CAAC;IAC/C;EACJ;AACJ,CAAC,EAACF,UAAU,CAAC2E,MAAM,CAACsF,EAAE,CAAC,QAAQ,EAAG,UAAUhK,CAAC,EAAEC,CAAC,EAAE;EAC9CD,CAAC,CAACO,MAAM,CAAC+E,aAAa,IAAIvF,UAAU,CAACoxC,cAAc,CAACnxC,CAAC,CAAC;AAC1D,CAAE,CAAC,EAACD,UAAU,CAAC2E,MAAM,CAACsF,EAAE,CAAC,OAAO,EAAG,UAAUhK,CAAC,EAAEC,CAAC,EAAE;EAC/CD,CAAC,CAACO,MAAM,IAAIP,CAAC,CAACO,MAAM,CAAC+E,aAAa,KAAKtF,CAAC,CAACkxC,0BAA0B,GAAGjxC,CAAC,CAAC8L,IAAI,CAACJ,EAAE,EAAE3L,CAAC,CAACiQ,MAAM,CAAChQ,CAAC,CAAC8L,IAAI,CAACJ,EAAE,CAAC,CAAC;AACzG,CAAE,CAAC,EAAC5L,UAAU,CAACoxC,cAAc,GAAG,UAAUnxC,CAAC,EAAE;EACzC,IAAIC,CAAC,GAAGD,CAAC,CAACM,OAAO,CAACD,aAAa,CAAC,QAAQ,CAAC;EACzC,IAAIJ,CAAC,IAAIA,CAAC,CAACopB,aAAa,IAAIppB,CAAC,CAACopB,aAAa,CAACxO,YAAY,CAAC9a,UAAU,CAAC2Q,IAAI,CAAC0N,OAAO,CAAC,EAAE;IAC/E,IAAIle,CAAC,GAAGD,CAAC,CAACopB,aAAa;IACvB,CAAC7nB,CAAC,GAAG,CAACD,CAAC,GAAGtB,CAAC,EAAEI,aAAa,CAAC,OAAO,CAAC,KAAKmB,CAAC,CAACkL,UAAU,CAACC,WAAW,CAACnL,CAAC,CAAC,EAAED,CAAC,CAAC89B,eAAe,CAAC,UAAU,CAAC;EACtG;EACA,IAAI,CAACt/B,UAAU,CAACgS,KAAK,CAAC/R,CAAC,CAACkxC,0BAA0B,CAAC,IAAK,CAAChxC,CAAC,GAAGF,CAAC,CAACwN,cAAc,CAACxN,CAAC,CAACkxC,0BAA0B,CAAC,KAAKhxC,CAAC,CAACuwB,QAAQ,CAACllB,MAAO,EAAE;IAChI,IAAIhK,CAAC;IACL,CAACA,CAAC,GAAGrB,CAAC,CAACuwB,QAAQ,CAAC,CAAC,CAAC,EAAEzhB,YAAY,CAAC,UAAU,EAAE,CAAC,CAAC;IAC/C,IAAIxN,CAAC;MAAE8I,CAAC,GAAG;QAACnB,IAAI,EAAE,EAAE;QAAEwC,EAAE,EAAE3L,CAAC,CAACkxC;MAA0B,CAAC;IACvD,IAAInxC,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,oBAAoB,EAAE,CAAC3E,CAAC,EAAEsK,CAAC,CAAC,CAAC,EAAE,CAACvK,UAAU,CAACgS,KAAK,CAACzH,CAAC,CAACnB,IAAI,CAAC,EAAE,CAAC3H,CAAC,GAAGpB,QAAQ,CAACoP,eAAe,CAAC,4BAA4B,EAAE,OAAO,CAAC,EAAExC,SAAS,GAAG1C,CAAC,CAACnB,IAAI,EAAE5H,CAAC,CAACwO,WAAW,CAACvO,CAAC,CAAC;IAClMzB,UAAU,CAAC0iB,6CAA6C,IAAIziB,CAAC,CAACmC,QAAQ,CAACuiB,IAAI,CAAC,CAAC,EAAEnjB,CAAC,CAACkkB,KAAK,CAAC,CAAC;EAC5F;AACJ,CAAC,EAAC1lB,UAAU,CAAC0J,QAAQ,GAAG,CAAC,CAAC,EAAC1J,UAAU,CAAC0J,QAAQ,CAACyb,OAAO,GAAG,UAAUllB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;EAC3E,IAAIC,CAAC,GAAGzB,UAAU,CAAC0J,QAAQ,CAAC2nC,MAAM,CAACpxC,CAAC,EAAEC,CAAC,EAAEsB,CAAC,CAAC;EAC3C,IAAIC,CAAC,CAAC6vC,WAAW,EAAE,OAAO;IAAC/rB,IAAI,EAAE;EAAE,CAAC;EACpC,IAAIhb,CAAC,GAAG,EAAE;EACV,OAAOrK,CAAC,CAAColB,GAAG,KAAK/a,CAAC,GAAI,sEAAqErK,CAAC,CAAColB,GAAI,MAAK,CAAC,EAAE;IACrGC,IAAI,EAAG,iDAAgDplB,CAAE,qEAAoEsB,CAAC,CAAC8vC,iBAAkB,IAAG9vC,CAAC,CAAC+vC,SAAU,0CAAyC/vC,CAAC,CAACmK,EAAG,KAAI5L,UAAU,CAACqnB,sBAAsB,CAAC5lB,CAAC,CAAC4jB,KAAK,CAAE,4CAA2C5jB,CAAC,CAACgwC,iBAAkB,kBAAiBzxC,UAAU,CAAC6lB,mBAAmB,CAACpkB,CAAC,CAACqkB,OAAO,CAAE,yBAAwBrkB,CAAC,CAACmK,EAAG,WAAUnK,CAAC,CAACmK,EAAG,wBAAuB5L,UAAU,CAAC6lB,mBAAmB,CAACpkB,CAAC,CAACmkB,KAAK,CAAE,kDAAiDrb,CAAE,sDAAqD;IAC1kBqB,EAAE,EAAEnK,CAAC,CAACmK,EAAE;IACRga,KAAK,EAAEnkB,CAAC,CAACmkB;EACb,CAAC;AACL,CAAC,EAAC5lB,UAAU,CAAC0J,QAAQ,CAACgoC,QAAQ,GAAG,UAAUzxC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;EACnD,IAAIC,CAAC,GAAGzB,UAAU,CAAC0J,QAAQ,CAAC2nC,MAAM,CAACpxC,CAAC,EAAEC,CAAC,EAAEsB,CAAC,CAAC;EAC3C,IAAIC,CAAC,CAAC6vC,WAAW,EAAE,OAAO;IAAC/rB,IAAI,EAAE;EAAE,CAAC;EACpC,IAAIhb,CAAC,GAAG9I,CAAC,CAACmkB,KAAK,GAAG,SAAS,GAAG,EAAE;IAAE5a,CAAC,GAAGxJ,CAAC,GAAG,yBAAyB,GAAG,EAAE;EACxE,OAAO;IACH+jB,IAAI,EAAG,kDAAiDplB,CAAE,+EAA8EsB,CAAC,CAAC8vC,iBAAkB,yCAAwChnC,CAAE,IAAGS,CAAE,kBAAiBhL,UAAU,CAAC6lB,mBAAmB,CAACpkB,CAAC,CAACqkB,OAAO,CAAE,iFAAgF9lB,UAAU,CAACqnB,sBAAsB,CAAC5lB,CAAC,CAAC4jB,KAAK,CAAE,gEAA+D;IAChczZ,EAAE,EAAEnK,CAAC,CAACmK,EAAE;IACRga,KAAK,EAAErb;EACX,CAAC;AACL,CAAC,EAACvK,UAAU,CAAC0J,QAAQ,CAACioC,MAAM,GAAG,UAAU1xC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;EACjD,IAAIA,CAAC,EAAE,OAAOxB,UAAU,CAAC0J,QAAQ,CAACyb,OAAO,CAACllB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,CAAC;EACrD,IAAIC,CAAC,GAAGzB,UAAU,CAAC0J,QAAQ,CAAC2nC,MAAM,CAACpxC,CAAC,EAAEC,CAAC,EAAEsB,CAAC,CAAC;EAC3C,OAAOC,CAAC,CAAC6vC,WAAW,GAAG;IAAC/rB,IAAI,EAAE;EAAE,CAAC,GAAG;IAChCA,IAAI,EAAG,iDAAgDplB,CAAE,qEAAoEsB,CAAC,CAAC8vC,iBAAkB,IAAG9vC,CAAC,CAAC+vC,SAAU,0CAAyC/vC,CAAC,CAACmK,EAAG,KAAI5L,UAAU,CAACqnB,sBAAsB,CAAC5lB,CAAC,CAAC4jB,KAAK,CAAE,2DAA0DrlB,UAAU,CAAC6lB,mBAAmB,CAACpkB,CAAC,CAACqkB,OAAO,CAAE,KAAIrkB,CAAC,CAACgwC,iBAAkB,QAAOhwC,CAAC,CAACmK,EAAG,WAAUnK,CAAC,CAACmK,EAAG,mCAAkC,YAAY;MAC9b,KAAK,IAAI3L,CAAC,GAAG,EAAE,EAAEC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGuB,CAAC,CAACqM,OAAO,CAACtC,MAAM,EAAEtL,CAAC,EAAE,EAAE;QAC/C,IAAIC,CAAC,GAAGsB,CAAC,CAACqM,OAAO,CAAC5N,CAAC,CAAC;QACpBD,CAAC,IAAK,WAAUE,CAAC,CAACylB,KAAK,IAAInkB,CAAC,CAACmkB,KAAK,GAAG,UAAU,GAAG,EAAG,WAAU5lB,UAAU,CAAC6lB,mBAAmB,CAAC1lB,CAAC,CAACylB,KAAK,CAAE,KAAI5lB,UAAU,CAACqnB,sBAAsB,CAAClnB,CAAC,CAACiJ,IAAI,CAAE,WAAU;MACnK;MACA,OAAOnJ,CAAC;IACZ,CAAC,CAAC,CAAE,oHAAmH;IACvH2L,EAAE,EAAEnK,CAAC,CAACmK,EAAE;IACRga,KAAK,EAAEnkB,CAAC,CAACmkB;EACb,CAAC;AACL,CAAC,EAAC5lB,UAAU,CAAC0J,QAAQ,CAACkoC,IAAI,GAAG,UAAU3xC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;EAC/C,IAAIC,CAAC,GAAGzB,UAAU,CAAC0J,QAAQ,CAAC2nC,MAAM,CAACpxC,CAAC,EAAEC,CAAC,EAAEsB,CAAC,CAAC;EAC3C,OAAOC,CAAC,CAAC6vC,WAAW,GAAG;IAAC/rB,IAAI,EAAE;EAAE,CAAC,GAAG;IAChCA,IAAI,EAAG,iDAAgDplB,CAAE,qEAAoEsB,CAAC,CAAC8vC,iBAAkB,IAAG9vC,CAAC,CAAC+vC,SAAU,0CAAyC/vC,CAAC,CAACmK,EAAG,oBAAmB5L,UAAU,CAACqnB,sBAAsB,CAAC5lB,CAAC,CAAC4jB,KAAK,CAAE,0DAAyDrlB,UAAU,CAAC6lB,mBAAmB,CAACpkB,CAAC,CAACqkB,OAAO,CAAE,KAAIrkB,CAAC,CAACgwC,iBAAkB,wBAAuBhwC,CAAC,CAACmK,EAAG,WAAUnK,CAAC,CAACmK,EAAG,wBAAuB5L,UAAU,CAAC6lB,mBAAmB,CAACpkB,CAAC,CAACmkB,KAAK,CAAE,2EAA0E;IAC3jBha,EAAE,EAAEnK,CAAC,CAACmK,EAAE;IACRga,KAAK,EAAEnkB,CAAC,CAACmkB;EACb,CAAC;AACL,CAAC,EAAC5lB,UAAU,CAAC0J,QAAQ,CAAC2nC,MAAM,GAAG,UAAUpxC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EAC9C,IAAIqB,CAAC,GAAG,CAAC,CAAC;EACV,IAAItB,CAAC,CAAC4lB,OAAO,KAAK5lB,CAAC,CAAC4lB,OAAO,GAAG,EAAE,CAAC,EAAE5lB,CAAC,CAACmlB,KAAK,KAAKnlB,CAAC,CAACmlB,KAAK,GAAG,EAAE,CAAC,EAAE,QAAQ,IAAInlB,CAAC,CAACklB,IAAI,IAAItP,KAAK,CAACC,OAAO,CAAC7V,CAAC,CAAC4N,OAAO,CAAC,GAAGtM,CAAC,CAACsM,OAAO,GAAG5N,CAAC,CAAC4N,OAAO,GAAGtM,CAAC,CAACsM,OAAO,GAAG,EAAE,EAAEtM,CAAC,CAACokB,KAAK,GAAG3lB,CAAC,IAAI,CAACD,UAAU,CAACgS,KAAK,CAAC/R,CAAC,CAACC,CAAC,CAAC4lB,OAAO,CAAC,CAAC,GAAG7lB,CAAC,CAACC,CAAC,CAAC4lB,OAAO,CAAC,GAAG,EAAE,EAAE3lB,CAAC,IAAIqB,CAAC,CAACsM,OAAO,EAAE,KAAK,IAAIrM,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,CAAC,CAACsM,OAAO,CAACtC,MAAM,EAAE/J,CAAC,EAAE,EAAE,IAAID,CAAC,CAACsM,OAAO,CAACrM,CAAC,CAAC,CAACmkB,KAAK,IAAIpkB,CAAC,CAACokB,KAAK,EAAE;IACrTpkB,CAAC,CAACokB,KAAK,GAAGpkB,CAAC,CAACsM,OAAO,CAACrM,CAAC,CAAC,CAAC2H,IAAI;IAC3B;EACJ;EACA,IAAI5H,CAAC,CAACoK,EAAE,GAAG5L,UAAU,CAAC0J,QAAQ,CAACiK,UAAU,CAAC,CAAC,EAAEnS,CAAC,CAAC+vC,iBAAiB,GAAGpxC,CAAC,GAAG,yBAAyB,GAAG,EAAE,EAAEqB,CAAC,CAACiwC,iBAAiB,GAAGtxC,CAAC,GAAG,UAAU,GAAG,EAAE,EAAEqB,CAAC,CAACoK,EAAE,GAAGpK,CAAC,CAACoK,EAAE,EAAEzL,CAAC,IAAIH,UAAU,CAACgS,KAAK,CAACxQ,CAAC,CAACokB,KAAK,CAAC,KAAKpkB,CAAC,CAAC8vC,WAAW,GAAG,CAAC,CAAC,CAAC,EAAEnxC,CAAC,IAAI,OAAO,IAAID,CAAC,CAAC4lB,OAAO,KAAKtkB,CAAC,CAACoK,EAAE,GAAG,IAAI,EAAEpK,CAAC,CAAC8vC,WAAW,GAAG,CAAC,CAAC,CAAC,EAAE9vC,CAAC,CAACskB,OAAO,GAAG5lB,CAAC,CAAC4lB,OAAO,EAAEtkB,CAAC,CAAC6jB,KAAK,GAAGnlB,CAAC,CAACmlB,KAAK,EAAE7jB,CAAC,CAACgwC,SAAS,GAAG,EAAE,EAAEtxC,CAAC,CAACsxC,SAAS,EAAE,KAAK,IAAIjnC,CAAC,IAAIrK,CAAC,CAACsxC,SAAS,EAAEhwC,CAAC,CAACgwC,SAAS,IAAK,UAASjnC,CAAE,KAAIrK,CAAC,CAACsxC,SAAS,CAACjnC,CAAC,CAAE,IAAG;EAC5a,OAAO/I,CAAC;AACZ,CAAC,EAACxB,UAAU,CAAC0J,QAAQ,CAACowB,GAAG,GAAG,EAAE,EAAC95B,UAAU,CAAC0J,QAAQ,CAACiK,UAAU,GAAG,YAAY;EACxE,SAAU;IACN,IAAI1T,CAAC,GAAG,GAAG,GAAG,CAAC,MAAM,GAAG,CAAC2T,IAAI,CAACC,MAAM,CAAC,CAAC,GAAGD,IAAI,CAACE,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,EAAE5E,QAAQ,CAAC,EAAE,CAAC,EAAEE,KAAK,CAAC,CAAC,CAAC,CAAC;IACrF,IAAI,CAACpP,UAAU,CAAC0J,QAAQ,CAACowB,GAAG,CAACpgB,GAAG,CAACzZ,CAAC,CAAC,EAAE,OAAOD,UAAU,CAAC0J,QAAQ,CAACowB,GAAG,CAACzmB,IAAI,CAACpT,CAAC,CAAC,EAAEA,CAAC;EAClF;AACJ,CAAC,EAACD,UAAU,CAAC4kB,KAAK,GAAG,CAAC,CAAC,EAAC5kB,UAAU,CAAC4kB,KAAK,CAAC1gB,QAAQ,GAAG,IAAI,EAAClE,UAAU,CAAC4kB,KAAK,CAACitB,eAAe,GAAG,YAAY;EACpG7xC,UAAU,CAAC4kB,KAAK,CAAC1gB,QAAQ,KAAKipB,YAAY,CAACntB,UAAU,CAAC4kB,KAAK,CAAC1gB,QAAQ,CAAC,EAAElE,UAAU,CAAC4kB,KAAK,CAAC1gB,QAAQ,GAAG,IAAI,CAAC,EAAElE,UAAU,CAAC4kB,KAAK,CAAC1gB,QAAQ,GAAGkpB,UAAU,CAACptB,UAAU,CAAC4kB,KAAK,CAAC3iB,IAAI,EAAE,GAAG,CAAC;AAChL,CAAC,EAACjC,UAAU,CAAC4kB,KAAK,CAAC3iB,IAAI,GAAG,UAAUhC,CAAC,EAAE;EACnC,IAAIC,CAAC;EACLA,CAAC,GAAGD,CAAC,GAAGA,CAAC,CAACwS,gBAAgB,CAAC,kBAAkB,CAAC,GAAGpS,QAAQ,CAACoS,gBAAgB,CAAC,kBAAkB,CAAC;EAC9F,KAAK,IAAItS,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,CAAC,CAACsL,MAAM,EAAErL,CAAC,EAAE,EAAE;IAC/B,IAAIqB,CAAC,GAAGtB,CAAC,CAACC,CAAC,CAAC;MAAEsB,CAAC,GAAG,IAAI;IACtBD,CAAC,CAAC4jB,IAAI,IAAI,QAAQ,IAAI5jB,CAAC,CAAC4jB,IAAI,CAACzK,WAAW,CAAC,CAAC,KAAKlZ,CAAC,GAAGD,CAAC,CAAC,EAAEC,CAAC,KAAKA,CAAC,GAAGD,CAAC,CAAClB,aAAa,CAAC,OAAO,CAAC,CAAC,EAAEmB,CAAC,KAAKA,CAAC,GAAGD,CAAC,CAAClB,aAAa,CAAC,QAAQ,CAAC,CAAC;IAChI,IAAIiK,CAAC,GAAG/I,CAAC,CAAClB,aAAa,CAAC,OAAO,CAAC;IAChCiK,CAAC,KAAK9I,CAAC,CAACmkB,KAAK,IAAI,YAAY,IAAInkB,CAAC,CAAC2jB,IAAI,IAAI3jB,CAAC,CAACqwC,eAAe,IAAIrwC,CAAC,CAACqwC,eAAe,CAACtmC,MAAM,IAAI,EAAE,IAAI/J,CAAC,CAACqwC,eAAe,CAAC,CAAC,CAAC,CAAClsB,KAAK,IAAInkB,CAAC,CAACqwC,eAAe,CAAC,CAAC,CAAC,CAAC7kC,SAAS,CAAC,IAAI1C,CAAC,CAACzG,SAAS,CAACC,GAAG,CAAC,QAAQ,CAAC,EAAE,UAAU,IAAItC,CAAC,CAAC2jB,IAAI,CAACzK,WAAW,CAAC,CAAC,IAAIlZ,CAAC,CAAC4b,gBAAgB,CAAC,OAAO,EAAG,YAAY;MACzQ,IAAI,CAACvZ,SAAS,CAAC2F,MAAM,CAAC,sBAAsB,CAAC;MAC7C,IAAIxJ,CAAC,GAAG,IAAI,CAAC0M,UAAU,CAACrM,aAAa,CAAC,OAAO,CAAC;MAC9CL,CAAC,CAAC6D,SAAS,CAACC,GAAG,CAAC,SAAS,CAAC;MAC1B,IAAI7D,CAAC,GAAGD,CAAC,CAACK,aAAa,CAAC,+BAA+B,CAAC;MACxDJ,CAAC,IAAIA,CAAC,CAACyM,UAAU,CAACC,WAAW,CAAC1M,CAAC,CAAC;IACpC,CAAE,CAAC,EAAE,UAAU,IAAIuB,CAAC,CAAC2jB,IAAI,CAACzK,WAAW,CAAC,CAAC,IAAIlZ,CAAC,CAAC4b,gBAAgB,CAAC,MAAM,EAAG,YAAY;MAC/Erd,UAAU,CAAC4kB,KAAK,CAACwb,WAAW,CAAC,IAAI,CAAC;IACtC,CAAE,CAAC;EACP;AACJ,CAAC,EAACpgC,UAAU,CAAC4kB,KAAK,CAACwb,WAAW,GAAG,UAAUngC,CAAC,EAAE;EAC1C,IAAIC,CAAC,GAAGD,CAAC,CAAC0M,UAAU,CAACrM,aAAa,CAAC,OAAO,CAAC;EAC3CJ,CAAC,CAAC4D,SAAS,CAAC2F,MAAM,CAAC,SAAS,CAAC,EAAExJ,CAAC,CAAC2lB,KAAK,IAAI,MAAM,IAAI3lB,CAAC,CAACmlB,IAAI,GAAGllB,CAAC,CAAC4D,SAAS,CAACC,GAAG,CAAC,QAAQ,CAAC,GAAG7D,CAAC,CAAC4D,SAAS,CAAC2F,MAAM,CAAC,QAAQ,CAAC;AACzH,CAAC,EAACzJ,UAAU,CAAC4kB,KAAK,CAACmtB,QAAQ,GAAG,UAAU9xC,CAAC,EAAE;EACvC,IAAIC,CAAC,GAAG,IAAI;EACZD,CAAC,CAACmlB,IAAI,IAAI,QAAQ,IAAInlB,CAAC,CAACmlB,IAAI,CAACzK,WAAW,CAAC,CAAC,KAAKza,CAAC,GAAGD,CAAC,CAAC,EAAEC,CAAC,KAAKA,CAAC,GAAGD,CAAC,CAACK,aAAa,CAAC,OAAO,CAAC,CAAC,EAAEJ,CAAC,KAAKA,CAAC,GAAGD,CAAC,CAACK,aAAa,CAAC,QAAQ,CAAC,CAAC;EAChI,IAAIH,CAAC,GAAGF,CAAC,CAACK,aAAa,CAAC,OAAO,CAAC;EAChC,IAAIJ,CAAC,CAAC4D,SAAS,CAAC2F,MAAM,CAAC,sBAAsB,CAAC,EAAEtJ,CAAC,EAAE;IAC/C,IAAIqB,CAAC,GAAGrB,CAAC,CAACG,aAAa,CAAC,+BAA+B,CAAC;IACxDkB,CAAC,IAAIA,CAAC,CAACmL,UAAU,CAACC,WAAW,CAACpL,CAAC,CAAC;EACpC;EACAtB,CAAC,CAAC0lB,KAAK,KAAK1lB,CAAC,CAAC0lB,KAAK,GAAG1lB,CAAC,CAAC0lB,KAAK,CAACuO,IAAI,CAAC,CAAC,CAAC;EACrC,IAAI1yB,CAAC,GAAGxB,CAAC,CAAC2a,YAAY,CAAC,iBAAiB,CAAC;IAAErQ,CAAC,GAAGtK,CAAC,CAAC2a,YAAY,CAAC,iBAAiB,CAAC;IAC5E5P,CAAC,GAAG/K,CAAC,CAAC2a,YAAY,CAAC,cAAc,CAAC;IAAE3P,CAAC,GAAGhL,CAAC,CAAC2a,YAAY,CAAC,eAAe,CAAC;EAC3E,OAAOnZ,CAAC,IAAI,EAAE,IAAIvB,CAAC,CAAC0lB,KAAK,IAAIzlB,CAAC,CAAC8M,SAAS,IAAI,mDAAmD,GAAGxL,CAAC,GAAG,SAAS,EAAEvB,CAAC,CAAC4D,SAAS,CAACC,GAAG,CAAC,sBAAsB,CAAC,EAAE,CAAC,CAAC,IAAIwG,CAAC,IAAI,CAACvK,UAAU,CAAC4kB,KAAK,CAACotB,gBAAgB,CAAC9xC,CAAC,CAAC0lB,KAAK,CAAC,IAAIzlB,CAAC,CAAC8M,SAAS,IAAI,mDAAmD,GAAG1C,CAAC,GAAG,SAAS,EAAErK,CAAC,CAAC4D,SAAS,CAACC,GAAG,CAAC,sBAAsB,CAAC,EAAE,CAAC,CAAC,IAAIiH,CAAC,IAAI,CAAChL,UAAU,CAAC4kB,KAAK,CAACqtB,YAAY,CAAC/xC,CAAC,CAAC0lB,KAAK,CAAC,IAAIzlB,CAAC,CAAC8M,SAAS,IAAI,mDAAmD,GAAGjC,CAAC,GAAG,SAAS,EAAE9K,CAAC,CAAC4D,SAAS,CAACC,GAAG,CAAC,sBAAsB,CAAC,EAAE,CAAC,CAAC,IAAI,EAAEkH,CAAC,IAAI,CAACjL,UAAU,CAAC4kB,KAAK,CAACstB,aAAa,CAAChyC,CAAC,CAAC0lB,KAAK,CAAC,CAAC,KAAKzlB,CAAC,CAAC8M,SAAS,IAAI,mDAAmD,GAAGhC,CAAC,GAAG,SAAS,EAAE/K,CAAC,CAAC4D,SAAS,CAACC,GAAG,CAAC,sBAAsB,CAAC,EAAE,CAAC,CAAC,CAAC;AACnsB,CAAC,EAAC/D,UAAU,CAAC4kB,KAAK,CAACI,kBAAkB,GAAG,UAAU/kB,CAAC,EAAE;EACjD,KAAK,IAAIC,CAAC,GAAGD,CAAC,CAACwS,gBAAgB,CAAC,kBAAkB,CAAC,EAAEtS,CAAC,GAAG,CAAC,CAAC,EAAEqB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGtB,CAAC,CAACsL,MAAM,EAAEhK,CAAC,EAAE,EAAE;IACnF,IAAIC,CAAC,GAAGvB,CAAC,CAACsB,CAAC,CAAC;IACZxB,UAAU,CAAC4kB,KAAK,CAACmtB,QAAQ,CAACtwC,CAAC,CAAC,KAAKtB,CAAC,GAAG,CAAC,CAAC,CAAC;EAC5C;EACA,IAAI,CAACA,CAAC,EAAE,OAAO,CAAC,CAAC;EACjB,IAAIoK,CAAC,GAAGtK,CAAC,CAACwS,gBAAgB,CAAC,gBAAgB,CAAC;IAAEzH,CAAC,GAAG,CAAC,CAAC;EACpD,KAAKxJ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG+I,CAAC,CAACiB,MAAM,EAAEhK,CAAC,EAAE,EAAE;IAC3B,IAAIyJ,CAAC,GAAGV,CAAC,CAAC/I,CAAC,CAAC;MAAE2J,CAAC,GAAGF,CAAC,CAAC2P,YAAY,CAAC,cAAc,CAAC;IAChD,UAAU,IAAI3P,CAAC,CAACma,IAAI,CAACzK,WAAW,CAAC,CAAC,GAAG3P,CAAC,CAACG,CAAC,CAAC,GAAGF,CAAC,CAACknC,OAAO,GAAGnnC,CAAC,CAACG,CAAC,CAAC,GAAGF,CAAC,CAAC2a,KAAK;EAC1E;EACA,OAAO5a,CAAC;AACZ,CAAC,EAAChL,UAAU,CAAC4kB,KAAK,CAACotB,gBAAgB,GAAG,UAAU/xC,CAAC,EAAE;EAC/C,OAAOA,CAAC,KAAKA,CAAC,GAAGA,CAAC,CAACk0B,IAAI,CAAC,CAAC,CAAC,EAAE,EAAEl0B,CAAC,CAACuL,MAAM,GAAG,CAAC,CAAC,IAAK,EAAEvL,CAAC,CAACuL,MAAM,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC,IAAIvL,CAAC,CAACuV,OAAO,CAAC,GAAG,CAAE;AAC7F,CAAC,EAACxV,UAAU,CAAC4kB,KAAK,CAACstB,aAAa,GAAG,UAAUjyC,CAAC,EAAE;EAC5C,IAAIA,CAAC,EAAE,KAAK,IAAIC,CAAC,GAAGD,CAAC,CAAC+rB,KAAK,CAAC,GAAG,CAAC,EAAE7rB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,CAAC,CAACsL,MAAM,EAAErL,CAAC,EAAE,EAAE;IACxD,IAAIqB,CAAC,GAAGtB,CAAC,CAACC,CAAC,CAAC,CAACg0B,IAAI,CAAC,CAAC;IACnB,IAAI,CAACn0B,UAAU,CAAC4kB,KAAK,CAACqtB,YAAY,CAACzwC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;EACpD;EACA,OAAO,CAAC,CAAC;AACb,CAAC,EAACxB,UAAU,CAAC4kB,KAAK,CAACqtB,YAAY,GAAG,UAAUhyC,CAAC,EAAE;EAC3CA,CAAC,KAAKA,CAAC,GAAGA,CAAC,CAACk0B,IAAI,CAAC,CAAC,CAAC;EACnB,OAAO,yJAAyJ,CAAC3F,IAAI,CAACpuB,MAAM,CAACH,CAAC,CAAC,CAAC0a,WAAW,CAAC,CAAC,CAAC;AAClM,CAAC,EAAC3a,UAAU,CAAC2J,SAAS,CAACsP,YAAY,GAAG,UAAUhZ,CAAC,EAAEC,CAAC,EAAE;EAClD,IAAI,IAAI,CAACqpC,eAAe,EAAE;IACtB,IAAIppC,CAAC,GAAG,IAAI,CAACopC,eAAe;IAC5B,IAAI,IAAI,CAACpnC,OAAO,CAACsW,QAAQ,GAAG,IAAI,CAACjU,KAAK,EAAE,IAAI,CAACA,KAAK,GAAGrE,CAAC,CAACqE,KAAK,EAAE,IAAI,CAACrC,OAAO,CAACiM,IAAI,GAAGjO,CAAC,CAACiO,IAAI,EAAE,IAAI,CAACjM,OAAO,CAACoM,IAAI,GAAGpO,CAAC,CAACoO,IAAI,EAAE,IAAI,CAACpM,OAAO,CAACkM,IAAI,GAAGlO,CAAC,CAACkO,IAAI,EAAE,IAAI,CAAClM,OAAO,CAACqM,IAAI,GAAGrO,CAAC,CAACqO,IAAI,EAAE,IAAI,CAACrM,OAAO,CAACiG,KAAK,GAAGjI,CAAC,CAACiI,KAAK,EAAE,IAAI,CAACjG,OAAO,CAACqC,KAAK,GAAGrE,CAAC,CAACqE,KAAK,EAAE,IAAI,CAACrC,OAAO,CAAC8T,QAAQ,GAAG9V,CAAC,CAAC8V,QAAQ,EAAE,IAAI,CAAC9T,OAAO,CAACyI,cAAc,GAAGzK,CAAC,CAACyK,cAAc,EAAE,IAAI,CAACzI,OAAO,CAAC4J,uBAAuB,GAAG5L,CAAC,CAAC4L,uBAAuB,EAAE,IAAI,CAACvL,MAAM,CAAC4H,KAAK,GAAGjI,CAAC,CAACK,MAAM,CAAC4H,KAAK,EAAE,IAAI,CAAC5H,MAAM,CAACgE,KAAK,GAAGrE,CAAC,CAACK,MAAM,CAACgE,KAAK,EAAE,IAAI,CAAC+kC,eAAe,GAAG,IAAI,EAAEtpC,CAAC,EAAE;MACpe,IAAIuB,CAAC,GAAG;QAACoK,EAAE,EAAEzL,CAAC,CAACyL,EAAE;QAAEwmC,mBAAmB,EAAE,CAAC;MAAC,CAAC;MAC3C,IAAI,CAAC3uC,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAACoB,MAAM,EAAEtD,CAAC,EAAG,YAAY;QACrDtB,CAAC,IAAIA,CAAC,CAAC,CAAC;MACZ,CAAE,CAAC;IACP;EACJ;AACJ,CAAC,EAACF,UAAU,CAAC2J,SAAS,CAAC0oC,YAAY,GAAG,UAAUpyC,CAAC,EAAE;EAC/C,IAAI,CAAC+B,MAAM,CAAC2iB,IAAI,CAAC,CAAC,EAAE,IAAI,IAAI1kB,CAAC,IAAIwO,OAAO,CAACC,KAAK,CAAC,yBAAyB,CAAC;EACzE,IAAIxO,CAAC,GAAG,IAAI,CAACmP,OAAO,CAACpP,CAAC,CAAC;EACvBC,CAAC,IAAIuO,OAAO,CAACC,KAAK,CAAC,sBAAsB,GAAGzO,CAAC,CAAC;EAC9C,IAAIE,CAAC,GAAG,IAAI,CAACkP,OAAO,CAACnP,CAAC,CAACyV,GAAG,CAAC;IAAEnU,CAAC,GAAG,IAAI,CAAC6N,OAAO,CAACnP,CAAC,CAACwV,GAAG,CAAC;IAAEjU,CAAC,GAAG,IAAI;IAAE8I,CAAC,GAAG,IAAI;IAAES,CAAC,GAAG,EAAE;IAAEC,CAAC,GAAG,EAAE;EACxF9K,CAAC,KAAKsB,CAAC,GAAG,IAAI,CAAC6V,GAAG,CAACnX,CAAC,CAACyL,EAAE,CAAC,CAAC,EAAEpK,CAAC,KAAK+I,CAAC,GAAG,IAAI,CAAC+M,GAAG,CAAC9V,CAAC,CAACoK,EAAE,CAAC,CAAC;EACpD,KAAK,IAAIT,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGjL,CAAC,CAAC0V,IAAI,CAACpK,MAAM,EAAEL,CAAC,EAAE,EAAE;IACpC,IAAIC,CAAC,GAAG,IAAI,CAACkM,GAAG,CAACpX,CAAC,CAAC0V,IAAI,CAACzK,CAAC,CAAC,CAAC;IAC3BC,CAAC,IAAIJ,CAAC,CAACqI,IAAI,CAACjI,CAAC,CAAC;EAClB;EACA,KAAKD,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGjL,CAAC,CAACyZ,aAAa,CAACnO,MAAM,EAAEL,CAAC,EAAE,EAAEF,CAAC,CAACoI,IAAI,CAAC,IAAI,CAACiE,GAAG,CAACpX,CAAC,CAACyZ,aAAa,CAACxO,CAAC,CAAC,CAAC,CAAC;EACjF,IAAII,CAAC,GAAG,IAAI,CAAC+L,GAAG,CAACrX,CAAC,CAAC;EACnB,IAAI,CAACspC,eAAe,GAAG;IACnBn7B,IAAI,EAAE,IAAI,CAACjM,OAAO,CAACiM,IAAI;IACvBG,IAAI,EAAE,IAAI,CAACpM,OAAO,CAACoM,IAAI;IACvBF,IAAI,EAAE,IAAI,CAAClM,OAAO,CAACkM,IAAI;IACvBG,IAAI,EAAE,IAAI,CAACrM,OAAO,CAACqM,IAAI;IACvBpG,KAAK,EAAE,IAAI,CAACjG,OAAO,CAACiG,KAAK;IACzB5D,KAAK,EAAE,IAAI,CAACrC,OAAO,CAACqC,KAAK;IACzByR,QAAQ,EAAE,IAAI,CAAC9T,OAAO,CAAC8T,QAAQ;IAC/BrL,cAAc,EAAE,IAAI,CAACzI,OAAO,CAACyI,cAAc;IAC3CmB,uBAAuB,EAAE,IAAI,CAAC5J,OAAO,CAAC4J,uBAAuB;IAC7DH,EAAE,EAAE3L,CAAC;IACLO,MAAM,EAAE;MAAC4H,KAAK,EAAE,IAAI,CAAC5H,MAAM,CAAC4H,KAAK;MAAE5D,KAAK,EAAE,IAAI,CAAChE,MAAM,CAACgE;IAAK;EAC/D,CAAC,EAAE,IAAI,CAAChE,MAAM,CAACgE,KAAK,GAAG,EAAE;EACzB,IAAIiH,CAAC,GAAG,EAAE;EACV,IAAIlB,CAAC,EAAEkB,CAAC,CAAC4H,IAAI,CAAC9I,CAAC,CAAC,CAAC,KAAM;IACnB,IAAImB,CAAC,GAAG;MACJE,EAAE,EAAE,YAAY;MAChB+D,YAAY,EAAE,QAAQ;MACtB2iC,UAAU,EAAE,eAAe;MAC3BC,WAAW,EAAEtyC,CAAC;MACduyC,QAAQ,EAAE,KAAK;MACfC,QAAQ,EAAE;QAACxN,MAAM,EAAE;MAAQ;IAC/B,CAAC;IACD15B,CAAC,CAACmK,GAAG,GAAGhK,CAAC,CAACE,EAAE,EAAEnK,CAAC,IAAIA,CAAC,CAACmU,IAAI,GAAG,CAAClK,CAAC,CAACE,EAAE,CAAC,EAAEF,CAAC,CAACkK,IAAI,GAAG,CAACnU,CAAC,CAACmK,EAAE,CAAC,EAAEF,CAAC,CAAC+mC,QAAQ,CAAC78B,IAAI,GAAG,CAACnU,CAAC,CAACmK,EAAE,CAAC,IAAIF,CAAC,CAACkK,IAAI,GAAG,CAAC,YAAY,CAAC,EAAEnK,CAAC,CAAC4H,IAAI,CAAC3H,CAAC,CAAC;EACvH;EACA,IAAIjK,CAAC,EAAEgK,CAAC,CAAC4H,IAAI,CAAC5R,CAAC,CAAC,CAAC,KAAM;IACnB,IAAI+K,CAAC,GAAG;MACJZ,EAAE,EAAE,YAAY;MAChB+D,YAAY,EAAE,QAAQ;MACtB2iC,UAAU,EAAE,eAAe;MAC3BC,WAAW,EAAEtyC,CAAC;MACduyC,QAAQ,EAAE,KAAK;MACfC,QAAQ,EAAE;QAACxN,MAAM,EAAE;MAAM;IAC7B,CAAC;IACD15B,CAAC,CAACoK,GAAG,GAAGnJ,CAAC,CAACZ,EAAE,EAAErB,CAAC,IAAIA,CAAC,CAACqL,IAAI,GAAG,CAACpJ,CAAC,CAACZ,EAAE,CAAC,EAAEY,CAAC,CAACoJ,IAAI,GAAG,CAACrL,CAAC,CAACqB,EAAE,CAAC,EAAEY,CAAC,CAACimC,QAAQ,CAAC78B,IAAI,GAAG,CAACrL,CAAC,CAACqB,EAAE,CAAC,IAAIY,CAAC,CAACoJ,IAAI,GAAG,CAAC,YAAY,CAAC,EAAEnK,CAAC,CAAC4H,IAAI,CAAC7G,CAAC,CAAC;EACvH;EACA,KAAKrB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,CAAC,CAACQ,MAAM,EAAEL,CAAC,EAAE,EAAEM,CAAC,CAAC4H,IAAI,CAACrI,CAAC,CAACG,CAAC,CAAC,CAAC;EAC3CI,CAAC,CAACqK,IAAI,KAAKrK,CAAC,CAACqK,IAAI,GAAG,EAAE,CAAC;EACvB,IAAIlJ,CAAC,GAAG;IACJd,EAAE,EAAE,aAAa;IACjBgK,IAAI,EAAE,CAAC3V,CAAC,CAAC;IACT0P,YAAY,EAAE,SAAS;IACvB2iC,UAAU,EAAE,gBAAgB;IAC5BG,QAAQ,EAAE;MAAC78B,IAAI,EAAE,CAAC3V,CAAC;IAAC;EACxB,CAAC;EACD,IAAI,MAAM,IAAIsL,CAAC,CAAC05B,MAAM,IAAIv4B,CAAC,CAACiD,YAAY,GAAG,MAAM,EAAEjD,CAAC,CAAC+lC,QAAQ,CAACxN,MAAM,GAAG,QAAQ,IAAI,QAAQ,IAAI15B,CAAC,CAAC05B,MAAM,KAAKv4B,CAAC,CAACiD,YAAY,GAAG,SAAS,EAAEjD,CAAC,CAAC+lC,QAAQ,CAACxN,MAAM,GAAG,MAAM,CAAC,EAAE15B,CAAC,CAACqK,IAAI,CAACvC,IAAI,CAAC3G,CAAC,CAACd,EAAE,CAAC,EAAEH,CAAC,CAAC4H,IAAI,CAAC3G,CAAC,CAAC,EAAEnB,CAAC,CAACqK,IAAI,EAAE,KAAKzK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGI,CAAC,CAACqK,IAAI,CAACpK,MAAM,EAAEL,CAAC,EAAE,EAAE;IAC3O,IAAIM,CAAC,CAAC4H,IAAI,CAAC;MACPzH,EAAE,EAAE,kBAAkB,GAAGT,CAAC;MAC1BuK,GAAG,EAAEzV,CAAC;MACN0V,GAAG,EAAEpK,CAAC,CAACqK,IAAI,CAACzK,CAAC,CAAC;MACd5J,IAAI,EAAE,CAAC,gBAAgB;IAC3B,CAAC,CAAC,EAAE,aAAa,IAAIgK,CAAC,CAACqK,IAAI,CAACzK,CAAC,CAAC,EAAE;MAC5B,IAAImC,CAAC,GAAG;UACJ1B,EAAE,EAAE,UAAU,GAAGT,CAAC;UAClBoM,KAAK,EAAE,kBAAkB,GAAGpM,CAAC;UAC7BwE,YAAY,EAAE,KAAK;UACnB2iC,UAAU,EAAE,yBAAyB;UACrCI,aAAa,EAAE;YAACh9B,GAAG,EAAExV,CAAC,CAAC0L,EAAE;YAAE+J,GAAG,EAAEjJ,CAAC,CAACd,EAAE;YAAEq5B,MAAM,EAAE;UAAM,CAAC;UACrD0N,eAAe,EAAE;YAAC/8B,IAAI,EAAE,CAAC3V,CAAC;UAAC,CAAC;UAC5B2yC,MAAM,EAAE3yC;QACZ,CAAC;QAAEsN,CAAC,GAAG;UACH3B,EAAE,EAAE,eAAe,GAAGT,CAAC;UACvBoM,KAAK,EAAE,kBAAkB,GAAGpM,CAAC;UAC7BwE,YAAY,EAAE,UAAU;UACxB2iC,UAAU,EAAE,yBAAyB;UACrCI,aAAa,EAAE;YAACh9B,GAAG,EAAExV,CAAC,CAAC0L,EAAE;YAAE+J,GAAG,EAAEjJ,CAAC,CAACd,EAAE;YAAEq5B,MAAM,EAAE;UAAQ,CAAC;UACvD0N,eAAe,EAAE;YAAC/8B,IAAI,EAAE,CAAC3V,CAAC;UAAC,CAAC;UAC5B2yC,MAAM,EAAE3yC;QACZ,CAAC;MACD,MAAM,IAAIsL,CAAC,CAAC05B,MAAM,IAAI,QAAQ,IAAIv4B,CAAC,CAAC+lC,QAAQ,CAACxN,MAAM,IAAI33B,CAAC,CAAColC,aAAa,CAACh9B,GAAG,GAAGhJ,CAAC,CAACd,EAAE,EAAE0B,CAAC,CAAColC,aAAa,CAAC/8B,GAAG,GAAGpK,CAAC,CAACK,EAAE,EAAE0B,CAAC,CAACqlC,eAAe,CAAC1N,MAAM,GAAGv4B,CAAC,CAAC+lC,QAAQ,CAACxN,MAAM,EAAE13B,CAAC,CAACmlC,aAAa,CAACh9B,GAAG,GAAGhJ,CAAC,CAACd,EAAE,EAAE2B,CAAC,CAACmlC,aAAa,CAAC/8B,GAAG,GAAGpK,CAAC,CAACK,EAAE,EAAE2B,CAAC,CAAColC,eAAe,CAAC1N,MAAM,GAAGv4B,CAAC,CAAC+lC,QAAQ,CAACxN,MAAM,IAAI,QAAQ,IAAI15B,CAAC,CAAC05B,MAAM,IAAI,MAAM,IAAIv4B,CAAC,CAAC+lC,QAAQ,CAACxN,MAAM,KAAK33B,CAAC,CAAColC,aAAa,CAACh9B,GAAG,GAAGnK,CAAC,CAACK,EAAE,EAAE0B,CAAC,CAAColC,aAAa,CAAC/8B,GAAG,GAAGjJ,CAAC,CAACd,EAAE,EAAE0B,CAAC,CAACqlC,eAAe,CAAC1N,MAAM,GAAGv4B,CAAC,CAAC+lC,QAAQ,CAACxN,MAAM,EAAE13B,CAAC,CAACmlC,aAAa,CAACh9B,GAAG,GAAGnK,CAAC,CAACK,EAAE,EAAE2B,CAAC,CAACmlC,aAAa,CAAC/8B,GAAG,GAAGjJ,CAAC,CAACd,EAAE,EAAE2B,CAAC,CAAColC,eAAe,CAAC1N,MAAM,GAAGv4B,CAAC,CAAC+lC,QAAQ,CAACxN,MAAM,CAAC,EAAEx5B,CAAC,CAAC4H,IAAI,CAAC/F,CAAC,CAAC,EAAE7B,CAAC,CAAC4H,IAAI,CAAC9F,CAAC,CAAC;IACliB,CAAC,MAAM9B,CAAC,CAAC4H,IAAI,CAAC;MACVzH,EAAE,EAAE,UAAU,GAAGT,CAAC;MAClBoM,KAAK,EAAE,kBAAkB,GAAGpM,CAAC;MAC7BwE,YAAY,EAAE,KAAK;MACnB2iC,UAAU,EAAE,cAAc;MAC1BG,QAAQ,EAAE;QAAC/8B,GAAG,EAAEzV,CAAC;QAAE0V,GAAG,EAAEpK,CAAC,CAACqK,IAAI,CAACzK,CAAC,CAAC;QAAE85B,MAAM,EAAE;MAAM;IACrD,CAAC,CAAC,EAAEx5B,CAAC,CAAC4H,IAAI,CAAC;MACPzH,EAAE,EAAE,eAAe,GAAGT,CAAC;MACvBoM,KAAK,EAAE,kBAAkB,GAAGpM,CAAC;MAC7BwE,YAAY,EAAE,UAAU;MACxB2iC,UAAU,EAAE,cAAc;MAC1BG,QAAQ,EAAE;QAAC/8B,GAAG,EAAEzV,CAAC;QAAE0V,GAAG,EAAEpK,CAAC,CAACqK,IAAI,CAACzK,CAAC,CAAC;QAAE85B,MAAM,EAAE;MAAQ;IACvD,CAAC,CAAC;IACF,KAAK,IAAI/2B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGjD,CAAC,CAACO,MAAM,EAAE0C,CAAC,EAAE,EAAEjD,CAAC,CAACiD,CAAC,CAAC,CAACwH,GAAG,IAAInK,CAAC,CAACqK,IAAI,CAACzK,CAAC,CAAC,IAAIF,CAAC,CAACiD,CAAC,CAAC,CAACyH,GAAG,IAAIpK,CAAC,CAACqK,IAAI,CAACzK,CAAC,CAAC,KAAKF,CAAC,CAACiD,CAAC,CAAC,CAACwH,GAAG,GAAG,KAAK,CAAC,EAAEzK,CAAC,CAACiD,CAAC,CAAC,CAACyH,GAAG,GAAG,KAAK,CAAC,EAAE1K,CAAC,CAACiD,CAAC,CAAC,CAACqJ,KAAK,GAAG,kBAAkB,GAAGpM,CAAC,EAAEM,CAAC,CAAC4H,IAAI,CAACpI,CAAC,CAACiD,CAAC,CAAC,CAAC,CAAC;EAClL;EACA,IAAIC,CAAC,GAAG,EAAE;EACV,KAAKD,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGjD,CAAC,CAACO,MAAM,EAAE0C,CAAC,EAAE,EAAE,CAACjD,CAAC,CAACiD,CAAC,CAAC,CAACyH,GAAG,IAAIpK,CAAC,CAACK,EAAE,IAAI5L,UAAU,CAACgS,KAAK,CAAC/G,CAAC,CAACiD,CAAC,CAAC,CAACwH,GAAG,CAAC,IAAIzK,CAAC,CAACiD,CAAC,CAAC,CAACwH,GAAG,IAAInK,CAAC,CAACK,EAAE,IAAI5L,UAAU,CAACgS,KAAK,CAAC/G,CAAC,CAACiD,CAAC,CAAC,CAACyH,GAAG,CAAC,MAAM1K,CAAC,CAACiD,CAAC,CAAC,CAACyH,GAAG,IAAIpK,CAAC,CAACK,EAAE,GAAGX,CAAC,CAACiD,CAAC,CAAC,CAACwH,GAAG,GAAG,8BAA8B,GAAGzK,CAAC,CAACiD,CAAC,CAAC,CAACwH,GAAG,IAAInK,CAAC,CAACK,EAAE,KAAKX,CAAC,CAACiD,CAAC,CAAC,CAACyH,GAAG,GAAG,8BAA8B,CAAC,EAAElK,CAAC,CAAC4H,IAAI,CAACpI,CAAC,CAACiD,CAAC,CAAC,CAAC,EAAEC,CAAC,CAACkF,IAAI,CAACpI,CAAC,CAACiD,CAAC,CAAC,CAACtC,EAAE,CAAC,CAAC;EACpS,IAAIuC,CAAC,CAAC3C,MAAM,EAAE;IACV,IAAI8C,CAAC,GAAG;MACJ1C,EAAE,EAAE,8BAA8B;MAClCgK,IAAI,EAAE,CAAC3V,CAAC,CAAC;MACT0P,YAAY,EAAE,SAAS;MACvB2iC,UAAU,EAAE,0BAA0B;MACtCO,YAAY,EAAE1kC,CAAC;MACfwkC,eAAe,EAAE;QAAC/8B,IAAI,EAAE,CAAC3V,CAAC;MAAC,CAAC;MAC5B2yC,MAAM,EAAE3yC;IACZ,CAAC;IACD,MAAM,IAAIsL,CAAC,CAAC05B,MAAM,IAAI32B,CAAC,CAACqB,YAAY,GAAG,MAAM,EAAErB,CAAC,CAACqkC,eAAe,CAAC1N,MAAM,GAAG,QAAQ,IAAI,QAAQ,IAAI15B,CAAC,CAAC05B,MAAM,KAAK32B,CAAC,CAACqB,YAAY,GAAG,SAAS,EAAErB,CAAC,CAACqkC,eAAe,CAAC1N,MAAM,GAAG,MAAM,CAAC,EAAE15B,CAAC,CAACqK,IAAI,CAACvC,IAAI,CAAC/E,CAAC,CAAC1C,EAAE,CAAC,EAAEH,CAAC,CAAC4H,IAAI,CAAC/E,CAAC,CAAC;EAC/M;EACA,IAAIhC,CAAC,GAAG;IAAC9H,KAAK,EAAEiH,CAAC;IAAEO,IAAI,EAAET;EAAC,CAAC;EAC3BvL,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,qBAAqB,EAAE,CAAC,IAAI,EAAE0H,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC9H,KAAK,CAAC6O,IAAI,CAAC/G,CAAC,CAACN,IAAI,CAAC,EAAE,IAAI,CAACxL,MAAM,CAACgE,KAAK,GAAG8H,CAAC,CAAC9H,KAAK,EAAE+G,CAAC,GAAG,IAAI,CAAC+L,GAAG,CAACrX,CAAC,CAAC;EAC/H,IAAI8a,CAAC,GAAG,IAAI;EACZ/a,UAAU,CAACgS,KAAK,CAACzG,CAAC,CAACmK,GAAG,CAAC,GAAG1V,UAAU,CAACgS,KAAK,CAACzG,CAAC,CAACoK,GAAG,CAAC,KAAK,IAAI,CAACnV,MAAM,CAAC4H,KAAK,GAAG,CAACmD,CAAC,CAACoK,GAAG,CAAC,CAAC,GAAG,IAAI,CAACnV,MAAM,CAAC4H,KAAK,GAAG,CAACmD,CAAC,CAACmK,GAAG,CAAC;EAChH,IAAI7F,CAAC,GAAG;IAACjE,EAAE,EAAE3L,CAAC;IAAE6yC,YAAY,EAAE,CAAC;EAAC,CAAC;EACjC,IAAI,CAACrvC,KAAK,CAAC,CAAC,CAAC,EAAEzD,UAAU,CAAC0D,MAAM,CAACoB,MAAM,EAAE+K,CAAC,EAAG,YAAY;IACrD7P,UAAU,CAAC6R,mBAAmB,CAACkJ,CAAC,CAACtO,MAAM,CAAC,CAAC,EAAEsO,CAAC,CAACzX,UAAU,CAAC,CAAC,EAAEyX,CAAC,CAAC7X,QAAQ,CAACD,QAAQ,CAAC;EACnF,CAAE,CAAC;AACP,CAAC,EAACjD,UAAU,CAAC+B,EAAE,CAACmL,GAAG,GAAG,YAAY;EAC9B,OAAO,u7iBAAu7iB;AACl8iB,CAAC,EAAClN,UAAU,CAAC2E,MAAM,CAACsF,EAAE,CAAC,QAAQ,EAAG,UAAUhK,CAAC,EAAEC,CAAC,EAAE;EAC9C,IAAID,CAAC,CAACoV,WAAW,KAAKpV,CAAC,CAACoV,WAAW,GAAG,EAAE,CAAC,EAAEpV,CAAC,CAACO,MAAM,CAAC4H,KAAK,EAAE,KAAK,IAAIjI,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,CAAC,CAACO,MAAM,CAAC4H,KAAK,CAACoD,MAAM,EAAErL,CAAC,EAAE,EAAE;IACvG,IAAIqB,CAAC,GAAGvB,CAAC,CAACoV,WAAW,CAACG,OAAO,CAACvV,CAAC,CAACO,MAAM,CAAC4H,KAAK,CAACjI,CAAC,CAAC,CAAC;IAChD,CAAC,CAAC,IAAIqB,CAAC,IAAIvB,CAAC,CAACoV,WAAW,CAACwC,MAAM,CAACrW,CAAC,EAAE,CAAC,CAAC,EAAEvB,CAAC,CAACoV,WAAW,CAAC2sB,OAAO,CAAC/hC,CAAC,CAACO,MAAM,CAAC4H,KAAK,CAACjI,CAAC,CAAC,CAAC;EACnF;AACJ,CAAE,CAAC,EAACH,UAAU,CAAC2E,MAAM,CAACsF,EAAE,CAAC,MAAM,EAAG,UAAUhK,CAAC,EAAEC,CAAC,EAAE;EAC9C,IAAID,CAAC,YAAYD,UAAU,CAACgC,MAAM,IAAI/B,CAAC,CAACykB,GAAG,CAAC6kB,eAAe,EAAE,OAAO,CAAC,CAAC;AAC1E,CAAE,CAAC,EAACvpC,UAAU,CAAC2E,MAAM,CAACsF,EAAE,CAAC,aAAa,EAAG,UAAUhK,CAAC,EAAEC,CAAC,EAAE;EACrD,IAAI,IAAIA,CAAC,CAACipC,KAAK,CAAC3wB,IAAI,IAAItY,CAAC,CAACipC,KAAK,CAAChoC,MAAM,IAAInB,UAAU,CAACqgB,KAAK,KAAKngB,CAAC,CAACqlB,IAAI,IAAI,4BAA4B,GAAGrlB,CAAC,CAACwL,CAAC,CAACg8B,EAAE,GAAG,OAAO,GAAGxnC,CAAC,CAACwL,CAAC,CAACi8B,EAAE,GAAG,KAAK,CAAC;AAC9I,CAAE,CAAC,EAAC3nC,UAAU,CAAC2E,MAAM,CAACsF,EAAE,CAAC,OAAO,EAAG,UAAUhK,CAAC,EAAEC,CAAC,EAAE;EAC/C,IAAID,CAAC,YAAYD,UAAU,EAAE;IACzB,IAAIG,CAAC,GAAGF,CAAC,CAAC0L,IAAI,CAACzL,CAAC,CAAC8L,IAAI,CAACJ,EAAE,CAAC;IACzB,IAAIzL,CAAC,CAACmyC,UAAU,EAAE,OAAO,eAAe,IAAInyC,CAAC,CAACmyC,UAAU,GAAGryC,CAAC,CAACE,CAAC,CAACmyC,UAAU,CAAC,CAACnyC,CAAC,CAACoyC,WAAW,EAAEpyC,CAAC,CAACqyC,QAAQ,EAAEryC,CAAC,CAACsyC,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,yBAAyB,IAAItyC,CAAC,CAACmyC,UAAU,GAAGryC,CAAC,CAACE,CAAC,CAACmyC,UAAU,CAAC,CAACnyC,CAAC,CAACyyC,MAAM,EAAEzyC,CAAC,CAACuyC,aAAa,EAAEvyC,CAAC,CAACwyC,eAAe,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,0BAA0B,IAAIxyC,CAAC,CAACmyC,UAAU,GAAGryC,CAAC,CAACE,CAAC,CAACmyC,UAAU,CAAC,CAACnyC,CAAC,CAACyyC,MAAM,EAAEzyC,CAAC,CAAC0yC,YAAY,EAAE1yC,CAAC,CAACwyC,eAAe,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG1yC,CAAC,CAACE,CAAC,CAACmyC,UAAU,CAAC,CAACnyC,CAAC,CAACsyC,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IACnZ,KAAK,IAAIjxC,CAAC,GAAGtB,CAAC,CAACud,KAAK,CAACtD,MAAM,EAAE3Y,CAAC,GAAG;MAC7B,IAAIA,CAAC,CAACoZ,YAAY,KAAKpZ,CAAC,CAACsZ,YAAY,CAAC,uBAAuB,CAAC,IAAItZ,CAAC,CAACsZ,YAAY,CAAC,sBAAsB,CAAC,CAAC,EAAE;QACvG,IAAIrZ,CAAC,GAAGD,CAAC,CAACoZ,YAAY,CAAC,uBAAuB,CAAC;QAC/C,OAAO5a,UAAU,CAACgS,KAAK,CAACvQ,CAAC,CAAC,GAAGxB,CAAC,CAACgZ,YAAY,CAAC,CAAC,CAAC,CAAC,GAAGhZ,CAAC,CAACoyC,YAAY,CAAC5wC,CAAC,CAAC,EAAEvB,CAAC,CAACud,KAAK,CAACG,eAAe,CAAC,CAAC,EAAE1d,CAAC,CAACud,KAAK,CAACI,cAAc,CAAC,CAAC,EAAE,CAAC,CAAC;MAChI;MACArc,CAAC,GAAGA,CAAC,CAACmL,UAAU;IACpB;EACJ;AACJ,CAAE,CAAC,EAAC,KAAK,CAAC,KAAK3M,UAAU,KAAKA,UAAU,GAAG,CAAC,CAAC,CAAC,EAACA,UAAU,CAAC2J,SAAS,CAACopC,OAAO,GAAG,UAAU9yC,CAAC,EAAE;EACvF,OAAO,IAAI,CAACgK,EAAE,CAAC,OAAO,EAAG,UAAU/J,CAAC,EAAEC,CAAC,EAAE;IACrC,OAAOF,CAAC,CAACud,IAAI,CAACtd,CAAC,EAAEC,CAAC,CAAC;EACvB,CAAE,CAAC;AACP,CAAC,EAACH,UAAU,CAAC2J,SAAS,CAACqpC,MAAM,GAAG,UAAU/yC,CAAC,EAAE;EACzC,OAAO,IAAI,CAACgK,EAAE,CAAC,MAAM,EAAG,UAAU/J,CAAC,EAAE;IACjC,OAAOD,CAAC,CAACud,IAAI,CAACtd,CAAC,CAAC;EACpB,CAAE,CAAC;AACP,CAAC,EAACF,UAAU,CAAC2J,SAAS,CAACspC,QAAQ,GAAG,UAAUhzC,CAAC,EAAE;EAC3C,OAAO,IAAI,CAACgK,EAAE,CAAC,QAAQ,EAAG,UAAU/J,CAAC,EAAE;IACnC,OAAOD,CAAC,CAACud,IAAI,CAACtd,CAAC,CAAC;EACpB,CAAE,CAAC;AACP,CAAC,EAACF,UAAU,CAAC2J,SAAS,CAACupC,YAAY,GAAG,UAAUjzC,CAAC,EAAE;EAC/C,OAAO,IAAI,CAACgK,EAAE,CAAC,QAAQ,EAAG,UAAU/J,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;IACzC,IAAIC,CAAC,GAAG;MAAC0xC,OAAO,EAAEhzC,CAAC;MAAEizC,OAAO,EAAE5xC;IAAC,CAAC;IAChC,OAAOvB,CAAC,CAACud,IAAI,CAACtd,CAAC,EAAEuB,CAAC,CAAC;EACvB,CAAE,CAAC;AACP,CAAC,EAACzB,UAAU,CAAC2J,SAAS,CAAC0pC,SAAS,GAAG,UAAUpzC,CAAC,EAAE;EAC5C,OAAO,IAAI,CAACgK,EAAE,CAAC,SAAS,EAAG,UAAU/J,CAAC,EAAE;IACpC,OAAOD,CAAC,CAACud,IAAI,CAACtd,CAAC,CAAC;EACpB,CAAE,CAAC;AACP,CAAC,EAACF,UAAU,CAAC2J,SAAS,CAAC2pC,YAAY,GAAG,UAAUrzC,CAAC,EAAE;EAC/C,OAAO,IAAI,CAACgK,EAAE,CAAC,QAAQ,EAAG,UAAU/J,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;IACzC,IAAIC,CAAC,GAAG;MAACmK,EAAE,EAAEzL,CAAC;MAAEozC,sBAAsB,EAAE/xC;IAAC,CAAC;IAC1C,OAAOvB,CAAC,CAACud,IAAI,CAACtd,CAAC,EAAEuB,CAAC,CAAC;EACvB,CAAE,CAAC;AACP,CAAC,EAACzB,UAAU,CAAC2J,SAAS,CAAC6pC,SAAS,GAAG,UAAUvzC,CAAC,EAAE;EAC5C,OAAO,IAAI,CAACgK,EAAE,CAAC,KAAK,EAAG,UAAU/J,CAAC,EAAEC,CAAC,EAAE;IACnC,IAAIqB,CAAC,GAAG;MAACyjB,IAAI,EAAE9kB;IAAC,CAAC;IACjB,OAAOF,CAAC,CAACud,IAAI,CAACtd,CAAC,EAAEsB,CAAC,CAAC;EACvB,CAAE,CAAC;AACP,CAAC,EAACxB,UAAU,CAAC2J,SAAS,CAAC8pC,MAAM,GAAG,UAAUxzC,CAAC,EAAE;EACzC,OAAO,IAAI,CAACgK,EAAE,CAAC,MAAM,EAAG,UAAU/J,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE8I,CAAC,EAAE;IAC7C,IAAIS,CAAC,GAAG;MAAC0oC,MAAM,EAAEvzC,CAAC;MAAEwzC,MAAM,EAAEnyC,CAAC;MAAEoyC,eAAe,EAAEnyC,CAAC;MAAEgc,KAAK,EAAElT;IAAC,CAAC;IAC5D,OAAOtK,CAAC,CAACud,IAAI,CAACtd,CAAC,EAAE8K,CAAC,CAAC;EACvB,CAAE,CAAC;AACP,CAAC,EAAChL,UAAU,CAAC2J,SAAS,CAACkqC,MAAM,GAAG,UAAU5zC,CAAC,EAAE;EACzC,OAAO,IAAI,CAACgK,EAAE,CAAC,MAAM,EAAG,UAAU/J,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;IAC1C,IAAI8I,CAAC,GAAG;MAACmpC,MAAM,EAAEvzC,CAAC;MAAEsd,KAAK,EAAEjc,CAAC;MAAEsyC,OAAO,EAAEryC;IAAC,CAAC;IACzC,OAAOxB,CAAC,CAACud,IAAI,CAACtd,CAAC,EAAEqK,CAAC,CAAC;EACvB,CAAE,CAAC;AACP,CAAC,EAACvK,UAAU,CAAC2J,SAAS,CAACoqC,2BAA2B,GAAG,UAAU9zC,CAAC,EAAE;EAC9D,OAAO,IAAI,CAACgK,EAAE,CAAC,cAAc,EAAG,UAAU/J,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;IAClD,IAAI8I,CAAC,GAAG;MAACypC,UAAU,EAAE7zC,CAAC;MAAEyL,EAAE,EAAEpK,CAAC;MAAEs4B,GAAG,EAAEr4B;IAAC,CAAC;IACtC,OAAOxB,CAAC,CAACud,IAAI,CAACtd,CAAC,EAAEqK,CAAC,CAAC;EACvB,CAAE,CAAC;AACP,CAAC,EAACvK,UAAU,CAAC2J,SAAS,CAACsqC,aAAa,GAAG,UAAUh0C,CAAC,EAAE;EAChD,OAAO,IAAI,CAACgK,EAAE,CAAC,aAAa,EAAG,UAAU/J,CAAC,EAAEC,CAAC,EAAE;IAC3C,OAAOF,CAAC,CAACud,IAAI,CAACtd,CAAC,EAAEC,CAAC,CAAC;EACvB,CAAE,CAAC;AACP,CAAC,EAACH,UAAU,CAAC2J,SAAS,CAACuqC,WAAW,GAAG,UAAUj0C,CAAC,EAAE;EAC9C,OAAO,IAAI,CAACgK,EAAE,CAAC,WAAW,EAAG,UAAU/J,CAAC,EAAEC,CAAC,EAAE;IACzC,OAAOF,CAAC,CAACud,IAAI,CAACtd,CAAC,EAAEC,CAAC,CAAC;EACvB,CAAE,CAAC;AACP,CAAC,EAACH,UAAU,CAAC2J,SAAS,CAACwqC,WAAW,GAAG,UAAUl0C,CAAC,EAAE;EAC9C,OAAO,IAAI,CAACgK,EAAE,CAAC,OAAO,EAAG,UAAU/J,CAAC,EAAEC,CAAC,EAAE;IACrC,OAAOF,CAAC,CAACud,IAAI,CAACtd,CAAC,EAAEC,CAAC,CAAC;EACvB,CAAE,CAAC;AACP,CAAC,EAACH,UAAU,CAAC2J,SAAS,CAACyqC,iBAAiB,GAAG,UAAUn0C,CAAC,EAAE;EACpD,OAAO,IAAI,CAACgK,EAAE,CAAC,SAAS,EAAG,UAAU/J,CAAC,EAAEC,CAAC,EAAE;IACvC,IAAIqB,CAAC,GAAG;MAACyjB,IAAI,EAAE9kB;IAAC,CAAC;IACjB,OAAOF,CAAC,CAACud,IAAI,CAACtd,CAAC,EAAEsB,CAAC,CAAC;EACvB,CAAE,CAAC;AACP,CAAC,EAACxB,UAAU,CAAC2J,SAAS,CAACupC,YAAY,GAAG,UAAUjzC,CAAC,EAAE;EAC/C,OAAO,IAAI,CAACgK,EAAE,CAAC,QAAQ,EAAG,UAAU/J,CAAC,EAAEC,CAAC,EAAE;IACtC,OAAOF,CAAC,CAACud,IAAI,CAACtd,CAAC,EAAEC,CAAC,CAAC;EACvB,CAAE,CAAC;AACP,CAAC,EAACH,UAAU,CAAC2J,SAAS,CAAC0qC,kBAAkB,GAAG,UAAUp0C,CAAC,EAAE;EACrD,OAAO,IAAI,CAACgK,EAAE,CAAC,qBAAqB,EAAG,UAAU/J,CAAC,EAAEC,CAAC,EAAE;IACnD,OAAOF,CAAC,CAACud,IAAI,CAACtd,CAAC,EAAEC,CAAC,CAAC;EACvB,CAAE,CAAC;AACP,CAAC,EAACH,UAAU,CAAC2J,SAAS,CAAC2pC,YAAY,GAAG,IAAI,EAACtzC,UAAU,CAAC2J,SAAS,CAAC6pC,SAAS,GAAG,IAAI,EAACxzC,UAAU,CAACkC,QAAQ,GAAG,YAAY,CACnH,CAAC,EAAClC,UAAU,CAACkC,QAAQ,CAACyH,SAAS,CAAC1H,IAAI,GAAG,UAAUhC,CAAC,EAAE;EAChD,IAAI,CAAC++B,QAAQ,GAAG/+B,CAAC,EAAE,IAAI,CAACM,OAAO,GAAG,IAAI,EAAE,IAAI,CAAC+zC,QAAQ,GAAG,IAAI,EAAE,IAAI,CAAC3yC,SAAS,GAAG3B,UAAU,CAAC4B,KAAK,CAAC,CAAC;AACrG,CAAC,EAAC5B,UAAU,CAACkC,QAAQ,CAACyH,SAAS,CAACo4B,YAAY,GAAG,UAAU9hC,CAAC,EAAE;EACxD,IAAI,CAAC,IAAI,CAAC++B,QAAQ,CAACx+B,MAAM,CAAC8zC,QAAQ,EAAE,OAAO,CAAC,CAAC;EAC7C,IAAIt0C,UAAU,CAACgS,KAAK,CAAC/R,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;EAClC,IAAI,IAAI,KAAK,IAAI,CAACq0C,QAAQ,IAAI,QAAQ,IAAI,OAAO,IAAI,CAACtV,QAAQ,CAACx+B,MAAM,CAAC8zC,QAAQ,IAAIx+B,KAAK,CAACC,OAAO,CAAC,IAAI,CAACipB,QAAQ,CAACx+B,MAAM,CAAC8zC,QAAQ,CAAC,KAAK,IAAI,CAACA,QAAQ,GAAGz7B,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAAC,IAAI,CAACimB,QAAQ,CAACx+B,MAAM,CAAC8zC,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,IAAI,IAAI,CAACA,QAAQ,EAAE,KAAK,IAAIp0C,CAAC,IAAI,IAAI,CAACo0C,QAAQ,EAAE;IAC/P,IAAIn0C,CAAC,GAAGF,CAAC,CAACC,CAAC,CAAC;IACZ,IAAI,IAAI,IAAIC,CAAC,EAAE;MACX,IAAIqB,CAAC,GAAG,IAAI,CAAC8yC,QAAQ,CAACp0C,CAAC,CAAC;MACxB,IAAI,IAAI,IAAIsB,CAAC,EAAE;QACX,IAAIC,CAAC,GAAGD,CAAC,CAACrB,CAAC,CAAC;QACZ,IAAI,IAAI,IAAIsB,CAAC,IAAI,CAAC,CAAC,KAAKA,CAAC,CAAC0wC,OAAO,EAAE,OAAO,CAAC,CAAC;MAChD;IACJ;EACJ;EACA,OAAO,CAAC,CAAC;AACb,CAAC,EAACnyC,UAAU,CAACkC,QAAQ,CAACyH,SAAS,CAACc,IAAI,GAAG,UAAUxK,CAAC,EAAE;EAChD,IAAIC,CAAC,GAAG,IAAI,CAACK,OAAO,CAACD,aAAa,CAAC,sBAAsB,GAAGL,CAAC,GAAG,IAAI,CAAC;EACrEC,CAAC,IAAIA,CAAC,CAACssB,KAAK,CAAC,CAAC;AAClB,CAAC,EAACxsB,UAAU,CAACkC,QAAQ,CAACyH,SAAS,CAACgb,IAAI,GAAG,YAAY;EAC/C,IAAI1kB,CAAC,GAAG,IAAI,CAAC++B,QAAQ,CAACz+B,OAAO,CAACD,aAAa,CAAC,qBAAqB,CAAC;EAClEL,CAAC,IAAIA,CAAC,CAACusB,KAAK,CAAC,CAAC;AAClB,CAAC,EAACxsB,UAAU,CAACkC,QAAQ,CAACyH,SAAS,CAAC7E,MAAM,GAAG,YAAY;EACjD,IAAI,IAAI,CAACk6B,QAAQ,CAACx+B,MAAM,CAAC8zC,QAAQ,EAAE;IAC/B,IAAIr0C,CAAC,GAAG,CAAC,CAAC;IACV,IAAI,KAAK,IAAI,IAAI,CAAC++B,QAAQ,CAACx+B,MAAM,CAAC8zC,QAAQ,EAAE,KAAK,IAAIp0C,CAAC,GAAGF,UAAU,CAACmC,OAAO,CAACwiC,YAAY,CAAC,IAAI,CAAC3F,QAAQ,CAACx+B,MAAM,CAAC,EAAEL,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,CAAC,CAACsL,MAAM,EAAErL,CAAC,EAAE,EAAE;MACtI,IAAIqB,CAAC,GAAGtB,CAAC,CAACC,CAAC,CAAC;MACZ,MAAM,IAAIqB,CAAC,IAAI,IAAI,IAAIA,CAAC,IAAI,KAAK,IAAIA,CAAC,IAAI,MAAM,IAAIA,CAAC,IAAI,OAAO,IAAIA,CAAC,KAAKvB,CAAC,CAACuB,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IACxF,CAAC,MAAM,IAAIsU,KAAK,CAACC,OAAO,CAAC,IAAI,CAACipB,QAAQ,CAACx+B,MAAM,CAAC8zC,QAAQ,CAAC,EAAE,KAAKn0C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAC6+B,QAAQ,CAACx+B,MAAM,CAAC8zC,QAAQ,CAAC9oC,MAAM,EAAErL,CAAC,EAAE,EAAEF,CAAC,CAAC,IAAI,CAAC++B,QAAQ,CAACx+B,MAAM,CAAC8zC,QAAQ,CAACn0C,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAM,IAAI,QAAQ,IAAI,OAAO,IAAI,CAAC6+B,QAAQ,CAACx+B,MAAM,CAAC8zC,QAAQ,EAAE,KAAK,IAAI7yC,CAAC,IAAI,IAAI,CAACu9B,QAAQ,CAACx+B,MAAM,CAAC8zC,QAAQ,EAAEr0C,CAAC,CAACwB,CAAC,CAAC,GAAG,CAAC,CAAC;IAC/Q,KAAK,IAAI8I,CAAC,IAAItK,CAAC,EAAE;MACb,IAAI+K,CAAC,GAAG/K,CAAC,CAACsK,CAAC,CAAC;MACZ,KAAKpK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAC6+B,QAAQ,CAACx+B,MAAM,CAACgE,KAAK,CAACgH,MAAM,EAAErL,CAAC,EAAE,EAAE;QACpD,IAAI8K,CAAC,GAAG,IAAI,CAAC+zB,QAAQ,CAACx+B,MAAM,CAACgE,KAAK,CAACrE,CAAC,CAAC,CAACoK,CAAC,CAAC;QACxC,IAAI,IAAIU,CAAC,KAAKD,CAAC,CAACC,CAAC,CAAC,KAAKD,CAAC,CAACC,CAAC,CAAC,GAAG;UAACknC,OAAO,EAAE,CAAC,CAAC;UAAE/oC,IAAI,EAAE6B;QAAC,CAAC,CAAC,CAAC;MAC1D;IACJ;IACA,IAAI,IAAI,IAAI,IAAI,CAACqpC,QAAQ,EAAE,KAAK,IAAInpC,CAAC,IAAIlL,CAAC,EAAE,IAAI,IAAI,CAACq0C,QAAQ,CAACnpC,CAAC,CAAC,EAAE,KAAK,IAAIC,CAAC,IAAInL,CAAC,CAACkL,CAAC,CAAC,EAAE,IAAI,CAACmpC,QAAQ,CAACnpC,CAAC,CAAC,CAACC,CAAC,CAAC,KAAKnL,CAAC,CAACkL,CAAC,CAAC,CAACC,CAAC,CAAC,GAAG,IAAI,CAACkpC,QAAQ,CAACnpC,CAAC,CAAC,CAACC,CAAC,CAAC,CAAC;IAC5I,IAAI,CAACkpC,QAAQ,GAAGr0C,CAAC;IACjB,IAAIsL,CAAC,GAAG,IAAI;IACZ,IAAI,CAAChL,OAAO,GAAG,IAAI,CAACy+B,QAAQ,CAACz+B,OAAO,CAACD,aAAa,CAAC,eAAe,CAAC,EAAE,IAAI,CAACC,OAAO,IAAI,IAAI,CAACA,OAAO,CAACoM,UAAU,CAACC,WAAW,CAAC,IAAI,CAACrM,OAAO,CAAC,EAAE,IAAI,CAACA,OAAO,GAAGF,QAAQ,CAAC0mB,aAAa,CAAC,KAAK,CAAC,EAAE,IAAI,CAACxmB,OAAO,CAAC0O,YAAY,CAAC,aAAa,EAAE,EAAE,CAAC,EAAE,IAAI,CAAC1O,OAAO,CAACoO,KAAK,CAACE,QAAQ,GAAG,UAAU,EAAE,IAAI,CAACtO,OAAO,CAAC0O,YAAY,CAAC,OAAO,EAAE,YAAY,CAAC,EAAE,IAAI,CAAC+vB,QAAQ,CAACx+B,MAAM,CAACuG,mBAAmB,IAAI,IAAI,CAACxG,OAAO,CAACoO,KAAK,CAACzH,GAAG,GAAG,CAAC,EAAE,IAAI,CAAC3G,OAAO,CAACoO,KAAK,CAACa,IAAI,GAAG,KAAK,EAAE,IAAI,CAACjP,OAAO,CAACoO,KAAK,CAACkM,SAAS,GAAG,iBAAiB,KAAK,IAAI,CAACta,OAAO,CAACoO,KAAK,CAACzH,GAAG,GAAG,IAAI,CAAC83B,QAAQ,CAACx+B,MAAM,CAAC+C,OAAO,GAAG,IAAI,EAAE,IAAI,CAAChD,OAAO,CAACoO,KAAK,CAACa,IAAI,GAAG,IAAI,CAACwvB,QAAQ,CAACx+B,MAAM,CAAC+C,OAAO,GAAG,IAAI,CAAC;IAC1lB,IAAIkI,CAAC,GAAG,EAAE;IACV,KAAK,IAAIN,CAAC,IAAI,IAAI,CAACmpC,QAAQ,EAAE;MACzB,IAAI5oC,CAAC,GAAG;QAACsa,IAAI,EAAE7a,CAAC;QAAEoa,IAAI,EAAG,2BAA0Bpa,CAAE,KAAIA,CAAE;MAAO,CAAC;MACnEnL,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,YAAY,EAAE,CAAC2G,CAAC,EAAEG,CAAC,CAAC,CAAC,EAAED,CAAC,IAAIC,CAAC,CAAC6Z,IAAI;IAChE;IACA,IAAI,CAAChlB,OAAO,CAAC0M,SAAS,GAAI,QAAOxB,CAAE,QAAO,EAAE,IAAI,CAAClL,OAAO,CAAC8c,gBAAgB,CAAC,OAAO,EAAG,UAAUpd,CAAC,EAAE;MAC7F,IAAIA,CAAC,CAACka,MAAM,CAACW,YAAY,CAAC,mBAAmB,CAAC,IAAI7a,CAAC,CAACka,MAAM,CAACW,YAAY,CAAC,mBAAmB,CAAC,EAAE;QAC1F,KAAK,IAAI5a,CAAC,GAAGD,CAAC,CAACka,MAAM,CAACS,YAAY,CAAC,mBAAmB,CAAC,EAAEza,CAAC,GAAGoL,CAAC,CAACyzB,QAAQ,CAACz+B,OAAO,CAACkS,gBAAgB,CAAC,oBAAoB,CAAC,EAAEjR,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGrB,CAAC,CAACqL,MAAM,EAAEhK,CAAC,EAAE,EAAErB,CAAC,CAACqB,CAAC,CAAC,CAACmN,KAAK,CAAC4D,OAAO,GAAG,MAAM;QAC7K,IAAI9Q,CAAC,GAAG8J,CAAC,CAACyzB,QAAQ,CAACz+B,OAAO,CAACkS,gBAAgB,CAAC,wBAAwB,CAAC;QACrE,KAAKjR,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGC,CAAC,CAAC+J,MAAM,EAAEhK,CAAC,EAAE,EAAEC,CAAC,CAACD,CAAC,CAAC,CAACsC,SAAS,CAAC2F,MAAM,CAAC,uBAAuB,CAAC;QAC7E,IAAIc,CAAC,GAAGgB,CAAC,CAACyzB,QAAQ,CAACz+B,OAAO,CAACD,aAAa,CAAC,qBAAqB,CAAC;QAC/D,IAAIiK,CAAC,IAAIA,CAAC,CAACoC,UAAU,CAACC,WAAW,CAACrC,CAAC,CAAC,EAAEtK,CAAC,CAACka,MAAM,CAACW,YAAY,CAAC,mBAAmB,CAAC,EAAE;QAClF,IAAI,CAAC7a,CAAC,CAACka,MAAM,CAACW,YAAY,CAAC,mBAAmB,CAAC,EAAE;QACjD,IAAI9P,CAAC,GAAGO,CAAC,CAACyzB,QAAQ,CAACz+B,OAAO,CAACD,aAAa,CAAE,sBAAqBJ,CAAE,IAAG,CAAC;QACrE,IAAI,CAAC8K,CAAC,EAAE;UACJ,IAAIC,CAAC,GAAG;YACJ+a,IAAI,EAAE9lB,CAAC;YACPkJ,IAAI,EAAE,OAAO;YACbwc,KAAK,EAAE1lB,CAAC;YACRiyC,OAAO,EAAE,CAAC,CAAC;YACX5sB,IAAI,EAAG,sEAAqErlB,CAAE,WAAUA,CAAE,mDAAkDA,CAAE;UAClJ,CAAC;UACDF,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,UAAU,EAAE,CAAC2G,CAAC,EAAEN,CAAC,CAAC,CAAC;UAC7C,IAAIE,CAAC,GAAGF,CAAC,CAACsa,IAAI;UACd,KAAK,IAAIna,CAAC,IAAIG,CAAC,CAAC+oC,QAAQ,CAACp0C,CAAC,CAAC,EAAE;YACzB,IAAIuL,CAAC,GAAGF,CAAC,CAAC+oC,QAAQ,CAACp0C,CAAC,CAAC,CAACkL,CAAC,CAAC;cAAEM,CAAC,GAAGD,CAAC,CAACrC,IAAI;YACpC,IAAI,IAAIsC,CAAC,KAAKA,CAAC,GAAGN,CAAC,CAAC,EAAEH,CAAC,GAAG;cACtB+a,IAAI,EAAE9lB,CAAC;cACPkJ,IAAI,EAAEsC,CAAC;cACPka,KAAK,EAAExa,CAAC;cACR+mC,OAAO,EAAE1mC,CAAC,CAAC0mC,OAAO;cAClB5sB,IAAI,EAAG,kEAAiEna,CAAE,WAAUA,CAAE,KAAIK,CAAC,CAAC0mC,OAAO,GAAG,SAAS,GAAG,EAAG,8CAA6C/mC,CAAE,KAAIM,CAAE;YAC9K,CAAC,EAAE1L,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,UAAU,EAAE,CAAC2G,CAAC,EAAEN,CAAC,CAAC,CAAC,EAAEE,CAAC,IAAIF,CAAC,CAACsa,IAAI;UACjE;UACA,CAACva,CAAC,GAAG3K,QAAQ,CAAC0mB,aAAa,CAAC,KAAK,CAAC,EAAE9Z,SAAS,GAAI,qFAAoF/M,CAAE,mEAAkEiL,CAAE,+DAA8D,EAAEH,CAAC,CAACiE,YAAY,CAAC,kBAAkB,EAAE/O,CAAC,CAAC,EAAE8K,CAAC,CAAClH,SAAS,CAACC,GAAG,CAAC,iBAAiB,CAAC,EAAE9D,CAAC,CAACka,MAAM,CAACxN,UAAU,CAACA,UAAU,CAACqD,WAAW,CAAChF,CAAC,CAAC;UACnY,IAAIwB,CAAC,GAAGxB,CAAC,CAACyH,gBAAgB,CAAC,OAAO,CAAC;UACnC,KAAKjR,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGgL,CAAC,CAAChB,MAAM,EAAEhK,CAAC,EAAE,EAAEgL,CAAC,CAAChL,CAAC,CAAC,CAAC6b,gBAAgB,CAAC,QAAQ,EAAG,UAAUpd,CAAC,EAAE;YACzE,KAAK,IAAIC,CAAC,GAAGD,CAAC,CAACka,MAAM,EAAEja,CAAC,IAAI,CAACA,CAAC,CAAC4a,YAAY,CAAC,kBAAkB,CAAC,GAAG5a,CAAC,GAAGA,CAAC,CAACyM,UAAU;YAClF,IAAIzM,CAAC,EAAE;cACH,IAAIC,CAAC,GAAGD,CAAC,CAAC0a,YAAY,CAAC,kBAAkB,CAAC;cAC1C,IAAI3a,CAAC,CAACka,MAAM,CAACW,YAAY,CAAC,UAAU,CAAC,EAAE;gBACnC,KAAK,IAAItZ,CAAC,GAAGvB,CAAC,CAACka,MAAM,CAACxN,UAAU,CAACA,UAAU,CAAC8F,gBAAgB,CAAC,OAAO,CAAC,EAAEhR,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,CAAC,CAACgK,MAAM,EAAE/J,CAAC,EAAE,EAAE,IAAID,CAAC,CAACC,CAAC,CAAC,IAAIxB,CAAC,CAACka,MAAM,EAAE,KAAK,IAAI5P,CAAC,IAAI/I,CAAC,CAACC,CAAC,CAAC,CAAC0wC,OAAO,GAAGlyC,CAAC,CAACka,MAAM,CAACg4B,OAAO,EAAE5mC,CAAC,CAAC+oC,QAAQ,CAACn0C,CAAC,CAAC,EAAEoL,CAAC,CAAC+oC,QAAQ,CAACn0C,CAAC,CAAC,CAACoK,CAAC,CAAC,CAAC4nC,OAAO,GAAGlyC,CAAC,CAACka,MAAM,CAACg4B,OAAO;cACpO,CAAC,MAAM,IAAI,IAAI,IAAI5mC,CAAC,CAAC+oC,QAAQ,CAACn0C,CAAC,CAAC,CAAC,IAAI,CAAC6lB,IAAI,CAAC,KAAKza,CAAC,CAAC+oC,QAAQ,CAACn0C,CAAC,CAAC,CAAC,IAAI,CAAC6lB,IAAI,CAAC,CAACmsB,OAAO,GAAG,IAAI,CAACA,OAAO,CAAC,EAAE,IAAI,CAACA,OAAO,EAAE,KAAK,IAAInnC,CAAC,GAAGO,CAAC,CAACyzB,QAAQ,CAACx+B,MAAM,CAACgE,KAAK,EAAEyG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,CAAC,CAACQ,MAAM,EAAEP,CAAC,EAAE,EAAE,IAAID,CAAC,CAACC,CAAC,CAAC,CAAC9K,CAAC,CAAC,IAAI,IAAI,CAAC6lB,IAAI,EAAE,KAAK,IAAI7a,CAAC,GAAGH,CAAC,CAACC,CAAC,CAAC,EAAEE,CAAC,GAAG,IAAInL,UAAU,CAACgS,KAAK,CAAC7G,CAAC,CAACoM,KAAK,CAAC,EAAEpM,CAAC,GAAGnL,UAAU,CAACgS,KAAK,CAAC7G,CAAC,CAACwJ,GAAG,CAAC,GAAG,IAAI,GAAGpJ,CAAC,CAACyzB,QAAQ,CAACrzB,IAAI,CAACR,CAAC,CAACwJ,GAAG,CAAC,CAAC,KAAM,IAAI,CAACxJ,CAAC,GAAGI,CAAC,CAACyzB,QAAQ,CAACrzB,IAAI,CAACR,CAAC,CAACoM,KAAK,CAAC,EAAEpX,CAAC,CAAC,EAAE;gBACrW,IAAIiL,CAAC,GAAGnL,CAAC,CAACka,MAAM,CAACxN,UAAU,CAACA,UAAU,CAACrM,aAAa,CAAC,SAAS,GAAG6K,CAAC,CAAChL,CAAC,CAAC,GAAG,IAAI,CAAC;gBAC7EiL,CAAC,IAAIA,CAAC,CAAC+mC,OAAO,GAAG,IAAI,CAACA,OAAO,EAAE5mC,CAAC,CAAC+oC,QAAQ,CAACn0C,CAAC,CAAC,CAACgL,CAAC,CAAChL,CAAC,CAAC,CAAC,CAACgyC,OAAO,GAAG,IAAI,CAACA,OAAO,IAAI1jC,OAAO,CAACC,KAAK,CAAC,4CAA4C,GAAGvD,CAAC,CAAChL,CAAC,CAAC,GAAG,IAAI,CAAC;cAC1J;cACAoL,CAAC,CAACyzB,QAAQ,CAAC70B,IAAI,CAAC,CAAC;YACrB;UACJ,CAAE,CAAC;QACP;QACAa,CAAC,CAAC2D,KAAK,CAAC4D,OAAO,GAAG,OAAO,EAAEtS,CAAC,CAACka,MAAM,CAACrW,SAAS,CAACC,GAAG,CAAC,uBAAuB,CAAC,EAAE,CAACwG,CAAC,GAAGlK,QAAQ,CAAC0mB,aAAa,CAAC,KAAK,CAAC,EAAEjjB,SAAS,CAACC,GAAG,CAAC,OAAO,CAAC,EAAEwG,CAAC,CAAC0C,SAAS,GAAG,GAAG,EAAE1C,CAAC,CAAC0E,YAAY,CAAC,mBAAmB,EAAE,EAAE,CAAC,EAAEhP,CAAC,CAACka,MAAM,CAACxN,UAAU,CAACqD,WAAW,CAACzF,CAAC,CAAC,EAAEvK,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,YAAY,EAAE,CAAC2G,CAAC,EAAE;UAACya,IAAI,EAAE9lB;QAAC,CAAC,CAAC,CAAC;MACnS;IACJ,CAAE,CAAC,EAAE,IAAI,CAAC8+B,QAAQ,CAACz+B,OAAO,CAACyP,WAAW,CAAC,IAAI,CAACzP,OAAO,CAAC,EAAEP,UAAU,CAAC2E,MAAM,CAACC,OAAO,CAAC,QAAQ,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;EACzG;AACJ,CAAC,EAAC5E,UAAU,CAACkC,QAAQ,CAACyH,SAAS,CAACM,EAAE,GAAG,UAAUhK,CAAC,EAAEC,CAAC,EAAE;EACjD,OAAOF,UAAU,CAAC2E,MAAM,CAACsF,EAAE,CAAChK,CAAC,EAAEC,CAAC,EAAE,IAAI,CAACyB,SAAS,CAAC,EAAE,IAAI;AAC3D,CAAC,EAAC,KAAK,CAAC,KAAK3B,UAAU,KAAKA,UAAU,GAAG,CAAC,CAAC,CAAC,EAAC,KAAK,CAAC,KAAKA,UAAU,CAACozB,MAAM,KAAKpzB,UAAU,CAACozB,MAAM,GAAG,CAAC,CAAC,CAAC,EAACpzB,UAAU,CAACu0C,WAAW,GAAG,CAAC,CAAC,EAACv0C,UAAU,CAACozB,MAAM,CAACohB,WAAW,GAAG,UAAUv0C,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,EAAE;EACvL,IAAI8I,CAAC,GAAGrK,CAAC,CAACD,CAAC,CAAC2L,EAAE,CAAC;EACf3L,CAAC,CAAC4P,CAAC,GAAGtF,CAAC,CAACmB,CAAC,CAAC,CAAC,CAAC,EAAEzL,CAAC,CAACsN,CAAC,GAAGhD,CAAC,CAACmB,CAAC,CAAC,CAAC,CAAC,EAAEzL,CAAC,CAACqP,CAAC,GAAG/E,CAAC,CAACmB,CAAC,CAAC,CAAC,CAAC,EAAEzL,CAAC,CAACuM,CAAC,GAAGjC,CAAC,CAACmB,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,IAAInB,CAAC,CAACkqC,EAAE,KAAKx0C,CAAC,CAACukB,YAAY,GAAG/iB,CAAC,CAAC8I,CAAC,CAACkqC,EAAE,CAAC,CAAC,EAAE,IAAI,IAAIlqC,CAAC,CAACmqC,EAAE,KAAKz0C,CAAC,CAACwkB,aAAa,GAAGhjB,CAAC,CAAC8I,CAAC,CAACmqC,EAAE,CAAC,CAAC;EAC/I,KAAK,IAAI1pC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG/K,CAAC,CAACq3B,UAAU,CAAC9rB,MAAM,EAAER,CAAC,EAAE,EAAEhL,UAAU,CAACozB,MAAM,CAACohB,WAAW,CAACv0C,CAAC,CAACq3B,UAAU,CAACtsB,CAAC,CAAC,EAAE9K,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,CAAC;EACxG,KAAKuJ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG/K,CAAC,CAACywB,QAAQ,CAACllB,MAAM,EAAER,CAAC,EAAE,EAAEhL,UAAU,CAACozB,MAAM,CAACohB,WAAW,CAACv0C,CAAC,CAACywB,QAAQ,CAAC1lB,CAAC,CAAC,EAAE9K,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAEC,CAAC,CAAC;AACpG,CAAC,EAACzB,UAAU,CAACozB,MAAM,CAACuhB,SAAS,GAAG,UAAU10C,CAAC,EAAEC,CAAC,EAAE;EAC5C,IAAIC,CAAC,GAAG;IAACuL,CAAC,EAAE,CAACzL,CAAC,CAAC2L,EAAE,EAAE,IAAI,IAAI3L,CAAC,CAAC+S,MAAM,GAAG/S,CAAC,CAAC+S,MAAM,CAACpH,EAAE,GAAG,IAAI,EAAE,IAAI,IAAI3L,CAAC,CAACgT,QAAQ,GAAGhT,CAAC,CAACgT,QAAQ,CAACrH,EAAE,GAAG,IAAI,EAAE3L,CAAC,CAACqP,CAAC,EAAErP,CAAC,CAACuM,CAAC;EAAC,CAAC;EAC/GvM,CAAC,CAACywB,QAAQ,CAACllB,MAAM,GAAG,CAAC,KAAKrL,CAAC,CAACoL,CAAC,GAAGvL,UAAU,CAACozB,MAAM,CAACwhB,iBAAiB,CAAC30C,CAAC,CAACywB,QAAQ,CAAC,CAAC,EAAEzwB,CAAC,CAACq3B,UAAU,CAAC9rB,MAAM,GAAG,CAAC,KAAKrL,CAAC,CAACgO,CAAC,GAAGnO,UAAU,CAACozB,MAAM,CAACwhB,iBAAiB,CAAC30C,CAAC,CAACq3B,UAAU,CAAC,CAAC,EAAE,IAAI,IAAIr3B,CAAC,CAACkB,MAAM,IAAI,CAAC,IAAIlB,CAAC,CAACkB,MAAM,KAAKhB,CAAC,CAAC8K,CAAC,GAAGhL,CAAC,CAACkB,MAAM,CAAC,EAAElB,CAAC,CAACiX,WAAW,KAAK/W,CAAC,CAACsB,CAAC,GAAG,CAAC,CAAC,EAAExB,CAAC,CAACkhC,OAAO,KAAKhhC,CAAC,CAACgL,CAAC,GAAGlL,CAAC,CAACkhC,OAAO,CAAC,EAAElhC,CAAC,CAACmhC,QAAQ,KAAKjhC,CAAC,CAAC00C,EAAE,GAAG50C,CAAC,CAACmhC,QAAQ,CAAC,EAAEnhC,CAAC,CAACsD,OAAO,KAAKpD,CAAC,CAAC+jB,CAAC,GAAGjkB,CAAC,CAACsD,OAAO,CAAC,EAAEtD,CAAC,CAACihC,GAAG,KAAK/gC,CAAC,CAACumB,CAAC,GAAGzmB,CAAC,CAACihC,GAAG,CAAC,EAAEjhC,CAAC,CAAC2hC,gBAAgB,KAAKzhC,CAAC,CAACmM,CAAC,GAAGtM,UAAU,CAACozB,MAAM,CAACwhB,iBAAiB,CAAC30C,CAAC,CAAC2hC,gBAAgB,CAAC,CAAC,EAAE3hC,CAAC,CAACwV,SAAS,KAAKtV,CAAC,CAACA,CAAC,GAAGF,CAAC,CAACwV,SAAS,CAAC,EAAExV,CAAC,CAACgX,WAAW,KAAK9W,CAAC,CAAC+N,CAAC,GAAGjO,CAAC,CAACgX,WAAW,CAAC,EAAEhX,CAAC,CAACwiC,iBAAiB,KAAKtiC,CAAC,CAACF,CAAC,GAAGA,CAAC,CAACwiC,iBAAiB,CAAC,EAAEviC,CAAC,CAACmT,IAAI,CAAClT,CAAC,CAAC;EACtlB,KAAK,IAAIqB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGvB,CAAC,CAACq3B,UAAU,CAAC9rB,MAAM,EAAEhK,CAAC,EAAE,EAAExB,UAAU,CAACozB,MAAM,CAACuhB,SAAS,CAAC10C,CAAC,CAACq3B,UAAU,CAAC91B,CAAC,CAAC,EAAEtB,CAAC,CAAC;EAC7F,KAAKsB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGvB,CAAC,CAACywB,QAAQ,CAACllB,MAAM,EAAEhK,CAAC,EAAE,EAAExB,UAAU,CAACozB,MAAM,CAACuhB,SAAS,CAAC10C,CAAC,CAACywB,QAAQ,CAAClvB,CAAC,CAAC,EAAEtB,CAAC,CAAC;AACzF,CAAC,EAACF,UAAU,CAACozB,MAAM,CAAC0hB,sBAAsB,GAAG,UAAU70C,CAAC,EAAE;EACtD,IAAIC,CAAC,GAAG,CAAC,CAAC;EACV,KAAK,IAAIC,CAAC,IAAIF,CAAC,EAAE;IACb,IAAIuB,CAAC,GAAGvB,CAAC,CAACE,CAAC,CAAC;IACZD,CAAC,CAACC,CAAC,CAAC,KAAKD,CAAC,CAACC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAED,CAAC,CAACC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGqB,CAAC,CAACX,WAAW,EAAEX,CAAC,CAACC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGqB,CAAC,CAACV,eAAe,EAAEZ,CAAC,CAACC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGqB,CAAC,CAACT,6BAA6B,EAAEb,CAAC,CAACC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGqB,CAAC,CAACP,iBAAiB,EAAEf,CAAC,CAACC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGqB,CAAC,CAACN,iBAAiB,EAAEhB,CAAC,CAACC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGqB,CAAC,CAACL,MAAM,EAAEjB,CAAC,CAACC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGqB,CAAC,CAACJ,OAAO,EAAElB,CAAC,CAACC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGqB,CAAC,CAACH,QAAQ,EAAEnB,CAAC,CAACC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGqB,CAAC,CAACR,mBAAmB,EAAEd,CAAC,CAACC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGqB,CAAC,CAACF,qBAAqB;EACzT;EACA,OAAOpB,CAAC;AACZ,CAAC,EAACF,UAAU,CAACozB,MAAM,CAACwhB,iBAAiB,GAAG,UAAU30C,CAAC,EAAE;EACjD,KAAK,IAAIC,CAAC,GAAG,EAAE,EAAEC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,CAAC,CAACuL,MAAM,EAAErL,CAAC,EAAE,EAAED,CAAC,CAACmT,IAAI,CAACpT,CAAC,CAACE,CAAC,CAAC,CAACyL,EAAE,CAAC;EAC1D,OAAO1L,CAAC;AACZ,CAAC,EAACF,UAAU,CAACozB,MAAM,CAAC0N,aAAa,GAAG,UAAU7gC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;EACtD,KAAK,IAAIC,CAAC,GAAG,EAAE,EAAE8I,CAAC,GAAG,EAAE,EAAES,CAAC,GAAGhL,UAAU,CAACozB,MAAM,CAAC0hB,sBAAsB,CAAC50C,CAAC,CAAC,EAAE+K,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGhL,CAAC,CAACuL,MAAM,EAAEP,CAAC,EAAE,EAAEV,CAAC,CAAC8I,IAAI,CAACpT,CAAC,CAACgL,CAAC,CAAC,CAACW,EAAE,CAAC,EAAE5L,UAAU,CAACozB,MAAM,CAACuhB,SAAS,CAAC10C,CAAC,CAACgL,CAAC,CAAC,EAAExJ,CAAC,CAAC;EACzJ,IAAI0J,CAAC,GAAG;IAACZ,CAAC,EAAE9I,CAAC;IAAE8J,CAAC,EAAEP,CAAC;IAAExJ,CAAC,EAAE+I,CAAC;IAAE4D,CAAC,EAAE;EAAS,CAAC;EACxC,IAAInO,UAAU,CAACu0C,WAAW,KAAKppC,CAAC,CAACF,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,IAAIjL,UAAU,CAACozB,MAAM,CAAC2hB,WAAW,EAAE/0C,UAAU,CAACozB,MAAM,CAAC2hB,WAAW,CAAC5pC,CAAC,CAACZ,CAAC,EAAEY,CAAC,CAAC3J,CAAC,EAAE2J,CAAC,CAACI,CAAC,EAAG,UAAUrL,CAAC,EAAE;IACxI,KAAK,IAAIuB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGxB,CAAC,CAACuL,MAAM,EAAE/J,CAAC,EAAE,EAAEzB,UAAU,CAACozB,MAAM,CAACohB,WAAW,CAACv0C,CAAC,CAACwB,CAAC,CAAC,EAAEvB,CAAC,EAAE,CAAC,EAAED,CAAC,EAAEuB,CAAC,CAAC;IAClFrB,CAAC,CAAC,CAAC;EACP,CAAE,CAAC,CAAC,KAAM;IACNgL,CAAC,GAAG0N,IAAI,CAACE,SAAS,CAAC5N,CAAC,CAAC;IACrB,IAAIC,CAAC,GAAGpL,UAAU,CAACkW,YAAY,CAACC,OAAO,CAAChL,CAAC,CAAC;IAC1CC,CAAC,KAAKA,CAAC,GAAGyN,IAAI,CAACC,KAAK,CAAC1N,CAAC,CAAC,CAAC,EAAEA,CAAC,IAAI,CAACA,CAAC,CAACu1B,KAAK,GAAG3gC,UAAU,CAACozB,MAAM,CAAC4hB,QAAQ,CAAC/0C,CAAC,EAAEmL,CAAC,EAAE5J,CAAC,EAAErB,CAAC,CAAC,GAAGH,UAAU,CAACozB,MAAM,CAAC6hB,WAAW,CAAE,UAAU/0C,CAAC,EAAE;MAC3HF,UAAU,CAAC8Z,KAAK,CAAC5Z,CAAC,EAAE,MAAM,EAAEiL,CAAC,EAAE,MAAM,EAAG,UAAUjL,CAAC,EAAE;QACjDA,CAAC,CAACwO,KAAK,GAAGvO,CAAC,CAAC,CAAC,CAAC,IAAIH,UAAU,CAACozB,MAAM,CAAC4hB,QAAQ,CAAC/0C,CAAC,EAAEC,CAAC,EAAEsB,CAAC,EAAErB,CAAC,CAAC,EAAEH,UAAU,CAACkW,YAAY,CAACS,OAAO,CAACxL,CAAC,EAAE0N,IAAI,CAACE,SAAS,CAAC7Y,CAAC,CAAC,CAAC,CAAC;MACpH,CAAE,CAAC;IACP,CAAE,CAAC;EACP;AACJ,CAAC,EAACF,UAAU,CAACozB,MAAM,CAAC4hB,QAAQ,GAAG,UAAU/0C,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEqB,CAAC,EAAE;EACjD,IAAI,QAAQ,IAAI,OAAOtB,CAAC,KAAKA,CAAC,GAAG2Y,IAAI,CAACC,KAAK,CAAC5Y,CAAC,CAAC,CAAC,EAAEA,CAAC,CAACygC,KAAK,IAAI,CAAC,IAAIzgC,CAAC,CAACygC,KAAK,EAAEn/B,CAAC,CAACtB,CAAC,CAACygC,KAAK,CAAC,CAAC,KAAM;IACvF,KAAK,IAAIl/B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGxB,CAAC,CAACuL,MAAM,EAAE/J,CAAC,EAAE,EAAEzB,UAAU,CAACozB,MAAM,CAACohB,WAAW,CAACv0C,CAAC,CAACwB,CAAC,CAAC,EAAEvB,CAAC,EAAE,CAAC,EAAED,CAAC,EAAEE,CAAC,CAAC;IAClFqB,CAAC,CAAC,CAAC;EACP;AACJ,CAAC,EAACxB,UAAU,CAACozB,MAAM,CAAC6hB,WAAW,GAAG,UAAUh1C,CAAC,EAAE;EAC3C,IAAIC,CAAC,GAAGF,UAAU,CAACkW,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC;EAClD,IAAIjW,CAAC,EAAED,CAAC,CAACC,CAAC,CAAC,CAAC,KAAM;IACd,KAAK,IAAIC,CAAC,GAAG,CAAC,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,CAAC,EAAEqB,CAAC,GAAG,EAAE,EAAEC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGtB,CAAC,CAACqL,MAAM,EAAE/J,CAAC,EAAE,EAAED,CAAC,CAAC6R,IAAI,CAAC,IAAI0G,cAAc,CAAD,CAAC,CAAC;IAC/R,KAAKtY,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGtB,CAAC,CAACqL,MAAM,EAAE/J,CAAC,EAAE,EAAE,CAAC,YAAY;MACxC,IAAIvB,CAAC,GAAG,UAAU,GAAGC,CAAC,CAACsB,CAAC,CAAC,GAAG,+CAA+C;QAAE8I,CAAC,GAAG/I,CAAC,CAACC,CAAC,CAAC;MACrF8I,CAAC,CAAC2qC,kBAAkB,GAAG,YAAY;QAC/B,IAAI,CAAC,IAAI,IAAI,CAACj7B,UAAU,IAAI,GAAG,IAAI,IAAI,CAACC,MAAM,EAAE;UAC5Cla,UAAU,CAACkW,YAAY,CAACS,OAAO,CAAC,SAAS,EAAEzW,CAAC,CAAC,EAAED,CAAC,CAACC,CAAC,CAAC;UACnD,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGqB,CAAC,CAACgK,MAAM,EAAErL,CAAC,EAAE,EAAEqB,CAAC,CAACrB,CAAC,CAAC,CAACg1C,KAAK,CAAC,CAAC;QACnD;MACJ,CAAC,EAAE5qC,CAAC,CAAC8P,IAAI,CAAC,KAAK,EAAEna,CAAC,EAAE,CAAC,CAAC,CAAC,EAAEqK,CAAC,CAACiQ,IAAI,CAAC,CAAC;IACrC,CAAC,CAAC,CAAC;EACP;AACJ,CAAC;AAAC,IAAAxV,EAAA;AAAAowC,YAAA,CAAApwC,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}